{"version":3,"sources":["../../node_modules/tslib/tslib.es6.js","ng://ionic-selectable/src/app/components/ionic-selectable/ionic-selectable-add-item-template.directive.ts","ng://ionic-selectable/src/app/components/ionic-selectable/ionic-selectable-close-button-template.directive.ts","ng://ionic-selectable/src/app/components/ionic-selectable/ionic-selectable-footer-template.directive.ts","ng://ionic-selectable/src/app/components/ionic-selectable/ionic-selectable-group-end-template.directive.ts","ng://ionic-selectable/src/app/components/ionic-selectable/ionic-selectable-group-template.directive.ts","ng://ionic-selectable/src/app/components/ionic-selectable/ionic-selectable-header-template.directive.ts","ng://ionic-selectable/src/app/components/ionic-selectable/ionic-selectable-item-end-template.directive.ts","ng://ionic-selectable/src/app/components/ionic-selectable/ionic-selectable-item-icon-template.directive.ts","ng://ionic-selectable/src/app/components/ionic-selectable/ionic-selectable-item-template.directive.ts","ng://ionic-selectable/src/app/components/ionic-selectable/ionic-selectable-message-template.directive.ts","ng://ionic-selectable/src/app/components/ionic-selectable/ionic-selectable-modal.component.ts","ng://ionic-selectable/src/app/components/ionic-selectable/ionic-selectable-placeholder-template.directive.ts","ng://ionic-selectable/src/app/components/ionic-selectable/ionic-selectable-search-fail-template.directive.ts","ng://ionic-selectable/src/app/components/ionic-selectable/ionic-selectable-title-template.directive.ts","ng://ionic-selectable/src/app/components/ionic-selectable/ionic-selectable-value-template.directive.ts","ng://ionic-selectable/src/app/components/ionic-selectable/ionic-selectable.component.ts","ng://ionic-selectable/src/app/components/ionic-selectable/ionic-selectable.module.ts"],"names":["__read","o","n","m","Symbol","iterator","r","e","i","call","ar","next","done","push","value","error","__spread","arguments","length","concat","IonicSelectableAddItemTemplateDirective","Directive","args","selector","IonicSelectableCloseButtonTemplateDirective","IonicSelectableFooterTemplateDirective","IonicSelectableGroupEndTemplateDirective","IonicSelectableGroupTemplateDirective","IonicSelectableHeaderTemplateDirective","IonicSelectableItemEndTemplateDirective","IonicSelectableItemIconTemplateDirective","IonicSelectableItemTemplateDirective","IonicSelectableMessageTemplateDirective","IonicSelectableModalComponent","navParams","_element","_this","this","_cssClass","selectComponent","get","_modalComponent","_selectedItems","_isNullOrWhiteSpace","isMultiple","forEach","item","_setItemsToConfirm","Object","defineProperty","prototype","canClear","_isSearching","_isIos","_isMD","_isAddItemTemplateVisible","onResize","_positionAddItemTemplate","ngAfterViewInit","_header","nativeElement","querySelector","_searchbarComponent","shouldFocusSearchbar","setTimeout","setFocus","Component","template","NavParams","ElementRef","ViewChild","IonContent","static","IonInfiniteScroll","HostBinding","HostListener","IonicSelectablePlaceholderTemplateDirective","IonicSelectableSearchFailTemplateDirective","IonicSelectableTitleTemplateDirective","IonicSelectableValueTemplateDirective","IonicSelectableComponent","_modalController","_platform","ionItem","_iterableDiffers","_renderer","_isOnSearchEnabled","_isEnabled","_shouldBackdropClose","_isOpened","_value","_canClear","_hasConfirmButton","_isMultiple","_canAddItem","onItemsChange","EventEmitter","_hasIonLabel","_ionLabelPosition","_label","_valueItems","_searchText","_hasSearchText","_groups","_itemsToConfirm","_filteredGroups","_isFooterVisible","_itemToAdd","_footerButtonsCount","_hasFilteredItems","items","itemsChange","modalCssClass","modalEnterAnimation","modalLeaveAnimation","isConfirmButtonEnabled","itemValueField","itemTextField","groupValueField","groupTextField","canSearch","hasInfiniteScroll","hasVirtualScroll","virtualScrollApproxItemHeight","searchPlaceholder","placeholder","searchFailText","clearButtonText","addButtonText","confirmButtonText","closeButtonText","headerColor","groupColor","closeButtonSlot","itemIconSlot","onChange","onSearch","onSearchFail","onSearchSuccess","onInfiniteScroll","onOpen","onClose","onSelect","onClear","searchDebounce","disabledItems","shouldStoreItemValue","canSaveItem","canDeleteItem","onSaveItem","onDeleteItem","onAddItem","virtualScrollHeaderFn","propagateOnChange","_","propagateOnTouched","_itemsDiffer","find","create","hasValue","_hasPlaceholder","isEnabled","_infiniteScroll","_hasObjects","searchText","_setHasSearchText","splice","Array","apply","_setIonItemHasValue","_setHasPlaceholder","enableIonItem","shouldBackdropClose","hasConfirmButton","_countFooterButtons","isOnSearchEnabled","canAddItem","initFocus","disabled","undefined","toString","replace","_hasOnSearch","observers","_hasOnSaveItem","_hasOnAddItem","_hasOnDeleteItem","_emitValueChange","emit","component","_emitSearch","text","_emitOnSelect","isSelected","_emitOnClear","_emitOnSearchSuccessOrFail","isSuccess","eventData","_formatItem","_formatValueItem","_shouldStoreItemValue","selectedItem","_item","_getItemValue","_getStoredItemValue","_onSearchbarClear","_filterItems","groups_1","trim","filterText_1","toLowerCase","group","filter","indexOf","_areGroupsEmpty","_isItemDisabled","some","_isItemSelected","_addSelectedItem","_deleteSelectedItem","itemToDeleteIndex","itemIndex","_click","_getLabelText","open","then","_saveItem","event","stopPropagation","showAddItemTemplate","_deleteItemClick","deleteItem","_addItemClick","footer","_addItemTemplateFooterHeight","offsetHeight","_close","close","_clear","selectedItems","clear","_getMoreItems","_doSelect","_select","isItemSelected","footerTemplate","_confirm","confirm","_ionLabelElement","textContent","groups","every","footerButtonsCount","_setItems","_hasGroups","groupValue","_getPropertyValue","_group","object","property","split","reduce","_object","_property","_setIonItemHasFocus","hasFocus","_setIonItemCssClass","placeholderTemplate","cssClass","shouldAdd","_ionItemElement","setElementClass","_toggleAddItemTemplate","isVisible","addItemTemplate","writeValue","registerOnChange","method","registerOnTouched","setDisabledState","isDisabled","ngOnInit","is","Boolean","closest","getAttribute","ngDoCheck","diff","addItem","self","unshift","_addItemObservable","unsubscribe","Promise","resolve","reject","asObservable","subscribe","hasValueChanged","values","id","_deleteItemObservable","modalOptions","componentProps","backdropDismiss","enterAnimation","leaveAnimation","modal","_modal","present","onWillDismiss","onDidDismiss","role","dismiss","hideAddItemTemplate","toggleItems","isSelect","hasItems","itemsToToggle","allItems","itemToToggle","scrollToTop","_content","scrollToBottom","startSearch","showLoading","endSearch","hideLoading","enableInfiniteScroll","_hasInfiniteScroll","disableInfiniteScroll","endInfiniteScroll","complete","search","encapsulation","ViewEncapsulation","None","providers","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","multi","ModalController","Platform","IonItem","decorators","type","Optional","IterableDiffers","Renderer","Input","Output","ContentChild","read","TemplateRef","components","directives","IonicSelectableModule","NgModule","imports","CommonModule","FormsModule","IonicModule","declarations","exports","entryComponents"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[ionicSelectableAddItemTemplate]',\n})\nexport class IonicSelectableAddItemTemplateDirective { }\n","import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[ionicSelectableCloseButtonTemplate]',\n})\nexport class IonicSelectableCloseButtonTemplateDirective { }\n","import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[ionicSelectableFooterTemplate]',\n})\nexport class IonicSelectableFooterTemplateDirective { }\n","import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[ionicSelectableGroupEndTemplate]',\n})\nexport class IonicSelectableGroupEndTemplateDirective { }\n","import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[ionicSelectableGroupTemplate]',\n})\nexport class IonicSelectableGroupTemplateDirective { }\n","import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[ionicSelectableHeaderTemplate]',\n})\nexport class IonicSelectableHeaderTemplateDirective { }\n","import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[ionicSelectableItemEndTemplate]',\n})\nexport class IonicSelectableItemEndTemplateDirective { }\n","import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[ionicSelectableItemIconTemplate]'\n})\nexport class IonicSelectableItemIconTemplateDirective { }\n","import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[ionicSelectableItemTemplate]'\n})\nexport class IonicSelectableItemTemplateDirective { }\n","import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[ionicSelectableMessageTemplate]',\n})\nexport class IonicSelectableMessageTemplateDirective { }\n","import { AfterViewInit, Component, ElementRef, HostBinding, HostListener, ViewChild } from '@angular/core';\nimport { IonContent, IonInfiniteScroll, IonSearchbar, NavParams } from '@ionic/angular';\nimport { IonicSelectableComponent } from './ionic-selectable.component';\n\n@Component({\n  selector: 'ionic-selectable-modal',\n  templateUrl: './ionic-selectable-modal.component.html'\n})\nexport class IonicSelectableModalComponent implements AfterViewInit {\n  @ViewChild(IonContent, { static: false })\n  _content: IonContent;\n  _header: HTMLElement;\n  selectComponent: IonicSelectableComponent;\n  @ViewChild('searchbarComponent', { static: false })\n  _searchbarComponent: IonSearchbar;\n  @ViewChild(IonInfiniteScroll, { static: false })\n  _infiniteScroll: IonInfiniteScroll;\n  @HostBinding('class.ionic-selectable-modal')\n  _cssClass = true;\n  @HostBinding('class.ionic-selectable-modal-can-clear')\n  get _canClearCssClass(): boolean {\n    return this.selectComponent.canClear;\n  }\n  @HostBinding('class.ionic-selectable-modal-is-multiple')\n  get _isMultipleCssClass(): boolean {\n    return this.selectComponent.isMultiple;\n  }\n  @HostBinding('class.ionic-selectable-modal-is-searching')\n  get _isSearchingCssClass(): boolean {\n    return this.selectComponent._isSearching;\n  }\n  @HostBinding('class.ionic-selectable-modal-ios')\n  get _isIos(): boolean {\n    return this.selectComponent._isIos;\n  }\n  @HostBinding('class.ionic-selectable-modal-md')\n  _isMD(): boolean {\n    return this.selectComponent._isMD;\n  }\n  @HostBinding('class.ionic-selectable-modal-is-add-item-template-visible')\n  get _isAddItemTemplateVisibleCssClass(): boolean {\n    return this.selectComponent._isAddItemTemplateVisible;\n  }\n  @HostListener('window:resize')\n  onResize() {\n    // ion-footer inside the template might change its height when\n    // device orientation changes.\n    this.selectComponent._positionAddItemTemplate();\n  }\n\n  constructor(\n    private navParams: NavParams,\n    public _element: ElementRef,\n  ) {\n    this.selectComponent = this.navParams.get('selectComponent');\n    this.selectComponent._modalComponent = this;\n    this.selectComponent._selectedItems = [];\n\n    if (!this.selectComponent._isNullOrWhiteSpace(this.selectComponent.value)) {\n      if (this.selectComponent.isMultiple) {\n        this.selectComponent.value.forEach(item => {\n          this.selectComponent._selectedItems.push(item);\n        });\n      } else {\n        this.selectComponent._selectedItems.push(this.selectComponent.value);\n      }\n    }\n\n    this.selectComponent._setItemsToConfirm(this.selectComponent._selectedItems);\n  }\n\n  ngAfterViewInit() {\n    this._header = this._element.nativeElement.querySelector('ion-header');\n\n    if (this._searchbarComponent && this.selectComponent.shouldFocusSearchbar) {\n      // Focus after a delay because focus doesn't work without it.\n      setTimeout(() => {\n        this._searchbarComponent.setFocus();\n      }, 1000);\n    }\n  }\n}\n","import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[ionicSelectablePlaceholderTemplate]',\n})\nexport class IonicSelectablePlaceholderTemplateDirective { }\n","import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[ionicSelectableSearchFailTemplate]',\n})\nexport class IonicSelectableSearchFailTemplateDirective { }\n","import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[ionicSelectableTitleTemplate]',\n})\nexport class IonicSelectableTitleTemplateDirective { }\n","import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[ionicSelectableValueTemplate]',\n})\nexport class IonicSelectableValueTemplateDirective { }\n","// tslint:disable-next-line:max-line-length\nimport { Component, ContentChild, DoCheck, ElementRef, EventEmitter, forwardRef, HostBinding, Input, IterableDiffer, IterableDiffers, OnInit, Optional, Output, Renderer, TemplateRef, ViewEncapsulation } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { IonItem, ModalController, Platform } from '@ionic/angular';\nimport { AnimationBuilder, ModalOptions } from '@ionic/core';\nimport { Subscription } from 'rxjs';\nimport { IonicSelectableAddItemTemplateDirective } from './ionic-selectable-add-item-template.directive';\nimport { IonicSelectableCloseButtonTemplateDirective } from './ionic-selectable-close-button-template.directive';\nimport { IonicSelectableFooterTemplateDirective } from './ionic-selectable-footer-template.directive';\nimport { IonicSelectableGroupEndTemplateDirective } from './ionic-selectable-group-end-template.directive';\nimport { IonicSelectableGroupTemplateDirective } from './ionic-selectable-group-template.directive';\nimport { IonicSelectableHeaderTemplateDirective } from './ionic-selectable-header-template.directive';\nimport { IonicSelectableItemEndTemplateDirective } from './ionic-selectable-item-end-template.directive';\nimport { IonicSelectableItemIconTemplateDirective } from './ionic-selectable-item-icon-template.directive';\nimport { IonicSelectableItemTemplateDirective } from './ionic-selectable-item-template.directive';\nimport { IonicSelectableMessageTemplateDirective } from './ionic-selectable-message-template.directive';\nimport { IonicSelectableModalComponent } from './ionic-selectable-modal.component';\nimport { IonicSelectablePlaceholderTemplateDirective } from './ionic-selectable-placeholder-template.directive';\nimport { IonicSelectableSearchFailTemplateDirective } from './ionic-selectable-search-fail-template.directive';\nimport { IonicSelectableTitleTemplateDirective } from './ionic-selectable-title-template.directive';\nimport { IonicSelectableValueTemplateDirective } from './ionic-selectable-value-template.directive';\n\n@Component({\n  selector: 'ionic-selectable',\n  templateUrl: './ionic-selectable.component.html',\n  styleUrls: ['./ionic-selectable.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => IonicSelectableComponent),\n    multi: true\n  }]\n})\nexport class IonicSelectableComponent implements ControlValueAccessor, OnInit, DoCheck {\n  @HostBinding('class.ionic-selectable')\n  _cssClass = true;\n  @HostBinding('class.ionic-selectable-ios')\n  _isIos: boolean;\n  @HostBinding('class.ionic-selectable-md')\n  _isMD: boolean;\n  @HostBinding('class.ionic-selectable-is-multiple')\n  get _isMultipleCssClass(): boolean {\n    return this.isMultiple;\n  }\n  @HostBinding('class.ionic-selectable-has-value')\n  get _hasValueCssClass(): boolean {\n    return this.hasValue();\n  }\n  @HostBinding('class.ionic-selectable-has-placeholder')\n  get _hasPlaceholderCssClass(): boolean {\n    return this._hasPlaceholder;\n  }\n  @HostBinding('class.ionic-selectable-has-label')\n  get _hasIonLabelCssClass(): boolean {\n    return this._hasIonLabel;\n  }\n  @HostBinding('class.ionic-selectable-label-default')\n  get _hasDefaultIonLabelCssClass(): boolean {\n    return this._ionLabelPosition === 'default';\n  }\n  @HostBinding('class.ionic-selectable-label-fixed')\n  get _hasFixedIonLabelCssClass(): boolean {\n    return this._ionLabelPosition === 'fixed';\n  }\n  @HostBinding('class.ionic-selectable-label-stacked')\n  get _hasStackedIonLabelCssClass(): boolean {\n    return this._ionLabelPosition === 'stacked';\n  }\n  @HostBinding('class.ionic-selectable-label-floating')\n  get _hasFloatingIonLabelCssClass(): boolean {\n    return this._ionLabelPosition === 'floating';\n  }\n  private _isOnSearchEnabled = true;\n  private _isEnabled = true;\n  private _shouldBackdropClose = true;\n  private _isOpened = false;\n  private _value: any = null;\n  private _modal: HTMLIonModalElement;\n  private _itemsDiffer: IterableDiffer<any>;\n  private _hasObjects: boolean;\n  private _canClear = false;\n  private _hasConfirmButton = false;\n  private _isMultiple = false;\n  private _canAddItem = false;\n  private _addItemObservable: Subscription;\n  private _deleteItemObservable: Subscription;\n  private onItemsChange: EventEmitter<any> = new EventEmitter();\n  private _ionItemElement: any;\n  private _ionLabelElement: any;\n  private _hasIonLabel = false;\n  private _ionLabelPosition: 'fixed' | 'stacked' | 'floating' | 'default' | null = null;\n  private _label: string = null;\n  private get _hasInfiniteScroll(): boolean {\n    return this.isEnabled && this._modalComponent &&\n      this._modalComponent._infiniteScroll ? true : false;\n  }\n  get _shouldStoreItemValue(): boolean {\n    return this.shouldStoreItemValue && this._hasObjects;\n  }\n  _valueItems: any[] = [];\n  _searchText = '';\n  _hasSearchText = false;\n  _groups: any[] = [];\n  _itemsToConfirm: any[] = [];\n  _selectedItems: any[] = [];\n  _modalComponent: IonicSelectableModalComponent;\n  _filteredGroups: any[] = [];\n  _hasGroups: boolean;\n  _isSearching: boolean;\n  _hasPlaceholder: boolean;\n  _isAddItemTemplateVisible = false;\n  _isFooterVisible = true;\n  _itemToAdd: any = null;\n  _footerButtonsCount = 0;\n  _hasFilteredItems = false;\n\n  /**\n   * Text of [Ionic Label](https://ionicframework.com/docs/api/label).\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#label).\n   *\n   * @readonly\n   * @default null\n   * @memberof IonicSelectableComponent\n   */\n  get label(): string {\n    return this._label;\n  }\n\n  /**\n   * Text that the user has typed in Searchbar.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#searchtext).\n   *\n   * @readonly\n   * @default ''\n   * @memberof IonicSelectableComponent\n   */\n  get searchText(): string {\n    return this._searchText;\n  }\n  set searchText(searchText: string) {\n    this._searchText = searchText;\n    this._setHasSearchText();\n  }\n\n  /**\n   * Determines whether search is running.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#issearching).\n   *\n   * @default false\n   * @readonly\n   * @memberof IonicSelectableComponent\n   */\n  get isSearching(): boolean {\n    return this._isSearching;\n  }\n\n  /**\n   * Determines whether user has typed anything in Searchbar.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#hassearchtext).\n   *\n   * @default false\n   * @readonly\n   * @memberof IonicSelectableComponent\n   */\n  get hasSearchText(): boolean {\n    return this._hasSearchText;\n  }\n\n  get value(): any {\n    return this._value;\n  }\n  set value(value: any) {\n    this._value = value;\n\n    // Set value items.\n    this._valueItems.splice(0, this._valueItems.length);\n\n    if (this.isMultiple) {\n      if (value && value.length) {\n        Array.prototype.push.apply(this._valueItems, value);\n      }\n    } else {\n      if (!this._isNullOrWhiteSpace(value)) {\n        this._valueItems.push(value);\n      }\n    }\n\n    this._setIonItemHasValue();\n    this._setHasPlaceholder();\n  }\n\n  /**\n   * A list of items.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#items).\n   *\n   * @default []\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  items: any[] = [];\n  @Output()\n  itemsChange: EventEmitter<any> = new EventEmitter();\n\n  /**\n   * Determines whether the component is enabled.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#isenabled).\n   *\n   * @default true\n   * @memberof IonicSelectableComponent\n   */\n  @HostBinding('class.ionic-selectable-is-enabled')\n  @Input('isEnabled')\n  get isEnabled(): boolean {\n    return this._isEnabled;\n  }\n  set isEnabled(isEnabled: boolean) {\n    this._isEnabled = !!isEnabled;\n    this.enableIonItem(this._isEnabled);\n  }\n\n  /**\n   * Determines whether Modal should be closed when backdrop is clicked.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#shouldbackdropclose).\n   *\n   * @default true\n   * @memberof IonicSelectableComponent\n   */\n  @Input('shouldBackdropClose')\n  get shouldBackdropClose(): boolean {\n    return this._shouldBackdropClose;\n  }\n  set shouldBackdropClose(shouldBackdropClose: boolean) {\n    this._shouldBackdropClose = !!shouldBackdropClose;\n  }\n\n  /**\n   * Modal CSS class.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#modalcssclass).\n   *\n   * @default null\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  modalCssClass: string = null;\n\n  /**\n   * Modal enter animation.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#modalenteranimation).\n   *\n   * @default null\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  modalEnterAnimation: AnimationBuilder = null;\n\n  /**\n   * Modal leave animation.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#modalleaveanimation).\n   *\n   * @default null\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  modalLeaveAnimation: AnimationBuilder = null;\n\n  /**\n   * Determines whether Modal is opened.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#isopened).\n   *\n   * @default false\n   * @readonly\n   * @memberof IonicSelectableComponent\n   */\n  get isOpened(): boolean {\n    return this._isOpened;\n  }\n\n  /**\n   * Determines whether Confirm button is enabled.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#isconfirmbuttonenabled).\n   *\n   * @default true\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  isConfirmButtonEnabled = true;\n\n  /**\n * Determines whether Confirm button is visible for single selection.\n * By default Confirm button is visible only for multiple selection.\n * **Note**: It is always true for multiple selection and cannot be changed.\n * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#hasconfirmbutton).\n *\n * @default true\n * @memberof IonicSelectableComponent\n */\n  @Input('hasConfirmButton')\n  get hasConfirmButton(): boolean {\n    return this._hasConfirmButton;\n  }\n  set hasConfirmButton(hasConfirmButton: boolean) {\n    this._hasConfirmButton = !!hasConfirmButton;\n    this._countFooterButtons();\n  }\n\n  /**\n   * Item property to use as a unique identifier, e.g, `'id'`.\n   * **Note**: `items` should be an object array.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#itemvaluefield).\n   *\n   * @default null\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  itemValueField: string = null;\n\n  /**\n   * Item property to display, e.g, `'name'`.\n   * **Note**: `items` should be an object array.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#itemtextfield).\n   *\n   * @default false\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  itemTextField: string = null;\n\n  /**\n   *\n   * Group property to use as a unique identifier to group items, e.g. `'country.id'`.\n   * **Note**: `items` should be an object array.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#groupvaluefield).\n   *\n   * @default null\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  groupValueField: string = null;\n\n  /**\n* Group property to display, e.g. `'country.name'`.\n* **Note**: `items` should be an object array.\n* See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#grouptextfield).\n*\n* @default null\n* @memberof IonicSelectableComponent\n*/\n  @Input()\n  groupTextField: string = null;\n\n  /**\n   * Determines whether to show Searchbar.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#cansearch).\n   *\n   * @default false\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  canSearch = false;\n\n  /**\n   * Determines whether `onSearch` event is enabled.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#isonsearchenabled).\n   *\n   * @default true\n   * @memberof IonicSelectableComponent\n   */\n  @Input('isOnSearchEnabled')\n  get isOnSearchEnabled(): boolean {\n    return this._isOnSearchEnabled;\n  }\n  set isOnSearchEnabled(isOnSearchEnabled: boolean) {\n    this._isOnSearchEnabled = !!isOnSearchEnabled;\n  }\n\n  /**\n   * Determines whether to show Clear button.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#canclear).\n   *\n   * @default false\n   * @memberof IonicSelectableComponent\n   */\n  @HostBinding('class.ionic-selectable-can-clear')\n  @Input('canClear')\n  get canClear(): boolean {\n    return this._canClear;\n  }\n  set canClear(canClear: boolean) {\n    this._canClear = !!canClear;\n    this._countFooterButtons();\n  }\n\n  /**\n   * Determines whether Ionic [InfiniteScroll](https://ionicframework.com/docs/api/components/infinite-scroll/InfiniteScroll/) is enabled.\n   * **Note**: Infinite scroll cannot be used together with virtual scroll.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#hasinfinitescroll).\n   *\n   * @default false\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  hasInfiniteScroll = false;\n\n  /**\n   * Determines whether Ionic [VirtualScroll](https://ionicframework.com/docs/api/components/virtual-scroll/VirtualScroll/) is enabled.\n   * **Note**: Virtual scroll cannot be used together with infinite scroll.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#hasvirtualscroll).\n   *\n   * @default false\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  hasVirtualScroll = false;\n\n  /**\n   * See Ionic VirtualScroll [approxItemHeight](https://ionicframework.com/docs/api/components/virtual-scroll/VirtualScroll/).\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#virtualscrollapproxitemheight).\n   *\n   * @default '40px'\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  virtualScrollApproxItemHeight = '40px';\n\n  /**\n   * A placeholder for Searchbar.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#searchplaceholder).\n   *\n   * @default 'Search'\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  searchPlaceholder = 'Search';\n\n  /**\n   * A placeholder.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#placeholder).\n   *\n   * @default null\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  placeholder: string = null;\n\n  /**\n   * Determines whether multiple items can be selected.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#ismultiple).\n   *\n   * @default false\n   * @memberof IonicSelectableComponent\n   */\n  @Input('isMultiple')\n  get isMultiple(): boolean {\n    return this._isMultiple;\n  }\n  set isMultiple(isMultiple: boolean) {\n    this._isMultiple = !!isMultiple;\n    this._countFooterButtons();\n  }\n\n  /**\n   * Text to display when no items have been found during search.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#searchfailtext).\n   *\n   * @default 'No items found.'\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  searchFailText = 'No items found.';\n\n  /**\n   * Clear button text.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#clearbuttontext).\n   *\n   * @default 'Clear'\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  clearButtonText = 'Clear';\n\n  /**\n   * Add button text.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#addbuttontext).\n   *\n   * @default 'Add'\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  addButtonText = 'Add';\n\n  /**\n   * Confirm button text.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#confirmbuttontext).\n   *\n   * @default 'OK'\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  confirmButtonText = 'OK';\n\n  /**\n   * Close button text.\n   * The field is only applicable to **iOS** platform, on **Android** only Cross icon is displayed.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#closebuttontext).\n   *\n   * @default 'Cancel'\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  closeButtonText = 'Cancel';\n\n  /**\n   * Determines whether Searchbar should receive focus when Modal is opened.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#shouldfocussearchbar).\n   *\n   * @default false\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  shouldFocusSearchbar = false;\n\n  /**\n   * Header color. [Ionic colors](https://ionicframework.com/docs/theming/advanced#colors) are supported.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#headercolor).\n   *\n   * @default null\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  headerColor: string = null;\n\n  /**\n   * Group color. [Ionic colors](https://ionicframework.com/docs/theming/advanced#colors) are supported.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#groupcolor).\n   *\n   * @default null\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  groupColor: string = null;\n\n  /**\n   * Close button slot. [Ionic slots](https://ionicframework.com/docs/api/buttons) are supported.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#closebuttonslot).\n   *\n   * @default 'start'\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  closeButtonSlot = 'start';\n\n  /**\n   * Item icon slot. [Ionic slots](https://ionicframework.com/docs/api/item) are supported.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#itemiconslot).\n   *\n   * @default 'start'\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  itemIconSlot = 'start';\n\n  /**\n   * Fires when item/s has been selected and Modal closed.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#onchange).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  @Output()\n  onChange: EventEmitter<{ component: IonicSelectableComponent, value: any }> = new EventEmitter();\n\n  /**\n   * Fires when the user is typing in Searchbar.\n   * **Note**: `canSearch` and `isOnSearchEnabled` has to be enabled.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#onsearch).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  @Output()\n  onSearch: EventEmitter<{ component: IonicSelectableComponent, text: string }> = new EventEmitter();\n\n  /**\n   * Fires when no items have been found.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#onsearchfail).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  @Output()\n  onSearchFail: EventEmitter<{ component: IonicSelectableComponent, text: string }> = new EventEmitter();\n\n  /**\n   * Fires when some items have been found.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#onsearchsuccess).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  @Output()\n  onSearchSuccess: EventEmitter<{ component: IonicSelectableComponent, text: string }> = new EventEmitter();\n\n  /**\n   * Fires when the user has scrolled to the end of the list.\n   * **Note**: `hasInfiniteScroll` has to be enabled.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#oninfinitescroll).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  @Output()\n  onInfiniteScroll: EventEmitter<{ component: IonicSelectableComponent, text: string }> = new EventEmitter();\n\n  /**\n   * Fires when Modal has been opened.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#onopen).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  @Output()\n  onOpen: EventEmitter<{ component: IonicSelectableComponent }> = new EventEmitter();\n\n  /**\n   * Fires when Modal has been closed.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#onclose).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  @Output()\n  onClose: EventEmitter<{ component: IonicSelectableComponent }> = new EventEmitter();\n\n  /**\n   * Fires when an item has been selected or unselected.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#onselect).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  @Output()\n  onSelect: EventEmitter<{ component: IonicSelectableComponent, item: any, isSelected: boolean }> = new EventEmitter();\n\n  /**\n   * Fires when Clear button has been clicked.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#onclear).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  @Output()\n  onClear: EventEmitter<{ component: IonicSelectableComponent, items: any[] }> = new EventEmitter();\n\n  /**\n   * A list of items that are selected and awaiting confirmation by user, when he has clicked Confirm button.\n   * After the user has clicked Confirm button items to confirm are cleared.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#itemstoconfirm).\n   *\n   * @default []\n   * @readonly\n   * @memberof IonicSelectableComponent\n   */\n  get itemsToConfirm(): any[] {\n    return this._itemsToConfirm;\n  }\n\n  /**\n   * How long, in milliseconds, to wait to filter items or to trigger `onSearch` event after each keystroke.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#searchdebounce).\n   *\n   * @default 250\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  searchDebounce: Number = 250;\n\n  /**\n   * A list of items to disable.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#disableditems).\n   *\n   * @default []\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  disabledItems: any[] = [];\n\n  /**\n   * Determines whether item value only should be stored in `ngModel`, not the entire item.\n   * **Note**: Item value is defined by `itemValueField`.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#shouldstoreitemvalue).\n   *\n   * @default false\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  shouldStoreItemValue = false;\n\n  /**\n   * Determines whether to allow editing items.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#cansaveitem).\n   *\n   * @default false\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  canSaveItem = false;\n\n  /**\n   * Determines whether to allow deleting items.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#candeleteitem).\n   *\n   * @default false\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  canDeleteItem = false;\n\n  /**\n   * Determines whether to allow adding items.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#canadditem).\n   *\n   * @default false\n   * @memberof IonicSelectableComponent\n   */\n  @Input('canAddItem')\n  get canAddItem(): boolean {\n    return this._canAddItem;\n  }\n  set canAddItem(canAddItem: boolean) {\n    this._canAddItem = !!canAddItem;\n    this._countFooterButtons();\n  }\n\n  /**\n   * Fires when Edit item button has been clicked.\n   * When the button has been clicked `ionicSelectableAddItemTemplate` will be shown. Use the template to create a form to edit item.\n   * **Note**: `canSaveItem` has to be enabled.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#onsaveitem).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  @Output()\n  onSaveItem: EventEmitter<{ component: IonicSelectableComponent, item: any }> = new EventEmitter();\n\n  /**\n   * Fires when Delete item button has been clicked.\n   * **Note**: `canDeleteItem` has to be enabled.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#ondeleteitem).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  @Output()\n  onDeleteItem: EventEmitter<{ component: IonicSelectableComponent, item: any }> = new EventEmitter();\n\n  /**\n   * Fires when Add item button has been clicked.\n   * When the button has been clicked `ionicSelectableAddItemTemplate` will be shown. Use the template to create a form to add item.\n   * **Note**: `canAddItem` has to be enabled.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#onadditem).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  @Output()\n  onAddItem: EventEmitter<{ component: IonicSelectableComponent }> = new EventEmitter();\n\n  @ContentChild(IonicSelectableValueTemplateDirective, { read: TemplateRef, static: false })\n  valueTemplate: TemplateRef<any>;\n  @ContentChild(IonicSelectableItemTemplateDirective, { read: TemplateRef, static: false })\n  itemTemplate: TemplateRef<any>;\n  @ContentChild(IonicSelectableItemEndTemplateDirective, { read: TemplateRef, static: false })\n  itemEndTemplate: TemplateRef<any>;\n  @ContentChild(IonicSelectableTitleTemplateDirective, { read: TemplateRef, static: false })\n  titleTemplate: TemplateRef<any>;\n  @ContentChild(IonicSelectablePlaceholderTemplateDirective, { read: TemplateRef, static: false })\n  placeholderTemplate: TemplateRef<any>;\n  @ContentChild(IonicSelectableMessageTemplateDirective, { read: TemplateRef, static: false })\n  messageTemplate: TemplateRef<any>;\n  @ContentChild(IonicSelectableGroupTemplateDirective, { read: TemplateRef, static: false })\n  groupTemplate: TemplateRef<any>;\n  @ContentChild(IonicSelectableGroupEndTemplateDirective, { read: TemplateRef, static: false })\n  groupEndTemplate: TemplateRef<any>;\n  @ContentChild(IonicSelectableCloseButtonTemplateDirective, { read: TemplateRef, static: false })\n  closeButtonTemplate: TemplateRef<any>;\n  @ContentChild(IonicSelectableSearchFailTemplateDirective, { read: TemplateRef, static: false })\n  searchFailTemplate: TemplateRef<any>;\n  @ContentChild(IonicSelectableAddItemTemplateDirective, { read: TemplateRef, static: false })\n  addItemTemplate: TemplateRef<any>;\n  @ContentChild(IonicSelectableFooterTemplateDirective, { read: TemplateRef, static: false })\n  footerTemplate: TemplateRef<any>;\n  _addItemTemplateFooterHeight: string;\n  @ContentChild(IonicSelectableHeaderTemplateDirective, { read: TemplateRef, static: false })\n  headerTemplate: TemplateRef<any>;\n  @ContentChild(IonicSelectableItemIconTemplateDirective, { read: TemplateRef, static: false })\n  itemIconTemplate: TemplateRef<any>;\n\n  /**\n   * See Ionic VirtualScroll [headerFn](https://ionicframework.com/docs/api/components/virtual-scroll/VirtualScroll/).\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#virtualscrollheaderfn).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  virtualScrollHeaderFn = () => {\n    return null;\n  }\n\n  constructor(\n    private _modalController: ModalController,\n    private _platform: Platform,\n    @Optional() private ionItem: IonItem,\n    private _iterableDiffers: IterableDiffers,\n    private _element: ElementRef,\n    private _renderer: Renderer\n  ) {\n    if (!this.items || !this.items.length) {\n      this.items = [];\n    }\n\n    this._itemsDiffer = this._iterableDiffers.find(this.items).create();\n  }\n\n  initFocus() { }\n\n  enableIonItem(isEnabled: boolean) {\n    if (!this.ionItem) {\n      return;\n    }\n\n    this.ionItem.disabled = !isEnabled;\n  }\n\n  _isNullOrWhiteSpace(value: any): boolean {\n    if (value === null || value === undefined) {\n      return true;\n    }\n\n    // Convert value to string in case if it's not.\n    return value.toString().replace(/\\s/g, '').length < 1;\n  }\n\n  _setHasSearchText() {\n    this._hasSearchText = !this._isNullOrWhiteSpace(this._searchText);\n  }\n\n  _hasOnSearch(): boolean {\n    return this.isOnSearchEnabled && this.onSearch.observers.length > 0;\n  }\n\n  _hasOnSaveItem(): boolean {\n    return this.canSaveItem && this.onSaveItem.observers.length > 0;\n  }\n\n  _hasOnAddItem(): boolean {\n    return this.canAddItem && this.onAddItem.observers.length > 0;\n  }\n\n  _hasOnDeleteItem(): boolean {\n    return this.canDeleteItem && this.onDeleteItem.observers.length > 0;\n  }\n\n  _emitValueChange() {\n    this.propagateOnChange(this.value);\n\n    this.onChange.emit({\n      component: this,\n      value: this.value\n    });\n  }\n\n  _emitSearch() {\n    if (!this.canSearch) {\n      return;\n    }\n\n    this.onSearch.emit({\n      component: this,\n      text: this._searchText\n    });\n  }\n\n  _emitOnSelect(item: any, isSelected: boolean) {\n    this.onSelect.emit({\n      component: this,\n      item: item,\n      isSelected: isSelected\n    });\n  }\n\n  _emitOnClear(items: any[]) {\n    this.onClear.emit({\n      component: this,\n      items: items\n    });\n  }\n\n  _emitOnSearchSuccessOrFail(isSuccess: boolean) {\n    const eventData = {\n      component: this,\n      text: this._searchText\n    };\n\n    if (isSuccess) {\n      this.onSearchSuccess.emit(eventData);\n    } else {\n      this.onSearchFail.emit(eventData);\n    }\n  }\n\n  _formatItem(item: any): string {\n    if (this._isNullOrWhiteSpace(item)) {\n      return null;\n    }\n\n    return this.itemTextField ? item[this.itemTextField] : item.toString();\n  }\n\n  _formatValueItem(item: any): string {\n    if (this._shouldStoreItemValue) {\n      // Get item text from the list as we store it's value only.\n      const selectedItem = this.items.find(_item => {\n        return _item[this.itemValueField] === item;\n      });\n\n      return this._formatItem(selectedItem);\n    } else {\n      return this._formatItem(item);\n    }\n  }\n\n  _getItemValue(item: any): any {\n    if (!this._hasObjects) {\n      return item;\n    }\n\n    return item[this.itemValueField];\n  }\n\n  _getStoredItemValue(item: any): any {\n    if (!this._hasObjects) {\n      return item;\n    }\n\n    return this._shouldStoreItemValue ? item : item[this.itemValueField];\n  }\n\n  _onSearchbarClear() {\n    // Ionic Searchbar doesn't clear bind with ngModel value.\n    // Do it ourselves.\n    this._searchText = '';\n  }\n\n  _filterItems() {\n    this._setHasSearchText();\n\n    if (this._hasOnSearch()) {\n      // Delegate filtering to the event.\n      this._emitSearch();\n    } else {\n      // Default filtering.\n      let groups = [];\n\n      if (!this._searchText || !this._searchText.trim()) {\n        groups = this._groups;\n      } else {\n        const filterText = this._searchText.trim().toLowerCase();\n\n        this._groups.forEach(group => {\n          const items = group.items.filter(item => {\n            const itemText = (this.itemTextField ?\n              item[this.itemTextField] : item).toString().toLowerCase();\n            return itemText.indexOf(filterText) !== -1;\n          });\n\n          if (items.length) {\n            groups.push({\n              value: group.value,\n              text: group.text,\n              items: items\n            });\n          }\n        });\n\n        // No items found.\n        if (!groups.length) {\n          groups.push({\n            items: []\n          });\n        }\n      }\n\n      this._filteredGroups = groups;\n      this._hasFilteredItems = !this._areGroupsEmpty(groups);\n      this._emitOnSearchSuccessOrFail(this._hasFilteredItems);\n    }\n  }\n\n  _isItemDisabled(item: any): boolean {\n    if (!this.disabledItems) {\n      return;\n    }\n\n    return this.disabledItems.some(_item => {\n      return this._getItemValue(_item) === this._getItemValue(item);\n    });\n  }\n\n  _isItemSelected(item: any) {\n    return this._selectedItems.find(selectedItem => {\n      return this._getItemValue(item) === this._getStoredItemValue(selectedItem);\n    }) !== undefined;\n  }\n\n  _addSelectedItem(item: any) {\n    if (this._shouldStoreItemValue) {\n      this._selectedItems.push(this._getItemValue(item));\n    } else {\n      this._selectedItems.push(item);\n    }\n  }\n\n  _deleteSelectedItem(item: any) {\n    let itemToDeleteIndex;\n\n    this._selectedItems.forEach((selectedItem, itemIndex) => {\n      if (\n        this._getItemValue(item) ===\n        this._getStoredItemValue(selectedItem)\n      ) {\n        itemToDeleteIndex = itemIndex;\n      }\n    });\n\n    this._selectedItems.splice(itemToDeleteIndex, 1);\n  }\n\n  _click() {\n    if (!this.isEnabled) {\n      return;\n    }\n\n    this._label = this._getLabelText();\n    this.open().then(() => {\n      this.onOpen.emit({\n        component: this\n      });\n    });\n  }\n\n  _saveItem(event: Event, item: any) {\n    event.stopPropagation();\n    this._itemToAdd = item;\n\n    if (this._hasOnSaveItem()) {\n      this.onSaveItem.emit({\n        component: this,\n        item: this._itemToAdd\n      });\n    } else {\n      this.showAddItemTemplate();\n    }\n  }\n\n  _deleteItemClick(event: Event, item: any) {\n    event.stopPropagation();\n    this._itemToAdd = item;\n\n    if (this._hasOnDeleteItem()) {\n      // Delegate logic to event.\n      this.onDeleteItem.emit({\n        component: this,\n        item: this._itemToAdd\n      });\n    } else {\n      this.deleteItem(this._itemToAdd);\n    }\n  }\n\n  _addItemClick() {\n    if (this._hasOnAddItem()) {\n      this.onAddItem.emit({\n        component: this\n      });\n    } else {\n      this.showAddItemTemplate();\n    }\n  }\n\n  _positionAddItemTemplate() {\n    // Wait for the template to render.\n    setTimeout(() => {\n      const footer = this._modalComponent._element.nativeElement\n        .querySelector('.ionic-selectable-add-item-template ion-footer');\n\n      this._addItemTemplateFooterHeight = footer ? `calc(100% - ${footer.offsetHeight}px)` : '100%';\n    }, 100);\n  }\n\n  _close() {\n    this.close().then(() => {\n      this.onClose.emit({\n        component: this\n      });\n    });\n\n    if (!this._hasOnSearch()) {\n      this._searchText = '';\n      this._setHasSearchText();\n    }\n  }\n\n  _clear() {\n    const selectedItems = this._selectedItems;\n\n    this.clear();\n    this._emitValueChange();\n    this._emitOnClear(selectedItems);\n    this.close().then(() => {\n      this.onClose.emit({\n        component: this\n      });\n    });\n  }\n\n  _getMoreItems() {\n    this.onInfiniteScroll.emit({\n      component: this,\n      text: this._searchText\n    });\n  }\n\n  _setItemsToConfirm(items: any[]) {\n    // Return a copy of original array, so it couldn't be changed from outside.\n    this._itemsToConfirm = [].concat(items);\n  }\n\n  _doSelect(selectedItem: any) {\n    this.value = selectedItem;\n    this._emitValueChange();\n  }\n\n  _select(item: any) {\n    const isItemSelected = this._isItemSelected(item);\n\n    if (this.isMultiple) {\n      if (isItemSelected) {\n        this._deleteSelectedItem(item);\n      } else {\n        this._addSelectedItem(item);\n      }\n\n      this._setItemsToConfirm(this._selectedItems);\n\n      // Emit onSelect event after setting items to confirm so they could be used\n      // inside the event.\n      this._emitOnSelect(item, !isItemSelected);\n    } else {\n      if (this.hasConfirmButton || this.footerTemplate) {\n        // Don't close Modal and keep track on items to confirm.\n        // When footer template is used it's up to developer to close Modal.\n        this._selectedItems = [];\n\n        if (isItemSelected) {\n          this._deleteSelectedItem(item);\n        } else {\n          this._addSelectedItem(item);\n        }\n\n        this._setItemsToConfirm(this._selectedItems);\n\n        // Emit onSelect event after setting items to confirm so they could be used\n        // inside the event.\n        this._emitOnSelect(item, !isItemSelected);\n      } else {\n        if (!isItemSelected) {\n          this._selectedItems = [];\n          this._addSelectedItem(item);\n\n          // Emit onSelect before onChange.\n          this._emitOnSelect(item, true);\n\n          if (this._shouldStoreItemValue) {\n            this._doSelect(this._getItemValue(item));\n          } else {\n            this._doSelect(item);\n          }\n        }\n\n        this._close();\n      }\n    }\n  }\n\n  _confirm() {\n    this.confirm();\n    this._close();\n  }\n\n  private _getLabelText(): string {\n    return this._ionLabelElement ? this._ionLabelElement.textContent : null;\n  }\n\n  private _areGroupsEmpty(groups) {\n    return groups.length === 0 || groups.every(group => {\n      return !group.items || group.items.length === 0;\n    });\n  }\n\n  private _countFooterButtons() {\n    let footerButtonsCount = 0;\n\n    if (this.canClear) {\n      footerButtonsCount++;\n    }\n\n    if (this.isMultiple || this._hasConfirmButton) {\n      footerButtonsCount++;\n    }\n\n    if (this.canAddItem) {\n      footerButtonsCount++;\n    }\n\n    this._footerButtonsCount = footerButtonsCount;\n  }\n\n  private _setItems(items: any[]) {\n    // It's important to have an empty starting group with empty items (groups[0].items),\n    // because we bind to it when using VirtualScroll.\n    // See https://github.com/eakoriakin/ionic-selectable/issues/70.\n    let groups: any[] = [{\n      items: items || []\n    }];\n\n    if (items && items.length) {\n      if (this._hasGroups) {\n        groups = [];\n\n        items.forEach(item => {\n          const groupValue = this._getPropertyValue(item, this.groupValueField),\n            group = groups.find(_group => _group.value === groupValue);\n\n          if (group) {\n            group.items.push(item);\n          } else {\n            groups.push({\n              value: groupValue,\n              text: this._getPropertyValue(item, this.groupTextField),\n              items: [item]\n            });\n          }\n        });\n      }\n    }\n\n    this._groups = groups;\n    this._filteredGroups = this._groups;\n    this._hasFilteredItems = !this._areGroupsEmpty(this._filteredGroups);\n  }\n\n  private _getPropertyValue(object: any, property: string): any {\n    if (!property) {\n      return null;\n    }\n\n    return property.split('.').reduce((_object, _property) => {\n      return _object ? _object[_property] : null;\n    }, object);\n  }\n\n  private _setIonItemHasFocus(hasFocus: boolean) {\n    if (!this.ionItem) {\n      return;\n    }\n\n    // Apply focus CSS class for proper stylying of ion-item/ion-label.\n    this._setIonItemCssClass('item-has-focus', hasFocus);\n  }\n\n  private _setIonItemHasValue() {\n    if (!this.ionItem) {\n      return;\n    }\n\n    // Apply value CSS class for proper stylying of ion-item/ion-label.\n    this._setIonItemCssClass('item-has-value', this.hasValue());\n  }\n\n  private _setHasPlaceholder() {\n    this._hasPlaceholder = !this.hasValue() &&\n      (!this._isNullOrWhiteSpace(this.placeholder) || this.placeholderTemplate) ?\n      true : false;\n  }\n\n  private propagateOnChange = (_: any) => { };\n  private propagateOnTouched = () => { };\n\n  private _setIonItemCssClass(cssClass: string, shouldAdd: boolean) {\n    if (!this._ionItemElement) {\n      return;\n    }\n\n    this._renderer.setElementClass(this._ionItemElement, cssClass, shouldAdd);\n  }\n\n  private _toggleAddItemTemplate(isVisible: boolean) {\n    // It should be possible to show/hide the template regardless\n    // canAddItem or canSaveItem parameters, so we could implement some\n    // custom behavior. E.g. adding item when search fails using onSearchFail event.\n    if (!this.addItemTemplate) {\n      return;\n    }\n\n    // To make SaveItemTemplate visible we just position it over list using CSS.\n    // We don't hide list with *ngIf or [hidden] to prevent its scroll position.\n    this._isAddItemTemplateVisible = isVisible;\n    this._isFooterVisible = !isVisible;\n  }\n\n  /* ControlValueAccessor */\n  writeValue(value: any) {\n    this.value = value;\n  }\n\n  registerOnChange(method: any): void {\n    this.propagateOnChange = method;\n  }\n\n  registerOnTouched(method: () => void) {\n    this.propagateOnTouched = method;\n  }\n\n  setDisabledState(isDisabled: boolean) {\n    this.isEnabled = !isDisabled;\n  }\n  /* .ControlValueAccessor */\n\n  ngOnInit() {\n    this._isIos = this._platform.is('ios');\n    this._isMD = !this._isIos;\n    this._hasObjects = !this._isNullOrWhiteSpace(this.itemValueField);\n    // Grouping is supported for objects only.\n    // Ionic VirtualScroll has it's own implementation of grouping.\n    this._hasGroups = Boolean(this._hasObjects && this.groupValueField && !this.hasVirtualScroll);\n\n    if (this.ionItem) {\n      this._ionItemElement = this._element.nativeElement.closest('ion-item');\n      this._setIonItemCssClass('item-interactive', true);\n      this._setIonItemCssClass('item-ionic-selectable', true);\n\n      if (this._ionItemElement) {\n        this._ionLabelElement = this._ionItemElement.querySelector('ion-label');\n\n        if (this._ionLabelElement) {\n          this._hasIonLabel = true;\n          this._ionLabelPosition = this._ionLabelElement.getAttribute('position') || 'default';\n        }\n      }\n    }\n\n    this.enableIonItem(this.isEnabled);\n  }\n\n  ngDoCheck() {\n    const itemsChanges = this._itemsDiffer.diff(this.items);\n\n    if (itemsChanges) {\n      this._setItems(this.items);\n      this.value = this.value;\n\n      this.onItemsChange.emit({\n        component: this\n      });\n    }\n  }\n\n  /**\n   * Adds item.\n   * **Note**: If you want an item to be added to the original array as well use two-way data binding syntax on `[(items)]` field.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#additem).\n   *\n   * @param item Item to add.\n   * @returns Promise that resolves when item has been added.\n   * @memberof IonicSelectableComponent\n   */\n  addItem(item: any): Promise<any> {\n    const self = this;\n\n    // Adding item triggers onItemsChange.\n    // Return a promise that resolves when onItemsChange finishes.\n    // We need a promise or user could do something after item has been added,\n    // e.g. use search() method to find the added item.\n    this.items.unshift(item);\n\n    // Close any running subscription.\n    if (this._addItemObservable) {\n      this._addItemObservable.unsubscribe();\n    }\n\n    return new Promise(function (resolve, reject) {\n      // Complete callback isn't fired for some reason,\n      // so unsubscribe in both success and fail cases.\n      self._addItemObservable = self.onItemsChange.asObservable().subscribe(() => {\n        self._addItemObservable.unsubscribe();\n        resolve();\n      }, () => {\n        self._addItemObservable.unsubscribe();\n        reject();\n      });\n    });\n  }\n\n  /**\n * Deletes item.\n * **Note**: If you want an item to be deleted from the original array as well use two-way data binding syntax on `[(items)]` field.\n * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#deleteitem).\n *\n * @param item Item to delete.\n * @returns Promise that resolves when item has been deleted.\n * @memberof IonicSelectableComponent\n */\n  deleteItem(item: any): Promise<any> {\n    const self = this;\n    let hasValueChanged = false;\n\n    // Remove deleted item from selected items.\n    if (this._selectedItems) {\n      this._selectedItems = this._selectedItems.filter(_item => {\n        return this._getItemValue(item) !== this._getStoredItemValue(_item);\n      });\n    }\n\n    // Remove deleted item from value.\n    if (this.value) {\n      if (this.isMultiple) {\n        const values = this.value.filter(value => {\n          return value.id !== item.id;\n        });\n\n        if (values.length !== this.value.length) {\n          this.value = values;\n          hasValueChanged = true;\n        }\n      } else {\n        if (item === this.value) {\n          this.value = null;\n          hasValueChanged = true;\n        }\n      }\n    }\n\n    if (hasValueChanged) {\n      this._emitValueChange();\n    }\n\n    // Remove deleted item from list.\n    const items = this.items.filter(_item => {\n      return _item.id !== item.id;\n    });\n\n    // Refresh items on parent component.\n    this.itemsChange.emit(items);\n\n    // Refresh list.\n    this._setItems(items);\n\n    this.onItemsChange.emit({\n      component: this\n    });\n\n    // Close any running subscription.\n    if (this._deleteItemObservable) {\n      this._deleteItemObservable.unsubscribe();\n    }\n\n    return new Promise(function (resolve, reject) {\n      // Complete callback isn't fired for some reason,\n      // so unsubscribe in both success and fail cases.\n      self._deleteItemObservable = self.onItemsChange.asObservable().subscribe(() => {\n        self._deleteItemObservable.unsubscribe();\n        resolve();\n      }, () => {\n        self._deleteItemObservable.unsubscribe();\n        reject();\n      });\n    });\n  }\n\n  /**\n   * Determines whether any item has been selected.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#hasvalue).\n   *\n   * @returns A boolean determining whether any item has been selected.\n   * @memberof IonicSelectableComponent\n   */\n  hasValue(): boolean {\n    if (this.isMultiple) {\n      return this._valueItems.length !== 0;\n    } else {\n      return this._valueItems.length !== 0 && !this._isNullOrWhiteSpace(this._valueItems[0]);\n    }\n  }\n\n  /**\n   * Opens Modal.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#open).\n   *\n   * @returns Promise that resolves when Modal has been opened.\n   * @memberof IonicSelectableComponent\n   */\n  open(): Promise<void> {\n    const self = this;\n\n    return new Promise(function (resolve, reject) {\n      if (!self._isEnabled || self._isOpened) {\n        reject('IonicSelectable is disabled or already opened.');\n        return;\n      }\n\n      self._filterItems();\n      self._isOpened = true;\n\n      const modalOptions: ModalOptions = {\n        component: IonicSelectableModalComponent,\n        componentProps: { selectComponent: self },\n        backdropDismiss: self._shouldBackdropClose\n      };\n\n      if (self.modalCssClass) {\n        modalOptions.cssClass = self.modalCssClass;\n      }\n\n      if (self.modalEnterAnimation) {\n        modalOptions.enterAnimation = self.modalEnterAnimation;\n      }\n\n      if (self.modalLeaveAnimation) {\n        modalOptions.leaveAnimation = self.modalLeaveAnimation;\n      }\n\n      self._modalController.create(modalOptions).then(modal => {\n        self._modal = modal;\n        modal.present().then(() => {\n          // Set focus after Modal has opened to avoid flickering of focus highlighting\n          // before Modal opening.\n          self._setIonItemHasFocus(true);\n          resolve();\n        });\n\n        modal.onWillDismiss().then(() => {\n          self._setIonItemHasFocus(false);\n        });\n\n        modal.onDidDismiss().then(event => {\n          self._isOpened = false;\n          self._itemsToConfirm = [];\n\n          // Closed by clicking on backdrop outside modal.\n          if (event.role === 'backdrop') {\n            self.onClose.emit({\n              component: self\n            });\n          }\n        });\n      });\n    });\n  }\n\n  /**\n   * Closes Modal.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#close).\n   *\n   * @returns Promise that resolves when Modal has been closed.\n   * @memberof IonicSelectableComponent\n   */\n  close(): Promise<void> {\n    const self = this;\n\n    return new Promise(function (resolve, reject) {\n      if (!self._isEnabled || !self._isOpened) {\n        reject('IonicSelectable is disabled or already closed.');\n        return;\n      }\n\n      self.propagateOnTouched();\n      self._isOpened = false;\n      self._itemToAdd = null;\n      self._modal.dismiss().then(() => {\n        self._setIonItemHasFocus(false);\n        self.hideAddItemTemplate();\n        resolve();\n      });\n    });\n  }\n\n  /**\n   * Clears value.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#clear).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  clear() {\n    this.value = this.isMultiple ? [] : null;\n    this._itemsToConfirm = [];\n    this.propagateOnChange(this.value);\n  }\n\n  /**\n   * Confirms selected items by updating value.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#confirm).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  confirm() {\n    if (this.isMultiple) {\n      this._doSelect(this._selectedItems);\n    } else if (this.hasConfirmButton || this.footerTemplate) {\n      this._doSelect(this._selectedItems[0] || null);\n    }\n  }\n\n  /**\n   * Selects or deselects all or specific items.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#toggleitems).\n   *\n   * @param isSelect Determines whether to select or deselect items.\n   * @param [items] Items to toggle. If items are not set all items will be toggled.\n   * @memberof IonicSelectableComponent\n   */\n  toggleItems(isSelect: boolean, items?: any[]) {\n    if (isSelect) {\n      const hasItems = items && items.length;\n      let itemsToToggle = this._groups.reduce((allItems, group) => {\n        return allItems.concat(group.items);\n      }, []);\n\n      // Don't allow to select all items in single mode.\n      if (!this.isMultiple && !hasItems) {\n        itemsToToggle = [];\n      }\n\n      // Toggle specific items.\n      if (hasItems) {\n        itemsToToggle = itemsToToggle.filter(itemToToggle => {\n          return items.find(item => {\n            return this._getItemValue(itemToToggle) === this._getItemValue(item);\n          }) !== undefined;\n        });\n\n        // Take the first item for single mode.\n        if (!this.isMultiple) {\n          itemsToToggle.splice(0, 1);\n        }\n      }\n\n      itemsToToggle.forEach(item => {\n        this._addSelectedItem(item);\n      });\n    } else {\n      this._selectedItems = [];\n    }\n\n    this._setItemsToConfirm(this._selectedItems);\n  }\n\n  /**\n   * Scrolls to the top of Modal content.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#scrolltotop).\n   *\n   * @returns Promise that resolves when scroll has been completed.\n   * @memberof IonicSelectableComponent\n   */\n  scrollToTop(): Promise<any> {\n    const self = this;\n\n    return new Promise(function (resolve, reject) {\n      if (!self._isOpened) {\n        reject('IonicSelectable content cannot be scrolled.');\n        return;\n      }\n\n      self._modalComponent._content.scrollToTop().then(() => {\n        resolve();\n      });\n    });\n  }\n\n  /**\n   * Scrolls to the bottom of Modal content.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#scrolltobottom).\n   *\n   * @returns Promise that resolves when scroll has been completed.\n   * @memberof IonicSelectableComponent\n   */\n  scrollToBottom(): Promise<any> {\n    const self = this;\n\n    return new Promise(function (resolve, reject) {\n      if (!self._isOpened) {\n        reject('IonicSelectable content cannot be scrolled.');\n        return;\n      }\n\n      self._modalComponent._content.scrollToBottom().then(() => {\n        resolve();\n      });\n    });\n  }\n\n  /**\n   * Starts search process by showing Loading spinner.\n   * Use it together with `onSearch` event to indicate search start.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#startsearch).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  startSearch() {\n    if (!this._isEnabled) {\n      return;\n    }\n\n    this.showLoading();\n  }\n\n  /**\n   * Ends search process by hiding Loading spinner and refreshing items.\n   * Use it together with `onSearch` event to indicate search end.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#endsearch).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  endSearch() {\n    if (!this._isEnabled) {\n      return;\n    }\n\n    this.hideLoading();\n\n    // When inside Ionic Modal and onSearch event is used,\n    // ngDoCheck() doesn't work as _itemsDiffer fails to detect changes.\n    // See https://github.com/eakoriakin/ionic-selectable/issues/44.\n    // Refresh items manually.\n    this._setItems(this.items);\n    this._emitOnSearchSuccessOrFail(this._hasFilteredItems);\n  }\n\n  /**\n   * Enables infinite scroll.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#enableinfinitescroll).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  enableInfiniteScroll() {\n    if (!this._hasInfiniteScroll) {\n      return;\n    }\n\n    this._modalComponent._infiniteScroll.disabled = false;\n  }\n\n  /**\n   * Disables infinite scroll.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#disableinfinitescroll).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  disableInfiniteScroll() {\n    if (!this._hasInfiniteScroll) {\n      return;\n    }\n\n    this._modalComponent._infiniteScroll.disabled = true;\n  }\n\n  /**\n   * Ends infinite scroll.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#endinfinitescroll).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  endInfiniteScroll() {\n    if (!this._hasInfiniteScroll) {\n      return;\n    }\n\n    this._modalComponent._infiniteScroll.complete();\n    this._setItems(this.items);\n  }\n\n  /**\n   * Triggers search of items.\n   * **Note**: `canSearch` has to be enabled.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#search).\n   *\n   * @param text Text to search items by.\n   * @memberof IonicSelectableComponent\n   */\n  search(text: string) {\n    if (!this._isEnabled || !this._isOpened || !this.canSearch) {\n      return;\n    }\n\n    this._searchText = text;\n    this._setHasSearchText();\n    this._filterItems();\n  }\n\n  /**\n   * Shows Loading spinner.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#showloading).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  showLoading() {\n    if (!this._isEnabled) {\n      return;\n    }\n\n    this._isSearching = true;\n  }\n\n  /**\n   * Hides Loading spinner.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#hideloading).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  hideLoading() {\n    if (!this._isEnabled) {\n      return;\n    }\n\n    this._isSearching = false;\n  }\n\n  /**\n   * Shows `ionicSelectableAddItemTemplate`.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#showadditemtemplate).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  showAddItemTemplate() {\n    this._toggleAddItemTemplate(true);\n\n    // Position the template only when it shous up.\n    this._positionAddItemTemplate();\n  }\n\n  /**\n   * Hides `ionicSelectableAddItemTemplate`.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#hideadditemtemplate).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  hideAddItemTemplate() {\n    // Clean item to add as it's no longer needed once Add Item Modal has been closed.\n    this._itemToAdd = null;\n    this._toggleAddItemTemplate(false);\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { IonicSelectableAddItemTemplateDirective } from './ionic-selectable-add-item-template.directive';\nimport { IonicSelectableCloseButtonTemplateDirective } from './ionic-selectable-close-button-template.directive';\nimport { IonicSelectableFooterTemplateDirective } from './ionic-selectable-footer-template.directive';\nimport { IonicSelectableGroupEndTemplateDirective } from './ionic-selectable-group-end-template.directive';\nimport { IonicSelectableGroupTemplateDirective } from './ionic-selectable-group-template.directive';\nimport { IonicSelectableHeaderTemplateDirective } from './ionic-selectable-header-template.directive';\nimport { IonicSelectableItemEndTemplateDirective } from './ionic-selectable-item-end-template.directive';\nimport { IonicSelectableItemIconTemplateDirective } from './ionic-selectable-item-icon-template.directive';\nimport { IonicSelectableItemTemplateDirective } from './ionic-selectable-item-template.directive';\nimport { IonicSelectableMessageTemplateDirective } from './ionic-selectable-message-template.directive';\nimport { IonicSelectableModalComponent } from './ionic-selectable-modal.component';\nimport { IonicSelectablePlaceholderTemplateDirective } from './ionic-selectable-placeholder-template.directive';\nimport { IonicSelectableSearchFailTemplateDirective } from './ionic-selectable-search-fail-template.directive';\nimport { IonicSelectableTitleTemplateDirective } from './ionic-selectable-title-template.directive';\nimport { IonicSelectableValueTemplateDirective } from './ionic-selectable-value-template.directive';\nimport { IonicSelectableComponent } from './ionic-selectable.component';\nexport { IonicSelectableAddItemTemplateDirective } from './ionic-selectable-add-item-template.directive';\nexport { IonicSelectableCloseButtonTemplateDirective } from './ionic-selectable-close-button-template.directive';\nexport { IonicSelectableFooterTemplateDirective } from './ionic-selectable-footer-template.directive';\nexport { IonicSelectableGroupEndTemplateDirective } from './ionic-selectable-group-end-template.directive';\nexport { IonicSelectableGroupTemplateDirective } from './ionic-selectable-group-template.directive';\nexport { IonicSelectableHeaderTemplateDirective } from './ionic-selectable-header-template.directive';\nexport { IonicSelectableItemEndTemplateDirective } from './ionic-selectable-item-end-template.directive';\nexport { IonicSelectableItemIconTemplateDirective } from './ionic-selectable-item-icon-template.directive';\nexport { IonicSelectableItemTemplateDirective } from './ionic-selectable-item-template.directive';\nexport { IonicSelectableMessageTemplateDirective } from './ionic-selectable-message-template.directive';\nexport { IonicSelectableModalComponent } from './ionic-selectable-modal.component';\nexport { IonicSelectablePlaceholderTemplateDirective } from './ionic-selectable-placeholder-template.directive';\nexport { IonicSelectableSearchFailTemplateDirective } from './ionic-selectable-search-fail-template.directive';\nexport { IonicSelectableTitleTemplateDirective } from './ionic-selectable-title-template.directive';\nexport { IonicSelectableValueTemplateDirective } from './ionic-selectable-value-template.directive';\nexport { IonicSelectableComponent } from './ionic-selectable.component';\n\nconst components = [IonicSelectableComponent, IonicSelectableModalComponent],\n  directives = [\n    IonicSelectableValueTemplateDirective,\n    IonicSelectableItemTemplateDirective,\n    IonicSelectableItemEndTemplateDirective,\n    IonicSelectableTitleTemplateDirective,\n    IonicSelectablePlaceholderTemplateDirective,\n    IonicSelectableMessageTemplateDirective,\n    IonicSelectableGroupTemplateDirective,\n    IonicSelectableGroupEndTemplateDirective,\n    IonicSelectableCloseButtonTemplateDirective,\n    IonicSelectableSearchFailTemplateDirective,\n    IonicSelectableAddItemTemplateDirective,\n    IonicSelectableFooterTemplateDirective,\n    IonicSelectableHeaderTemplateDirective,\n    IonicSelectableItemIconTemplateDirective\n  ];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule\n  ],\n  declarations: [\n    ...components,\n    ...directives\n  ],\n  exports: [\n    ...components,\n    ...directives\n  ],\n  entryComponents: components\n})\nexport class IonicSelectableModule { }\n"]}
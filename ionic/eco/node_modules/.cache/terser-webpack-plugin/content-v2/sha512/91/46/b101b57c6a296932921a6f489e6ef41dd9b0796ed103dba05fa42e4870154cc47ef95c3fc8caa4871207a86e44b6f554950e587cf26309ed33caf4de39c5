{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{\"7ch9\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return LoadingService}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"mrSG\"),_ionic_angular__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"ZZ/e\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"8Y7J\");let LoadingService=(()=>{class LoadingService{constructor(loadingController){this.loadingController=loadingController,this.isLoading=!1}showLoader(value){return tslib__WEBPACK_IMPORTED_MODULE_0__.b(this,void 0,void 0,(function*(){return this.isLoading=!0,yield this.loadingController.create({message:value,duration:1e3}).then(a=>{a.present().then(()=>{this.isLoading||a.dismiss()})})}))}hideLoader(){return tslib__WEBPACK_IMPORTED_MODULE_0__.b(this,void 0,void 0,(function*(){this.isLoading=!1}))}}return LoadingService.ngInjectableDef=_angular_core__WEBPACK_IMPORTED_MODULE_2__.Wb({factory:function(){return new LoadingService(_angular_core__WEBPACK_IMPORTED_MODULE_2__.Xb(_ionic_angular__WEBPACK_IMPORTED_MODULE_1__.Hb))},token:LoadingService,providedIn:\"root\"}),LoadingService})()},jZjW:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__);var core=__webpack_require__(\"8Y7J\");class AgentsPageModule{}var router_ngfactory=__webpack_require__(\"pMnS\"),core_ngfactory=__webpack_require__(\"oBZk\"),fesm5=__webpack_require__(\"ZZ/e\"),common=__webpack_require__(\"SVse\"),fesm2015_forms=__webpack_require__(\"s7LF\"),auth_service=__webpack_require__(\"lGQG\"),alert_service=__webpack_require__(\"3LUQ\"),loading_service=__webpack_require__(\"7ch9\"),permissions_service=__webpack_require__(\"tEUU\");class AgentsPage{constructor(authService,alertService,router,loadingService,route,permissionsService){this.authService=authService,this.alertService=alertService,this.router=router,this.loadingService=loadingService,this.route=route,this.permissionsService=permissionsService,this.information=[],this.informationSearch=[],this.searchTerm=\"\",this.userToken=null,this.userData=null,this.userAccess=null,this.thisURL=null,this.access=null,this.admin=null}ngOnInit(){this.userToken=this.route.snapshot.data.userData}transform(collection,property){if(!collection)return null;const groupedCollection=collection.reduce((previous,current)=>(previous[current[property]]?previous[current[property]].push(current):previous[current[property]]=[current],previous),{});return Object.keys(groupedCollection).map(key=>({key:key,value:groupedCollection[key]}))}ionViewDidEnter(){this.thisURL=this.router.url.substr(1),this.userToken=this.route.snapshot.data.userData,this.userToken.dir=this.thisURL,this.access=this.permissionsService.Auth(this.userToken,this.thisURL),this.admin=this.permissionsService.Admin(this.userToken,this.thisURL),this.getAgents()}getAgents(){this.authService.Agents(this.userToken).subscribe(data=>{this.information=data.userData;let ssd=this.transform(this.information,\"header\");this.informationSearch=ssd,this.information=ssd,console.log(this.informationSearch),this.loadingService.hideLoader()},error=>{this.loadingService.hideLoader(),this.router.navigate([\"\"])})}filterItems(searchTerm){return\"\"===searchTerm.trim()?this.information:this.information.filter(item=>item.agent_name.toLowerCase().indexOf(searchTerm.toLowerCase())>-1||item.address.toLowerCase().indexOf(searchTerm.toLowerCase())>-1||item.region.toLowerCase().indexOf(searchTerm.toLowerCase())>-1||item.mobile1.toLowerCase().indexOf(searchTerm.toLowerCase())>-1||item.mobile2.toLowerCase().indexOf(searchTerm.toLowerCase())>-1||item.commission.toLowerCase().indexOf(searchTerm.toLowerCase())>-1)}setFilteredItems(){this.informationSearch=this.filterItems(this.searchTerm)}addNewItem(){this.router.navigate([\"/agents-new\"])}doRefresh(event){this.searchTerm=\"\",this.getAgents(),event.target.complete(),this.loadingService.hideLoader()}dirList(){}Dialer(numberData){window.open(\"tel:\"+numberData,\"_system\")}userDetails(data){this.router.navigate([\"agent-details\"],{state:{agent:data}})}}var router=__webpack_require__(\"iInd\"),RenderType_AgentsPage=core.Ab({encapsulation:0,styles:[[\"ion-avatar[_ngcontent-%COMP%]{width:75px;height:75px;padding-left:0;padding-right:10px}a[_ngcontent-%COMP%]{font-size:14px}\"]],data:{}});function View_AgentsPage_1(_l){return core.Tb(0,[(_l()(),core.Cb(0,0,null,null,5,\"ion-fab\",[[\"horizontal\",\"end\"],[\"slot\",\"fixed\"],[\"vertical\",\"top\"]],null,null,null,core_ngfactory.X,core_ngfactory.i)),core.Bb(1,49152,null,0,fesm5.x,[core.j,core.p,core.F],{horizontal:[0,\"horizontal\"],vertical:[1,\"vertical\"]},null),(_l()(),core.Cb(2,0,null,0,3,\"ion-fab-button\",[],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.addNewItem()&&ad),ad}),core_ngfactory.W,core_ngfactory.j)),core.Bb(3,49152,null,0,fesm5.y,[core.j,core.p,core.F],null,null),(_l()(),core.Cb(4,0,null,0,1,\"ion-icon\",[[\"name\",\"add\"]],null,null,null,core_ngfactory.bb,core_ngfactory.n)),core.Bb(5,49152,null,0,fesm5.D,[core.j,core.p,core.F],{name:[0,\"name\"]},null)],(function(_ck,_v){_ck(_v,1,0,\"end\",\"top\"),_ck(_v,5,0,\"add\")}),null)}function View_AgentsPage_3(_l){return core.Tb(0,[(_l()(),core.Cb(0,0,null,null,4,\"ion-item-divider\",[],null,null,null,core_ngfactory.fb,core_ngfactory.s)),core.Bb(1,49152,null,0,fesm5.J,[core.j,core.p,core.F],null,null),(_l()(),core.Cb(2,0,null,0,2,\"ion-label\",[],null,null,null,core_ngfactory.lb,core_ngfactory.x)),core.Bb(3,49152,null,0,fesm5.O,[core.j,core.p,core.F],null,null),(_l()(),core.Sb(4,0,[\"\",\"\"]))],null,(function(_ck,_v){_ck(_v,4,0,_v.parent.context.$implicit.key)}))}function View_AgentsPage_4(_l){return core.Tb(0,[(_l()(),core.Cb(0,0,null,null,25,\"ion-item\",[],null,null,null,core_ngfactory.kb,core_ngfactory.r)),core.Bb(1,49152,null,0,fesm5.I,[core.j,core.p,core.F],null,null),(_l()(),core.Cb(2,0,null,0,2,\"ion-avatar\",[],null,null,null,core_ngfactory.P,core_ngfactory.b)),core.Bb(3,49152,null,0,fesm5.g,[core.j,core.p,core.F],null,null),(_l()(),core.Cb(4,0,null,0,0,\"img\",[[\"src\",\"https://api.time.com/wp-content/uploads/2018/12/square-meghan-markle-person-of-the-year-2018.jpg?quality=85\"]],null,null,null,null,null)),(_l()(),core.Cb(5,0,null,0,15,\"ion-label\",[[\"class\",\"ion-text-wrap\"]],null,null,null,core_ngfactory.lb,core_ngfactory.x)),core.Bb(6,49152,null,0,fesm5.O,[core.j,core.p,core.F],null,null),(_l()(),core.Cb(7,0,null,0,1,\"h2\",[],null,null,null,null,null)),(_l()(),core.Sb(8,null,[\" \",\" \"])),(_l()(),core.Cb(9,0,null,0,1,\"h3\",[],null,null,null,null,null)),(_l()(),core.Sb(10,null,[\" \",\" \"])),(_l()(),core.Cb(11,0,null,0,1,\"h3\",[],null,null,null,null,null)),(_l()(),core.Sb(12,null,[\" \",\" \"])),(_l()(),core.Cb(13,0,null,0,5,\"p\",[],null,null,null,null,null)),(_l()(),core.Cb(14,0,null,null,1,\"a\",[[\"class\",\"ion-no-padding\"],[\"fill\",\"clear\"],[\"size\",\"small\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.Dialer(_v.context.$implicit.mobile1)&&ad),ad}),null,null)),(_l()(),core.Sb(15,null,[\"\",\"\"])),(_l()(),core.Sb(-1,null,[\"    \"])),(_l()(),core.Cb(17,0,null,null,1,\"a\",[[\"class\",\"ion-no-padding\"],[\"fill\",\"clear\"],[\"size\",\"small\"]],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.Dialer(_v.context.$implicit.mobile2)&&ad),ad}),null,null)),(_l()(),core.Sb(18,null,[\"\",\"\"])),(_l()(),core.Cb(19,0,null,0,1,\"p\",[],null,null,null,null,null)),(_l()(),core.Sb(20,null,[\" \",\" \"])),(_l()(),core.Cb(21,0,null,0,1,\"p\",[],null,null,null,null,null)),(_l()(),core.Sb(22,null,[\"\",\"\"])),(_l()(),core.Cb(23,0,null,0,2,\"ion-button\",[],null,[[null,\"click\"]],(function(_v,en,$event){var ad=!0;return\"click\"===en&&(ad=!1!==_v.component.userDetails(_v.context.$implicit)&&ad),ad}),core_ngfactory.R,core_ngfactory.d)),core.Bb(24,49152,null,0,fesm5.l,[core.j,core.p,core.F],null,null),(_l()(),core.Sb(-1,0,[\"Details\"]))],null,(function(_ck,_v){_ck(_v,8,0,_v.context.$implicit.agent_name),_ck(_v,10,0,_v.context.$implicit.address),_ck(_v,12,0,_v.context.$implicit.region),_ck(_v,15,0,_v.context.$implicit.mobile1),_ck(_v,18,0,_v.context.$implicit.mobile2),_ck(_v,20,0,_v.context.$implicit.email),_ck(_v,22,0,_v.context.$implicit.commission)}))}function View_AgentsPage_2(_l){return core.Tb(0,[(_l()(),core.Cb(0,0,null,null,7,\"div\",[],null,null,null,null,null)),(_l()(),core.Cb(1,0,null,null,6,\"ion-item-group\",[],null,null,null,core_ngfactory.gb,core_ngfactory.t)),core.Bb(2,49152,null,0,fesm5.K,[core.j,core.p,core.F],null,null),(_l()(),core.rb(16777216,null,0,1,null,View_AgentsPage_3)),core.Bb(4,16384,null,0,common.j,[core.X,core.T],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.rb(16777216,null,0,1,null,View_AgentsPage_4)),core.Bb(6,278528,null,0,common.i,[core.X,core.T,core.x],{ngForOf:[0,\"ngForOf\"]},null),(_l()(),core.Cb(7,0,null,0,0,\"br\",[],null,null,null,null,null))],(function(_ck,_v){_ck(_v,4,0,\"1\"==_v.component.admin),_ck(_v,6,0,_v.context.$implicit.value)}),null)}function View_AgentsPage_0(_l){return core.Tb(0,[(_l()(),core.Cb(0,0,null,null,12,\"ion-header\",[],null,null,null,core_ngfactory.ab,core_ngfactory.m)),core.Bb(1,49152,null,0,fesm5.C,[core.j,core.p,core.F],null,null),(_l()(),core.Cb(2,0,null,0,8,\"ion-toolbar\",[],null,null,null,core_ngfactory.Ab,core_ngfactory.M)),core.Bb(3,49152,null,0,fesm5.Db,[core.j,core.p,core.F],null,null),(_l()(),core.Cb(4,0,null,0,3,\"ion-buttons\",[[\"slot\",\"start\"]],null,null,null,core_ngfactory.S,core_ngfactory.e)),core.Bb(5,49152,null,0,fesm5.m,[core.j,core.p,core.F],null,null),(_l()(),core.Cb(6,0,null,0,1,\"ion-menu-button\",[],null,null,null,core_ngfactory.nb,core_ngfactory.A)),core.Bb(7,49152,null,0,fesm5.S,[core.j,core.p,core.F],null,null),(_l()(),core.Cb(8,0,null,0,2,\"ion-title\",[[\"class\",\"ion-text-left\"]],null,null,null,core_ngfactory.zb,core_ngfactory.L)),core.Bb(9,49152,null,0,fesm5.Bb,[core.j,core.p,core.F],null,null),(_l()(),core.Sb(-1,0,[\"Agents Registry\"])),(_l()(),core.rb(16777216,null,0,1,null,View_AgentsPage_1)),core.Bb(12,16384,null,0,common.j,[core.X,core.T],{ngIf:[0,\"ngIf\"]},null),(_l()(),core.Cb(13,0,null,null,22,\"ion-content\",[],null,null,null,core_ngfactory.V,core_ngfactory.h)),core.Bb(14,49152,null,0,fesm5.v,[core.j,core.p,core.F],null,null),(_l()(),core.Cb(15,0,null,0,20,\"ion-grid\",[[\"class\",\"ion-no-padding\"]],null,null,null,core_ngfactory.Z,core_ngfactory.l)),core.Bb(16,49152,null,0,fesm5.B,[core.j,core.p,core.F],null,null),(_l()(),core.Cb(17,0,null,0,18,\"ion-row\",[],null,null,null,core_ngfactory.sb,core_ngfactory.E)),core.Bb(18,49152,null,0,fesm5.kb,[core.j,core.p,core.F],null,null),(_l()(),core.Cb(19,0,null,0,16,\"ion-col\",[[\"class\",\"ion-no-padding\"],[\"offset-lg\",\"3\"],[\"offset-md\",\"3\"],[\"offset-sm\",\"2\"],[\"offset-xs\",\"0\"],[\"size-lg\",\"6\"],[\"size-md\",\"6\"],[\"size-sm\",\"8\"],[\"size-xs\",\"12\"]],null,null,null,core_ngfactory.U,core_ngfactory.g)),core.Bb(20,49152,null,0,fesm5.u,[core.j,core.p,core.F],null,null),(_l()(),core.Cb(21,0,null,0,3,\"ion-refresher\",[[\"slot\",\"fixed\"]],null,[[null,\"ionRefresh\"]],(function(_v,en,$event){var ad=!0;return\"ionRefresh\"===en&&(ad=!1!==_v.component.doRefresh($event)&&ad),ad}),core_ngfactory.rb,core_ngfactory.C)),core.Bb(22,49152,null,0,fesm5.eb,[core.j,core.p,core.F],null,null),(_l()(),core.Cb(23,0,null,0,1,\"ion-refresher-content\",[[\"pullingIcon\",\"arrow-dropdown\"],[\"refreshingSpinner\",\"circles\"],[\"refreshingText\",\"Refreshing...\"]],null,null,null,core_ngfactory.qb,core_ngfactory.D)),core.Bb(24,49152,null,0,fesm5.fb,[core.j,core.p,core.F],{pullingIcon:[0,\"pullingIcon\"],refreshingSpinner:[1,\"refreshingSpinner\"],refreshingText:[2,\"refreshingText\"]},null),(_l()(),core.Cb(25,0,null,0,10,\"ion-list\",[],null,null,null,core_ngfactory.mb,core_ngfactory.y)),core.Bb(26,49152,null,0,fesm5.P,[core.j,core.p,core.F],null,null),(_l()(),core.Cb(27,0,null,0,6,\"ion-searchbar\",[],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"ionChange\"],[null,\"ionBlur\"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return\"ionBlur\"===en&&(ad=!1!==core.Nb(_v,28)._handleBlurEvent($event.target)&&ad),\"ionChange\"===en&&(ad=!1!==core.Nb(_v,28)._handleInputEvent($event.target)&&ad),\"ngModelChange\"===en&&(ad=!1!==(_co.searchTerm=$event)&&ad),\"ionChange\"===en&&(ad=!1!==_co.setFilteredItems()&&ad),ad}),core_ngfactory.tb,core_ngfactory.F)),core.Bb(28,16384,null,0,fesm5.Rb,[core.p],null,null),core.Pb(1024,null,fesm2015_forms.d,(function(p0_0){return[p0_0]}),[fesm5.Rb]),core.Bb(30,671744,null,0,fesm2015_forms.g,[[8,null],[8,null],[8,null],[6,fesm2015_forms.d]],{model:[0,\"model\"]},{update:\"ngModelChange\"}),core.Pb(2048,null,fesm2015_forms.e,null,[fesm2015_forms.g]),core.Bb(32,16384,null,0,fesm2015_forms.f,[[4,fesm2015_forms.e]],null,null),core.Bb(33,49152,null,0,fesm5.lb,[core.j,core.p,core.F],null,null),(_l()(),core.rb(16777216,null,0,1,null,View_AgentsPage_2)),core.Bb(35,278528,null,0,common.i,[core.X,core.T,core.x],{ngForOf:[0,\"ngForOf\"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,12,0,\"1\"==_co.access),_ck(_v,24,0,\"arrow-dropdown\",\"circles\",\"Refreshing...\"),_ck(_v,30,0,_co.searchTerm),_ck(_v,35,0,_co.informationSearch)}),(function(_ck,_v){_ck(_v,27,0,core.Nb(_v,32).ngClassUntouched,core.Nb(_v,32).ngClassTouched,core.Nb(_v,32).ngClassPristine,core.Nb(_v,32).ngClassDirty,core.Nb(_v,32).ngClassValid,core.Nb(_v,32).ngClassInvalid,core.Nb(_v,32).ngClassPending)}))}function View_AgentsPage_Host_0(_l){return core.Tb(0,[(_l()(),core.Cb(0,0,null,null,1,\"app-agents\",[],null,null,null,View_AgentsPage_0,RenderType_AgentsPage)),core.Bb(1,114688,null,0,AgentsPage,[auth_service.a,alert_service.a,router.m,loading_service.a,router.a,permissions_service.a],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var AgentsPageNgFactory=core.yb(\"app-agents\",AgentsPage,View_AgentsPage_Host_0,{},{},[]);class AgentsPageRoutingModule{}__webpack_require__.d(__webpack_exports__,\"AgentsPageModuleNgFactory\",(function(){return AgentsPageModuleNgFactory}));var AgentsPageModuleNgFactory=core.zb(AgentsPageModule,[],(function(_l){return core.Kb([core.Lb(512,core.m,core.kb,[[8,[router_ngfactory.a,AgentsPageNgFactory]],[3,core.m],core.D]),core.Lb(4608,common.l,common.k,[core.z,[2,common.x]]),core.Lb(4608,fesm2015_forms.j,fesm2015_forms.j,[]),core.Lb(4608,fesm5.b,fesm5.b,[core.F,core.g]),core.Lb(4608,fesm5.Jb,fesm5.Jb,[fesm5.b,core.m,core.w]),core.Lb(4608,fesm5.Ob,fesm5.Ob,[fesm5.b,core.m,core.w]),core.Lb(1073742336,common.b,common.b,[]),core.Lb(1073742336,fesm2015_forms.i,fesm2015_forms.i,[]),core.Lb(1073742336,fesm2015_forms.a,fesm2015_forms.a,[]),core.Lb(1073742336,fesm5.Fb,fesm5.Fb,[]),core.Lb(1073742336,router.q,router.q,[[2,router.v],[2,router.m]]),core.Lb(1073742336,AgentsPageRoutingModule,AgentsPageRoutingModule,[]),core.Lb(1073742336,AgentsPageModule,AgentsPageModule,[]),core.Lb(1024,router.k,(function(){return[[{path:\"\",component:AgentsPage}]]}),[])])}))}}]);","extractedComments":[]}
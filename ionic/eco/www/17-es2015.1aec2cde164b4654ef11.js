(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"7ch9":function(l,n,u){"use strict";u.d(n,"a",(function(){return o}));var e=u("mrSG"),i=u("ZZ/e"),t=u("8Y7J");let o=(()=>{class l{constructor(l){this.loadingController=l,this.isLoading=!1}showLoader(l){return e.b(this,void 0,void 0,(function*(){return this.isLoading=!0,yield this.loadingController.create({message:l,duration:1e3}).then(l=>{l.present().then(()=>{this.isLoading||l.dismiss()})})}))}hideLoader(){return e.b(this,void 0,void 0,(function*(){this.isLoading=!1}))}}return l.ngInjectableDef=t.Wb({factory:function(){return new l(t.Xb(i.Hb))},token:l,providedIn:"root"}),l})()},lptd:function(l,n,u){"use strict";u.r(n);var e=u("8Y7J");class i{}var t=u("pMnS"),o=u("oBZk"),r=u("ZZ/e"),s=u("SVse"),a=u("s7LF"),b=u("lGQG"),c=u("3LUQ"),h=u("7ch9"),d=u("tEUU");class p{constructor(l,n,u,e,i,t){this.authService=l,this.alertService=n,this.router=u,this.loadingService=e,this.route=i,this.permissionsService=t,this.information=[],this.informationSearch=[],this.keys=[],this.searchTerm="",this.userToken=null,this.userData=null,this.userAccess=null,this.thisURL=null,this.access=null,this.admin=null}ngOnInit(){this.userToken=this.route.snapshot.data.userData}ionViewDidEnter(){this.thisURL=this.router.url.substr(1),this.userToken=this.route.snapshot.data.userData,this.userToken.dir=this.thisURL,this.access=this.permissionsService.Auth(this.userToken,this.thisURL),this.admin=this.permissionsService.Admin(this.userToken,this.thisURL),this.getClients()}transform(l,n){if(!l)return null;const u=l.reduce((l,u)=>(l[u[n]]?l[u[n]].push(u):l[u[n]]=[u],l),{});return Object.keys(u).map(l=>({key:l,value:u[l]}))}getClients(){this.authService.Clients(this.userToken).subscribe(l=>{this.information=l.userData;let n=this.transform(this.information,"agent_name");this.informationSearch=n,this.information=n,this.loadingService.hideLoader()},l=>{this.loadingService.hideLoader(),this.router.navigate([""])})}filterItems(l){return""===l.trim()?this.information:this.information.filter(n=>n.value.some(n=>n.client_name.toLowerCase().indexOf(l.toLowerCase())>-1||n.address.toLowerCase().indexOf(l.toLowerCase())>-1)).map(n=>Object.assign({},n,{value:n.value.filter(n=>n.client_name.toLowerCase().indexOf(l.toLowerCase())>-1||n.address.toLowerCase().indexOf(l.toLowerCase())>-1)}))}setFilteredItems(){this.informationSearch=this.filterItems(this.searchTerm)}addNewItem(){this.router.navigate(["/clients-new"])}doRefresh(l){this.searchTerm="",this.getClients(),l.target.complete(),this.loadingService.hideLoader()}Dialer(l){window.open("tel:"+l,"_system")}userDetails(l){this.router.navigate(["client-details"],{state:{client:l}})}}var m=u("iInd"),f=e.Ab({encapsulation:0,styles:[["ion-avatar[_ngcontent-%COMP%]{width:75px;height:75px;padding-left:0;padding-right:10px}a[_ngcontent-%COMP%]{font-size:14px}"]],data:{}});function g(l){return e.Tb(0,[(l()(),e.Cb(0,0,null,null,5,"ion-fab",[["horizontal","end"],["slot","fixed"],["vertical","top"]],null,null,null,o.X,o.i)),e.Bb(1,49152,null,0,r.x,[e.j,e.p,e.F],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(l()(),e.Cb(2,0,null,0,3,"ion-fab-button",[],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.addNewItem()&&e),e}),o.W,o.j)),e.Bb(3,49152,null,0,r.y,[e.j,e.p,e.F],null,null),(l()(),e.Cb(4,0,null,0,1,"ion-icon",[["name","add"]],null,null,null,o.bb,o.n)),e.Bb(5,49152,null,0,r.D,[e.j,e.p,e.F],{name:[0,"name"]},null)],(function(l,n){l(n,1,0,"end","top"),l(n,5,0,"add")}),null)}function C(l){return e.Tb(0,[(l()(),e.Cb(0,0,null,null,4,"ion-item-divider",[],null,null,null,o.fb,o.s)),e.Bb(1,49152,null,0,r.J,[e.j,e.p,e.F],null,null),(l()(),e.Cb(2,0,null,0,2,"ion-label",[],null,null,null,o.lb,o.x)),e.Bb(3,49152,null,0,r.O,[e.j,e.p,e.F],null,null),(l()(),e.Sb(4,0,["",""]))],null,(function(l,n){l(n,4,0,n.parent.context.$implicit.key)}))}function v(l){return e.Tb(0,[(l()(),e.Cb(0,0,null,null,25,"ion-item",[],null,null,null,o.kb,o.r)),e.Bb(1,49152,null,0,r.I,[e.j,e.p,e.F],null,null),(l()(),e.Cb(2,0,null,0,2,"ion-avatar",[],null,null,null,o.P,o.b)),e.Bb(3,49152,null,0,r.g,[e.j,e.p,e.F],null,null),(l()(),e.Cb(4,0,null,0,0,"img",[["src","https://api.time.com/wp-content/uploads/2018/12/square-meghan-markle-person-of-the-year-2018.jpg?quality=85"]],null,null,null,null,null)),(l()(),e.Cb(5,0,null,0,15,"ion-label",[["class","ion-text-wrap"]],null,null,null,o.lb,o.x)),e.Bb(6,49152,null,0,r.O,[e.j,e.p,e.F],null,null),(l()(),e.Cb(7,0,null,0,1,"h2",[],null,null,null,null,null)),(l()(),e.Sb(8,null,[" "," "])),(l()(),e.Cb(9,0,null,0,1,"h3",[],null,null,null,null,null)),(l()(),e.Sb(10,null,[" "," "])),(l()(),e.Cb(11,0,null,0,1,"h3",[],null,null,null,null,null)),(l()(),e.Sb(12,null,[" "," "])),(l()(),e.Cb(13,0,null,0,5,"p",[],null,null,null,null,null)),(l()(),e.Cb(14,0,null,null,1,"a",[["class","ion-no-padding"],["fill","clear"],["size","small"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.Dialer(l.context.$implicit.mobile1)&&e),e}),null,null)),(l()(),e.Sb(15,null,["",""])),(l()(),e.Sb(-1,null,[" \xa0\xa0 "])),(l()(),e.Cb(17,0,null,null,1,"a",[["class","ion-no-padding"],["fill","clear"],["size","small"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.Dialer(l.context.$implicit.mobile2)&&e),e}),null,null)),(l()(),e.Sb(18,null,["",""])),(l()(),e.Cb(19,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),e.Sb(20,null,[" "," "])),(l()(),e.Cb(21,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),e.Sb(22,null,["",""])),(l()(),e.Cb(23,0,null,0,2,"ion-button",[],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.userDetails(l.context.$implicit)&&e),e}),o.R,o.d)),e.Bb(24,49152,null,0,r.l,[e.j,e.p,e.F],null,null),(l()(),e.Sb(-1,0,["Details"]))],null,(function(l,n){l(n,8,0,n.context.$implicit.client_name),l(n,10,0,n.context.$implicit.address),l(n,12,0,n.context.$implicit.region),l(n,15,0,n.context.$implicit.mobile1),l(n,18,0,n.context.$implicit.mobile2),l(n,20,0,n.context.$implicit.email),l(n,22,0,n.context.$implicit.commission)}))}function L(l){return e.Tb(0,[(l()(),e.Cb(0,0,null,null,7,"div",[],null,null,null,null,null)),(l()(),e.Cb(1,0,null,null,6,"ion-item-group",[],null,null,null,o.gb,o.t)),e.Bb(2,49152,null,0,r.K,[e.j,e.p,e.F],null,null),(l()(),e.rb(16777216,null,0,1,null,C)),e.Bb(4,16384,null,0,s.j,[e.X,e.T],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(16777216,null,0,1,null,v)),e.Bb(6,278528,null,0,s.i,[e.X,e.T,e.x],{ngForOf:[0,"ngForOf"]},null),(l()(),e.Cb(7,0,null,0,0,"br",[],null,null,null,null,null))],(function(l,n){l(n,4,0,"1"==n.component.admin),l(n,6,0,n.context.$implicit.value)}),null)}function B(l){return e.Tb(0,[(l()(),e.Cb(0,0,null,null,12,"ion-header",[],null,null,null,o.ab,o.m)),e.Bb(1,49152,null,0,r.C,[e.j,e.p,e.F],null,null),(l()(),e.Cb(2,0,null,0,8,"ion-toolbar",[],null,null,null,o.Ab,o.M)),e.Bb(3,49152,null,0,r.Db,[e.j,e.p,e.F],null,null),(l()(),e.Cb(4,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,o.S,o.e)),e.Bb(5,49152,null,0,r.m,[e.j,e.p,e.F],null,null),(l()(),e.Cb(6,0,null,0,1,"ion-menu-button",[],null,null,null,o.nb,o.A)),e.Bb(7,49152,null,0,r.S,[e.j,e.p,e.F],null,null),(l()(),e.Cb(8,0,null,0,2,"ion-title",[["class","ion-text-left"]],null,null,null,o.zb,o.L)),e.Bb(9,49152,null,0,r.Bb,[e.j,e.p,e.F],null,null),(l()(),e.Sb(-1,0,["Clients Registry"])),(l()(),e.rb(16777216,null,0,1,null,g)),e.Bb(12,16384,null,0,s.j,[e.X,e.T],{ngIf:[0,"ngIf"]},null),(l()(),e.Cb(13,0,null,null,22,"ion-content",[],null,null,null,o.V,o.h)),e.Bb(14,49152,null,0,r.v,[e.j,e.p,e.F],null,null),(l()(),e.Cb(15,0,null,0,20,"ion-grid",[["class","ion-no-padding"]],null,null,null,o.Z,o.l)),e.Bb(16,49152,null,0,r.B,[e.j,e.p,e.F],null,null),(l()(),e.Cb(17,0,null,0,18,"ion-row",[],null,null,null,o.sb,o.E)),e.Bb(18,49152,null,0,r.kb,[e.j,e.p,e.F],null,null),(l()(),e.Cb(19,0,null,0,16,"ion-col",[["class","ion-no-padding"],["offset-lg","3"],["offset-md","3"],["offset-sm","2"],["offset-xs","0"],["size-lg","6"],["size-md","6"],["size-sm","8"],["size-xs","12"]],null,null,null,o.U,o.g)),e.Bb(20,49152,null,0,r.u,[e.j,e.p,e.F],null,null),(l()(),e.Cb(21,0,null,0,3,"ion-refresher",[["slot","fixed"]],null,[[null,"ionRefresh"]],(function(l,n,u){var e=!0;return"ionRefresh"===n&&(e=!1!==l.component.doRefresh(u)&&e),e}),o.rb,o.C)),e.Bb(22,49152,null,0,r.eb,[e.j,e.p,e.F],null,null),(l()(),e.Cb(23,0,null,0,1,"ion-refresher-content",[["pullingIcon","arrow-dropdown"],["refreshingSpinner","circles"],["refreshingText","Refreshing..."]],null,null,null,o.qb,o.D)),e.Bb(24,49152,null,0,r.fb,[e.j,e.p,e.F],{pullingIcon:[0,"pullingIcon"],refreshingSpinner:[1,"refreshingSpinner"],refreshingText:[2,"refreshingText"]},null),(l()(),e.Cb(25,0,null,0,10,"ion-list",[],null,null,null,o.mb,o.y)),e.Bb(26,49152,null,0,r.P,[e.j,e.p,e.F],null,null),(l()(),e.Cb(27,0,null,0,6,"ion-searchbar",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],(function(l,n,u){var i=!0,t=l.component;return"ionBlur"===n&&(i=!1!==e.Nb(l,28)._handleBlurEvent(u.target)&&i),"ionChange"===n&&(i=!1!==e.Nb(l,28)._handleInputEvent(u.target)&&i),"ngModelChange"===n&&(i=!1!==(t.searchTerm=u)&&i),"ionChange"===n&&(i=!1!==t.setFilteredItems()&&i),i}),o.tb,o.F)),e.Bb(28,16384,null,0,r.Rb,[e.p],null,null),e.Pb(1024,null,a.d,(function(l){return[l]}),[r.Rb]),e.Bb(30,671744,null,0,a.g,[[8,null],[8,null],[8,null],[6,a.d]],{model:[0,"model"]},{update:"ngModelChange"}),e.Pb(2048,null,a.e,null,[a.g]),e.Bb(32,16384,null,0,a.f,[[4,a.e]],null,null),e.Bb(33,49152,null,0,r.lb,[e.j,e.p,e.F],null,null),(l()(),e.rb(16777216,null,0,1,null,L)),e.Bb(35,278528,null,0,s.i,[e.X,e.T,e.x],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var u=n.component;l(n,12,0,"1"==u.access),l(n,24,0,"arrow-dropdown","circles","Refreshing..."),l(n,30,0,u.searchTerm),l(n,35,0,u.informationSearch)}),(function(l,n){l(n,27,0,e.Nb(n,32).ngClassUntouched,e.Nb(n,32).ngClassTouched,e.Nb(n,32).ngClassPristine,e.Nb(n,32).ngClassDirty,e.Nb(n,32).ngClassValid,e.Nb(n,32).ngClassInvalid,e.Nb(n,32).ngClassPending)}))}function x(l){return e.Tb(0,[(l()(),e.Cb(0,0,null,null,1,"app-clients",[],null,null,null,B,f)),e.Bb(1,114688,null,0,p,[b.a,c.a,m.m,h.a,m.a,d.a],null,null)],(function(l,n){l(n,1,0)}),null)}var F=e.yb("app-clients",p,x,{},{},[]);class S{}u.d(n,"ClientsPageModuleNgFactory",(function(){return j}));var j=e.zb(i,[],(function(l){return e.Kb([e.Lb(512,e.m,e.kb,[[8,[t.a,F]],[3,e.m],e.D]),e.Lb(4608,s.l,s.k,[e.z,[2,s.x]]),e.Lb(4608,a.j,a.j,[]),e.Lb(4608,r.b,r.b,[e.F,e.g]),e.Lb(4608,r.Jb,r.Jb,[r.b,e.m,e.w]),e.Lb(4608,r.Ob,r.Ob,[r.b,e.m,e.w]),e.Lb(1073742336,s.b,s.b,[]),e.Lb(1073742336,a.i,a.i,[]),e.Lb(1073742336,a.a,a.a,[]),e.Lb(1073742336,r.Fb,r.Fb,[]),e.Lb(1073742336,m.q,m.q,[[2,m.v],[2,m.m]]),e.Lb(1073742336,S,S,[]),e.Lb(1073742336,i,i,[]),e.Lb(1024,m.k,(function(){return[[{path:"",component:p}]]}),[])])}))}}]);
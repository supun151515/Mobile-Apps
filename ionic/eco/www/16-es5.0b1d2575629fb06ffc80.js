function _classCallCheck(n,l){if(!(n instanceof l))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,l){for(var e=0;e<l.length;e++){var u=l[e];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(n,u.key,u)}}function _createClass(n,l,e){return l&&_defineProperties(n.prototype,l),e&&_defineProperties(n,e),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"7ch9":function(n,l,e){"use strict";e.d(l,"a",(function(){return r}));var u=e("mrSG"),t=e("ZZ/e"),i=e("8Y7J"),r=function(){var n=function(){function n(l){_classCallCheck(this,n),this.loadingController=l,this.isLoading=!1}return _createClass(n,[{key:"showLoader",value:function(n){return u.b(this,void 0,void 0,regeneratorRuntime.mark((function l(){var e=this;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return this.isLoading=!0,l.next=3,this.loadingController.create({message:n,duration:1e3}).then((function(n){n.present().then((function(){e.isLoading||n.dismiss()}))}));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}}),l,this)})))}},{key:"hideLoader",value:function(){return u.b(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.isLoading=!1;case 1:case"end":return n.stop()}}),n,this)})))}}]),n}();return n.ngInjectableDef=i.Wb({factory:function(){return new n(i.Xb(t.Hb))},token:n,providedIn:"root"}),n}()},jZjW:function(n,l,e){"use strict";e.r(l);var u=e("8Y7J"),t=function n(){_classCallCheck(this,n)},i=e("pMnS"),r=e("oBZk"),o=e("ZZ/e"),s=e("SVse"),a=e("s7LF"),c=e("lGQG"),b=e("3LUQ"),h=e("7ch9"),f=e("tEUU"),d=function(){function n(l,e,u,t,i,r){_classCallCheck(this,n),this.authService=l,this.alertService=e,this.router=u,this.loadingService=t,this.route=i,this.permissionsService=r,this.information=[],this.informationSearch=[],this.searchTerm="",this.userToken=null,this.userData=null,this.userAccess=null,this.thisURL=null,this.access=null,this.admin=null}return _createClass(n,[{key:"ngOnInit",value:function(){this.userToken=this.route.snapshot.data.userData}},{key:"transform",value:function(n,l){if(!n)return null;var e=n.reduce((function(n,e){return n[e[l]]?n[e[l]].push(e):n[e[l]]=[e],n}),{});return Object.keys(e).map((function(n){return{key:n,value:e[n]}}))}},{key:"ionViewDidEnter",value:function(){this.thisURL=this.router.url.substr(1),this.userToken=this.route.snapshot.data.userData,this.userToken.dir=this.thisURL,this.access=this.permissionsService.Auth(this.userToken,this.thisURL),this.admin=this.permissionsService.Admin(this.userToken,this.thisURL),this.getAgents()}},{key:"getAgents",value:function(){var n=this;this.authService.Agents(this.userToken).subscribe((function(l){n.information=l.userData;var e=n.transform(n.information,"header");n.informationSearch=e,n.information=e,console.log(n.informationSearch),n.loadingService.hideLoader()}),(function(l){n.loadingService.hideLoader(),n.router.navigate([""])}))}},{key:"filterItems",value:function(n){return""===n.trim()?this.information:this.information.filter((function(l){return l.agent_name.toLowerCase().indexOf(n.toLowerCase())>-1||l.address.toLowerCase().indexOf(n.toLowerCase())>-1||l.region.toLowerCase().indexOf(n.toLowerCase())>-1||l.mobile1.toLowerCase().indexOf(n.toLowerCase())>-1||l.mobile2.toLowerCase().indexOf(n.toLowerCase())>-1||l.commission.toLowerCase().indexOf(n.toLowerCase())>-1}))}},{key:"setFilteredItems",value:function(){this.informationSearch=this.filterItems(this.searchTerm)}},{key:"addNewItem",value:function(){this.router.navigate(["/agents-new"])}},{key:"doRefresh",value:function(n){this.searchTerm="",this.getAgents(),n.target.complete(),this.loadingService.hideLoader()}},{key:"dirList",value:function(){}},{key:"Dialer",value:function(n){window.open("tel:"+n,"_system")}},{key:"userDetails",value:function(n){this.router.navigate(["agent-details"],{state:{agent:n}})}}]),n}(),p=e("iInd"),g=u.Ab({encapsulation:0,styles:[["ion-avatar[_ngcontent-%COMP%]{width:75px;height:75px;padding-left:0;padding-right:10px}a[_ngcontent-%COMP%]{font-size:14px}"]],data:{}});function m(n){return u.Tb(0,[(n()(),u.Cb(0,0,null,null,5,"ion-fab",[["horizontal","end"],["slot","fixed"],["vertical","top"]],null,null,null,r.X,r.i)),u.Bb(1,49152,null,0,o.x,[u.j,u.p,u.F],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(n()(),u.Cb(2,0,null,0,3,"ion-fab-button",[],null,[[null,"click"]],(function(n,l,e){var u=!0;return"click"===l&&(u=!1!==n.component.addNewItem()&&u),u}),r.W,r.j)),u.Bb(3,49152,null,0,o.y,[u.j,u.p,u.F],null,null),(n()(),u.Cb(4,0,null,0,1,"ion-icon",[["name","add"]],null,null,null,r.bb,r.n)),u.Bb(5,49152,null,0,o.D,[u.j,u.p,u.F],{name:[0,"name"]},null)],(function(n,l){n(l,1,0,"end","top"),n(l,5,0,"add")}),null)}function C(n){return u.Tb(0,[(n()(),u.Cb(0,0,null,null,4,"ion-item-divider",[],null,null,null,r.fb,r.s)),u.Bb(1,49152,null,0,o.J,[u.j,u.p,u.F],null,null),(n()(),u.Cb(2,0,null,0,2,"ion-label",[],null,null,null,r.lb,r.x)),u.Bb(3,49152,null,0,o.O,[u.j,u.p,u.F],null,null),(n()(),u.Sb(4,0,["",""]))],null,(function(n,l){n(l,4,0,l.parent.context.$implicit.key)}))}function v(n){return u.Tb(0,[(n()(),u.Cb(0,0,null,null,25,"ion-item",[],null,null,null,r.kb,r.r)),u.Bb(1,49152,null,0,o.I,[u.j,u.p,u.F],null,null),(n()(),u.Cb(2,0,null,0,2,"ion-avatar",[],null,null,null,r.P,r.b)),u.Bb(3,49152,null,0,o.g,[u.j,u.p,u.F],null,null),(n()(),u.Cb(4,0,null,0,0,"img",[["src","https://api.time.com/wp-content/uploads/2018/12/square-meghan-markle-person-of-the-year-2018.jpg?quality=85"]],null,null,null,null,null)),(n()(),u.Cb(5,0,null,0,15,"ion-label",[["class","ion-text-wrap"]],null,null,null,r.lb,r.x)),u.Bb(6,49152,null,0,o.O,[u.j,u.p,u.F],null,null),(n()(),u.Cb(7,0,null,0,1,"h2",[],null,null,null,null,null)),(n()(),u.Sb(8,null,[" "," "])),(n()(),u.Cb(9,0,null,0,1,"h3",[],null,null,null,null,null)),(n()(),u.Sb(10,null,[" "," "])),(n()(),u.Cb(11,0,null,0,1,"h3",[],null,null,null,null,null)),(n()(),u.Sb(12,null,[" "," "])),(n()(),u.Cb(13,0,null,0,5,"p",[],null,null,null,null,null)),(n()(),u.Cb(14,0,null,null,1,"a",[["class","ion-no-padding"],["fill","clear"],["size","small"]],null,[[null,"click"]],(function(n,l,e){var u=!0;return"click"===l&&(u=!1!==n.component.Dialer(n.context.$implicit.mobile1)&&u),u}),null,null)),(n()(),u.Sb(15,null,["",""])),(n()(),u.Sb(-1,null,[" \xa0\xa0 "])),(n()(),u.Cb(17,0,null,null,1,"a",[["class","ion-no-padding"],["fill","clear"],["size","small"]],null,[[null,"click"]],(function(n,l,e){var u=!0;return"click"===l&&(u=!1!==n.component.Dialer(n.context.$implicit.mobile2)&&u),u}),null,null)),(n()(),u.Sb(18,null,["",""])),(n()(),u.Cb(19,0,null,0,1,"p",[],null,null,null,null,null)),(n()(),u.Sb(20,null,[" "," "])),(n()(),u.Cb(21,0,null,0,1,"p",[],null,null,null,null,null)),(n()(),u.Sb(22,null,["",""])),(n()(),u.Cb(23,0,null,0,2,"ion-button",[],null,[[null,"click"]],(function(n,l,e){var u=!0;return"click"===l&&(u=!1!==n.component.userDetails(n.context.$implicit)&&u),u}),r.R,r.d)),u.Bb(24,49152,null,0,o.l,[u.j,u.p,u.F],null,null),(n()(),u.Sb(-1,0,["Details"]))],null,(function(n,l){n(l,8,0,l.context.$implicit.agent_name),n(l,10,0,l.context.$implicit.address),n(l,12,0,l.context.$implicit.region),n(l,15,0,l.context.$implicit.mobile1),n(l,18,0,l.context.$implicit.mobile2),n(l,20,0,l.context.$implicit.email),n(l,22,0,l.context.$implicit.commission)}))}function k(n){return u.Tb(0,[(n()(),u.Cb(0,0,null,null,7,"div",[],null,null,null,null,null)),(n()(),u.Cb(1,0,null,null,6,"ion-item-group",[],null,null,null,r.gb,r.t)),u.Bb(2,49152,null,0,o.K,[u.j,u.p,u.F],null,null),(n()(),u.rb(16777216,null,0,1,null,C)),u.Bb(4,16384,null,0,s.j,[u.X,u.T],{ngIf:[0,"ngIf"]},null),(n()(),u.rb(16777216,null,0,1,null,v)),u.Bb(6,278528,null,0,s.i,[u.X,u.T,u.x],{ngForOf:[0,"ngForOf"]},null),(n()(),u.Cb(7,0,null,0,0,"br",[],null,null,null,null,null))],(function(n,l){n(l,4,0,"1"==l.component.admin),n(l,6,0,l.context.$implicit.value)}),null)}function L(n){return u.Tb(0,[(n()(),u.Cb(0,0,null,null,12,"ion-header",[],null,null,null,r.ab,r.m)),u.Bb(1,49152,null,0,o.C,[u.j,u.p,u.F],null,null),(n()(),u.Cb(2,0,null,0,8,"ion-toolbar",[],null,null,null,r.Ab,r.M)),u.Bb(3,49152,null,0,o.Db,[u.j,u.p,u.F],null,null),(n()(),u.Cb(4,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,r.S,r.e)),u.Bb(5,49152,null,0,o.m,[u.j,u.p,u.F],null,null),(n()(),u.Cb(6,0,null,0,1,"ion-menu-button",[],null,null,null,r.nb,r.A)),u.Bb(7,49152,null,0,o.S,[u.j,u.p,u.F],null,null),(n()(),u.Cb(8,0,null,0,2,"ion-title",[["class","ion-text-left"]],null,null,null,r.zb,r.L)),u.Bb(9,49152,null,0,o.Bb,[u.j,u.p,u.F],null,null),(n()(),u.Sb(-1,0,["Agents Registry"])),(n()(),u.rb(16777216,null,0,1,null,m)),u.Bb(12,16384,null,0,s.j,[u.X,u.T],{ngIf:[0,"ngIf"]},null),(n()(),u.Cb(13,0,null,null,22,"ion-content",[],null,null,null,r.V,r.h)),u.Bb(14,49152,null,0,o.v,[u.j,u.p,u.F],null,null),(n()(),u.Cb(15,0,null,0,20,"ion-grid",[["class","ion-no-padding"]],null,null,null,r.Z,r.l)),u.Bb(16,49152,null,0,o.B,[u.j,u.p,u.F],null,null),(n()(),u.Cb(17,0,null,0,18,"ion-row",[],null,null,null,r.sb,r.E)),u.Bb(18,49152,null,0,o.kb,[u.j,u.p,u.F],null,null),(n()(),u.Cb(19,0,null,0,16,"ion-col",[["class","ion-no-padding"],["offset-lg","3"],["offset-md","3"],["offset-sm","2"],["offset-xs","0"],["size-lg","6"],["size-md","6"],["size-sm","8"],["size-xs","12"]],null,null,null,r.U,r.g)),u.Bb(20,49152,null,0,o.u,[u.j,u.p,u.F],null,null),(n()(),u.Cb(21,0,null,0,3,"ion-refresher",[["slot","fixed"]],null,[[null,"ionRefresh"]],(function(n,l,e){var u=!0;return"ionRefresh"===l&&(u=!1!==n.component.doRefresh(e)&&u),u}),r.rb,r.C)),u.Bb(22,49152,null,0,o.eb,[u.j,u.p,u.F],null,null),(n()(),u.Cb(23,0,null,0,1,"ion-refresher-content",[["pullingIcon","arrow-dropdown"],["refreshingSpinner","circles"],["refreshingText","Refreshing..."]],null,null,null,r.qb,r.D)),u.Bb(24,49152,null,0,o.fb,[u.j,u.p,u.F],{pullingIcon:[0,"pullingIcon"],refreshingSpinner:[1,"refreshingSpinner"],refreshingText:[2,"refreshingText"]},null),(n()(),u.Cb(25,0,null,0,10,"ion-list",[],null,null,null,r.mb,r.y)),u.Bb(26,49152,null,0,o.P,[u.j,u.p,u.F],null,null),(n()(),u.Cb(27,0,null,0,6,"ion-searchbar",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],(function(n,l,e){var t=!0,i=n.component;return"ionBlur"===l&&(t=!1!==u.Nb(n,28)._handleBlurEvent(e.target)&&t),"ionChange"===l&&(t=!1!==u.Nb(n,28)._handleInputEvent(e.target)&&t),"ngModelChange"===l&&(t=!1!==(i.searchTerm=e)&&t),"ionChange"===l&&(t=!1!==i.setFilteredItems()&&t),t}),r.tb,r.F)),u.Bb(28,16384,null,0,o.Rb,[u.p],null,null),u.Pb(1024,null,a.d,(function(n){return[n]}),[o.Rb]),u.Bb(30,671744,null,0,a.g,[[8,null],[8,null],[8,null],[6,a.d]],{model:[0,"model"]},{update:"ngModelChange"}),u.Pb(2048,null,a.e,null,[a.g]),u.Bb(32,16384,null,0,a.f,[[4,a.e]],null,null),u.Bb(33,49152,null,0,o.lb,[u.j,u.p,u.F],null,null),(n()(),u.rb(16777216,null,0,1,null,k)),u.Bb(35,278528,null,0,s.i,[u.X,u.T,u.x],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){var e=l.component;n(l,12,0,"1"==e.access),n(l,24,0,"arrow-dropdown","circles","Refreshing..."),n(l,30,0,e.searchTerm),n(l,35,0,e.informationSearch)}),(function(n,l){n(l,27,0,u.Nb(l,32).ngClassUntouched,u.Nb(l,32).ngClassTouched,u.Nb(l,32).ngClassPristine,u.Nb(l,32).ngClassDirty,u.Nb(l,32).ngClassValid,u.Nb(l,32).ngClassInvalid,u.Nb(l,32).ngClassPending)}))}var w=u.yb("app-agents",d,(function(n){return u.Tb(0,[(n()(),u.Cb(0,0,null,null,1,"app-agents",[],null,null,null,L,g)),u.Bb(1,114688,null,0,d,[c.a,b.a,p.m,h.a,p.a,f.a],null,null)],(function(n,l){n(l,1,0)}),null)}),{},{},[]),x=function n(){_classCallCheck(this,n)};e.d(l,"AgentsPageModuleNgFactory",(function(){return B}));var B=u.zb(t,[],(function(n){return u.Kb([u.Lb(512,u.m,u.kb,[[8,[i.a,w]],[3,u.m],u.D]),u.Lb(4608,s.l,s.k,[u.z,[2,s.x]]),u.Lb(4608,a.j,a.j,[]),u.Lb(4608,o.b,o.b,[u.F,u.g]),u.Lb(4608,o.Jb,o.Jb,[o.b,u.m,u.w]),u.Lb(4608,o.Ob,o.Ob,[o.b,u.m,u.w]),u.Lb(1073742336,s.b,s.b,[]),u.Lb(1073742336,a.i,a.i,[]),u.Lb(1073742336,a.a,a.a,[]),u.Lb(1073742336,o.Fb,o.Fb,[]),u.Lb(1073742336,p.q,p.q,[[2,p.v],[2,p.m]]),u.Lb(1073742336,x,x,[]),u.Lb(1073742336,t,t,[]),u.Lb(1024,p.k,(function(){return[[{path:"",component:d}]]}),[])])}))}}]);
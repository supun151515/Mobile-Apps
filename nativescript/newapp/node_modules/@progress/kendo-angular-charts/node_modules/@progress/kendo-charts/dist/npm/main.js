'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var _progress_kendoDrawing = require('@progress/kendo-drawing');

var ARC = "arc";
var AXIS_LABEL_CLICK = "axisLabelClick";
var BLACK = "#000";
var BOTTOM = "bottom";
var CENTER = "center";
var CIRCLE = "circle";
var COORD_PRECISION = 3;
var CROSS = "cross";
var DATE = "date";
var DEFAULT_FONT = "12px sans-serif";
var DEFAULT_HEIGHT = 400;
var DEFAULT_PRECISION = 10;
var DEFAULT_WIDTH = 600;
var END = "end";
var FORMAT_REGEX = /\{\d+:?/;
var HEIGHT = "height";
var HIGHLIGHT_ZINDEX = 100;
var INSIDE = "inside";
var LEFT = "left";
var MAX_VALUE = Number.MAX_VALUE;
var MIN_VALUE = -Number.MAX_VALUE;
var NONE = "none";
var NOTE_CLICK = "noteClick";
var NOTE_HOVER = "noteHover";
var NOTE_LEAVE = "noteLeave";
var OBJECT = "object";
var OUTSIDE = "outside";
var RIGHT = "right";
var START = "start";
var STRING = "string";
var TOP = "top";
var TRIANGLE = "triangle";
var VALUE = "value";
var WHITE = "#fff";
var WIDTH = "width";
var X = "x";
var Y = "y";

function isArray(value) {
    return Array.isArray(value);
}

function addClass(element, classes) {
    var classArray = isArray(classes) ? classes : [ classes ];

    for (var idx = 0; idx < classArray.length; idx++) {
        var className = classArray[idx];
        if (element.className.indexOf(className) === -1) {
            element.className += " " + className;
        }
    }
}

var SPACE_REGEX = /\s+/g;

function removeClass(element, className) {
    if (element && element.className) {
        element.className = element.className.replace(className, "").replace(SPACE_REGEX, " ");
    }
}

function alignPathToPixel(path) {
    var offset = 0.5;
    if (path.options.stroke && _progress_kendoDrawing.drawing.util.defined(path.options.stroke.width)) {
        if (path.options.stroke.width % 2 === 0) {
            offset = 0;
        }
    }

    for (var i = 0; i < path.segments.length; i++) {
        path.segments[i].anchor().round(0).translate(offset, offset);
    }

    return path;
}

function clockwise(angle1, angle2) {
    // True if angle2 is clockwise of angle1
    // assuming angles grow in clock-wise direction
    // (as in the pie and radar charts)
    return -angle1.x * angle2.y + angle1.y * angle2.x < 0;
}

function isNumber(value) {
    return typeof value === "number" && !isNaN(value);
}

function isString(value) {
    return typeof value === STRING;
}

function convertableToNumber(value) {
    return isNumber(value) || (isString(value) && isFinite(value));
}

function isFunction(fn) {
    return typeof fn === "function";
}

var OBJECT$1 = "object";
var UNDEFINED = "undefined";

function deepExtendOne(destination, source) {

    for (var property in source) {
        var propValue = source[property];
        var propType = typeof propValue;

        var propInit = (void 0);
        if (propType === OBJECT$1 && propValue !== null) {
            propInit = propValue.constructor;
        } else {
            propInit = null;
        }

        if (propInit && propInit !== Array) {

            if (propValue instanceof Date) {
                destination[property] = new Date(propValue.getTime());
            } else if (isFunction(propValue.clone)) {
                destination[property] = propValue.clone();
            } else {
                var destProp = destination[property];
                if (typeof (destProp) === OBJECT$1) {
                    destination[property] = destProp || {};
                } else {
                    destination[property] = {};
                }
                deepExtendOne(destination[property], propValue);
            }
        } else if (propType !== UNDEFINED) {
            destination[property] = propValue;
        }
    }

    return destination;
}

function deepExtend(destination) {
    var arguments$1 = arguments;

    var length = arguments.length;

    for (var i = 1; i < length; i++) {
        deepExtendOne(destination, arguments$1[i]);
    }

    return destination;
}

function isObject(value) {
    return typeof value === "object";
}

function styleValue(value) {
    if (isNumber(value)) {
        return value + "px";
    }
    return value;
}

var SIZE_STYLES_REGEX = /width|height|top|left|bottom|right/i;

function isSizeField(field) {
    return SIZE_STYLES_REGEX.test(field);
}

function elementStyles(element, styles) {
    var stylesArray = isString(styles) ? [ styles ] : styles;

    if (isArray(stylesArray)) {
        var result = {};
        var style = window.getComputedStyle(element);

        for (var idx = 0; idx < stylesArray.length; idx++) {
            var field = stylesArray[idx];
            result[field] = isSizeField(field) ? parseFloat(style[field]) : style[field];
        }

        return result;
    } else if (isObject(styles)) {
        for (var field$1 in styles) {
            element.style[field$1] = styleValue(styles[field$1]);
        }
    }
}

function getSpacing(value, defaultSpacing) {
    if ( defaultSpacing === void 0 ) defaultSpacing = 0;

    var spacing = { top: 0, right: 0, bottom: 0, left: 0 };

    if (typeof(value) === "number") {
        spacing[TOP] = spacing[RIGHT] = spacing[BOTTOM] = spacing[LEFT] = value;
    } else {
        spacing[TOP] = value[TOP] || defaultSpacing;
        spacing[RIGHT] = value[RIGHT] || defaultSpacing;
        spacing[BOTTOM] = value[BOTTOM] || defaultSpacing;
        spacing[LEFT] = value[LEFT] || defaultSpacing;
    }

    return spacing;
}

var defaultImplementation = {
    format: function (format, value) { return value; },

    toString: function (value) { return value; },

    parseDate: function (value) { return new Date(value); }
};

var current = defaultImplementation;

var IntlService = function IntlService () {};

var staticAccessors = { implementation: {} };

IntlService.register = function register (userImplementation) {
    current = userImplementation;
};

staticAccessors.implementation.get = function () {
    return current;
};

Object.defineProperties( IntlService, staticAccessors );

var FORMAT_REPLACE_REGEX = /\{(\d+)(:[^\}]+)?\}/g;

var FormatService = function FormatService(intlService) {
    this._intlService = intlService;
};

var prototypeAccessors$1 = { intl: {} };

prototypeAccessors$1.intl.get = function () {
    return this._intlService || IntlService.implementation;
};

prototypeAccessors$1.intl.set = function (value) {
    this._intlService = value;
};

FormatService.prototype.auto = function auto (formatString) {
        var values = [], len = arguments.length - 1;
        while ( len-- > 0 ) values[ len ] = arguments[ len + 1 ];

    var intl = this.intl;

    if (isString(formatString) && formatString.match(FORMAT_REGEX)) {
        return intl.format.apply(intl, [ formatString ].concat( values ));
    }

    return intl.toString(values[0], formatString);
};

FormatService.prototype.localeAuto = function localeAuto (formatString, values, locale) {
    var intl = this.intl;
    var result;

    if (isString(formatString) && formatString.match(FORMAT_REGEX)) {
        result = formatString.replace(FORMAT_REPLACE_REGEX, function(match, index, placeholderFormat) {
            var value = values[parseInt(index, 10)];

            return intl.toString(value, placeholderFormat ? placeholderFormat.substring(1) : "", locale);
        });
    } else {
        result = intl.toString(values[0], formatString, locale);
    }

    return result;
};

Object.defineProperties( FormatService.prototype, prototypeAccessors$1 );

var ChartService = function ChartService(chart, context) {
    if ( context === void 0 ) context = {};

    this._intlService = context.intlService;
    this.sender = context.sender || chart;
    this.format = new FormatService(context.intlService);
    this.chart = chart;
    this.rtl = Boolean(context.rtl);
};

var prototypeAccessors = { intl: {} };

prototypeAccessors.intl.get = function () {
    return this._intlService || IntlService.implementation;
};

prototypeAccessors.intl.set = function (value) {
    this._intlService = value;
    this.format.intl = value;
};

ChartService.prototype.notify = function notify (name, args) {
    if (this.chart) {
        this.chart.trigger(name, args);
    }
};

ChartService.prototype.isPannable = function isPannable (axis) {
    var pannable = ((this.chart || {}).options || {}).pannable;
    return pannable && pannable.lock !== axis;
};

Object.defineProperties( ChartService.prototype, prototypeAccessors );

var current$1;

var DomEventsBuilder = function DomEventsBuilder () {};

DomEventsBuilder.register = function register (userImplementation) {
    current$1 = userImplementation;
};

DomEventsBuilder.create = function create (element, events) {
    if (current$1) {
        return current$1.create(element, events);
    }
};

var current$2 = {
    compile: function(template) {
        return template;
    }
};

var TemplateService = function TemplateService () {};

TemplateService.register = function register (userImplementation) {
    current$2 = userImplementation;
};

TemplateService.compile = function compile (template) {
    return current$2.compile(template);
};

function getTemplate(options) {
    if ( options === void 0 ) options = {};

    var template;
    if (options.template) {
        options.template = template = TemplateService.compile(options.template);
    } else if (isFunction(options.content)) {
        template = options.content;
    }

    return template;
}

var FIELD_REGEX = /\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g;
var getterCache = {};

getterCache['undefined'] = function(obj) {
    return obj;
};

function getter(field) {
    if (getterCache[field]) {
        return getterCache[field];
    }

    var fields = [];
    field.replace(FIELD_REGEX, function(match, index, indexAccessor, field) {
        fields.push(_progress_kendoDrawing.drawing.util.defined(index) ? index : (indexAccessor || field));
    });

    getterCache[field] = function(obj) {
        var result = obj;
        for (var idx = 0; idx < fields.length && result; idx++) {
            result = result[fields[idx]];
        }

        return result;
    };

    return getterCache[field];
}

function grep(array, callback) {
    var length = array.length;
    var result = [];
    for (var idx = 0; idx < length; idx++) {
        if (callback(array[idx])) {
            result .push(array[idx]);
        }
    }

    return result;
}

function hasClasses(element, classNames) {
    if (element.className) {
        var names = classNames.split(" ");
        for (var idx = 0; idx < names.length; idx++) {
            if (element.className.indexOf(names[idx]) !== -1) {
                return true;
            }
        }
    }
}

var HashMap = function HashMap() {
    this._map = {};
};

HashMap.prototype.get = function get (name) {
    return this._map[this._key(name)];
};

HashMap.prototype.set = function set (name, value) {
    this._map[this._key(name)] = value;
};

HashMap.prototype._key = function _key (name) {
    return name instanceof Date ? name.getTime() : name;
};

function inArray(value, array) {
    if (array) {
        return array.indexOf(value) !== -1;
    }
}

function interpolateValue(start, end, progress) {
    return _progress_kendoDrawing.drawing.util.round(start + (end - start) * progress, COORD_PRECISION);
}

var TRIGGER = 'trigger';

var InstanceObserver = function InstanceObserver(observer, handlers) {
    this.observer = observer;
    this.handlerMap = deepExtend({}, this.handlerMap, handlers);
};

InstanceObserver.prototype.trigger = function trigger (name, args) {
    var ref = this;
        var observer = ref.observer;
        var handlerMap = ref.handlerMap;
    var isDefaultPrevented;
    if (handlerMap[name]) {
        isDefaultPrevented = this.callObserver(handlerMap[name], args);
    } else if (observer[TRIGGER]) {
        isDefaultPrevented = this.callObserver(TRIGGER, name, args);
    }

    return isDefaultPrevented;
};

InstanceObserver.prototype.callObserver = function callObserver (fnName) {
        var args = [], len = arguments.length - 1;
        while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];

    return this.observer[fnName].apply(this.observer, args);
};

InstanceObserver.prototype.requiresHandlers = function requiresHandlers (names) {
        var this$1 = this;

    if (this.observer.requiresHandlers) {
        return this.observer.requiresHandlers(names);
    }

    for (var idx = 0; idx < names.length; idx++) {
        if (this$1.handlerMap[names[idx]]) {
            return true;
        }
    }
};

function map(array, callback) {
    var length = array.length;
    var result = [];
    for (var idx = 0; idx < length; idx++) {
        var value = callback(array[idx]);
        if (_progress_kendoDrawing.drawing.util.defined(value)) {
            result.push(value);
        }
    }
    return result;
}

function mousewheelDelta(e) {
    var delta = 0;

    if (e.wheelDelta) {
        delta = -e.wheelDelta / 120;
        delta = delta > 0 ? Math.ceil(delta) : Math.floor(delta);
    }

    if (e.detail) {
        delta = _progress_kendoDrawing.drawing.util.round(e.detail / 3);
    }

    return delta;
}

var ref$1 = _progress_kendoDrawing.drawing.util;
var append$1 = ref$1.append;
var bindEvents = ref$1.bindEvents;
var defined = ref$1.defined;
var deg = ref$1.deg;
var elementOffset = ref$1.elementOffset;
var elementSize$1 = ref$1.elementSize;
var eventElement = ref$1.eventElement;
var eventCoordinates = ref$1.eventCoordinates;
var last = ref$1.last;
var limitValue = ref$1.limitValue;
var objectKey = ref$1.objectKey;
var rad = ref$1.rad;
var round = ref$1.round;
var unbindEvents = ref$1.unbindEvents;
var valueOrDefault = ref$1.valueOrDefault;

var FontLoader = function FontLoader () {};

FontLoader.fetchFonts = function fetchFonts (options, fonts, state) {
        if ( state === void 0 ) state = { depth: 0 };

    var MAX_DEPTH = 5;

    if (!options || state.depth > MAX_DEPTH || !document.fonts) {
        return;
    }

    Object.keys(options).forEach(function(key) {
        var value = options[key];
        if (key === "dataSource" || key[0] === "$" || !value) {
            return;
        }

        if (key === "font") {
            fonts.push(value);
        } else if (typeof value === "object") {
            state.depth++;
            FontLoader.fetchFonts(value, fonts, state);
            state.depth--;
        }
    });
};

FontLoader.loadFonts = function loadFonts (fonts, callback) {
    var promises = [];

    if (fonts.length > 0 && document.fonts) {
        try {
            promises = fonts.map(function(font) {
                return document.fonts.load(font);
            });
        } catch (e) {
            // Silence font-loading errors
            _progress_kendoDrawing.logToConsole(e);
        }

        Promise.all(promises).then(callback, callback);
    } else {
        callback();
    }
};

FontLoader.preloadFonts = function preloadFonts (options, callback) {
    var fonts = [];
    FontLoader.fetchFonts(options, fonts);

    FontLoader.loadFonts(fonts, callback);
};

function setDefaultOptions(type, options) {
    var proto = type.prototype;
    if (proto.options) {
        proto.options = deepExtend({}, proto.options, options);
    } else {
        proto.options = options;
    }
}

function sparseArrayLimits(arr) {
    var min = MAX_VALUE;
    var max = MIN_VALUE;

    for (var idx = 0, length = arr.length; idx < length; idx++) {
        var value = arr[idx];
        if (value !== null && isFinite(value)) {
            min = Math.min(min, value);
            max = Math.max(max, value);
        }
    }

    return {
        min: min === MAX_VALUE ? undefined : min,
        max: max === MIN_VALUE ? undefined : max
    };
}

function autoMajorUnit(min, max) {
    var diff = round(max - min, DEFAULT_PRECISION - 1);

    if (diff === 0) {
        if (max === 0) {
            return 0.1;
        }

        diff = Math.abs(max);
    }

    var scale = Math.pow(10, Math.floor(Math.log(diff) / Math.log(10)));
    var relativeValue = round((diff / scale), DEFAULT_PRECISION);
    var scaleMultiplier = 1;

    if (relativeValue < 1.904762) {
        scaleMultiplier = 0.2;
    } else if (relativeValue < 4.761904) {
        scaleMultiplier = 0.5;
    } else if (relativeValue < 9.523809) {
        scaleMultiplier = 1;
    } else {
        scaleMultiplier = 2;
    }

    return round(scale * scaleMultiplier, DEFAULT_PRECISION);
}

var Point = (function (Class$$1) {
    function Point(x, y) {
        Class$$1.call(this);

        this.x = x || 0;
        this.y = y || 0;
    }

    if ( Class$$1 ) Point.__proto__ = Class$$1;
    Point.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Point.prototype.constructor = Point;

    Point.prototype.clone = function clone () {
        return new Point(this.x, this.y);
    };

    Point.prototype.equals = function equals (point) {
        return point && this.x === point.x && this.y === point.y;
    };

    Point.prototype.rotate = function rotate (center, degrees) {
        var theta = rad(degrees);
        var cosT = Math.cos(theta);
        var sinT = Math.sin(theta);
        var cx = center.x;
        var cy = center.y;
        var ref = this;
        var x = ref.x;
        var y = ref.y;

        this.x = round(
            cx + (x - cx) * cosT + (y - cy) * sinT,
            COORD_PRECISION
        );

        this.y = round(
            cy + (y - cy) * cosT - (x - cx) * sinT,
            COORD_PRECISION
        );

        return this;
    };

    Point.prototype.multiply = function multiply (a) {

        this.x *= a;
        this.y *= a;

        return this;
    };

    Point.prototype.distanceTo = function distanceTo (point) {
        var dx = this.x - point.x;
        var dy = this.y - point.y;

        return Math.sqrt(dx * dx + dy * dy);
    };

    Point.onCircle = function onCircle (center, angle, radius) {
        var radians = rad(angle);

        return new Point(
            center.x - radius * Math.cos(radians),
            center.y - radius * Math.sin(radians)
        );
    };

    return Point;
}(_progress_kendoDrawing.Class));

var Box = (function (Class$$1) {
    function Box(x1, y1, x2, y2) {
        Class$$1.call(this);

        this.x1 = x1 || 0;
        this.y1 = y1 || 0;
        this.x2 = x2 || 0;
        this.y2 = y2 || 0;
    }

    if ( Class$$1 ) Box.__proto__ = Class$$1;
    Box.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Box.prototype.constructor = Box;

    Box.prototype.equals = function equals (box) {
        return this.x1 === box.x1 && this.x2 === box.x2 &&
            this.y1 === box.y1 && this.y2 === box.y2;
    };

    Box.prototype.width = function width () {
        return this.x2 - this.x1;
    };

    Box.prototype.height = function height () {
        return this.y2 - this.y1;
    };

    Box.prototype.translate = function translate (dx, dy) {
        this.x1 += dx;
        this.x2 += dx;
        this.y1 += dy;
        this.y2 += dy;

        return this;
    };

    Box.prototype.move = function move (x, y) {
        var height = this.height();
        var width = this.width();

        if (defined(x)) {
            this.x1 = x;
            this.x2 = this.x1 + width;
        }

        if (defined(y)) {
            this.y1 = y;
            this.y2 = this.y1 + height;
        }

        return this;
    };

    Box.prototype.wrap = function wrap (targetBox) {
        this.x1 = Math.min(this.x1, targetBox.x1);
        this.y1 = Math.min(this.y1, targetBox.y1);
        this.x2 = Math.max(this.x2, targetBox.x2);
        this.y2 = Math.max(this.y2, targetBox.y2);

        return this;
    };

    Box.prototype.wrapPoint = function wrapPoint (point) {
        var arrayPoint = isArray(point);
        var x = arrayPoint ? point[0] : point.x;
        var y = arrayPoint ? point[1] : point.y;
        this.wrap(new Box(x, y, x, y));

        return this;
    };

    Box.prototype.snapTo = function snapTo (targetBox, axis) {

        if (axis === X || !axis) {
            this.x1 = targetBox.x1;
            this.x2 = targetBox.x2;
        }

        if (axis === Y || !axis) {
            this.y1 = targetBox.y1;
            this.y2 = targetBox.y2;
        }

        return this;
    };

    Box.prototype.alignTo = function alignTo (targetBox, anchor) {
        var height = this.height();
        var width = this.width();
        var axis = anchor === TOP || anchor === BOTTOM ? Y : X;
        var offset = axis === Y ? height : width;

        if (anchor === CENTER) {
            var targetCenter = targetBox.center();
            var center = this.center();

            this.x1 += targetCenter.x - center.x;
            this.y1 += targetCenter.y - center.y;
        } else if (anchor === TOP || anchor === LEFT) {
            this[axis + 1] = targetBox[axis + 1] - offset;
        } else {
            this[axis + 1] = targetBox[axis + 2];
        }

        this.x2 = this.x1 + width;
        this.y2 = this.y1 + height;

        return this;
    };

    Box.prototype.shrink = function shrink (dw, dh) {

        this.x2 -= dw;
        this.y2 -= dh;

        return this;
    };

    Box.prototype.expand = function expand (dw, dh) {
        this.shrink(-dw, -dh);
        return this;
    };

    Box.prototype.pad = function pad (padding) {
        var spacing = getSpacing(padding);

        this.x1 -= spacing.left;
        this.x2 += spacing.right;
        this.y1 -= spacing.top;
        this.y2 += spacing.bottom;

        return this;
    };

    Box.prototype.unpad = function unpad (padding) {
        var spacing = getSpacing(padding);

        spacing.left = -spacing.left;
        spacing.top = -spacing.top;
        spacing.right = -spacing.right;
        spacing.bottom = -spacing.bottom;

        return this.pad(spacing);
    };

    Box.prototype.clone = function clone () {
        return new Box(this.x1, this.y1, this.x2, this.y2);
    };

    Box.prototype.center = function center () {
        return new Point(
            this.x1 + this.width() / 2,
            this.y1 + this.height() / 2
        );
    };

    Box.prototype.containsPoint = function containsPoint (point) {

        return point.x >= this.x1 && point.x <= this.x2 &&
               point.y >= this.y1 && point.y <= this.y2;
    };

    Box.prototype.points = function points () {
        return [
            new Point(this.x1, this.y1),
            new Point(this.x2, this.y1),
            new Point(this.x2, this.y2),
            new Point(this.x1, this.y2)
        ];
    };

    Box.prototype.getHash = function getHash () {
        return [ this.x1, this.y1, this.x2, this.y2 ].join(",");
    };

    Box.prototype.overlaps = function overlaps (box) {
        return !(box.y2 < this.y1 || this.y2 < box.y1 || box.x2 < this.x1 || this.x2 < box.x1);
    };

    Box.prototype.rotate = function rotate (rotation) {
        var width = this.width();
        var height = this.height();
        var ref = this.center();
        var cx = ref.x;
        var cy = ref.y;

        var r1 = rotatePoint(0, 0, cx, cy, rotation);
        var r2 = rotatePoint(width, 0, cx, cy, rotation);
        var r3 = rotatePoint(width, height, cx, cy, rotation);
        var r4 = rotatePoint(0, height, cx, cy, rotation);

        width = Math.max(r1.x, r2.x, r3.x, r4.x) - Math.min(r1.x, r2.x, r3.x, r4.x);
        height = Math.max(r1.y, r2.y, r3.y, r4.y) - Math.min(r1.y, r2.y, r3.y, r4.y);

        this.x2 = this.x1 + width;
        this.y2 = this.y1 + height;

        return this;
    };

    Box.prototype.toRect = function toRect () {
        return new _progress_kendoDrawing.geometry.Rect([ this.x1, this.y1 ], [ this.width(), this.height() ]);
    };

    Box.prototype.hasSize = function hasSize () {
        return this.width() !== 0 && this.height() !== 0;
    };

    Box.prototype.align = function align (targetBox, axis, alignment) {
        var c1 = axis + 1;
        var c2 = axis + 2;
        var sizeFunc = axis === X ? WIDTH : HEIGHT;
        var size = this[sizeFunc]();

        if (inArray(alignment, [ LEFT, TOP ])) {
            this[c1] = targetBox[c1];
            this[c2] = this[c1] + size;
        } else if (inArray(alignment, [ RIGHT, BOTTOM ])) {
            this[c2] = targetBox[c2];
            this[c1] = this[c2] - size;
        } else if (alignment === CENTER) {
            this[c1] = targetBox[c1] + (targetBox[sizeFunc]() - size) / 2;
            this[c2] = this[c1] + size;
        }
    };

    return Box;
}(_progress_kendoDrawing.Class));

function rotatePoint(x, y, cx, cy, angle) {
    var theta = rad(angle);

    return new Point(
        cx + (x - cx) * Math.cos(theta) + (y - cy) * Math.sin(theta),
        cy - (x - cx) * Math.sin(theta) + (y - cy) * Math.cos(theta)
    );
}

var Ring = (function (Class$$1) {
    function Ring(center, innerRadius, radius, startAngle, angle) {
        Class$$1.call(this);

        this.center = center;
        this.innerRadius = innerRadius;
        this.radius = radius;
        this.startAngle = startAngle;
        this.angle = angle;
    }

    if ( Class$$1 ) Ring.__proto__ = Class$$1;
    Ring.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Ring.prototype.constructor = Ring;

    Ring.prototype.clone = function clone () {
        return new Ring(this.center, this.innerRadius, this.radius, this.startAngle, this.angle);
    };

    Ring.prototype.middle = function middle () {
        return this.startAngle + this.angle / 2;
    };

    Ring.prototype.setRadius = function setRadius (newRadius, innerRadius) {
        if (innerRadius) {
            this.innerRadius = newRadius;
        } else {
            this.radius = newRadius;
        }

        return this;
    };

    // TODO: Remove and replace with Point.onCircle
    Ring.prototype.point = function point (angle, innerRadius) {
        var radianAngle = rad(angle);
        var ax = Math.cos(radianAngle);
        var ay = Math.sin(radianAngle);
        var radius = innerRadius ? this.innerRadius : this.radius;
        var x = round(this.center.x - (ax * radius), COORD_PRECISION);
        var y = round(this.center.y - (ay * radius), COORD_PRECISION);

        return new Point(x, y);
    };

    Ring.prototype.adjacentBox = function adjacentBox (distance, width, height) {
        var sector = this.clone().expand(distance);
        var midAndle = sector.middle();
        var midPoint = sector.point(midAndle);
        var hw = width / 2;
        var hh = height / 2;
        var sa = Math.sin(rad(midAndle));
        var ca = Math.cos(rad(midAndle));
        var x = midPoint.x - hw;
        var y = midPoint.y - hh;

        if (Math.abs(sa) < 0.9) {
            x += hw * -ca / Math.abs(ca);
        }

        if (Math.abs(ca) < 0.9) {
            y += hh * -sa / Math.abs(sa);
        }

        return new Box(x, y, x + width, y + height);
    };

    Ring.prototype.containsPoint = function containsPoint (p) {
        var center = this.center;
        var innerRadius = this.innerRadius;
        var radius = this.radius;
        var startAngle = this.startAngle;
        var endAngle = this.startAngle + this.angle;
        var dx = p.x - center.x;
        var dy = p.y - center.y;
        var vector = new Point(dx, dy);
        var startPoint = this.point(startAngle);
        var startVector = new Point(startPoint.x - center.x, startPoint.y - center.y);
        var endPoint = this.point(endAngle);
        var endVector = new Point(endPoint.x - center.x, endPoint.y - center.y);
        var dist = round(dx * dx + dy * dy, COORD_PRECISION);

        return (startVector.equals(vector) || clockwise(startVector, vector)) &&
               !clockwise(endVector, vector) &&
               dist >= innerRadius * innerRadius && dist <= radius * radius;
    };

    Ring.prototype.getBBox = function getBBox () {
        var this$1 = this;

        var box = new Box(MAX_VALUE, MAX_VALUE, MIN_VALUE, MIN_VALUE);
        var startAngle = round(this.startAngle % 360);
        var endAngle = round((startAngle + this.angle) % 360);
        var innerRadius = this.innerRadius;
        var allAngles = [ 0, 90, 180, 270, startAngle, endAngle ].sort(numericComparer);
        var startAngleIndex = allAngles.indexOf(startAngle);
        var endAngleIndex = allAngles.indexOf(endAngle);
        var angles;

        if (startAngle === endAngle) {
            angles = allAngles;
        } else {
            if (startAngleIndex < endAngleIndex) {
                angles = allAngles.slice(startAngleIndex, endAngleIndex + 1);
            } else {
                angles = [].concat(
                    allAngles.slice(0, endAngleIndex + 1),
                    allAngles.slice(startAngleIndex, allAngles.length)
                );
            }
        }

        for (var i = 0; i < angles.length; i++) {
            var point = this$1.point(angles[i]);
            box.wrapPoint(point);
            box.wrapPoint(point, innerRadius);
        }

        if (!innerRadius) {
            box.wrapPoint(this.center);
        }

        return box;
    };

    Ring.prototype.expand = function expand (value) {
        this.radius += value;
        return this;
    };

    return Ring;
}(_progress_kendoDrawing.Class));

function numericComparer(a, b) {
    return a - b;
}

var Sector = (function (Ring$$1) {
    function Sector(center, radius, startAngle, angle) {
        Ring$$1.call(this, center, 0, radius, startAngle, angle);
    }

    if ( Ring$$1 ) Sector.__proto__ = Ring$$1;
    Sector.prototype = Object.create( Ring$$1 && Ring$$1.prototype );
    Sector.prototype.constructor = Sector;

    Sector.prototype.expand = function expand (value) {
        return Ring$$1.prototype.expand.call(this, value);
    };

    Sector.prototype.clone = function clone () {
        return new Sector(this.center, this.radius, this.startAngle, this.angle);
    };

    Sector.prototype.setRadius = function setRadius (newRadius) {
        this.radius = newRadius;

        return this;
    };

    return Sector;
}(Ring));

var DIRECTION_ANGLE = 0.001; //any value that will make the endAngle bigger than the start angle will work here.

var ShapeBuilder = (function (Class$$1) {
    function ShapeBuilder () {
        Class$$1.apply(this, arguments);
    }

    if ( Class$$1 ) ShapeBuilder.__proto__ = Class$$1;
    ShapeBuilder.prototype = Object.create( Class$$1 && Class$$1.prototype );
    ShapeBuilder.prototype.constructor = ShapeBuilder;

    ShapeBuilder.prototype.createRing = function createRing (sector, options) {
        var startAngle = sector.startAngle + 180;
        var endAngle = sector.angle + startAngle;

        //required in order to avoid reversing the arc direction in cases like 0.000000000000001 + 100 === 100
        if (sector.angle > 0 && startAngle === endAngle) {
            endAngle += DIRECTION_ANGLE;
        }

        var center = new _progress_kendoDrawing.geometry.Point(sector.center.x, sector.center.y);
        var radius = Math.max(sector.radius, 0);
        var innerRadius = Math.max(sector.innerRadius, 0);
        var arc = new _progress_kendoDrawing.geometry.Arc(center, {
            startAngle: startAngle,
            endAngle: endAngle,
            radiusX: radius,
            radiusY: radius
        });
        var path = _progress_kendoDrawing.drawing.Path.fromArc(arc, options).close();

        if (innerRadius) {
            arc.radiusX = arc.radiusY = innerRadius;
            var innerEnd = arc.pointAt(endAngle);
            path.lineTo(innerEnd.x, innerEnd.y);
            path.arc(endAngle, startAngle, innerRadius, innerRadius, true);
        } else {
            path.lineTo(center.x, center.y);
        }

        return path;
    };

    return ShapeBuilder;
}(_progress_kendoDrawing.Class));

ShapeBuilder.current = new ShapeBuilder();

var ChartElement = (function (Class$$1) {
    function ChartElement(options) {
        Class$$1.call(this);

        this.children = [];

        this.options = deepExtend({}, this.options, this.initUserOptions(options));
    }

    if ( Class$$1 ) ChartElement.__proto__ = Class$$1;
    ChartElement.prototype = Object.create( Class$$1 && Class$$1.prototype );
    ChartElement.prototype.constructor = ChartElement;

    ChartElement.prototype.initUserOptions = function initUserOptions (options) {
        return options;
    };

    ChartElement.prototype.reflow = function reflow (targetBox) {
        var children = this.children;
        var box;

        for (var i = 0; i < children.length; i++) {
            var currentChild = children[i];
            currentChild.reflow(targetBox);

            box = box ? box.wrap(currentChild.box) : currentChild.box.clone();
        }

        this.box = box || targetBox;
    };

    ChartElement.prototype.destroy = function destroy () {
        var children = this.children;

        if (this.animation) {
            this.animation.destroy();
        }

        for (var i = 0; i < children.length; i++) {
            children[i].destroy();
        }
    };

    ChartElement.prototype.getRoot = function getRoot () {
        var parent = this.parent;

        return parent ? parent.getRoot() : null;
    };

    ChartElement.prototype.getSender = function getSender () {
        var service = this.getService();
        if (service) {
            return service.sender;
        }
    };

    ChartElement.prototype.getService = function getService () {
        var element = this;
        while (element) {
            if (element.chartService) {
                return element.chartService;
            }
            element = element.parent;
        }
    };

    ChartElement.prototype.translateChildren = function translateChildren (dx, dy) {
        var children = this.children;
        var childrenCount = children.length;

        for (var i = 0; i < childrenCount; i++) {
            children[i].box.translate(dx, dy);
        }
    };

    ChartElement.prototype.append = function append () {
        var arguments$1 = arguments;
        var this$1 = this;

        for (var i = 0; i < arguments.length; i++) {
            var item = arguments$1[i];
            this$1.children.push(item);
            item.parent = this$1;
        }
    };

    ChartElement.prototype.renderVisual = function renderVisual () {
        if (this.options.visible === false) {
            return;
        }

        this.createVisual();

        this.addVisual();

        this.renderChildren();

        this.createAnimation();
        this.renderComplete();
    };

    ChartElement.prototype.addVisual = function addVisual () {
        if (this.visual) {
            this.visual.chartElement = this;

            if (this.parent) {
                this.parent.appendVisual(this.visual);
            }
        }
    };

    ChartElement.prototype.renderChildren = function renderChildren () {
        var children = this.children;
        var length = children.length;
        for (var i = 0; i < length; i++) {
            children[i].renderVisual();
        }
    };

    ChartElement.prototype.createVisual = function createVisual () {
        this.visual = new _progress_kendoDrawing.drawing.Group({
            zIndex: this.options.zIndex,
            visible: valueOrDefault(this.options.visible, true)
        });
    };

    ChartElement.prototype.createAnimation = function createAnimation () {
        if (this.visual && this.options.animation) {
            this.animation = _progress_kendoDrawing.drawing.Animation.create(
                this.visual, this.options.animation
            );
        }
    };

    ChartElement.prototype.appendVisual = function appendVisual (childVisual) {
        if (!childVisual.chartElement) {
            childVisual.chartElement = this;
        }

        if (childVisual.options.noclip) {
            this.clipRoot().visual.append(childVisual);
        } else if (defined(childVisual.options.zIndex)) {
            this.stackRoot().stackVisual(childVisual);
        } else if (this.isStackRoot) {
            this.stackVisual(childVisual);
        } else if (this.visual) {
            this.visual.append(childVisual);
        } else {
            // Allow chart elements without visuals to
            // pass through child visuals
            this.parent.appendVisual(childVisual);
        }
    };

    ChartElement.prototype.clipRoot = function clipRoot () {
        if (this.parent) {
            return this.parent.clipRoot();
        }

        return this;
    };

    ChartElement.prototype.stackRoot = function stackRoot () {
        if (this.parent) {
            return this.parent.stackRoot();
        }

        return this;
    };

    ChartElement.prototype.stackVisual = function stackVisual (childVisual) {
        var zIndex = childVisual.options.zIndex || 0;
        var visuals = this.visual.children;
        var length = visuals.length;
        var pos;

        for (pos = 0; pos < length; pos++) {
            var sibling = visuals[pos];
            var here = valueOrDefault(sibling.options.zIndex, 0);
            if (here > zIndex) {
                break;
            }
        }

        this.visual.insert(pos, childVisual);
    };

    ChartElement.prototype.traverse = function traverse (callback) {
        var children = this.children;
        var length = children.length;

        for (var i = 0; i < length; i++) {
            var child = children[i];

            callback(child);
            if (child.traverse) {
                child.traverse(callback);
            }
        }
    };

    ChartElement.prototype.closest = function closest (match) {
        var element = this;
        var matched = false;

        while (element && !matched) {
            matched = match(element);

            if (!matched) {
                element = element.parent;
            }
        }

        if (matched) {
            return element;
        }
    };

    ChartElement.prototype.renderComplete = function renderComplete () {};

    ChartElement.prototype.hasHighlight = function hasHighlight () {
        var options = (this.options || {}).highlight;
        return !(!this.createHighlight || (options && options.visible === false));
    };

    ChartElement.prototype.toggleHighlight = function toggleHighlight (show) {
        var this$1 = this;

        var options = (this.options || {}).highlight || {};
        var customVisual = options.visual;
        var highlight = this._highlight;

        if (!highlight) {
            var highlightOptions = {
                fill: {
                    color: WHITE,
                    opacity: 0.2
                },
                stroke: {
                    color: WHITE,
                    width: 1,
                    opacity: 0.2
                }
            };

            if (customVisual) {
                highlight = this._highlight = customVisual(
                    Object.assign(this.highlightVisualArgs(), {
                        createVisual: function () { return this$1.createHighlight(highlightOptions); },
                        sender: this.getSender(),
                        series: this.series,
                        dataItem: this.dataItem,
                        category: this.category,
                        value: this.value,
                        percentage: this.percentage,
                        runningTotal: this.runningTotal,
                        total: this.total
                    }
                ));

                if (!highlight) {
                    return;
                }
            } else {
                highlight = this._highlight = this.createHighlight(highlightOptions);
            }

            if (!defined(highlight.options.zIndex)) {
                highlight.options.zIndex = valueOrDefault(options.zIndex, this.options.zIndex);
            }

            this.appendVisual(highlight);
        }

        highlight.visible(show);
    };

    ChartElement.prototype.createGradientOverlay = function createGradientOverlay (element, options, gradientOptions) {
        var overlay = new _progress_kendoDrawing.drawing.Path(Object.assign({
            stroke: {
                color: "none"
            },
            fill: this.createGradient(gradientOptions),
            closed: element.options.closed
        }, options));

        overlay.segments.elements(element.segments.elements());

        return overlay;
    };

    ChartElement.prototype.createGradient = function createGradient (options) {
        if (this.parent) {
            return this.parent.createGradient(options);
        }
    };

    return ChartElement;
}(_progress_kendoDrawing.Class));

ChartElement.prototype.options = { };

var BoxElement = (function (ChartElement$$1) {
    function BoxElement(options) {
        ChartElement$$1.call(this, options);

        this.options.margin = getSpacing(this.options.margin);
        this.options.padding = getSpacing(this.options.padding);
    }

    if ( ChartElement$$1 ) BoxElement.__proto__ = ChartElement$$1;
    BoxElement.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    BoxElement.prototype.constructor = BoxElement;

    BoxElement.prototype.reflow = function reflow (targetBox) {
        var this$1 = this;

        var options = this.options;
        var width = options.width;
        var height = options.height;
        var shrinkToFit = options.shrinkToFit;
        var hasSetSize = width && height;
        var margin = options.margin;
        var padding = options.padding;
        var borderWidth = options.border.width;
        var box;

        var reflowPaddingBox = function () {
            this$1.align(targetBox, X, options.align);
            this$1.align(targetBox, Y, options.vAlign);
            this$1.paddingBox = box.clone().unpad(margin).unpad(borderWidth);
        };

        var contentBox = targetBox.clone();
        if (hasSetSize) {
            contentBox.x2 = contentBox.x1 + width;
            contentBox.y2 = contentBox.y1 + height;
        }

        if (shrinkToFit) {
            contentBox.unpad(margin).unpad(borderWidth).unpad(padding);
        }

        ChartElement$$1.prototype.reflow.call(this, contentBox);

        if (hasSetSize) {
            box = this.box = new Box(0, 0, width, height);
        } else {
            box = this.box;
        }

        if (shrinkToFit && hasSetSize) {
            reflowPaddingBox();
            contentBox = this.contentBox = this.paddingBox.clone().unpad(padding);
        } else {
            contentBox = this.contentBox = box.clone();
            box.pad(padding).pad(borderWidth).pad(margin);
            reflowPaddingBox();
        }

        this.translateChildren(
            box.x1 - contentBox.x1 + margin.left + borderWidth + padding.left,
            box.y1 - contentBox.y1 + margin.top + borderWidth + padding.top
        );

        var children = this.children;
        for (var i = 0; i < children.length; i++) {
            var item = children[i];
            item.reflow(item.box);
        }
    };

    BoxElement.prototype.align = function align (targetBox, axis, alignment) {
        this.box.align(targetBox, axis, alignment);
    };

    BoxElement.prototype.hasBox = function hasBox () {
        var options = this.options;
        return options.border.width || options.background;
    };

    BoxElement.prototype.createVisual = function createVisual () {
        ChartElement$$1.prototype.createVisual.call(this);

        var options = this.options;
        if (options.visible && this.hasBox()) {
            this.visual.append(_progress_kendoDrawing.drawing.Path.fromRect(
                this.paddingBox.toRect(),
                this.visualStyle()
            ));
        }
    };

    BoxElement.prototype.visualStyle = function visualStyle () {
        var options = this.options;
        var border = options.border || {};

        return {
            stroke: {
                width: border.width,
                color: border.color,
                opacity: valueOrDefault(border.opacity, options.opacity),
                dashType: border.dashType
            },
            fill: {
                color: options.background,
                opacity: options.opacity
            },
            cursor: options.cursor
        };
    };

    return BoxElement;
}(ChartElement));

setDefaultOptions(BoxElement, {
    align: LEFT,
    vAlign: TOP,
    margin: {},
    padding: {},
    border: {
        color: BLACK,
        width: 0
    },
    background: "",
    shrinkToFit: false,
    width: 0,
    height: 0,
    visible: true
});

var ShapeElement = (function (BoxElement$$1) {
    function ShapeElement(options, pointData) {
        BoxElement$$1.call(this, options);

        this.pointData = pointData;
    }

    if ( BoxElement$$1 ) ShapeElement.__proto__ = BoxElement$$1;
    ShapeElement.prototype = Object.create( BoxElement$$1 && BoxElement$$1.prototype );
    ShapeElement.prototype.constructor = ShapeElement;

    ShapeElement.prototype.getElement = function getElement () {
        var ref = this;
        var options = ref.options;
        var box = ref.paddingBox;
        var type = options.type;
        var rotation = options.rotation;
        var center = box.center();
        var halfWidth = box.width() / 2;

        if (!options.visible || !this.hasBox()) {
            return null;
        }

        var style = this.visualStyle();
        var element;

        if (type === CIRCLE) {
            element = new _progress_kendoDrawing.drawing.Circle(
                new _progress_kendoDrawing.geometry.Circle([
                    round(box.x1 + halfWidth, COORD_PRECISION),
                    round(box.y1 + box.height() / 2, COORD_PRECISION)
                ], halfWidth),
                style
            );
        } else if (type === TRIANGLE) {
            element = _progress_kendoDrawing.drawing.Path.fromPoints([
                [ box.x1 + halfWidth, box.y1 ],
                [ box.x1, box.y2 ],
                [ box.x2, box.y2 ]
            ], style).close();
        } else if (type === CROSS) {
            element = new _progress_kendoDrawing.drawing.MultiPath(style);

            element.moveTo(box.x1, box.y1).lineTo(box.x2, box.y2);
            element.moveTo(box.x1, box.y2).lineTo(box.x2, box.y1);
        } else {
            element = _progress_kendoDrawing.drawing.Path.fromRect(box.toRect(), style);
        }

        if (rotation) {
            element.transform(_progress_kendoDrawing.geometry.transform()
                .rotate(-rotation, [ center.x, center.y ])
            );
        }

        element.options.zIndex = options.zIndex;
        return element;
    };

    ShapeElement.prototype.createElement = function createElement () {
        var this$1 = this;

        var customVisual = this.options.visual;
        var pointData = this.pointData || {};
        var visual;

        if (customVisual) {
            visual = customVisual({
                value: pointData.value,
                dataItem: pointData.dataItem,
                sender: this.getSender(),
                series: pointData.series,
                category: pointData.category,
                rect: this.paddingBox.toRect(),
                options: this.visualOptions(),
                createVisual: function () { return this$1.getElement(); }
            });
        } else {
            visual = this.getElement();
        }

        return visual;
    };

    ShapeElement.prototype.visualOptions = function visualOptions () {
        var options = this.options;
        return {
            background: options.background,
            border: options.border,
            margin: options.margin,
            padding: options.padding,
            type: options.type,
            size: options.width,
            visible: options.visible
        };
    };

    ShapeElement.prototype.createVisual = function createVisual () {
        this.visual = this.createElement();
    };

    return ShapeElement;
}(BoxElement));

setDefaultOptions(ShapeElement, {
    type: CIRCLE,
    align: CENTER,
    vAlign: CENTER
});

var LINEAR = "linear";
var RADIAL = "radial";

var GRADIENTS = {
    glass: {
        type: LINEAR,
        rotation: 0,
        stops: [ {
            offset: 0,
            color: WHITE,
            opacity: 0
        }, {
            offset: 0.25,
            color: WHITE,
            opacity: 0.3
        }, {
            offset: 1,
            color: WHITE,
            opacity: 0
        } ]
    },
    sharpBevel: {
        type: RADIAL,
        stops: [ {
            offset: 0,
            color: WHITE,
            opacity: 0.55
        }, {
            offset: 0.65,
            color: WHITE,
            opacity: 0
        }, {
            offset: 0.95,
            color: WHITE,
            opacity: 0.25
        } ]
    },
    roundedBevel: {
        type: RADIAL,
        stops: [ {
            offset: 0.33,
            color: WHITE,
            opacity: 0.06
        }, {
            offset: 0.83,
            color: WHITE,
            opacity: 0.2
        }, {
            offset: 0.95,
            color: WHITE,
            opacity: 0
        } ]
    },
    roundedGlass: {
        type: RADIAL,
        supportVML: false,
        stops: [ {
            offset: 0,
            color: WHITE,
            opacity: 0
        }, {
            offset: 0.5,
            color: WHITE,
            opacity: 0.3
        }, {
            offset: 0.99,
            color: WHITE,
            opacity: 0
        } ]
    },
    sharpGlass: {
        type: RADIAL,
        supportVML: false,
        stops: [ {
            offset: 0,
            color: WHITE,
            opacity: 0.2
        }, {
            offset: 0.15,
            color: WHITE,
            opacity: 0.15
        }, {
            offset: 0.17,
            color: WHITE,
            opacity: 0.35
        }, {
            offset: 0.85,
            color: WHITE,
            opacity: 0.05
        }, {
            offset: 0.87,
            color: WHITE,
            opacity: 0.15
        }, {
            offset: 0.99,
            color: WHITE,
            opacity: 0
        } ]
    },
    bubbleShadow: {
        type: RADIAL,
        center: [ 0.5, 0.5 ],
        radius: 0.5
    }
};

function boxDiff(r, s) {
    if (r.x1 === s.x1 && r.y1 === s.y1 && r.x2 === s.x2 && r.y2 === s.y2) {
        return s;
    }

    var a = Math.min(r.x1, s.x1);
    var b = Math.max(r.x1, s.x1);
    var c = Math.min(r.x2, s.x2);
    var d = Math.max(r.x2, s.x2);
    var e = Math.min(r.y1, s.y1);
    var f = Math.max(r.y1, s.y1);
    var g = Math.min(r.y2, s.y2);
    var h = Math.max(r.y2, s.y2);
    var boxes = [];

    // X = intersection, 0-7 = possible difference areas
    // h +-+-+-+
    // . |5|6|7|
    // g +-+-+-+
    // . |3|X|4|
    // f +-+-+-+
    // . |0|1|2|
    // e +-+-+-+
    // . a b c d

    // we'll always have rectangles 1, 3, 4 and 6
    boxes[0] = new Box(b, e, c, f);
    boxes[1] = new Box(a, f, b, g);
    boxes[2] = new Box(c, f, d, g);
    boxes[3] = new Box(b, g, c, h);

    // decide which corners
    if (r.x1 === a && r.y1 === e || s.x1 === a && s.y1 === e) { // corners 0 and 7
        boxes[4] = new Box(a, e, b, f);
        boxes[5] = new Box(c, g, d, h);
    } else { // corners 2 and 5
        boxes[4] = new Box(c, e, d, f);
        boxes[5] = new Box(a, g, b, h);
    }

    return grep(boxes, function(box) {
        return box.height() > 0 && box.width() > 0;
    })[0];
}

var RootElement = (function (ChartElement$$1) {
    function RootElement(options) {
        ChartElement$$1.call(this, options);

        var rootOptions = this.options;
        rootOptions.width = parseInt(rootOptions.width, 10);
        rootOptions.height = parseInt(rootOptions.height, 10);

        this.gradients = {};
    }

    if ( ChartElement$$1 ) RootElement.__proto__ = ChartElement$$1;
    RootElement.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    RootElement.prototype.constructor = RootElement;

    RootElement.prototype.reflow = function reflow () {
        var ref = this;
        var options = ref.options;
        var children = ref.children;
        var currentBox = new Box(0, 0, options.width, options.height);

        this.box = currentBox.unpad(options.margin);

        for (var i = 0; i < children.length; i++) {
            children[i].reflow(currentBox);
            currentBox = boxDiff(currentBox, children[i].box) || new Box();
        }
    };

    RootElement.prototype.createVisual = function createVisual () {
        this.visual = new _progress_kendoDrawing.drawing.Group();
        this.createBackground();
    };

    RootElement.prototype.createBackground = function createBackground () {
        var options = this.options;
        var border = options.border || {};
        var box = this.box.clone().pad(options.margin).unpad(border.width);

        var background = _progress_kendoDrawing.drawing.Path.fromRect(box.toRect(), {
            stroke: {
                color: border.width ? border.color : "",
                width: border.width,
                dashType: border.dashType
            },
            fill: {
                color: options.background,
                opacity: options.opacity
            },
            zIndex: -10
        });

        this.visual.append(background);
    };

    RootElement.prototype.getRoot = function getRoot () {
        return this;
    };

    RootElement.prototype.createGradient = function createGradient (options) {
        var gradients = this.gradients;
        var hashCode = objectKey(options);
        var gradient = GRADIENTS[options.gradient];
        var drawingGradient;

        if (gradients[hashCode]) {
            drawingGradient = gradients[hashCode];
        } else {
            var gradientOptions = Object.assign({}, gradient, options);
            if (gradient.type === "linear") {
                drawingGradient = new _progress_kendoDrawing.drawing.LinearGradient(gradientOptions);
            } else {
                if (options.innerRadius) {
                    gradientOptions.stops = innerRadialStops(gradientOptions);
                }
                drawingGradient = new _progress_kendoDrawing.drawing.RadialGradient(gradientOptions);
                drawingGradient.supportVML = gradient.supportVML !== false;
            }
            gradients[hashCode] = drawingGradient;
        }

        return drawingGradient;
    };

    RootElement.prototype.cleanGradients = function cleanGradients () {
        var gradients = this.gradients;
        for (var hashCode in gradients) {
            gradients[hashCode]._observers = [];//add clear observers method in drawing ObserversMixin
        }
    };

    RootElement.prototype.size = function size () {
        var options = this.options;
        return new Box(0, 0, options.width, options.height);
    };

    return RootElement;
}(ChartElement));

setDefaultOptions(RootElement, {
    width: DEFAULT_WIDTH,
    height: DEFAULT_HEIGHT,
    background: WHITE,
    border: {
        color: BLACK,
        width: 0
    },
    margin: getSpacing(5),
    zIndex: -2
});

function innerRadialStops(options) {
    var stops = options.stops;
    var usedSpace = ((options.innerRadius / options.radius) * 100);
    var length = stops.length;
    var currentStops = [];

    for (var i = 0; i < length; i++) {
        var currentStop = Object.assign({}, stops[i]);
        currentStop.offset = (currentStop.offset * (100 - usedSpace) + usedSpace) / 100;
        currentStops.push(currentStop);
    }

    return currentStops;
}

var FloatElement = (function (ChartElement$$1) {
    function FloatElement(options) {
        ChartElement$$1.call(this, options);
        this._initDirection();
    }

    if ( ChartElement$$1 ) FloatElement.__proto__ = ChartElement$$1;
    FloatElement.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    FloatElement.prototype.constructor = FloatElement;

    FloatElement.prototype._initDirection = function _initDirection () {
        var options = this.options;
        if (options.vertical) {
            this.groupAxis = X;
            this.elementAxis = Y;
            this.groupSizeField = WIDTH;
            this.elementSizeField = HEIGHT;
            this.groupSpacing = options.spacing;
            this.elementSpacing = options.vSpacing;
        } else {
            this.groupAxis = Y;
            this.elementAxis = X;
            this.groupSizeField = HEIGHT;
            this.elementSizeField = WIDTH;
            this.groupSpacing = options.vSpacing;
            this.elementSpacing = options.spacing;
        }
    };

    FloatElement.prototype.reflow = function reflow (targetBox) {
        this.box = targetBox.clone();
        this.reflowChildren();
    };

    FloatElement.prototype.reflowChildren = function reflowChildren () {
        var this$1 = this;

        var ref = this;
        var box = ref.box;
        var elementAxis = ref.elementAxis;
        var groupAxis = ref.groupAxis;
        var elementSizeField = ref.elementSizeField;
        var groupSizeField = ref.groupSizeField;
        var ref$1 = this.groupOptions();
        var groups = ref$1.groups;
        var groupsSize = ref$1.groupsSize;
        var maxGroupElementsSize = ref$1.maxGroupElementsSize;
        var groupsCount = groups.length;
        var groupsStart = box[groupAxis + 1] + this.alignStart(groupsSize, box[groupSizeField]());

        if (groupsCount) {
            var groupStart = groupsStart;

            for (var groupIdx = 0; groupIdx < groupsCount; groupIdx++) {
                var group = groups[groupIdx];
                var groupElements = group.groupElements;
                var elementStart = box[elementAxis + 1];
                var groupElementsCount = groupElements.length;

                for (var idx = 0; idx < groupElementsCount; idx++) {
                    var element = groupElements[idx];
                    var elementSize$$1 = this$1.elementSize(element);
                    var groupElementStart = groupStart + this$1.alignStart(elementSize$$1[groupSizeField], group.groupSize);

                    var elementBox = new Box();
                    elementBox[groupAxis + 1] = groupElementStart;
                    elementBox[groupAxis + 2] = groupElementStart + elementSize$$1[groupSizeField];
                    elementBox[elementAxis + 1] = elementStart;
                    elementBox[elementAxis + 2] = elementStart + elementSize$$1[elementSizeField];

                    element.reflow(elementBox);

                    elementStart += elementSize$$1[elementSizeField] + this$1.elementSpacing;
                }
                groupStart += group.groupSize + this$1.groupSpacing;
            }
            box[groupAxis + 1] = groupsStart;
            box[groupAxis + 2] = groupsStart + groupsSize;
            box[elementAxis + 2] = box[elementAxis + 1] + maxGroupElementsSize;
        }
    };

    FloatElement.prototype.alignStart = function alignStart (size, maxSize) {
        var start = 0;
        var align = this.options.align;
        if (align === RIGHT || align === BOTTOM) {
            start = maxSize - size;
        } else if (align === CENTER) {
            start = (maxSize - size) / 2;
        }
        return start;
    };

    FloatElement.prototype.groupOptions = function groupOptions () {
        var this$1 = this;

        var ref = this;
        var box = ref.box;
        var children = ref.children;
        var elementSizeField = ref.elementSizeField;
        var groupSizeField = ref.groupSizeField;
        var elementSpacing = ref.elementSpacing;
        var groupSpacing = ref.groupSpacing;
        var maxSize = round(box[elementSizeField]());
        var childrenCount = children.length;
        var groups = [];

        var groupSize = 0;
        var groupElementsSize = 0;
        var groupsSize = 0;
        var maxGroupElementsSize = 0;
        var groupElements = [];

        for (var idx = 0; idx < childrenCount; idx++) {
            var element = children[idx];
            if (!element.box) {
                element.reflow(box);
            }

            var elementSize$$1 = this$1.elementSize(element);
            if (this$1.options.wrap && round(groupElementsSize + elementSpacing + elementSize$$1[elementSizeField]) > maxSize) {
                groups.push({
                    groupElements: groupElements,
                    groupSize: groupSize,
                    groupElementsSize: groupElementsSize
                });
                maxGroupElementsSize = Math.max(maxGroupElementsSize, groupElementsSize);
                groupsSize += groupSpacing + groupSize;
                groupSize = 0;
                groupElementsSize = 0;
                groupElements = [];
            }
            groupSize = Math.max(groupSize, elementSize$$1[groupSizeField]);
            if (groupElementsSize > 0) {
                groupElementsSize += elementSpacing;
            }
            groupElementsSize += elementSize$$1[elementSizeField];
            groupElements.push(element);
        }

        groups.push({
            groupElements: groupElements,
            groupSize: groupSize,
            groupElementsSize: groupElementsSize
        });
        maxGroupElementsSize = Math.max(maxGroupElementsSize, groupElementsSize);
        groupsSize += groupSize;

        return {
            groups: groups,
            groupsSize: groupsSize,
            maxGroupElementsSize: maxGroupElementsSize
        };
    };

    FloatElement.prototype.elementSize = function elementSize (element) {
        return {
            width: element.box.width(),
            height: element.box.height()
        };
    };

    FloatElement.prototype.createVisual = function createVisual () {};

    return FloatElement;
}(ChartElement));

setDefaultOptions(FloatElement, {
    vertical: true,
    wrap: true,
    vSpacing: 0,
    spacing: 0
});

var DrawingText = _progress_kendoDrawing.drawing.Text;

var Text = (function (ChartElement$$1) {
    function Text(content, options) {
        ChartElement$$1.call(this, options);

        this.content = content;

        // Calculate size
        this.reflow(new Box());
    }

    if ( ChartElement$$1 ) Text.__proto__ = ChartElement$$1;
    Text.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    Text.prototype.constructor = Text;

    Text.prototype.reflow = function reflow (targetBox) {
        var options = this.options;
        var size = options.size = _progress_kendoDrawing.drawing.util.measureText(this.content, { font: options.font });

        this.baseline = size.baseline;

        this.box = new Box(targetBox.x1, targetBox.y1,
                targetBox.x1 + size.width, targetBox.y1 + size.height);
    };

    Text.prototype.createVisual = function createVisual () {
        var ref = this.options;
        var font = ref.font;
        var color = ref.color;
        var opacity = ref.opacity;
        var cursor = ref.cursor;

        this.visual = new DrawingText(this.content, this.box.toRect().topLeft(), {
            font: font,
            fill: { color: color, opacity: opacity },
            cursor: cursor
        });
    };

    return Text;
}(ChartElement));

setDefaultOptions(Text, {
    font: DEFAULT_FONT,
    color: BLACK
});

function rectToBox(rect) {
    var origin = rect.origin;
    var bottomRight = rect.bottomRight();

    return new Box(origin.x, origin.y, bottomRight.x, bottomRight.y);
}

var ROWS_SPLIT_REGEX = /\n/m;

var TextBox = (function (BoxElement$$1) {
    function TextBox(content, options, data) {
        BoxElement$$1.call(this, options);
        this.content = content;
        this.data = data;

        this._initContainer();
        if (this.options._autoReflow !== false) {
            this.reflow(new Box());
        }
    }

    if ( BoxElement$$1 ) TextBox.__proto__ = BoxElement$$1;
    TextBox.prototype = Object.create( BoxElement$$1 && BoxElement$$1.prototype );
    TextBox.prototype.constructor = TextBox;

    TextBox.prototype._initContainer = function _initContainer () {
        var options = this.options;
        var rows = String(this.content).split(ROWS_SPLIT_REGEX);
        var floatElement = new FloatElement({ vertical: true, align: options.align, wrap: false });
        var textOptions = deepExtend({ }, options, { opacity: 1, animation: null });

        this.container = floatElement;
        this.append(floatElement);

        for (var rowIdx = 0; rowIdx < rows.length; rowIdx++) {
            var text = new Text(rows[rowIdx].trim(), textOptions);
            floatElement.append(text);
        }
    };

    TextBox.prototype.reflow = function reflow (targetBox) {
        var options = this.options;
        var visualFn = options.visual;
        this.container.options.align = options.align;

        if (visualFn && !this._boxReflow) {
            var visualBox = targetBox;
            if (!visualBox.hasSize()) {
                this._boxReflow = true;
                this.reflow(visualBox);
                this._boxReflow = false;
                visualBox = this.box;
            }
            var visual = this.visual = visualFn(this.visualContext(visualBox));

            if (visual) {
                visualBox = rectToBox(visual.clippedBBox() || new _progress_kendoDrawing.geometry.Rect());

                visual.options.zIndex = options.zIndex;
            }

            this.box = this.contentBox = this.paddingBox = visualBox;
        } else {
            BoxElement$$1.prototype.reflow.call(this, targetBox);

            if (options.rotation) {
                var margin = getSpacing(options.margin);
                var box = this.box.unpad(margin);

                this.targetBox = targetBox;
                this.normalBox = box.clone();

                box = this.rotate();
                box.translate(margin.left - margin.right, margin.top - margin.bottom);

                this.rotatedBox = box.clone();

                box.pad(margin);
            }
        }
    };

    TextBox.prototype.createVisual = function createVisual () {
        var options = this.options;

        this.visual = new _progress_kendoDrawing.drawing.Group({
            transform: this.rotationTransform(),
            zIndex: options.zIndex,
            noclip: options.noclip
        });

        if (this.hasBox()) {
            var box = _progress_kendoDrawing.drawing.Path.fromRect(this.paddingBox.toRect(), this.visualStyle());
            this.visual.append(box);
        }
    };

    TextBox.prototype.renderVisual = function renderVisual () {
        if (!this.options.visible) {
            return;
        }

        if (this.options.visual) {
            var visual = this.visual;
            if (visual && !defined(visual.options.noclip)) {
                visual.options.noclip = this.options.noclip;
            }
            this.addVisual();
            this.createAnimation();
        } else {
            BoxElement$$1.prototype.renderVisual.call(this);
        }
    };

    TextBox.prototype.visualContext = function visualContext (targetBox) {
        var this$1 = this;

        var context = {
            text: this.content,
            rect: targetBox.toRect(),
            sender: this.getSender(),
            options: this.options,
            createVisual: function () {
                this$1._boxReflow = true;
                this$1.reflow(targetBox);
                this$1._boxReflow = false;
                return this$1.getDefaultVisual();
            }
        };
        if (this.data) {
            Object.assign(context, this.data);
        }

        return context;
    };

    TextBox.prototype.getDefaultVisual = function getDefaultVisual () {
        this.createVisual();
        this.renderChildren();
        var visual = this.visual;
        delete this.visual;
        return visual;
    };

    TextBox.prototype.rotate = function rotate () {
        var options = this.options;
        this.box.rotate(options.rotation);
        this.align(this.targetBox, X, options.align);
        this.align(this.targetBox, Y, options.vAlign);
        return this.box;
    };

    TextBox.prototype.rotationTransform = function rotationTransform () {
        var rotation = this.options.rotation;
        if (!rotation) {
            return null;
        }

        var ref = this.normalBox.center();
        var cx = ref.x;
        var cy = ref.y;
        var boxCenter = this.rotatedBox.center();

        return _progress_kendoDrawing.geometry.transform()
                   .translate(boxCenter.x - cx, boxCenter.y - cy)
                   .rotate(rotation, [ cx, cy ]);
    };

    return TextBox;
}(BoxElement));

var Title = (function (ChartElement$$1) {
    function Title(options) {
        ChartElement$$1.call(this, options);

        this.append(
            new TextBox(this.options.text, Object.assign({}, this.options, {
                vAlign: this.options.position
            }))
        );
    }

    if ( ChartElement$$1 ) Title.__proto__ = ChartElement$$1;
    Title.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    Title.prototype.constructor = Title;

    Title.prototype.reflow = function reflow (targetBox) {
        ChartElement$$1.prototype.reflow.call(this, targetBox);
        this.box.snapTo(targetBox, X);
    };

    Title.buildTitle = function buildTitle (options, parent, defaultOptions) {
        var titleOptions = options;

        if (typeof options === "string") {
            titleOptions = { text: options };
        }

        titleOptions = Object.assign({ visible: true }, defaultOptions, titleOptions);

        var title;
        if (titleOptions && titleOptions.visible && titleOptions.text) {
            title = new Title(titleOptions);
            parent.append(title);
        }

        return title;
    };

    return Title;
}(ChartElement));

setDefaultOptions(Title, {
    color: BLACK,
    position: TOP,
    align: CENTER,
    margin: getSpacing(5),
    padding: getSpacing(5)
});

var AxisLabel = (function (TextBox$$1) {
    function AxisLabel(value, text, index, dataItem, options) {
        TextBox$$1.call(this, text, options);

        this.text = text;
        this.value = value;
        this.index = index;
        this.dataItem = dataItem;
        this.reflow(new Box());
    }

    if ( TextBox$$1 ) AxisLabel.__proto__ = TextBox$$1;
    AxisLabel.prototype = Object.create( TextBox$$1 && TextBox$$1.prototype );
    AxisLabel.prototype.constructor = AxisLabel;

    AxisLabel.prototype.visualContext = function visualContext (targetBox) {
        var context = TextBox$$1.prototype.visualContext.call(this, targetBox);

        context.value = this.value;
        context.dataItem = this.dataItem;
        context.format = this.options.format;
        context.culture = this.options.culture;

        return context;
    };

    AxisLabel.prototype.click = function click (widget, e) {

        widget.trigger(AXIS_LABEL_CLICK, {
            element: eventElement(e),
            value: this.value,
            text: this.text,
            index: this.index,
            dataItem: this.dataItem,
            axis: this.parent.options
        });
    };

    AxisLabel.prototype.rotate = function rotate () {
        if (this.options.alignRotation !== CENTER) {
            var box = this.normalBox.toRect();
            var transform = this.rotationTransform();

            this.box = rectToBox(box.bbox(transform.matrix()));
        } else {
            TextBox$$1.prototype.rotate.call(this);
        }

        return this.box;
    };

    AxisLabel.prototype.rotationTransform = function rotationTransform () {
        var options = this.options;
        var rotation = options.rotation;
        if (!rotation) {
            return null;
        }

        if (options.alignRotation === CENTER) {
            return TextBox$$1.prototype.rotationTransform.call(this);
        }

        var rotationMatrix = _progress_kendoDrawing.geometry.transform().rotate(rotation).matrix();
        var box = this.normalBox.toRect();
        var rect = this.targetBox.toRect();

        var rotationOrigin = options.rotationOrigin || TOP;
        var alignAxis = rotationOrigin === TOP || rotationOrigin === BOTTOM ? X : Y;
        var distanceAxis = rotationOrigin === TOP || rotationOrigin === BOTTOM ? Y : X;
        var axisAnchor = rotationOrigin === TOP || rotationOrigin === LEFT ? rect.origin : rect.bottomRight();

        var topLeft = box.topLeft().transformCopy(rotationMatrix);
        var topRight = box.topRight().transformCopy(rotationMatrix);
        var bottomRight = box.bottomRight().transformCopy(rotationMatrix);
        var bottomLeft = box.bottomLeft().transformCopy(rotationMatrix);
        var rotatedBox = _progress_kendoDrawing.geometry.Rect.fromPoints(topLeft, topRight, bottomRight, bottomLeft);

        var translate = {};
        translate[distanceAxis] = rect.origin[distanceAxis] - rotatedBox.origin[distanceAxis];

        var distanceLeft = Math.abs(topLeft[distanceAxis] + translate[distanceAxis] - axisAnchor[distanceAxis]);
        var distanceRight = Math.abs(topRight[distanceAxis] + translate[distanceAxis] - axisAnchor[distanceAxis]);

        var alignStart, alignEnd;

        if (round(distanceLeft, DEFAULT_PRECISION) === round(distanceRight, DEFAULT_PRECISION)) {
            alignStart = topLeft;
            alignEnd = topRight;
        } else if (distanceRight < distanceLeft) {
            alignStart = topRight;
            alignEnd = bottomRight;
        } else {
            alignStart = topLeft;
            alignEnd = bottomLeft;
        }

        var alignCenter = alignStart[alignAxis] + (alignEnd[alignAxis] - alignStart[alignAxis]) / 2;
        translate[alignAxis] = rect.center()[alignAxis] - alignCenter;

        return _progress_kendoDrawing.geometry.transform()
            .translate(translate.x, translate.y)
            .rotate(rotation);
    };

    return AxisLabel;
}(TextBox));

setDefaultOptions(AxisLabel, {
    _autoReflow: false
});

var DEFAULT_ICON_SIZE = 7;
var DEFAULT_LABEL_COLOR = "#fff";

var Note = (function (BoxElement$$1) {
    function Note(fields, options, chartService) {
        BoxElement$$1.call(this, options);

        this.fields = fields;
        this.chartService = chartService;

        this.render();
    }

    if ( BoxElement$$1 ) Note.__proto__ = BoxElement$$1;
    Note.prototype = Object.create( BoxElement$$1 && BoxElement$$1.prototype );
    Note.prototype.constructor = Note;

    Note.prototype.hide = function hide () {
        this.options.visible = false;
    };

    Note.prototype.show = function show () {
        this.options.visible = true;
    };

    Note.prototype.render = function render () {
        var this$1 = this;

        var options = this.options;

        if (options.visible) {
            var label = options.label;
            var icon = options.icon;
            var box = new Box();
            var childAlias = function () { return this$1; };
            var size = icon.size;
            var text = this.fields.text;
            var width, height;

            if (defined(label) && label.visible) {
                var noteTemplate = getTemplate(label);
                if (noteTemplate) {
                    text = noteTemplate(this.fields);
                } else if (label.format) {
                    text = this.chartService.format.auto(label.format, text);
                }

                if (!label.color) {
                    label.color = label.position === INSIDE ? DEFAULT_LABEL_COLOR : icon.background;
                }

                this.label = new TextBox(text, deepExtend({}, label));
                this.label.aliasFor = childAlias;

                if (label.position === INSIDE && !defined(size)) {
                    if (icon.type === CIRCLE) {
                        size = Math.max(this.label.box.width(), this.label.box.height());
                    } else {
                        width = this.label.box.width();
                        height = this.label.box.height();
                    }
                    box.wrap(this.label.box);
                }
            }

            icon.width = width || size || DEFAULT_ICON_SIZE;
            icon.height = height || size || DEFAULT_ICON_SIZE;

            var marker = new ShapeElement(deepExtend({}, icon));
            marker.aliasFor = childAlias;

            this.marker = marker;
            this.append(marker);

            if (this.label) {
                this.append(this.label);
            }

            marker.reflow(new Box());
            this.wrapperBox = box.wrap(marker.box);
        }
    };

    Note.prototype.reflow = function reflow (targetBox) {
        var ref = this;
        var options = ref.options;
        var label = ref.label;
        var marker = ref.marker;
        var wrapperBox = ref.wrapperBox;
        var center = targetBox.center();
        var length = options.line.length;
        var position = options.position;

        // TODO: Review
        if (options.visible) {
            var lineStart, box, contentBox;

            if (inArray(position, [ LEFT, RIGHT ])) {
                if (position === LEFT) {
                    contentBox = wrapperBox.alignTo(targetBox, position).translate(-length, targetBox.center().y - wrapperBox.center().y);

                    if (options.line.visible) {
                        lineStart = [ targetBox.x1, center.y ];
                        this.linePoints = [
                            lineStart,
                            [ contentBox.x2, center.y ]
                        ];
                        box = contentBox.clone().wrapPoint(lineStart);
                    }
                } else {
                    contentBox = wrapperBox.alignTo(targetBox, position).translate(length, targetBox.center().y - wrapperBox.center().y);

                    if (options.line.visible) {
                        lineStart = [ targetBox.x2, center.y ];
                        this.linePoints = [
                            lineStart,
                            [ contentBox.x1, center.y ]
                        ];
                        box = contentBox.clone().wrapPoint(lineStart);
                    }
                }
            } else {
                if (position === BOTTOM) {
                    contentBox = wrapperBox.alignTo(targetBox, position).translate(targetBox.center().x - wrapperBox.center().x, length);

                    if (options.line.visible) {
                        lineStart = [ center.x, targetBox.y2 ];
                        this.linePoints = [
                            lineStart,
                            [ center.x, contentBox.y1 ]
                        ];
                        box = contentBox.clone().wrapPoint(lineStart);
                    }
                } else {
                    contentBox = wrapperBox.alignTo(targetBox, position).translate(targetBox.center().x - wrapperBox.center().x, -length);

                    if (options.line.visible) {
                        lineStart = [ center.x, targetBox.y1 ];
                        this.linePoints = [
                            lineStart,
                            [ center.x, contentBox.y2 ]
                        ];
                        box = contentBox.clone().wrapPoint(lineStart);
                    }
                }
            }

            if (marker) {
                marker.reflow(contentBox);
            }

            if (label) {
                label.reflow(contentBox);
                if (marker) {
                    if (options.label.position === OUTSIDE) {
                        label.box.alignTo(marker.box, position);
                    }
                    label.reflow(label.box);
                }
            }

            this.contentBox = contentBox;
            this.targetBox = targetBox;
            this.box = box || contentBox;
        }
    };

    Note.prototype.createVisual = function createVisual () {
        BoxElement$$1.prototype.createVisual.call(this);
        this.visual.options.noclip = this.options.noclip;

        if (this.options.visible) {
            this.createLine();
        }
    };

    Note.prototype.renderVisual = function renderVisual () {
        var this$1 = this;

        var options = this.options;
        var customVisual = options.visual;
        if (options.visible && customVisual) {
            this.visual = customVisual(Object.assign(this.fields, {
                sender: this.getSender(),
                rect: this.targetBox.toRect(),
                options: {
                    background: options.background,
                    border: options.background,
                    icon: options.icon,
                    label: options.label,
                    line: options.line,
                    position: options.position,
                    visible: options.visible
                },
                createVisual: function () {
                    this$1.createVisual();
                    this$1.renderChildren();
                    var defaultVisual = this$1.visual;
                    delete this$1.visual;
                    return defaultVisual;
                }
            }));
            this.addVisual();
        } else {
            BoxElement$$1.prototype.renderVisual.call(this);
        }
    };

    Note.prototype.createLine = function createLine () {
        var options = this.options.line;

        if (this.linePoints) {
            var path = _progress_kendoDrawing.drawing.Path.fromPoints(this.linePoints, {
                stroke: {
                    color: options.color,
                    width: options.width,
                    dashType: options.dashType
                }
            });

            alignPathToPixel(path);
            this.visual.append(path);
        }
    };

    Note.prototype.click = function click (widget, e) {
        var args = this.eventArgs(e);

        if (!widget.trigger(NOTE_CLICK, args)) {
            e.preventDefault();
        }
    };

    Note.prototype.over = function over (widget, e) {
        var args = this.eventArgs(e);

        if (!widget.trigger(NOTE_HOVER, args)) {
            e.preventDefault();
        }
    };

    Note.prototype.out = function out (widget, e) {
        var args = this.eventArgs(e);

        widget.trigger(NOTE_LEAVE, args);
    };

    Note.prototype.eventArgs = function eventArgs (e) {
        var options = this.options;

        return Object.assign(this.fields, {
            element: eventElement(e),
            text: defined(options.label) ? options.label.text : "",
            visual: this.visual
        });
    };

    return Note;
}(BoxElement));

setDefaultOptions(Note, {
    icon: {
        visible: true,
        type: CIRCLE
    },
    label: {
        position: INSIDE,
        visible: true,
        align: CENTER,
        vAlign: CENTER
    },
    line: {
        visible: true
    },
    visible: true,
    position: TOP,
    zIndex: 2
});

function createAxisTick(options, tickOptions) {
    var tickX = options.tickX;
    var tickY = options.tickY;
    var position = options.position;

    var tick = new _progress_kendoDrawing.drawing.Path({
        stroke: {
            width: tickOptions.width,
            color: tickOptions.color
        }
    });

    if (options.vertical) {
        tick.moveTo(tickX, position)
            .lineTo(tickX + tickOptions.size, position);
    } else {
        tick.moveTo(position, tickY)
            .lineTo(position, tickY + tickOptions.size);
    }

    alignPathToPixel(tick);

    return tick;
}

function createAxisGridLine(options, gridLine) {
    var lineStart = options.lineStart;
    var lineEnd = options.lineEnd;
    var position = options.position;

    var line = new _progress_kendoDrawing.drawing.Path({
        stroke: {
            width: gridLine.width,
            color: gridLine.color,
            dashType: gridLine.dashType
        }
    });

    if (options.vertical) {
        line.moveTo(lineStart, position)
            .lineTo(lineEnd, position);
    } else {
        line.moveTo(position, lineStart)
            .lineTo(position, lineEnd);
    }

    alignPathToPixel(line);

    return line;
}

var Axis = (function (ChartElement$$1) {
    function Axis(options, chartService) {
        if ( chartService === void 0 ) chartService = new ChartService();

        ChartElement$$1.call(this, options);

        this.chartService = chartService;

        if (!this.options.visible) {
            this.options = deepExtend({}, this.options, {
                labels: {
                    visible: false
                },
                line: {
                    visible: false
                },
                margin: 0,
                majorTickSize: 0,
                minorTickSize: 0
            });
        }

        this.options.minorTicks = deepExtend({}, {
            color: this.options.line.color,
            width: this.options.line.width,
            visible: this.options.minorTickType !== NONE
        }, this.options.minorTicks, {
            size: this.options.minorTickSize,
            align: this.options.minorTickType
        });

        this.options.majorTicks = deepExtend({}, {
            color: this.options.line.color,
            width: this.options.line.width,
            visible: this.options.majorTickType !== NONE
        }, this.options.majorTicks, {
            size: this.options.majorTickSize,
            align: this.options.majorTickType
        });

        this.initFields();

        if (!this.options._deferLabels) {
            this.createLabels();
        }

        this.createTitle();
        this.createNotes();
    }

    if ( ChartElement$$1 ) Axis.__proto__ = ChartElement$$1;
    Axis.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    Axis.prototype.constructor = Axis;

    Axis.prototype.initFields = function initFields () {
    };

    // abstract labelsCount(): Number
    // abstract createAxisLabel(index, options): AxisLabel

    Axis.prototype.labelsRange = function labelsRange () {
        return {
            min: this.options.labels.skip,
            max: this.labelsCount()
        };
    };

    Axis.prototype.createLabels = function createLabels () {
        var this$1 = this;

        var options = this.options;
        var align = options.vertical ? RIGHT : CENTER;
        var labelOptions = deepExtend({ }, options.labels, {
            align: align,
            zIndex: options.zIndex
        });
        var step = Math.max(1, labelOptions.step);

        this.clearLabels();

        if (labelOptions.visible) {
            var range = this.labelsRange();
            var rotation = labelOptions.rotation;

            if (isObject(rotation)) {
                labelOptions.alignRotation = rotation.align;
                labelOptions.rotation = rotation.angle;
            }

            if (labelOptions.rotation === "auto") {
                labelOptions.rotation = 0;
                options.autoRotateLabels = true;
            }

            for (var idx = range.min; idx < range.max; idx += step) {
                var label = this$1.createAxisLabel(idx, labelOptions);
                if (label) {
                    this$1.append(label);
                    this$1.labels.push(label);
                }
            }
        }
    };

    Axis.prototype.clearLabels = function clearLabels () {
        this.children = grep(this.children, function (child) { return !(child instanceof AxisLabel); });
        this.labels = [];
    };

    Axis.prototype.clearTitle = function clearTitle () {
        var this$1 = this;

        if (this.title) {
            this.children = grep(this.children, function (child) { return child !== this$1.title; });
            this.title = undefined;
        }
    };

    Axis.prototype.clear = function clear () {
        this.clearLabels();
        this.clearTitle();
    };

    Axis.prototype.lineBox = function lineBox () {
        var ref = this;
        var options = ref.options;
        var box = ref.box;
        var vertical = options.vertical;
        var mirror = options.labels.mirror;
        var axisX = mirror ? box.x1 : box.x2;
        var axisY = mirror ? box.y2 : box.y1;
        var lineWidth = options.line.width || 0;

        return vertical ?
            new Box(axisX, box.y1, axisX, box.y2 - lineWidth) :
            new Box(box.x1, axisY, box.x2 - lineWidth, axisY);
    };

    Axis.prototype.createTitle = function createTitle () {
        var options = this.options;
        var titleOptions = deepExtend({
            rotation: options.vertical ? -90 : 0,
            text: "",
            zIndex: 1,
            visualSize: true
        }, options.title);

        if (titleOptions.visible && titleOptions.text) {
            var title = new TextBox(titleOptions.text, titleOptions);
            this.append(title);
            this.title = title;
        }
    };

    Axis.prototype.createNotes = function createNotes () {
        var this$1 = this;

        var options = this.options;
        var notes = options.notes;
        var items = notes.data || [];

        this.notes = [];

        for (var i = 0; i < items.length; i++) {
            var item = deepExtend({}, notes, items[i]);
            item.value = this$1.parseNoteValue(item.value);

            var note = new Note({
                value: item.value,
                text: item.label.text,
                dataItem: item
            }, item, this$1.chartService);

            if (note.options.visible) {
                if (defined(note.options.position)) {
                    if (options.vertical && !inArray(note.options.position, [ LEFT, RIGHT ])) {
                        note.options.position = options.reverse ? LEFT : RIGHT;
                    } else if (!options.vertical && !inArray(note.options.position, [ TOP, BOTTOM ])) {
                        note.options.position = options.reverse ? BOTTOM : TOP;
                    }
                } else {
                    if (options.vertical) {
                        note.options.position = options.reverse ? LEFT : RIGHT;
                    } else {
                        note.options.position = options.reverse ? BOTTOM : TOP;
                    }
                }
                this$1.append(note);
                this$1.notes.push(note);
            }
        }
    };

    Axis.prototype.parseNoteValue = function parseNoteValue (value) {
        return value;
    };

    Axis.prototype.renderVisual = function renderVisual () {
        ChartElement$$1.prototype.renderVisual.call(this);

        this.createPlotBands();
    };

    Axis.prototype.createVisual = function createVisual () {
        ChartElement$$1.prototype.createVisual.call(this);

        this.createBackground();
        this.createLine();
    };

    Axis.prototype.gridLinesVisual = function gridLinesVisual () {
        var gridLines = this._gridLines;
        if (!gridLines) {
            gridLines = this._gridLines = new _progress_kendoDrawing.drawing.Group({
                zIndex: -2
            });
            this.appendVisual(this._gridLines);
        }

        return gridLines;
    };

    Axis.prototype.createTicks = function createTicks (lineGroup) {
        var options = this.options;
        var lineBox = this.lineBox();
        var mirror = options.labels.mirror;
        var majorUnit = options.majorTicks.visible ? options.majorUnit : 0;
        var tickLineOptions = {
            // TODO
            // _alignLines: options._alignLines,
            vertical: options.vertical
        };

        function render(tickPositions, tickOptions, skipUnit) {
            var count = tickPositions.length;
            var step = Math.max(1, tickOptions.step);

            if (tickOptions.visible) {
                for (var i = tickOptions.skip; i < count; i += step) {
                    if (defined(skipUnit) && (i % skipUnit === 0)) {
                        continue;
                    }

                    tickLineOptions.tickX = mirror ? lineBox.x2 : lineBox.x2 - tickOptions.size;
                    tickLineOptions.tickY = mirror ? lineBox.y1 - tickOptions.size : lineBox.y1;
                    tickLineOptions.position = tickPositions[i];

                    lineGroup.append(createAxisTick(tickLineOptions, tickOptions));
                }
            }
        }

        render(this.getMajorTickPositions(), options.majorTicks);
        render(this.getMinorTickPositions(), options.minorTicks, majorUnit / options.minorUnit);
    };

    Axis.prototype.createLine = function createLine () {
        var options = this.options;
        var line = options.line;
        var lineBox = this.lineBox();

        if (line.width > 0 && line.visible) {
            var path = new _progress_kendoDrawing.drawing.Path({
                stroke: {
                    width: line.width,
                    color: line.color,
                    dashType: line.dashType
                }

                /* TODO
                zIndex: line.zIndex,
                */
            });

            path.moveTo(lineBox.x1, lineBox.y1)
                .lineTo(lineBox.x2, lineBox.y2);

            if (options._alignLines) {
                alignPathToPixel(path);
            }

            var group = this._lineGroup = new _progress_kendoDrawing.drawing.Group();
            group.append(path);

            this.visual.append(group);
            this.createTicks(group);
        }
    };

    Axis.prototype.getActualTickSize = function getActualTickSize () {
        var options = this.options;
        var tickSize = 0;

        if (options.majorTicks.visible && options.minorTicks.visible) {
            tickSize = Math.max(options.majorTicks.size, options.minorTicks.size);
        } else if (options.majorTicks.visible) {
            tickSize = options.majorTicks.size;
        } else if (options.minorTicks.visible) {
            tickSize = options.minorTicks.size;
        }

        return tickSize;
    };

    Axis.prototype.createBackground = function createBackground () {
        var ref = this;
        var options = ref.options;
        var box = ref.box;
        var background = options.background;

        if (background) {
            this._backgroundPath = _progress_kendoDrawing.drawing.Path.fromRect(box.toRect(), {
                fill: {
                    color: background
                },
                stroke: null
            });

            this.visual.append(this._backgroundPath);
        }
    };

    Axis.prototype.createPlotBands = function createPlotBands () {
        var this$1 = this;

        var options = this.options;
        var plotBands = options.plotBands || [];
        var vertical = options.vertical;
        var plotArea = this.plotArea;

        if (plotBands.length === 0) {
            return;
        }

        var group = this._plotbandGroup = new _progress_kendoDrawing.drawing.Group({
            zIndex: -1
        });

        var altAxis = grep(this.pane.axes, function (axis) { return axis.options.vertical !== this$1.options.vertical; })[0];

        for (var idx = 0; idx < plotBands.length; idx++) {
            var item = plotBands[idx];
            var slotX = (void 0), slotY = (void 0);

            if (vertical) {
                slotX = (altAxis || plotArea.axisX).lineBox();
                slotY = this$1.getSlot(item.from, item.to, true);
            } else {
                slotX = this$1.getSlot(item.from, item.to, true);
                slotY = (altAxis || plotArea.axisY).lineBox();
            }

            if (slotX.width() !== 0 && slotY.height() !== 0) {
                var bandRect = new _progress_kendoDrawing.geometry.Rect(
                    [ slotX.x1, slotY.y1 ],
                    [ slotX.width(), slotY.height() ]
                );

                var path = _progress_kendoDrawing.drawing.Path.fromRect(bandRect, {
                    fill: {
                        color: item.color,
                        opacity: item.opacity
                    },
                    stroke: null
                });

                group.append(path);
            }
        }

        this.appendVisual(group);
    };

    Axis.prototype.createGridLines = function createGridLines (altAxis) {
        var options = this.options;
        var minorGridLines = options.minorGridLines;
        var majorGridLines = options.majorGridLines;
        var minorUnit = options.minorUnit;
        var vertical = options.vertical;
        var axisLineVisible = altAxis.options.line.visible;
        var majorUnit = majorGridLines.visible ? options.majorUnit : 0;
        var lineBox = altAxis.lineBox();
        var linePos = lineBox[vertical ? "y1" : "x1"];
        var lineOptions = {
            lineStart: lineBox[vertical ? "x1" : "y1"],
            lineEnd: lineBox[vertical ? "x2" : "y2"],
            vertical: vertical
        };
        var majorTicks = [];

        var container = this.gridLinesVisual();

        function render(tickPositions, gridLine, skipUnit) {
            var count = tickPositions.length;
            var step = Math.max(1, gridLine.step);

            if (gridLine.visible) {
                for (var i = gridLine.skip; i < count; i += step) {
                    var pos = round(tickPositions[i]);
                    if (!inArray(pos, majorTicks)) {
                        if (i % skipUnit !== 0 && (!axisLineVisible || linePos !== pos)) {
                            lineOptions.position = pos;
                            container.append(createAxisGridLine(lineOptions, gridLine));

                            majorTicks.push(pos);
                        }
                    }
                }
            }
        }

        render(this.getMajorTickPositions(), majorGridLines);
        render(this.getMinorTickPositions(), minorGridLines, majorUnit / minorUnit);

        return container.children;
    };

    Axis.prototype.reflow = function reflow (box) {
        var ref = this;
        var options = ref.options;
        var labels = ref.labels;
        var title = ref.title;
        var vertical = options.vertical;
        var count = labels.length;
        var sizeFn = vertical ? WIDTH : HEIGHT;
        var titleSize = title ? title.box[sizeFn]() : 0;
        var space = this.getActualTickSize() + options.margin + titleSize;
        var rootBox = (this.getRoot() || {}).box || box;
        var boxSize = rootBox[sizeFn]();
        var maxLabelSize = 0;

        for (var i = 0; i < count; i++) {
            var labelSize = labels[i].box[sizeFn]();
            if (labelSize + space <= boxSize) {
                maxLabelSize = Math.max(maxLabelSize, labelSize);
            }
        }

        if (vertical) {
            this.box = new Box(
                box.x1, box.y1,
                box.x1 + maxLabelSize + space, box.y2
            );
        } else {
            this.box = new Box(
                box.x1, box.y1,
                box.x2, box.y1 + maxLabelSize + space
            );
        }

        this.arrangeTitle();
        this.arrangeLabels();
        this.arrangeNotes();
    };

    Axis.prototype.getLabelsTickPositions = function getLabelsTickPositions () {
        return this.getMajorTickPositions();
    };

    Axis.prototype.labelTickIndex = function labelTickIndex (label) {
        return label.index;
    };

    Axis.prototype.arrangeLabels = function arrangeLabels () {
        var this$1 = this;

        var ref = this;
        var options = ref.options;
        var labels = ref.labels;
        var labelsBetweenTicks = this.labelsBetweenTicks();
        var vertical = options.vertical;
        var lineBox = this.lineBox();
        var mirror = options.labels.mirror;
        var tickPositions = this.getLabelsTickPositions();
        var labelOffset = this.getActualTickSize() + options.margin;

        for (var idx = 0; idx < labels.length; idx++) {
            var label = labels[idx];
            var tickIx = this$1.labelTickIndex(label);
            var labelSize = vertical ? label.box.height() : label.box.width();
            var labelPos = tickPositions[tickIx] - (labelSize / 2);
            var labelBox = (void 0), firstTickPosition = (void 0), nextTickPosition = (void 0);

            if (vertical) {
                if (labelsBetweenTicks) {
                    firstTickPosition = tickPositions[tickIx];
                    nextTickPosition = tickPositions[tickIx + 1];

                    var middle = firstTickPosition + (nextTickPosition - firstTickPosition) / 2;
                    labelPos = middle - (labelSize / 2);
                }

                var labelX = lineBox.x2;

                if (mirror) {
                    labelX += labelOffset;
                    label.options.rotationOrigin = LEFT;
                } else {
                    labelX -= labelOffset + label.box.width();
                    label.options.rotationOrigin = RIGHT;
                }

                labelBox = label.box.move(labelX, labelPos);
            } else {
                if (labelsBetweenTicks) {
                    firstTickPosition = tickPositions[tickIx];
                    nextTickPosition = tickPositions[tickIx + 1];
                } else {
                    firstTickPosition = labelPos;
                    nextTickPosition = labelPos + labelSize;
                }

                var labelY = lineBox.y1;

                if (mirror) {
                    labelY -= labelOffset + label.box.height();
                    label.options.rotationOrigin = BOTTOM;
                } else {
                    labelY += labelOffset;
                    label.options.rotationOrigin = TOP;
                }

                labelBox = new Box(firstTickPosition, labelY,
                                nextTickPosition, labelY + label.box.height());
            }

            label.reflow(labelBox);
        }
    };

    Axis.prototype.autoRotateLabels = function autoRotateLabels () {
        if (this.options.autoRotateLabels && !this.options.vertical) {
            var tickPositions = this.getMajorTickPositions();
            var labels = this.labels;
            var angle;

            for (var idx = 0; idx < labels.length; idx++) {
                var width = Math.abs(tickPositions[idx + 1] - tickPositions[idx]);
                var labelBox = labels[idx].box;

                if (labelBox.width() > width) {
                    if (labelBox.height() > width) {
                        angle = -90;
                        break;
                    }
                    angle = -45;
                }
            }

            if (angle) {
                for (var idx$1 = 0; idx$1 < labels.length; idx$1++) {
                    labels[idx$1].options.rotation = angle;
                    labels[idx$1].reflow(new Box());
                }
                return true;
            }
        }
    };

    Axis.prototype.arrangeTitle = function arrangeTitle () {
        var ref = this;
        var options = ref.options;
        var title = ref.title;
        var mirror = options.labels.mirror;
        var vertical = options.vertical;

        if (title) {
            if (vertical) {
                title.options.align = mirror ? RIGHT : LEFT;
                title.options.vAlign = title.options.position;
            } else {
                title.options.align = title.options.position;
                title.options.vAlign = mirror ? TOP : BOTTOM;
            }

            title.reflow(this.box);
        }
    };

    Axis.prototype.arrangeNotes = function arrangeNotes () {
        var this$1 = this;

        for (var idx = 0; idx < this.notes.length; idx++) {
            var item = this$1.notes[idx];
            var value = item.options.value;
            var slot = (void 0);

            if (defined(value)) {
                if (this$1.shouldRenderNote(value)) {
                    item.show();
                } else {
                    item.hide();
                }

                slot = this$1.noteSlot(value);
            } else {
                item.hide();
            }

            item.reflow(slot || this$1.lineBox());
        }
    };

    Axis.prototype.noteSlot = function noteSlot (value) {
        return this.getSlot(value);
    };

    Axis.prototype.alignTo = function alignTo (secondAxis) {
        var lineBox = secondAxis.lineBox();
        var vertical = this.options.vertical;
        var pos = vertical ? Y : X;

        this.box.snapTo(lineBox, pos);
        if (vertical) {
            this.box.shrink(0, this.lineBox().height() - lineBox.height());
        } else {
            this.box.shrink(this.lineBox().width() - lineBox.width(), 0);
        }
        this.box[pos + 1] -= this.lineBox()[pos + 1] - lineBox[pos + 1];
        this.box[pos + 2] -= this.lineBox()[pos + 2] - lineBox[pos + 2];
    };

    Axis.prototype.axisLabelText = function axisLabelText (value, dataItem, options) {
        var tmpl = getTemplate(options);
        var text = value;

        if (tmpl) {
            text = tmpl({ value: value, dataItem: dataItem, format: options.format, culture: options.culture });
        } else if (options.format) {
            text = this.chartService.format.localeAuto(options.format, [ value ], options.culture);
        }

        return text;
    };

    Axis.prototype.slot = function slot (from , to, limit) {
        var slot = this.getSlot(from, to, limit);
        if (slot) {
            return slot.toRect();
        }
    };

    Axis.prototype.contentBox = function contentBox () {
        var box = this.box.clone();
        var labels = this.labels;
        if (labels.length) {
            var axis = this.options.vertical ? Y : X;
            if (this.chartService.isPannable(axis)) {
                var offset = this.maxLabelOffset();
                box[axis + 1] -= offset.start;
                box[axis + 2] += offset.end;
            } else {
                if (labels[0].options.visible) {
                    box.wrap(labels[0].box);
                }
                var lastLabel = labels[labels.length - 1];
                if (lastLabel.options.visible) {
                    box.wrap(lastLabel.box);
                }
            }
        }

        return box;
    };

    Axis.prototype.maxLabelOffset = function maxLabelOffset () {
        var this$1 = this;

        var ref = this.options;
        var vertical = ref.vertical;
        var reverse = ref.reverse;
        var labelsBetweenTicks = this.labelsBetweenTicks();
        var tickPositions = this.getLabelsTickPositions();
        var offsetField = vertical ? Y : X;
        var labels = this.labels;
        var startPosition = reverse ? 1 : 0;
        var endPosition = reverse ? 0 : 1;
        var maxStartOffset = 0;
        var maxEndOffset = 0;

        for (var idx = 0; idx < labels.length; idx++) {
            var label = labels[idx];
            var tickIx = this$1.labelTickIndex(label);
            var startTick = (void 0), endTick = (void 0);

            if (labelsBetweenTicks) {
                startTick = tickPositions[tickIx + startPosition];
                endTick = tickPositions[tickIx + endPosition];
            } else {
                startTick = endTick = tickPositions[tickIx];
            }

            maxStartOffset = Math.max(maxStartOffset, startTick - label.box[offsetField + 1]);
            maxEndOffset = Math.max(maxEndOffset, label.box[offsetField + 2] - endTick);
        }

        return {
            start: maxStartOffset,
            end: maxEndOffset
        };
    };

    Axis.prototype.limitRange = function limitRange (from, to, min, max, offset) {
        var options = this.options;

        if ((from < min && offset < 0 && (!defined(options.min) || options.min <= min)) || (max < to && offset > 0 && (!defined(options.max) || max <= options.max))) {
            return null;
        }

        if ((to < min && offset > 0) || (max < from && offset < 0)) {
            return {
                min: from,
                max: to
            };
        }

        var rangeSize = to - from;
        var minValue = from;
        var maxValue = to;

        if (from < min && offset < 0) {
            minValue = limitValue(from, min, max);
            maxValue = limitValue(from + rangeSize, min + rangeSize, max);
        } else if (to > max && offset > 0) {
            maxValue = limitValue(to, min, max);
            minValue = limitValue(to - rangeSize, min, max - rangeSize);
        }

        return {
            min: minValue,
            max: maxValue
        };
    };

    Axis.prototype.valueRange = function valueRange () {
        return {
            min: this.seriesMin,
            max: this.seriesMax
        };
    };

    Axis.prototype.labelsBetweenTicks = function labelsBetweenTicks () {
        return !this.options.justified;
    };

    //add legacy fields to the options that are no longer generated by default
    Axis.prototype.prepareUserOptions = function prepareUserOptions () {
    };

    return Axis;
}(ChartElement));

setDefaultOptions(Axis, {
    labels: {
        visible: true,
        rotation: 0,
        mirror: false,
        step: 1,
        skip: 0
    },
    line: {
        width: 1,
        color: BLACK,
        visible: true
    },
    title: {
        visible: true,
        position: CENTER
    },
    majorTicks: {
        align: OUTSIDE,
        size: 4,
        skip: 0,
        step: 1
    },
    minorTicks: {
        align: OUTSIDE,
        size: 3,
        skip: 0,
        step: 1
    },
    axisCrossingValue: 0,
    majorTickType: OUTSIDE,
    minorTickType: NONE,
    majorGridLines: {
        skip: 0,
        step: 1
    },
    minorGridLines: {
        visible: false,
        width: 1,
        color: BLACK,
        skip: 0,
        step: 1
    },
    // TODO: Move to line or labels options
    margin: 5,
    visible: true,
    reverse: false,
    justified: true,
    notes: {
        label: {
            text: ""
        }
    },

    _alignLines: true,
    _deferLabels: false
});

var MILLISECONDS = "milliseconds";
var SECONDS = "seconds";
var MINUTES = "minutes";
var HOURS = "hours";
var DAYS = "days";
var WEEKS = "weeks";
var MONTHS = "months";
var YEARS = "years";

var TIME_PER_MILLISECOND = 1;
var TIME_PER_SECOND = 1000;
var TIME_PER_MINUTE = 60 * TIME_PER_SECOND;
var TIME_PER_HOUR = 60 * TIME_PER_MINUTE;
var TIME_PER_DAY = 24 * TIME_PER_HOUR;
var TIME_PER_WEEK = 7 * TIME_PER_DAY;
var TIME_PER_MONTH = 31 * TIME_PER_DAY;
var TIME_PER_YEAR = 365 * TIME_PER_DAY;
var TIME_PER_UNIT = {
    "years": TIME_PER_YEAR,
    "months": TIME_PER_MONTH,
    "weeks": TIME_PER_WEEK,
    "days": TIME_PER_DAY,
    "hours": TIME_PER_HOUR,
    "minutes": TIME_PER_MINUTE,
    "seconds": TIME_PER_SECOND,
    "milliseconds": TIME_PER_MILLISECOND
};

function absoluteDateDiff(a, b) {
    var diff = a.getTime() - b;
    var offsetDiff = a.getTimezoneOffset() - b.getTimezoneOffset();

    return diff - (offsetDiff * TIME_PER_MINUTE);
}

function addTicks(date, ticks) {
    return new Date(date.getTime() + ticks);
}

function toDate(value) {
    var result;

    if (value instanceof Date) {
        result = value;
    } else if (value) {
        result = new Date(value);
    }

    return result;
}

function startOfWeek(date, weekStartDay) {
    if ( weekStartDay === void 0 ) weekStartDay = 0;

    var daysToSubtract = 0;
    var day = date.getDay();

    if (!isNaN(day)) {
        while (day !== weekStartDay) {
            if (day === 0) {
                day = 6;
            } else {
                day--;
            }

            daysToSubtract++;
        }
    }

    return addTicks(date, -daysToSubtract * TIME_PER_DAY);
}

function adjustDST(date, hours) {
    if (hours === 0 && date.getHours() === 23) {
        date.setHours(date.getHours() + 2);
        return true;
    }

    return false;
}

function addHours(date, hours) {
    var roundedDate = new Date(date);

    roundedDate.setMinutes(0, 0, 0);

    var tzDiff = (date.getTimezoneOffset() - roundedDate.getTimezoneOffset()) * TIME_PER_MINUTE;

    return addTicks(roundedDate, tzDiff + hours * TIME_PER_HOUR);
}

function addDuration(dateValue, value, unit, weekStartDay) {
    var result = dateValue;

    if (dateValue) {
        var date = toDate(dateValue);
        var hours = date.getHours();

        if (unit === YEARS) {
            result = new Date(date.getFullYear() + value, 0, 1);
            adjustDST(result, 0);
        } else if (unit === MONTHS) {
            result = new Date(date.getFullYear(), date.getMonth() + value, 1);
            adjustDST(result, hours);
        } else if (unit === WEEKS) {
            result = addDuration(startOfWeek(date, weekStartDay), value * 7, DAYS);
            adjustDST(result, hours);
        } else if (unit === DAYS) {
            result = new Date(date.getFullYear(), date.getMonth(), date.getDate() + value);
            adjustDST(result, hours);
        } else if (unit === HOURS) {
            result = addHours(date, value);
        } else if (unit === MINUTES) {
            result = addTicks(date, value * TIME_PER_MINUTE);

            if (result.getSeconds() > 0) {
                result.setSeconds(0);
            }
        } else if (unit === SECONDS) {
            result = addTicks(date, value * TIME_PER_SECOND);
        } else if (unit === MILLISECONDS) {
            result = addTicks(date, value);
        }

        if (unit !== MILLISECONDS && result.getMilliseconds() > 0) {
            result.setMilliseconds(0);
        }
    }

    return result;
}

function floorDate(date, unit, weekStartDay) {
    return addDuration(toDate(date), 0, unit, weekStartDay);
}

function ceilDate(dateValue, unit, weekStartDay) {
    var date = toDate(dateValue);

    if (date && floorDate(date, unit, weekStartDay).getTime() === date.getTime()) {
        return date;
    }

    return addDuration(date, 1, unit, weekStartDay);
}

function dateComparer(a, b) {
    if (a && b) {
        return a.getTime() - b.getTime();
    }

    return -1;
}

function dateDiff(a, b) {
    return a.getTime() - b;
}

function toTime(value) {
    if (isArray(value)) {
        var result = [];
        for (var idx = 0; idx < value.length; idx++) {
            result.push(toTime(value[idx]));
        }

        return result;
    } else if (value) {
        return toDate(value).getTime();
    }
}

function dateEquals(a, b) {
    if (a && b) {
        return toTime(a) === toTime(b);
    }

    return a === b;
}

function timeIndex(date, start, baseUnit) {
    return absoluteDateDiff(date, start) / TIME_PER_UNIT[baseUnit];
}

function dateIndex(value, start, baseUnit, baseUnitStep) {
    var date = toDate(value);
    var startDate = toDate(start);
    var index;

    if (baseUnit === MONTHS) {
        index = (date.getMonth() - startDate.getMonth() + (date.getFullYear() - startDate.getFullYear()) * 12) +
            timeIndex(date, new Date(date.getFullYear(), date.getMonth()), DAYS) / new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();
    } else if (baseUnit === YEARS) {
        index = date.getFullYear() - startDate.getFullYear() + dateIndex(date, new Date(date.getFullYear(), 0), MONTHS, 1) / 12;
    } else if (baseUnit === DAYS || baseUnit === WEEKS) {
        index = timeIndex(date, startDate, baseUnit);
    } else {
        index = dateDiff(date, start) / TIME_PER_UNIT[baseUnit];
    }

    return index / baseUnitStep;
}

function duration(a, b, unit) {
    var diff;

    if (unit === YEARS) {
        diff = b.getFullYear() - a.getFullYear();
    } else if (unit === MONTHS) {
        diff = duration(a, b, YEARS) * 12 + b.getMonth() - a.getMonth();
    } else if (unit === DAYS) {
        diff = Math.floor(dateDiff(b, a) / TIME_PER_DAY);
    } else {
        diff = Math.floor(dateDiff(b, a) / TIME_PER_UNIT[unit]);
    }

    return diff;
}

function parseDate(intlService, date) {
    var result;
    if (isString(date)) {
        result = intlService.parseDate(date) || toDate(date);
    } else {
        result = toDate(date);
    }
    return result;
}

function parseDates(intlService, dates) {
    if (isArray(dates)) {
        var result = [];
        for (var idx = 0; idx < dates.length; idx++) {
            result.push(parseDate(intlService, dates[idx]));
        }

        return result;
    }

    return parseDate(intlService, dates);
}

var MIN_CATEGORY_POINTS_RANGE = 0.01;

function indexOf(value, arr) {
    if (value instanceof Date) {
        var length = arr.length;
        for (var idx = 0; idx < length; idx++) {
            if (dateEquals(arr[idx], value)) {
                return idx;
            }
        }

        return -1;
    }

    return arr.indexOf(value);
}

var CategoryAxis = (function (Axis$$1) {
    function CategoryAxis () {
        Axis$$1.apply(this, arguments);
    }

    if ( Axis$$1 ) CategoryAxis.__proto__ = Axis$$1;
    CategoryAxis.prototype = Object.create( Axis$$1 && Axis$$1.prototype );
    CategoryAxis.prototype.constructor = CategoryAxis;

    CategoryAxis.prototype.initFields = function initFields () {
        this._ticks = {};
    };

    CategoryAxis.prototype.categoriesHash = function categoriesHash () {
        return "";
    };

    CategoryAxis.prototype.clone = function clone () {
        var copy = new CategoryAxis(Object.assign({}, this.options, {
            categories: this.options.srcCategories
        }), this.chartService);
        copy.createLabels();

        return copy;
    };

    CategoryAxis.prototype.initUserOptions = function initUserOptions (options) {
        var categories = options.categories || [];
        var definedMin = defined(options.min);
        var definedMax = defined(options.max);
        options.srcCategories = options.categories = categories;

        if ((definedMin || definedMax) && categories.length) {
            var min = definedMin ? Math.floor(options.min) : 0;
            var max;

            if (definedMax) {
                max = options.justified ? Math.floor(options.max) + 1 : Math.ceil(options.max);
            } else {
                max = categories.length;
            }

            options.categories = options.categories.slice(min, max);
        }

        return options;
    };

    CategoryAxis.prototype.rangeIndices = function rangeIndices () {
        var options = this.options;
        var length = options.categories.length || 1;
        var min = isNumber(options.min) ? options.min % 1 : 0;
        var max;

        if (isNumber(options.max) && options.max % 1 !== 0 && options.max < this.totalRange().max) {
            max = length - (1 - options.max % 1);
        } else {
            max = length - (options.justified ? 1 : 0);
        }

        return {
            min: min,
            max: max
        };
    };

    CategoryAxis.prototype.totalRangeIndices = function totalRangeIndices (limit) {
        var options = this.options;
        var min = isNumber(options.min) ? options.min : 0;
        var max;

        if (isNumber(options.max)) {
            max = options.max;
        } else if (isNumber(options.min)) {
            max = min + options.categories.length;
        } else {
            max = this.totalRange().max || 1;
        }

        if (limit) {
            var totalRange = this.totalRange();
            min = limitValue(min, 0, totalRange.max);
            max = limitValue(max, 0, totalRange.max);
        }

        return {
            min: min,
            max: max
        };
    };

    CategoryAxis.prototype.range = function range () {
        var options = this.options;
        var min = isNumber(options.min) ? options.min : 0;
        var max = isNumber(options.max) ? options.max : this.totalRange().max;

        return {
            min: min,
            max: max
        };
    };

    CategoryAxis.prototype.roundedRange = function roundedRange () {
        return this.range();
    };

    CategoryAxis.prototype.totalRange = function totalRange () {
        var options = this.options;
        return { min: 0, max: Math.max(this._seriesMax || 0, options.srcCategories.length) - (options.justified ? 1 : 0) };
    };

    CategoryAxis.prototype.scaleOptions = function scaleOptions () {
        var ref = this.rangeIndices();
        var min = ref.min;
        var max = ref.max;
        var lineBox = this.lineBox();
        var size = this.options.vertical ? lineBox.height() : lineBox.width();
        var scale = size / ((max - min) || 1);

        return {
            scale: scale * (this.options.reverse ? -1 : 1),
            box: lineBox,
            min: min,
            max: max
        };
    };

    CategoryAxis.prototype.arrangeLabels = function arrangeLabels () {
        Axis$$1.prototype.arrangeLabels.call(this);
        this.hideOutOfRangeLabels();
    };

    CategoryAxis.prototype.hideOutOfRangeLabels = function hideOutOfRangeLabels () {
        var ref = this;
        var box = ref.box;
        var labels = ref.labels;

        if (labels.length) {
            var valueAxis = this.options.vertical ? Y : X;
            var start = box[valueAxis + 1];
            var end = box[valueAxis + 2];
            var firstLabel = labels[0];
            var lastLabel = last(labels);

            if (firstLabel.box[valueAxis + 1] > end || firstLabel.box[valueAxis + 2] < start) {
                firstLabel.options.visible = false;
            }
            if (lastLabel.box[valueAxis + 1] > end || lastLabel.box[valueAxis + 2] < start) {
                lastLabel.options.visible = false;
            }
        }
    };

    CategoryAxis.prototype.getMajorTickPositions = function getMajorTickPositions () {
        return this.getTicks().majorTicks;
    };

    CategoryAxis.prototype.getMinorTickPositions = function getMinorTickPositions () {
        return this.getTicks().minorTicks;
    };

    CategoryAxis.prototype.getLabelsTickPositions = function getLabelsTickPositions () {
        return this.getTicks().labelTicks;
    };

    CategoryAxis.prototype.tickIndices = function tickIndices (stepSize) {
        var ref = this.rangeIndices();
        var min = ref.min;
        var max = ref.max;
        var limit = Math.ceil(max);
        var current = Math.floor(min);
        var indices = [];

        while (current <= limit) {
            indices.push(current);
            current += stepSize;
        }

        return indices;
    };

    CategoryAxis.prototype.getTickPositions = function getTickPositions (stepSize) {
        var ref = this.options;
        var vertical = ref.vertical;
        var reverse = ref.reverse;
        var ref$1 = this.scaleOptions();
        var scale = ref$1.scale;
        var box = ref$1.box;
        var min = ref$1.min;
        var pos = box[(vertical ? Y : X) + (reverse ? 2 : 1)];
        var indices = this.tickIndices(stepSize);
        var positions = [];

        for (var idx = 0; idx < indices.length; idx++) {
            positions.push(pos + round(scale * (indices[idx] - min), COORD_PRECISION));
        }

        return positions;
    };

    CategoryAxis.prototype.getTicks = function getTicks () {
        var options = this.options;
        var cache = this._ticks;
        var range = this.rangeIndices();
        var lineBox = this.lineBox();
        var hash = lineBox.getHash() + range.min + "," + range.max + options.reverse + options.justified;

        if (cache._hash !== hash) {
            var hasMinor = options.minorTicks.visible || options.minorGridLines.visible;
            cache._hash = hash;
            cache.labelTicks = this.getTickPositions(1);
            cache.majorTicks = this.filterOutOfRangePositions(cache.labelTicks, lineBox);
            cache.minorTicks = hasMinor ? this.filterOutOfRangePositions(this.getTickPositions(0.5), lineBox) : [];
        }

        return cache;
    };

    CategoryAxis.prototype.filterOutOfRangePositions = function filterOutOfRangePositions (positions, lineBox) {
        if (!positions.length) {
            return positions;
        }

        var axis = this.options.vertical ? Y : X;
        var inRange = function (position) { return lineBox[axis + 1] <= position && position <= lineBox[axis + 2]; };

        var end = positions.length - 1;
        var startIndex = 0;
        while (!inRange(positions[startIndex]) && startIndex <= end) {
            startIndex++;
        }

        var endIndex = end;

        while (!inRange(positions[endIndex]) && endIndex >= 0) {
            endIndex--;
        }

        return positions.slice(startIndex, endIndex + 1);
    };

    CategoryAxis.prototype.getSlot = function getSlot (from, to, limit) {
        var options = this.options;
        var reverse = options.reverse;
        var justified = options.justified;
        var vertical = options.vertical;
        var ref = this.scaleOptions();
        var scale = ref.scale;
        var box = ref.box;
        var min = ref.min;
        var valueAxis = vertical ? Y : X;
        var lineStart = box[valueAxis + (reverse ? 2 : 1)];
        var slotBox = box.clone();
        var singleSlot = !defined(to);

        var start = valueOrDefault(from, 0);
        var end = valueOrDefault(to, start);
        end = Math.max(end - 1, start);

        // Fixes transient bug caused by iOS 6.0 JIT
        // (one can never be too sure)
        end = Math.max(start, end);

        var p1 = lineStart + (start - min) * scale;
        var p2 = lineStart + (end + 1 - min) * scale;

        if (singleSlot && justified) {
            p2 = p1;
        }

        if (limit) {
            p1 = limitValue(p1, box[valueAxis + 1], box[valueAxis + 2]);
            p2 = limitValue(p2, box[valueAxis + 1], box[valueAxis + 2]);
        }

        slotBox[valueAxis + 1] = reverse ? p2 : p1;
        slotBox[valueAxis + 2] = reverse ? p1 : p2;

        return slotBox;
    };

    CategoryAxis.prototype.limitSlot = function limitSlot (slot) {
        var vertical = this.options.vertical;
        var valueAxis = vertical ? Y : X;
        var lineBox = this.lineBox();
        var limittedSlot = slot.clone();

        limittedSlot[valueAxis + 1] = limitValue(slot[valueAxis + 1], lineBox[valueAxis + 1], lineBox[valueAxis + 2]);
        limittedSlot[valueAxis + 2] = limitValue(slot[valueAxis + 2], lineBox[valueAxis + 1], lineBox[valueAxis + 2]);

        return limittedSlot;
    };

    CategoryAxis.prototype.slot = function slot (from, to, limit) {
        var min = Math.floor(this.options.min || 0);
        var start = from;
        var end = to;

        if (typeof start === "string") {
            start = this.categoryIndex(start);
        } else if (isNumber(start)) {
            start -= min;
        }

        if (typeof end === "string") {
            end = this.categoryIndex(end);
        } else if (isNumber(end)) {
            end -= min;
        }

        return Axis$$1.prototype.slot.call(this, start, end, limit);
    };

    CategoryAxis.prototype.pointCategoryIndex = function pointCategoryIndex (point) {
        var ref = this.options;
        var reverse = ref.reverse;
        var justified = ref.justified;
        var vertical = ref.vertical;
        var valueAxis = vertical ? Y : X;
        var ref$1 = this.scaleOptions();
        var scale = ref$1.scale;
        var box = ref$1.box;
        var min = ref$1.min;
        var max = ref$1.max;
        var startValue = reverse ? max : min;
        var lineStart = box[valueAxis + 1];
        var lineEnd = box[valueAxis + 2];
        var pos = point[valueAxis];

        if (pos < lineStart || pos > lineEnd) {
            return null;
        }

        var value = startValue + (pos - lineStart) / scale;
        var diff = value % 1;

        if (justified) {
            value = Math.round(value);
        } else if (diff === 0 && value > 0) {
            value--;
        }

        return Math.floor(value);
    };

    CategoryAxis.prototype.getCategory = function getCategory (point) {
        var index = this.pointCategoryIndex(point);

        if (index === null) {
            return null;
        }

        return this.options.categories[index];
    };

    CategoryAxis.prototype.categoryIndex = function categoryIndex (value) {
        return this.totalIndex(value) - Math.floor(this.options.min || 0);
    };

    CategoryAxis.prototype.categoryAt = function categoryAt (index, total) {
        var options = this.options;

        return (total ? options.srcCategories : options.categories)[index];
    };

    CategoryAxis.prototype.categoriesCount = function categoriesCount () {
        return (this.options.categories || []).length;
    };

    CategoryAxis.prototype.translateRange = function translateRange (delta) {
        var options = this.options;
        var lineBox = this.lineBox();
        var size = options.vertical ? lineBox.height() : lineBox.width();
        var range = options.categories.length;
        var scale = size / range;
        var offset = round(delta / scale, DEFAULT_PRECISION);

        return {
            min: offset,
            max: range + offset
        };
    };

    CategoryAxis.prototype.zoomRange = function zoomRange (rate) {
        var rangeIndices = this.totalRangeIndices();
        var ref = this.totalRange();
        var totalMin = ref.min;
        var totalMax = ref.max;
        var min = limitValue(rangeIndices.min + rate, totalMin, totalMax);
        var max = limitValue(rangeIndices.max - rate, totalMin, totalMax);

        if (max - min > 0) {
            return {
                min: min,
                max: max
            };
        }
    };

    CategoryAxis.prototype.scaleRange = function scaleRange (scale) {
        var range = this.options.categories.length;
        var delta = scale * range;

        return {
            min: -delta,
            max: range + delta
        };
    };

    CategoryAxis.prototype.labelsCount = function labelsCount () {
        var labelsRange = this.labelsRange();

        return labelsRange.max - labelsRange.min;
    };

    CategoryAxis.prototype.labelsRange = function labelsRange () {
        var options = this.options;
        var justified = options.justified;
        var labelOptions = options.labels;
        var ref = this.totalRangeIndices(true);
        var min = ref.min;
        var max = ref.max;
        var start = Math.floor(min);

        if (!justified) {
            min = Math.floor(min);
            max = Math.ceil(max);
        } else {
            min = Math.ceil(min);
            max = Math.floor(max);
        }

        var skip;

        if (min > labelOptions.skip) {
            skip = labelOptions.skip + labelOptions.step * Math.ceil((min - labelOptions.skip) / labelOptions.step);
        } else {
            skip = labelOptions.skip;
        }

        return {
            min: skip - start,
            max: (options.categories.length ? max + (justified ? 1 : 0) : 0) - start
        };
    };

    CategoryAxis.prototype.createAxisLabel = function createAxisLabel (index, labelOptions) {
        var options = this.options;
        var dataItem = options.dataItems ? options.dataItems[index] : null;
        var category = valueOrDefault(options.categories[index], "");
        var text = this.axisLabelText(category, dataItem, labelOptions);

        return new AxisLabel(category, text, index, dataItem, labelOptions);
    };

    CategoryAxis.prototype.shouldRenderNote = function shouldRenderNote (value) {
        var range = this.totalRangeIndices();

        return Math.floor(range.min) <= value && value <= Math.ceil(range.max);
    };

    CategoryAxis.prototype.noteSlot = function noteSlot (value) {
        var options = this.options;
        var index = value - Math.floor(options.min || 0);
        return this.getSlot(index);
    };

    CategoryAxis.prototype.arrangeNotes = function arrangeNotes () {
        Axis$$1.prototype.arrangeNotes.call(this);
        this.hideOutOfRangeNotes();
    };

    CategoryAxis.prototype.hideOutOfRangeNotes = function hideOutOfRangeNotes () {
        var ref = this;
        var notes = ref.notes;
        var box = ref.box;
        if (notes && notes.length) {
            var valueAxis = this.options.vertical ? Y : X;
            var start = box[valueAxis + 1];
            var end = box[valueAxis + 2];

            for (var idx = 0; idx < notes.length; idx++) {
                var note = notes[idx];
                if (note.box && (end < note.box[valueAxis + 1] || note.box[valueAxis + 2] < start)) {
                    note.hide();
                }
            }
        }
    };

    CategoryAxis.prototype.pan = function pan (delta) {
        var range = this.totalRangeIndices(true);
        var ref = this.scaleOptions();
        var scale = ref.scale;
        var offset = round(delta / scale, DEFAULT_PRECISION);
        var totalRange = this.totalRange();
        var min = range.min + offset;
        var max = range.max + offset;

        return this.limitRange(min, max, 0, totalRange.max, offset);
    };

    CategoryAxis.prototype.pointsRange = function pointsRange (start, end) {
        var ref = this.options;
        var reverse = ref.reverse;
        var vertical = ref.vertical;
        var valueAxis = vertical ? Y : X;
        var range = this.totalRangeIndices(true);
        var ref$1 = this.scaleOptions();
        var scale = ref$1.scale;
        var box = ref$1.box;
        var lineStart = box[valueAxis + (reverse ? 2 : 1)];

        var diffStart = start[valueAxis] - lineStart;
        var diffEnd = end[valueAxis] - lineStart;

        var min = range.min + diffStart / scale;
        var max = range.min + diffEnd / scale;
        var rangeMin = Math.min(min, max);
        var rangeMax = Math.max(min, max);

        if (rangeMax - rangeMin >= MIN_CATEGORY_POINTS_RANGE) {
            return {
                min: rangeMin,
                max: rangeMax
            };
        }
    };

    CategoryAxis.prototype.valueRange = function valueRange () {
        return this.range();
    };

    CategoryAxis.prototype.totalIndex = function totalIndex (value) {
        var options = this.options;
        var index = this._categoriesMap ?
            this._categoriesMap.get(value) : indexOf(value, options.srcCategories);

        return index;
    };

    CategoryAxis.prototype.currentRangeIndices = function currentRangeIndices () {
        var options = this.options;
        var min = 0;

        if (isNumber(options.min)) {
            min = Math.floor(options.min);
        }

        var max;
        if (isNumber(options.max)) {
            max = options.justified ? Math.floor(options.max) : Math.ceil(options.max) - 1;
        } else {
            max = this.totalCount() - 1;
        }

        return {
            min: min,
            max: max
        };
    };

    CategoryAxis.prototype.mapCategories = function mapCategories () {
        if (!this._categoriesMap) {
            var map$$1 = this._categoriesMap = new HashMap();
            var srcCategories = this.options.srcCategories;
            for (var idx = 0; idx < srcCategories.length; idx++) {
                map$$1.set(srcCategories[idx], idx);
            }
        }
    };

    CategoryAxis.prototype.totalCount = function totalCount () {
        return Math.max(this.options.srcCategories.length, this._seriesMax || 0);
    };

    return CategoryAxis;
}(Axis));

setDefaultOptions(CategoryAxis, {
    type: "category",
    vertical: false,
    majorGridLines: {
        visible: false,
        width: 1,
        color: BLACK
    },
    labels: {
        zIndex: 1
    },
    justified: false,
    _deferLabels: true
});

var COORDINATE_LIMIT = 300000;

var DateLabelFormats = {
    milliseconds: "HH:mm:ss.fff",
    seconds: "HH:mm:ss",
    minutes: "HH:mm",
    hours: "HH:mm",
    days: "M/d",
    weeks: "M/d",
    months: "MMM 'yy",
    years: "yyyy"
};

var ZERO_THRESHOLD = 0.2;

var AUTO = "auto";
var BASE_UNITS = [
    MILLISECONDS, SECONDS, MINUTES, HOURS, DAYS, WEEKS, MONTHS, YEARS
];
var FIT = "fit";


function categoryRange(categories) {
    var range = categories._range;
    if (!range) {
        range = categories._range = sparseArrayLimits(categories);
        range.min = toDate(range.min);
        range.max = toDate(range.max);
    }

    return range;
}

var EmptyDateRange = function EmptyDateRange(options) {
    this.options = options;
};

EmptyDateRange.prototype.displayIndices = function displayIndices () {
    return {
        min: 0,
        max: 1
    };
};

EmptyDateRange.prototype.displayRange = function displayRange () {
    return {};
};

EmptyDateRange.prototype.total = function total () {
    return {};
};

EmptyDateRange.prototype.valueRange = function valueRange () {
    return {};
};

EmptyDateRange.prototype.valueIndex = function valueIndex () {
    return -1;
};

EmptyDateRange.prototype.values = function values () {
    return [];
};

EmptyDateRange.prototype.totalIndex = function totalIndex () {
    return -1;
};

EmptyDateRange.prototype.valuesCount = function valuesCount () {
    return 0;
};

EmptyDateRange.prototype.totalCount = function totalCount () {
    return 0;
};

EmptyDateRange.prototype.dateAt = function dateAt () {
    return null;
};

var DateRange = function DateRange(start, end, options) {
    this.options = options;
    options.baseUnitStep = options.baseUnitStep || 1;

    var roundToBaseUnit = options.roundToBaseUnit;
    var justified = options.justified;

    this.start = addDuration(start, 0, options.baseUnit, options.weekStartDay);
    var lowerEnd = this.roundToTotalStep(end);
    var expandEnd = !justified && dateEquals(end, lowerEnd) && !options.justifyEnd;

    this.end = this.roundToTotalStep(end, !justified, expandEnd ? 1 : 0);

    var min = options.min || start;
    this.valueStart = this.roundToTotalStep(min);
    this.displayStart = roundToBaseUnit ? this.valueStart : min;

    var max = options.max;
    if (!max) {
        this.valueEnd = lowerEnd;
        this.displayEnd = roundToBaseUnit || expandEnd ? this.end : end;
    } else {
        this.valueEnd = this.roundToTotalStep(max, false, !justified && dateEquals(max, this.roundToTotalStep(max)) ? -1 : 0);
        this.displayEnd = roundToBaseUnit ? this.roundToTotalStep(max, !justified) : options.max;
    }

    if (this.valueEnd < this.valueStart) {
        this.valueEnd = this.valueStart;
    }
    if (this.displayEnd <= this.displayStart) {
        this.displayEnd = this.roundToTotalStep(this.displayStart, false, 1);
    }
};

DateRange.prototype.displayRange = function displayRange () {
    return {
        min: this.displayStart,
        max: this.displayEnd
    };
};

DateRange.prototype.displayIndices = function displayIndices () {
    if (!this._indices) {
        var options = this.options;

        var baseUnit = options.baseUnit;
            var baseUnitStep = options.baseUnitStep;

        var minIdx = dateIndex(this.displayStart, this.valueStart, baseUnit, baseUnitStep);
        var maxIdx = dateIndex(this.displayEnd, this.valueStart, baseUnit, baseUnitStep);

        this._indices = { min: minIdx, max: maxIdx };
    }

    return this._indices;
};

DateRange.prototype.total = function total () {
    return {
        min: this.start,
        max: this.end
    };
};

DateRange.prototype.totalCount = function totalCount () {
    var last$$1 = this.totalIndex(this.end);

    return last$$1 + (this.options.justified ? 1 : 0);
};

DateRange.prototype.valueRange = function valueRange () {
    return {
        min: this.valueStart,
        max: this.valueEnd
    };
};

DateRange.prototype.valueIndex = function valueIndex (value) {
    var options = this.options;
    return Math.floor(dateIndex(value, this.valueStart, options.baseUnit, options.baseUnitStep));
};

DateRange.prototype.totalIndex = function totalIndex (value) {
    var options = this.options;
    return Math.floor(dateIndex(value, this.start, options.baseUnit, options.baseUnitStep));
};

DateRange.prototype.dateIndex = function dateIndex$1 (value) {
    var options = this.options;
    return dateIndex(value, this.valueStart, options.baseUnit, options.baseUnitStep);
};

DateRange.prototype.valuesCount = function valuesCount () {
    var maxIdx = this.valueIndex(this.valueEnd);

    return maxIdx + 1;
};

DateRange.prototype.values = function values () {
    var values = this._values;
    if (!values) {
        var options = this.options;
        var range = this.valueRange();
        this._values = values = [];

        for (var date = range.min; date <= range.max;) {
            values.push(date);
            date = addDuration(date, options.baseUnitStep, options.baseUnit, options.weekStartDay);
        }
    }

    return values;
};

DateRange.prototype.dateAt = function dateAt (index, total) {
    var options = this.options;

    return addDuration(total ? this.start : this.valueStart, options.baseUnitStep * index, options.baseUnit, options.weekStartDay);
};

DateRange.prototype.roundToTotalStep = function roundToTotalStep (value, upper, next) {
    var ref = this.options;
        var baseUnit = ref.baseUnit;
        var baseUnitStep = ref.baseUnitStep;
        var weekStartDay = ref.weekStartDay;
    var start = this.start;

    var step = dateIndex(value, start, baseUnit, baseUnitStep);
    var roundedStep = upper ? Math.ceil(step) : Math.floor(step);

    if (next) {
        roundedStep += next;
    }

    return addDuration(start, roundedStep * baseUnitStep, baseUnit, weekStartDay);
};

function autoBaseUnit(options, startUnit, startStep) {
    var categoryLimits = categoryRange(options.categories);
    var span = (options.max || categoryLimits.max) - (options.min || categoryLimits.min);
    var autoBaseUnitSteps = options.autoBaseUnitSteps;
    var maxDateGroups = options.maxDateGroups;
    var autoUnit = options.baseUnit === FIT;
    var autoUnitIx = startUnit ? BASE_UNITS.indexOf(startUnit) : 0;
    var baseUnit = autoUnit ? BASE_UNITS[autoUnitIx++] : options.baseUnit;
    var units = span / TIME_PER_UNIT[baseUnit];
    var totalUnits = units;
    var unitSteps, step, nextStep;

    while (!step || units >= maxDateGroups) {
        unitSteps = unitSteps || autoBaseUnitSteps[baseUnit].slice(0);

        do {
            nextStep = unitSteps.shift();
        } while (nextStep && startUnit === baseUnit && nextStep < startStep);

        if (nextStep) {
            step = nextStep;
            units = totalUnits / step;
        } else if (baseUnit === last(BASE_UNITS)) {
            step = Math.ceil(totalUnits / maxDateGroups);
            break;
        } else if (autoUnit) {
            baseUnit = BASE_UNITS[autoUnitIx++] || last(BASE_UNITS);
            totalUnits = span / TIME_PER_UNIT[baseUnit];
            unitSteps = null;
        } else {
            if (units > maxDateGroups) {
                step = Math.ceil(totalUnits / maxDateGroups);
            }
            break;
        }
    }

    options.baseUnitStep = step;
    options.baseUnit = baseUnit;
}

function defaultBaseUnit(options) {
    var categories = options.categories;
    var count = defined(categories) ? categories.length : 0;
    var minDiff = MAX_VALUE;
    var lastCategory, unit;

    for (var categoryIx = 0; categoryIx < count; categoryIx++) {
        var category = categories[categoryIx];

        if (category && lastCategory) {
            var diff = absoluteDateDiff(category, lastCategory);
            if (diff > 0) {
                minDiff = Math.min(minDiff, diff);

                if (minDiff >= TIME_PER_YEAR) {
                    unit = YEARS;
                } else if (minDiff >= TIME_PER_MONTH - TIME_PER_DAY * 3) {
                    unit = MONTHS;
                } else if (minDiff >= TIME_PER_WEEK) {
                    unit = WEEKS;
                } else if (minDiff >= TIME_PER_DAY) {
                    unit = DAYS;
                } else if (minDiff >= TIME_PER_HOUR) {
                    unit = HOURS;
                } else if (minDiff >= TIME_PER_MINUTE) {
                    unit = MINUTES;
                } else {
                    unit = SECONDS;
                }
            }
        }

        lastCategory = category;
    }

    options.baseUnit = unit || DAYS;
}

function initUnit(options) {
    var baseUnit = (options.baseUnit || "").toLowerCase();
    var useDefault = baseUnit !== FIT && !inArray(baseUnit, BASE_UNITS);

    if (useDefault) {
        defaultBaseUnit(options);
    }

    if (baseUnit === FIT || options.baseUnitStep === AUTO) {
        autoBaseUnit(options);
    }

    return options;
}

var DateCategoryAxis = (function (CategoryAxis$$1) {
    function DateCategoryAxis () {
        CategoryAxis$$1.apply(this, arguments);
    }

    if ( CategoryAxis$$1 ) DateCategoryAxis.__proto__ = CategoryAxis$$1;
    DateCategoryAxis.prototype = Object.create( CategoryAxis$$1 && CategoryAxis$$1.prototype );
    DateCategoryAxis.prototype.constructor = DateCategoryAxis;

    DateCategoryAxis.prototype.clone = function clone () {
        var copy = new DateCategoryAxis(Object.assign({}, this.options), this.chartService);
        copy.createLabels();

        return copy;
    };

    DateCategoryAxis.prototype.categoriesHash = function categoriesHash () {
        var start = this.dataRange.total().min;
        return this.options.baseUnit + this.options.baseUnitStep + start;
    };

    DateCategoryAxis.prototype.initUserOptions = function initUserOptions (options) {
        return options;
    };

    DateCategoryAxis.prototype.initFields = function initFields () {
        CategoryAxis$$1.prototype.initFields.call(this);

        var chartService = this.chartService;
        var intlService = chartService.intl;
        var options = this.options;

        var categories = options.categories || [];
        if (!categories._parsed) {
            categories = parseDates(intlService, categories);
            categories._parsed = true;
        }

        options = deepExtend({
            roundToBaseUnit: true
        }, options, {
            categories: categories,
            min: parseDate(intlService, options.min),
            max: parseDate(intlService, options.max)
        });

        if (chartService.panning && chartService.isPannable(options.vertical ? Y : X)) {
            options.roundToBaseUnit = false;
        }

        options.userSetBaseUnit = options.userSetBaseUnit || options.baseUnit;
        options.userSetBaseUnitStep = options.userSetBaseUnitStep || options.baseUnitStep;

        this.options = options;
        options.srcCategories = categories;

        if (categories.length > 0) {
            var range = categoryRange(categories);
            var maxDivisions = options.maxDivisions;

            this.dataRange = new DateRange(range.min, range.max, initUnit(options));

            if (maxDivisions) {
                var dataRange = this.dataRange.displayRange();

                var divisionOptions = Object.assign({}, options, {
                    justified: true,
                    roundToBaseUnit: false,
                    baseUnit: 'fit',
                    min: dataRange.min,
                    max: dataRange.max,
                    maxDateGroups: maxDivisions
                });

                var dataRangeOptions = this.dataRange.options;

                autoBaseUnit(divisionOptions, dataRangeOptions.baseUnit, dataRangeOptions.baseUnitStep);

                this.divisionRange = new DateRange(range.min, range.max, divisionOptions);
            } else {
                this.divisionRange = this.dataRange;
            }

        } else {
            options.baseUnit = options.baseUnit || DAYS;
            this.dataRange = this.divisionRange = new EmptyDateRange(options);
        }
    };

    DateCategoryAxis.prototype.tickIndices = function tickIndices (stepSize) {
        var ref = this;
        var dataRange = ref.dataRange;
        var divisionRange = ref.divisionRange;
        var valuesCount = divisionRange.valuesCount();

        if (!this.options.maxDivisions || !valuesCount) {
            return CategoryAxis$$1.prototype.tickIndices.call(this, stepSize);
        }

        var indices = [];
        var values = divisionRange.values();
        var offset = 0;

        if (!this.options.justified) {
            values = values.concat(divisionRange.dateAt(valuesCount));
            offset = 0.5;//align ticks to the center of not justified categories
        }

        for (var idx = 0; idx < values.length; idx++) {
            indices.push(dataRange.dateIndex(values[idx]) + offset);
            if (stepSize !== 1 && idx >= 1) {
                var last$$1 = indices.length - 1;
                indices.splice(idx, 0, indices[last$$1 - 1] + (indices[last$$1] - indices[last$$1 - 1]) * stepSize);
            }
        }

        return indices;
    };

    DateCategoryAxis.prototype.shouldRenderNote = function shouldRenderNote (value) {
        var range = this.range();
        var categories = this.options.categories || [];

        return dateComparer(value, range.min) >= 0 && dateComparer(value, range.max) <= 0 && categories.length;
    };

    DateCategoryAxis.prototype.parseNoteValue = function parseNoteValue (value) {
        return parseDate(this.chartService.intl, value);
    };

    DateCategoryAxis.prototype.noteSlot = function noteSlot (value) {
        return this.getSlot(value);
    };

    DateCategoryAxis.prototype.translateRange = function translateRange (delta) {
        var options = this.options;
        var baseUnit = options.baseUnit;
        var weekStartDay = options.weekStartDay;
        var vertical = options.vertical;
        var lineBox = this.lineBox();
        var size = vertical ? lineBox.height() : lineBox.width();
        var range = this.range();
        var scale = size / (range.max - range.min);
        var offset = round(delta / scale, DEFAULT_PRECISION);

        if (range.min && range.max) {
            var from = addTicks(options.min || range.min, offset);
            var to = addTicks(options.max || range.max, offset);

            range = {
                min: addDuration(from, 0, baseUnit, weekStartDay),
                max: addDuration(to, 0, baseUnit, weekStartDay)
            };
        }

        return range;
    };

    DateCategoryAxis.prototype.scaleRange = function scaleRange (delta) {
        var rounds = Math.abs(delta);
        var result = this.range();
        var from = result.min;
        var to = result.max;

        if (from && to) {
            while (rounds--) {
                var range = dateDiff(from, to);
                var step = Math.round(range * 0.1);
                if (delta < 0) {
                    from = addTicks(from, step);
                    to = addTicks(to, -step);
                } else {
                    from = addTicks(from, -step);
                    to = addTicks(to, step);
                }
            }

            result = { min: from, max: to };
        }

        return result;
    };

    DateCategoryAxis.prototype.labelsRange = function labelsRange () {
        return {
            min: this.options.labels.skip,
            max: this.divisionRange.valuesCount()
        };
    };

    DateCategoryAxis.prototype.pan = function pan (delta) {
        if (this.isEmpty()) {
            return null;
        }

        var options = this.options;
        var lineBox = this.lineBox();
        var size = options.vertical ? lineBox.height() : lineBox.width();
        var ref = this.dataRange.displayRange();
        var min = ref.min;
        var max = ref.max;
        var totalLimits = this.dataRange.total();
        var scale = size / (max - min);
        var offset = round(delta / scale, DEFAULT_PRECISION) * (options.reverse ? -1 : 1);
        var from = addTicks(min, offset);
        var to = addTicks(max, offset);

        var panRange = this.limitRange(toTime(from), toTime(to), toTime(totalLimits.min), toTime(totalLimits.max), offset);

        if (panRange) {
            panRange.min = toDate(panRange.min);
            panRange.max = toDate(panRange.max);
            panRange.baseUnit = options.baseUnit;
            panRange.baseUnitStep = options.baseUnitStep || 1;
            panRange.userSetBaseUnit = options.userSetBaseUnit;
            panRange.userSetBaseUnitStep = options.userSetBaseUnitStep;

            return panRange;
        }
    };

    DateCategoryAxis.prototype.pointsRange = function pointsRange (start, end) {
        if (this.isEmpty()) {
            return null;
        }

        var pointsRange = CategoryAxis$$1.prototype.pointsRange.call(this, start, end);
        var datesRange = this.dataRange.displayRange();
        var indicesRange = this.dataRange.displayIndices();
        var scale = dateDiff(datesRange.max, datesRange.min) / (indicesRange.max - indicesRange.min);
        var options = this.options;

        var min = addTicks(datesRange.min, pointsRange.min * scale);
        var max = addTicks(datesRange.min, pointsRange.max * scale);

        return {
            min: min,
            max: max,
            baseUnit: options.userSetBaseUnit || options.baseUnit,
            baseUnitStep: options.userSetBaseUnitStep || options.baseUnitStep
        };
    };

    DateCategoryAxis.prototype.zoomRange = function zoomRange (delta) {
        if (this.isEmpty()) {
            return null;
        }

        var options = this.options;
        var fit = options.userSetBaseUnit === FIT;
        var totalLimits = this.dataRange.total();
        var ref = this.dataRange.displayRange();
        var rangeMin = ref.min;
        var rangeMax = ref.max;
        var ref$1 = this.dataRange.options;
        var weekStartDay = ref$1.weekStartDay;
        var baseUnit = ref$1.baseUnit;
        var baseUnitStep = ref$1.baseUnitStep;
        var min = addDuration(rangeMin, delta * baseUnitStep, baseUnit, weekStartDay);
        var max = addDuration(rangeMax, -delta * baseUnitStep, baseUnit, weekStartDay);

        if (fit) {
            var autoBaseUnitSteps = options.autoBaseUnitSteps;
            var maxDateGroups = options.maxDateGroups;

            var maxDiff = last(autoBaseUnitSteps[baseUnit]) * maxDateGroups * TIME_PER_UNIT[baseUnit];
            var rangeDiff = dateDiff(rangeMax, rangeMin);
            var diff = dateDiff(max, min);
            var baseUnitIndex = BASE_UNITS.indexOf(baseUnit);
            var autoBaseUnitStep, ticks;

            if (diff < TIME_PER_UNIT[baseUnit] && baseUnit !== MILLISECONDS) {
                baseUnit = BASE_UNITS[baseUnitIndex - 1];
                autoBaseUnitStep = last(autoBaseUnitSteps[baseUnit]);
                ticks = (rangeDiff - (maxDateGroups - 1) * autoBaseUnitStep * TIME_PER_UNIT[baseUnit]) / 2;
                min = addTicks(rangeMin, ticks);
                max = addTicks(rangeMax, -ticks);

            } else if (diff > maxDiff && baseUnit !== YEARS) {
                var stepIndex = 0;

                do {
                    baseUnitIndex++;
                    baseUnit = BASE_UNITS[baseUnitIndex];
                    stepIndex = 0;
                    ticks = 2 * TIME_PER_UNIT[baseUnit];
                    do {
                        autoBaseUnitStep = autoBaseUnitSteps[baseUnit][stepIndex];
                        stepIndex++;
                    } while (stepIndex < autoBaseUnitSteps[baseUnit].length && ticks * autoBaseUnitStep < rangeDiff);
                } while (baseUnit !== YEARS && ticks * autoBaseUnitStep < rangeDiff);

                ticks = (ticks * autoBaseUnitStep - rangeDiff) / 2;
                if (ticks > 0) {
                    min = addTicks(rangeMin, -ticks);
                    max = addTicks(rangeMax, ticks);
                    min = addTicks(min, limitValue(max, totalLimits.min, totalLimits.max) - max);
                    max = addTicks(max, limitValue(min, totalLimits.min, totalLimits.max) - min);
                }
            }
        }

        if (min < totalLimits.min) {
            min = totalLimits.min;
        }
        if (max > totalLimits.max) {
            max = totalLimits.max;
        }

        if (min && max && dateDiff(max, min) > 0) {
            return {
                min: min,
                max: max,
                baseUnit: options.userSetBaseUnit || options.baseUnit,
                baseUnitStep: options.userSetBaseUnitStep || options.baseUnitStep
            };
        }
    };

    DateCategoryAxis.prototype.range = function range () {
        return this.dataRange.displayRange();
    };

    DateCategoryAxis.prototype.createAxisLabel = function createAxisLabel (index, labelOptions) {
        var options = this.options;
        var dataItem = options.dataItems && !options.maxDivisions ? options.dataItems[index] : null;
        var date = this.divisionRange.dateAt(index);
        var unitFormat = labelOptions.dateFormats[this.divisionRange.options.baseUnit];

        labelOptions.format = labelOptions.format || unitFormat;
        var text = this.axisLabelText(date, dataItem, labelOptions);
        if (text) {
            return new AxisLabel(date, text, index, dataItem, labelOptions);
        }
    };

    DateCategoryAxis.prototype.categoryIndex = function categoryIndex (value) {
        return this.dataRange.valueIndex(value);
    };

    DateCategoryAxis.prototype.slot = function slot (from, to, limit) {
        var dateRange = this.dataRange;
        var start = from;
        var end = to;

        if (start instanceof Date) {
            start = dateRange.dateIndex(start);
        }

        if (end instanceof Date) {
            end = dateRange.dateIndex(end);
        }

        var slot = this.getSlot(start, end, limit);
        if (slot) {
            return slot.toRect();
        }
    };

    DateCategoryAxis.prototype.getSlot = function getSlot (a, b, limit) {
        var start = a;
        var end = b;

        if (typeof start === OBJECT) {
            start = this.categoryIndex(start);
        }

        if (typeof end === OBJECT) {
            end = this.categoryIndex(end);
        }

        return CategoryAxis$$1.prototype.getSlot.call(this, start, end, limit);
    };

    DateCategoryAxis.prototype.valueRange = function valueRange () {
        var options = this.options;
        var range = categoryRange(options.srcCategories);

        return {
            min: toDate(range.min),
            max: toDate(range.max)
        };
    };

    DateCategoryAxis.prototype.categoryAt = function categoryAt (index, total) {
        return this.dataRange.dateAt(index, total);
    };

    DateCategoryAxis.prototype.categoriesCount = function categoriesCount () {
        return this.dataRange.valuesCount();
    };

    DateCategoryAxis.prototype.rangeIndices = function rangeIndices () {
        return this.dataRange.displayIndices();
    };

    DateCategoryAxis.prototype.labelsBetweenTicks = function labelsBetweenTicks () {
        return !this.divisionRange.options.justified;
    };

    DateCategoryAxis.prototype.prepareUserOptions = function prepareUserOptions () {
        if (this.isEmpty()) {
            return;
        }

        this.options.categories = this.dataRange.values();
    };

    DateCategoryAxis.prototype.getCategory = function getCategory (point) {
        var index = this.pointCategoryIndex(point);

        if (index === null) {
            return null;
        }

        return this.dataRange.dateAt(index);
    };

    DateCategoryAxis.prototype.totalIndex = function totalIndex (value) {
        return this.dataRange.totalIndex(value);
    };

    DateCategoryAxis.prototype.currentRangeIndices = function currentRangeIndices () {
        var range = this.dataRange.valueRange();
        return {
            min: this.dataRange.totalIndex(range.min),
            max: this.dataRange.totalIndex(range.max)
        };
    };

    DateCategoryAxis.prototype.totalRange = function totalRange () {
        return this.dataRange.total();
    };

    DateCategoryAxis.prototype.totalCount = function totalCount () {
        return this.dataRange.totalCount();
    };

    DateCategoryAxis.prototype.isEmpty = function isEmpty () {
        return !this.options.srcCategories.length;
    };

    DateCategoryAxis.prototype.roundedRange = function roundedRange () {
        if (this.options.roundToBaseUnit !== false || this.isEmpty()) {
            return this.range();
        }

        var options = this.options;
        var datesRange = categoryRange(options.srcCategories);

        var dateRange = new DateRange(datesRange.min, datesRange.max, Object.assign({}, options, {
            justified: false,
            roundToBaseUnit: true,
            justifyEnd: options.justified
        }));

        return dateRange.displayRange();
    };

    return DateCategoryAxis;
}(CategoryAxis));

setDefaultOptions(DateCategoryAxis, {
    type: DATE,
    labels: {
        dateFormats: DateLabelFormats
    },
    autoBaseUnitSteps: {
        milliseconds: [ 1, 10, 100 ],
        seconds: [ 1, 2, 5, 15, 30 ],
        minutes: [ 1, 2, 5, 15, 30 ],
        hours: [ 1, 2, 3 ],
        days: [ 1, 2, 3 ],
        weeks: [ 1, 2 ],
        months: [ 1, 2, 3, 6 ],
        years: [ 1, 2, 3, 5, 10, 25, 50 ]
    },
    maxDateGroups: 10
});

function autoAxisMin(min, max, narrow) {
    if (!min && !max) {
        return 0;
    }

    var axisMin;

    if (min >= 0 && max >= 0) {
        var minValue = min === max ? 0 : min;

        var diff = (max - minValue) / max;
        if (narrow === false || (!narrow && diff > ZERO_THRESHOLD)) {
            return 0;
        }

        axisMin = Math.max(0, minValue - ((max - minValue) / 2));
    } else {
        axisMin = min;
    }

    return axisMin;
}

function autoAxisMax(min, max, narrow) {
    if (!min && !max) {
        return 1;
    }

    var axisMax;

    if (min <= 0 && max <= 0) {
        var maxValue = min === max ? 0 : max;

        var diff = Math.abs((maxValue - min) / maxValue);
        if (narrow === false || (!narrow && diff > ZERO_THRESHOLD)) {
            return 0;
        }

        axisMax = Math.min(0, maxValue - ((min - maxValue) / 2));
    } else {
        axisMax = max;
    }

    return axisMax;
}

function floor(value, step) {
    return round(Math.floor(value / step) * step, DEFAULT_PRECISION);
}

function ceil(value, step) {
    return round(Math.ceil(value / step) * step, DEFAULT_PRECISION);
}

function limitCoordinate(value) {
    return Math.max(Math.min(value, COORDINATE_LIMIT), -COORDINATE_LIMIT);
}

var MIN_VALUE_RANGE = Math.pow(10, -DEFAULT_PRECISION + 1);

var NumericAxis = (function (Axis$$1) {
    function NumericAxis(seriesMin, seriesMax, options, chartService) {
        Axis$$1.call(this, Object.assign({}, options, {
            seriesMin: seriesMin,
            seriesMax: seriesMax
        }), chartService);
    }

    if ( Axis$$1 ) NumericAxis.__proto__ = Axis$$1;
    NumericAxis.prototype = Object.create( Axis$$1 && Axis$$1.prototype );
    NumericAxis.prototype.constructor = NumericAxis;

    NumericAxis.prototype.initUserOptions = function initUserOptions (options) {
        var autoOptions = autoAxisOptions(options.seriesMin, options.seriesMax, options);
        this.totalOptions = totalAxisOptions(autoOptions, options);

        return axisOptions(autoOptions, options);
    };

    NumericAxis.prototype.initFields = function initFields () {
        this.totalMin = this.totalOptions.min;
        this.totalMax = this.totalOptions.max;
        this.totalMajorUnit = this.totalOptions.majorUnit;
        this.seriesMin = this.options.seriesMin;
        this.seriesMax = this.options.seriesMax;
    };

    NumericAxis.prototype.clone = function clone () {
        return new NumericAxis(
            this.seriesMin,
            this.seriesMax,
            Object.assign({}, this.options),
            this.chartService
        );
    };

    NumericAxis.prototype.startValue = function startValue () {
        return 0;
    };

    NumericAxis.prototype.range = function range () {
        var options = this.options;
        return { min: options.min, max: options.max };
    };

    NumericAxis.prototype.getDivisions = function getDivisions (stepValue) {
        if (stepValue === 0) {
            return 1;
        }

        var options = this.options;
        var range = options.max - options.min;

        return Math.floor(round(range / stepValue, COORD_PRECISION)) + 1;
    };

    NumericAxis.prototype.getTickPositions = function getTickPositions (unit, skipUnit) {
        var options = this.options;
        var vertical = options.vertical;
        var reverse = options.reverse;
        var lineBox = this.lineBox();
        var lineSize = vertical ? lineBox.height() : lineBox.width();
        var range = options.max - options.min;
        var scale = lineSize / range;
        var step = unit * scale;
        var divisions = this.getDivisions(unit);
        var dir = (vertical ? -1 : 1) * (reverse ? -1 : 1);
        var startEdge = dir === 1 ? 1 : 2;
        var positions = [];
        var pos = lineBox[(vertical ? Y : X) + startEdge];
        var skipStep = 0;

        if (skipUnit) {
            skipStep = skipUnit / unit;
        }

        for (var idx = 0; idx < divisions; idx++) {
            if (idx % skipStep !== 0) {
                positions.push(round(pos, COORD_PRECISION));
            }

            pos = pos + step * dir;
        }

        return positions;
    };

    NumericAxis.prototype.getMajorTickPositions = function getMajorTickPositions () {
        return this.getTickPositions(this.options.majorUnit);
    };

    NumericAxis.prototype.getMinorTickPositions = function getMinorTickPositions () {
        return this.getTickPositions(this.options.minorUnit);
    };

    NumericAxis.prototype.getSlot = function getSlot (a, b, limit) {
        if ( limit === void 0 ) limit = false;

        var options = this.options;
        var vertical = options.vertical;
        var reverse = options.reverse;
        var valueAxis = vertical ? Y : X;
        var lineBox = this.lineBox();
        var lineStart = lineBox[valueAxis + (reverse ? 2 : 1)];
        var lineSize = vertical ? lineBox.height() : lineBox.width();
        var dir = reverse ? -1 : 1;
        var step = dir * (lineSize / (options.max - options.min));
        var slotBox = new Box(lineBox.x1, lineBox.y1, lineBox.x1, lineBox.y1);

        var start = a;
        var end = b;

        if (!defined(start)) {
            start = end || 0;
        }

        if (!defined(end)) {
            end = start || 0;
        }

        if (limit) {
            start = Math.max(Math.min(start, options.max), options.min);
            end = Math.max(Math.min(end, options.max), options.min);
        }

        var p1, p2;

        if (vertical) {
            p1 = options.max - Math.max(start, end);
            p2 = options.max - Math.min(start, end);
        } else {
            p1 = Math.min(start, end) - options.min;
            p2 = Math.max(start, end) - options.min;
        }

        slotBox[valueAxis + 1] = limitCoordinate(lineStart + step * (reverse ? p2 : p1));
        slotBox[valueAxis + 2] = limitCoordinate(lineStart + step * (reverse ? p1 : p2));

        return slotBox;
    };

    NumericAxis.prototype.getValue = function getValue (point) {
        var options = this.options;
        var vertical = options.vertical;
        var reverse = options.reverse;
        var max = Number(options.max);
        var min = Number(options.min);
        var valueAxis = vertical ? Y : X;
        var lineBox = this.lineBox();
        var lineStart = lineBox[valueAxis + (reverse ? 2 : 1)];
        var lineSize = vertical ? lineBox.height() : lineBox.width();
        var dir = reverse ? -1 : 1;
        var offset = dir * (point[valueAxis] - lineStart);
        var step = (max - min) / lineSize;
        var valueOffset = offset * step;

        if (offset < 0 || offset > lineSize) {
            return null;
        }

        var value = vertical ?
                max - valueOffset :
                min + valueOffset;

        return round(value, DEFAULT_PRECISION);
    };

    NumericAxis.prototype.translateRange = function translateRange (delta) {
        var options = this.options;
        var vertical = options.vertical;
        var reverse = options.reverse;
        var max = options.max;
        var min = options.min;
        var lineBox = this.lineBox();
        var size = vertical ? lineBox.height() : lineBox.width();
        var range = max - min;
        var scale = size / range;
        var offset = round(delta / scale, DEFAULT_PRECISION);

        if ((vertical || reverse) && !(vertical && reverse )) {
            offset = -offset;
        }

        return {
            min: min + offset,
            max: max + offset,
            offset: offset
        };
    };

    NumericAxis.prototype.scaleRange = function scaleRange (delta) {
        var options = this.options;
        var offset = -delta * options.majorUnit;

        return {
            min: options.min - offset,
            max: options.max + offset
        };
    };

    NumericAxis.prototype.labelsCount = function labelsCount () {
        return this.getDivisions(this.options.majorUnit);
    };

    NumericAxis.prototype.createAxisLabel = function createAxisLabel (index, labelOptions) {
        var options = this.options;
        var value = round(options.min + (index * options.majorUnit), DEFAULT_PRECISION);
        var text = this.axisLabelText(value, null, labelOptions);

        return new AxisLabel(value, text, index, null, labelOptions);
    };

    NumericAxis.prototype.shouldRenderNote = function shouldRenderNote (value) {
        var range = this.range();
        return range.min <= value && value <= range.max;
    };

    NumericAxis.prototype.pan = function pan (delta) {
        var range = this.translateRange(delta);
        return this.limitRange(range.min, range.max, this.totalMin, this.totalMax, range.offset);
    };

    NumericAxis.prototype.pointsRange = function pointsRange (start, end) {
        var startValue = this.getValue(start);
        var endValue = this.getValue(end);
        var min = Math.min(startValue, endValue);
        var max = Math.max(startValue, endValue);

        if (this.isValidRange(min, max)) {
            return {
                min: min,
                max: max
            };
        }
    };

    NumericAxis.prototype.zoomRange = function zoomRange (delta) {
        var ref = this;
        var totalMin = ref.totalMin;
        var totalMax = ref.totalMax;
        var newRange = this.scaleRange(delta);
        var min = limitValue(newRange.min, totalMin, totalMax);
        var max = limitValue(newRange.max, totalMin, totalMax);

        if (this.isValidRange(min, max)) {
            return {
                min: min,
                max: max
            };
        }
    };

    NumericAxis.prototype.isValidRange = function isValidRange (min, max) {
        return max - min > MIN_VALUE_RANGE;
    };

    return NumericAxis;
}(Axis));

function autoAxisOptions(seriesMin, seriesMax, options) {
    var narrowRange = options.narrowRange;

    var autoMin = autoAxisMin(seriesMin, seriesMax, narrowRange);
    var autoMax = autoAxisMax(seriesMin, seriesMax, narrowRange);

    var majorUnit = autoMajorUnit(autoMin, autoMax);
    var autoOptions = {
        majorUnit: majorUnit
    };

    if (options.roundToMajorUnit !== false) {
        if (autoMin < 0 && remainderClose(autoMin, majorUnit, 1 / 3)) {
            autoMin -= majorUnit;
        }

        if (autoMax > 0 && remainderClose(autoMax, majorUnit, 1 / 3)) {
            autoMax += majorUnit;
        }
    }

    autoOptions.min = floor(autoMin, majorUnit);
    autoOptions.max = ceil(autoMax, majorUnit);

    return autoOptions;
}

function totalAxisOptions(autoOptions, options) {
    return {
        min: defined(options.min) ? Math.min(autoOptions.min, options.min) : autoOptions.min,
        max: defined(options.max) ? Math.max(autoOptions.max, options.max) : autoOptions.max,
        majorUnit: autoOptions.majorUnit
    };
}

function clearNullValues(options, fields) {
    for (var idx = 0; idx < fields.length; idx++) {
        var field = fields[idx];
        if (options[field] === null) {
            options[field] = undefined;
        }
    }
}

function axisOptions(autoOptions, userOptions) {
    var options = userOptions;
    var userSetMin, userSetMax;

    if (userOptions) {
        clearNullValues(userOptions, [ 'min', 'max' ]);

        userSetMin = defined(userOptions.min);
        userSetMax = defined(userOptions.max);

        var userSetLimits = userSetMin || userSetMax;

        if (userSetLimits) {
            if (userOptions.min === userOptions.max) {
                if (userOptions.min > 0) {
                    userOptions.min = 0;
                } else {
                    userOptions.max = 1;
                }
            }
        }

        if (userOptions.majorUnit) {
            autoOptions.min = floor(autoOptions.min, userOptions.majorUnit);
            autoOptions.max = ceil(autoOptions.max, userOptions.majorUnit);
        } else if (userSetLimits) {
            options = deepExtend(autoOptions, userOptions);

            // Determine an auto major unit after min/max have been set
            autoOptions.majorUnit = autoMajorUnit(options.min, options.max);
        }
    }

    autoOptions.minorUnit = (options.majorUnit || autoOptions.majorUnit) / 5;

    var result = deepExtend(autoOptions, options);
    if (result.min >= result.max) {
        if (userSetMin && !userSetMax) {
            result.max = result.min + result.majorUnit;
        } else if (!userSetMin && userSetMax) {
            result.min = result.max - result.majorUnit;
        }
    }

    return result;
}

function remainderClose(value, divisor, ratio) {
    var remainder = round(Math.abs(value % divisor), DEFAULT_PRECISION);
    var threshold = divisor * (1 - ratio);

    return remainder === 0 || remainder > threshold;
}

setDefaultOptions(NumericAxis, {
    type: "numeric",
    min: 0,
    max: 1,
    vertical: true,
    majorGridLines: {
        visible: true,
        width: 1,
        color: BLACK
    },
    labels: {
        format: "#.####################"
    },
    zIndex: 1
});

var DateValueAxis = (function (Axis$$1) {
    function DateValueAxis(seriesMin, seriesMax, axisOptions, chartService) {
        var min = toDate(seriesMin);
        var max = toDate(seriesMax);

        var intlService = chartService.intl;
        var options = axisOptions || {};
        options = deepExtend(options || {}, {
            min: parseDate(intlService, options.min),
            max: parseDate(intlService, options.max),
            axisCrossingValue: parseDates(intlService, options.axisCrossingValues || options.axisCrossingValue)
        });
        options = applyDefaults$1(min, max, options);

        Axis$$1.call(this, options, chartService);

        this.intlService = intlService;
        this.seriesMin = min;
        this.seriesMax = max;

        var weekStartDay = options.weekStartDay || 0;
        this.totalMin = toTime(floorDate(toTime(min) - 1, options.baseUnit, weekStartDay));
        this.totalMax = toTime(ceilDate(toTime(max) + 1, options.baseUnit, weekStartDay));
    }

    if ( Axis$$1 ) DateValueAxis.__proto__ = Axis$$1;
    DateValueAxis.prototype = Object.create( Axis$$1 && Axis$$1.prototype );
    DateValueAxis.prototype.constructor = DateValueAxis;

    DateValueAxis.prototype.clone = function clone () {
        return new DateValueAxis(this.seriesMin, this.seriesMax, Object.assign({}, this.options), this.chartService);
    };

    DateValueAxis.prototype.range = function range () {
        var options = this.options;
        return { min: options.min, max: options.max };
    };

    DateValueAxis.prototype.getDivisions = function getDivisions (stepValue) {
        var options = this.options;

        return Math.floor(
            duration(options.min, options.max, options.baseUnit) / stepValue + 1
        );
    };

    DateValueAxis.prototype.getTickPositions = function getTickPositions (step) {
        var options = this.options;
        var vertical = options.vertical;
        var lineBox = this.lineBox();
        var dir = (vertical ? -1 : 1) * (options.reverse ? -1 : 1);
        var startEdge = dir === 1 ? 1 : 2;
        var start = lineBox[(vertical ? Y : X) + startEdge];
        var divisions = this.getDivisions(step);
        var timeRange = dateDiff(options.max, options.min);
        var lineSize = vertical ? lineBox.height() : lineBox.width();
        var scale = lineSize / timeRange;
        var weekStartDay = options.weekStartDay || 0;

        var positions = [ start ];
        for (var i = 1; i < divisions; i++) {
            var date = addDuration(options.min, i * step, options.baseUnit, weekStartDay);
            var pos = start + dateDiff(date, options.min) * scale * dir;

            positions.push(round(pos, COORD_PRECISION));
        }

        return positions;
    };

    DateValueAxis.prototype.getMajorTickPositions = function getMajorTickPositions () {
        return this.getTickPositions(this.options.majorUnit);
    };

    DateValueAxis.prototype.getMinorTickPositions = function getMinorTickPositions () {
        return this.getTickPositions(this.options.minorUnit);
    };

    DateValueAxis.prototype.getSlot = function getSlot (a, b, limit) {
        return NumericAxis.prototype.getSlot.call(
            this, parseDate(this.intlService, a), parseDate(this.intlService, b), limit
        );
    };

    DateValueAxis.prototype.getValue = function getValue (point) {
        var value = NumericAxis.prototype.getValue.call(this, point);

        return value !== null ? toDate(value) : null;
    };

    DateValueAxis.prototype.labelsCount = function labelsCount () {
        return this.getDivisions(this.options.majorUnit);
    };

    DateValueAxis.prototype.createAxisLabel = function createAxisLabel (index, labelOptions) {
        var options = this.options;
        var offset = index * options.majorUnit;
        var weekStartDay = options.weekStartDay || 0;
        var date = options.min;

        if (offset > 0) {
            date = addDuration(date, offset, options.baseUnit, weekStartDay);
        }

        var unitFormat = labelOptions.dateFormats[options.baseUnit];
        labelOptions.format = labelOptions.format || unitFormat;

        var text = this.axisLabelText(date, null, labelOptions);
        return new AxisLabel(date, text, index, null, labelOptions);
    };

    DateValueAxis.prototype.translateRange = function translateRange (delta, exact) {
        var options = this.options;
        var baseUnit = options.baseUnit;
        var weekStartDay = options.weekStartDay || 0;
        var lineBox = this.lineBox();
        var size = options.vertical ? lineBox.height() : lineBox.width();
        var range = this.range();
        var scale = size / dateDiff(range.max, range.min);
        var offset = round(delta / scale, DEFAULT_PRECISION) * (options.reverse ? -1 : 1);
        var from = addTicks(options.min, offset);
        var to = addTicks(options.max, offset);

        if (!exact) {
            from = addDuration(from, 0, baseUnit, weekStartDay);
            to = addDuration(to, 0, baseUnit, weekStartDay);
        }

        return {
            min: from,
            max: to,
            offset: offset
        };
    };

    DateValueAxis.prototype.scaleRange = function scaleRange (delta) {
        var ref = this.options;
        var from = ref.min;
        var to = ref.max;
        var rounds = Math.abs(delta);

        while (rounds--) {
            var range = dateDiff(from, to);
            var step = Math.round(range * 0.1);
            if (delta < 0) {
                from = addTicks(from, step);
                to = addTicks(to, -step);
            } else {
                from = addTicks(from, -step);
                to = addTicks(to, step);
            }
        }

        return { min: from, max: to };
    };

    DateValueAxis.prototype.shouldRenderNote = function shouldRenderNote (value) {
        var range = this.range();

        return dateComparer(value, range.min) >= 0 && dateComparer(value, range.max) <= 0;
    };

    DateValueAxis.prototype.pan = function pan (delta) {
        var range = this.translateRange(delta, true);
        var limittedRange = this.limitRange(toTime(range.min), toTime(range.max), this.totalMin, this.totalMax, range.offset);

        if (limittedRange) {
            return {
                min: toDate(limittedRange.min),
                max: toDate(limittedRange.max)
            };
        }
    };

    DateValueAxis.prototype.pointsRange = function pointsRange (start, end) {
        var startValue = this.getValue(start);
        var endValue = this.getValue(end);
        var min = Math.min(startValue, endValue);
        var max = Math.max(startValue, endValue);

        return {
            min: toDate(min),
            max: toDate(max)
        };
    };

    DateValueAxis.prototype.zoomRange = function zoomRange (delta) {
        var range = this.scaleRange(delta);
        var min = toDate(limitValue(toTime(range.min), this.totalMin, this.totalMax));
        var max = toDate(limitValue(toTime(range.max), this.totalMin, this.totalMax));

        return {
            min: min,
            max: max
        };
    };

    return DateValueAxis;
}(Axis));

function timeUnits(delta) {
    var unit = HOURS;

    if (delta >= TIME_PER_YEAR) {
        unit = YEARS;
    } else if (delta >= TIME_PER_MONTH) {
        unit = MONTHS;
    } else if (delta >= TIME_PER_WEEK) {
        unit = WEEKS;
    } else if (delta >= TIME_PER_DAY) {
        unit = DAYS;
    }

    return unit;
}

function applyDefaults$1(seriesMin, seriesMax, options) {
    var min = options.min || seriesMin;
    var max = options.max || seriesMax;
    var baseUnit = options.baseUnit || (max && min ? timeUnits(absoluteDateDiff(max, min)) : HOURS);
    var baseUnitTime = TIME_PER_UNIT[baseUnit];
    var weekStartDay = options.weekStartDay || 0;
    var autoMin = floorDate(toTime(min) - 1, baseUnit, weekStartDay) || toDate(max);
    var autoMax = ceilDate(toTime(max) + 1, baseUnit, weekStartDay);
    var userMajorUnit = options.majorUnit ? options.majorUnit : undefined;
    var majorUnit = userMajorUnit || ceil(
                        autoMajorUnit(autoMin.getTime(), autoMax.getTime()),
                        baseUnitTime
                    ) / baseUnitTime;
    var actualUnits = duration(autoMin, autoMax, baseUnit);
    var totalUnits = ceil(actualUnits, majorUnit);
    var unitsToAdd = totalUnits - actualUnits;
    var head = Math.floor(unitsToAdd / 2);
    var tail = unitsToAdd - head;

    if (!options.baseUnit) {
        delete options.baseUnit;
    }

    options.baseUnit = options.baseUnit || baseUnit;
    options.min = options.min || addDuration(autoMin, -head, baseUnit, weekStartDay);
    options.max = options.max || addDuration(autoMax, tail, baseUnit, weekStartDay);
    options.minorUnit = options.minorUnit || majorUnit / 5;
    options.majorUnit = majorUnit;

    return options;
}

setDefaultOptions(DateValueAxis, {
    type: DATE,
    majorGridLines: {
        visible: true,
        width: 1,
        color: BLACK
    },
    labels: {
        dateFormats: DateLabelFormats
    }
});

var DEFAULT_MAJOR_UNIT = 10;

var LogarithmicAxis = (function (Axis$$1) {
    function LogarithmicAxis(seriesMin, seriesMax, options, chartService) {

        var axisOptions = deepExtend({ majorUnit: DEFAULT_MAJOR_UNIT, min: seriesMin, max: seriesMax }, options);
        var base = axisOptions.majorUnit;
        var autoMax = autoAxisMax$1(seriesMax, base);
        var autoMin = autoAxisMin$1(seriesMin, seriesMax, axisOptions);
        var range = initRange(autoMin, autoMax, axisOptions, options);

        axisOptions.max = range.max;
        axisOptions.min = range.min;
        axisOptions.minorUnit = options.minorUnit || round(base - 1, DEFAULT_PRECISION);

        Axis$$1.call(this, axisOptions, chartService);

        this.totalMin = defined(options.min) ? Math.min(autoMin, options.min) : autoMin;
        this.totalMax = defined(options.max) ? Math.max(autoMax, options.max) : autoMax;
        this.logMin = round(log(range.min, base), DEFAULT_PRECISION);
        this.logMax = round(log(range.max, base), DEFAULT_PRECISION);
        this.seriesMin = seriesMin;
        this.seriesMax = seriesMax;

        this.createLabels();
    }

    if ( Axis$$1 ) LogarithmicAxis.__proto__ = Axis$$1;
    LogarithmicAxis.prototype = Object.create( Axis$$1 && Axis$$1.prototype );
    LogarithmicAxis.prototype.constructor = LogarithmicAxis;

    LogarithmicAxis.prototype.clone = function clone () {
        return new LogarithmicAxis(
            this.seriesMin,
            this.seriesMax,
            Object.assign({}, this.options),
            this.chartService
        );
    };

    LogarithmicAxis.prototype.startValue = function startValue () {
        return this.options.min;
    };

    LogarithmicAxis.prototype.getSlot = function getSlot (a, b, limit) {
        var ref = this;
        var options = ref.options;
        var logMin = ref.logMin;
        var logMax = ref.logMax;
        var reverse = options.reverse;
        var vertical = options.vertical;
        var base = options.majorUnit;
        var valueAxis = vertical ? Y : X;
        var lineBox = this.lineBox();
        var lineStart = lineBox[valueAxis + (reverse ? 2 : 1)];
        var lineSize = vertical ? lineBox.height() : lineBox.width();
        var dir = reverse ? -1 : 1;
        var step = dir * (lineSize / (logMax - logMin));
        var slotBox = new Box(lineBox.x1, lineBox.y1, lineBox.x1, lineBox.y1);
        var start = a;
        var end = b;

        if (!defined(start)) {
            start = end || 1;
        }

        if (!defined(end)) {
            end = start || 1;
        }

        if (start <= 0 || end <= 0) {
            return null;
        }

        if (limit) {
            start = Math.max(Math.min(start, options.max), options.min);
            end = Math.max(Math.min(end, options.max), options.min);
        }

        start = log(start, base);
        end = log(end, base);

        var p1, p2;

        if (vertical) {
            p1 = logMax - Math.max(start, end);
            p2 = logMax - Math.min(start, end);
        } else {
            p1 = Math.min(start, end) - logMin;
            p2 = Math.max(start, end) - logMin;
        }

        slotBox[valueAxis + 1] = limitCoordinate(lineStart + step * (reverse ? p2 : p1));
        slotBox[valueAxis + 2] = limitCoordinate(lineStart + step * (reverse ? p1 : p2));

        return slotBox;
    };

    LogarithmicAxis.prototype.getValue = function getValue (point) {
        var ref = this;
        var options = ref.options;
        var logMin = ref.logMin;
        var logMax = ref.logMax;
        var reverse = options.reverse;
        var vertical = options.vertical;
        var base = options.majorUnit;
        var lineBox = this.lineBox();
        var dir = vertical === reverse ? 1 : -1;
        var startEdge = dir === 1 ? 1 : 2;
        var lineSize = vertical ? lineBox.height() : lineBox.width();
        var step = ((logMax - logMin) / lineSize);
        var valueAxis = vertical ? Y : X;
        var lineStart = lineBox[valueAxis + startEdge];
        var offset = dir * (point[valueAxis] - lineStart);
        var valueOffset = offset * step;

        if (offset < 0 || offset > lineSize) {
            return null;
        }

        var value = logMin + valueOffset;

        return round(Math.pow(base, value), DEFAULT_PRECISION);
    };

    LogarithmicAxis.prototype.range = function range () {
        var options = this.options;
        return { min: options.min, max: options.max };
    };

    LogarithmicAxis.prototype.scaleRange = function scaleRange (delta) {
        var base = this.options.majorUnit;
        var offset = -delta;

        return {
            min: Math.pow(base, this.logMin - offset),
            max: Math.pow(base, this.logMax + offset)
        };
    };

    LogarithmicAxis.prototype.translateRange = function translateRange (delta) {
        var ref = this;
        var options = ref.options;
        var logMin = ref.logMin;
        var logMax = ref.logMax;
        var reverse = options.reverse;
        var vertical = options.vertical;
        var base = options.majorUnit;
        var lineBox = this.lineBox();
        var size = vertical ? lineBox.height() : lineBox.width();
        var scale = size / (logMax - logMin);
        var offset = round(delta / scale, DEFAULT_PRECISION);

        if ((vertical || reverse) && !(vertical && reverse )) {
            offset = -offset;
        }

        return {
            min: Math.pow(base, logMin + offset),
            max: Math.pow(base, logMax + offset),
            offset: offset
        };
    };

    LogarithmicAxis.prototype.labelsCount = function labelsCount () {
        var floorMax = Math.floor(this.logMax);
        var count = Math.floor(floorMax - this.logMin) + 1;

        return count;
    };

    LogarithmicAxis.prototype.getMajorTickPositions = function getMajorTickPositions () {
        var ticks = [];

        this.traverseMajorTicksPositions(function (position) {
            ticks.push(position);
        }, { step: 1, skip: 0 });

        return ticks;
    };

    LogarithmicAxis.prototype.createTicks = function createTicks (lineGroup) {
        var options = this.options;
        var majorTicks = options.majorTicks;
        var minorTicks = options.minorTicks;
        var vertical = options.vertical;
        var mirror = options.labels.mirror;
        var lineBox = this.lineBox();
        var ticks = [];
        var tickLineOptions = {
            // TODO
            // _alignLines: options._alignLines,
            vertical: vertical
        };

        function render(tickPosition, tickOptions) {
            tickLineOptions.tickX = mirror ? lineBox.x2 : lineBox.x2 - tickOptions.size;
            tickLineOptions.tickY = mirror ? lineBox.y1 - tickOptions.size : lineBox.y1;
            tickLineOptions.position = tickPosition;

            lineGroup.append(createAxisTick(tickLineOptions, tickOptions));
        }

        if (majorTicks.visible) {
            this.traverseMajorTicksPositions(render, majorTicks);
        }

        if (minorTicks.visible) {
            this.traverseMinorTicksPositions(render, minorTicks);
        }

        return ticks;
    };

    LogarithmicAxis.prototype.createGridLines = function createGridLines (altAxis) {
        var options = this.options;
        var minorGridLines = options.minorGridLines;
        var majorGridLines = options.majorGridLines;
        var vertical = options.vertical;
        var lineBox = altAxis.lineBox();
        var lineOptions = {
            lineStart: lineBox[vertical ? "x1" : "y1"],
            lineEnd: lineBox[vertical ? "x2" : "y2"],
            vertical: vertical
        };
        var majorTicks = [];

        var container = this.gridLinesVisual();
        function render(tickPosition, gridLine) {
            if (!inArray(tickPosition, majorTicks)) {
                lineOptions.position = tickPosition;
                container.append(createAxisGridLine(lineOptions, gridLine));

                majorTicks.push(tickPosition);
            }
        }

        if (majorGridLines.visible) {
            this.traverseMajorTicksPositions(render, majorGridLines);
        }

        if (minorGridLines.visible) {
            this.traverseMinorTicksPositions(render, minorGridLines);
        }

        return container.children;
    };

    LogarithmicAxis.prototype.traverseMajorTicksPositions = function traverseMajorTicksPositions (callback, tickOptions) {
        var ref = this._lineOptions();
        var lineStart = ref.lineStart;
        var step = ref.step;
        var ref$1 = this;
        var logMin = ref$1.logMin;
        var logMax = ref$1.logMax;

        for (var power = Math.ceil(logMin) + tickOptions.skip; power <= logMax; power += tickOptions.step) {
            var position = round(lineStart + step * (power - logMin), DEFAULT_PRECISION);
            callback(position, tickOptions);
        }
    };

    LogarithmicAxis.prototype.traverseMinorTicksPositions = function traverseMinorTicksPositions (callback, tickOptions) {
        var this$1 = this;

        var ref = this.options;
        var min = ref.min;
        var max = ref.max;
        var minorUnit = ref.minorUnit;
        var base = ref.majorUnit;
        var ref$1 = this._lineOptions();
        var lineStart = ref$1.lineStart;
        var step = ref$1.step;
        var ref$2 = this;
        var logMin = ref$2.logMin;
        var logMax = ref$2.logMax;
        var start = Math.floor(logMin);

        for (var power = start; power < logMax; power++) {
            var minorOptions = this$1._minorIntervalOptions(power);
            for (var idx = tickOptions.skip; idx < minorUnit; idx += tickOptions.step) {
                var value = minorOptions.value + idx * minorOptions.minorStep;
                if (value > max) {
                    break;
                }
                if (value >= min) {
                    var position = round(lineStart + step * (log(value, base) - logMin), DEFAULT_PRECISION);
                    callback(position, tickOptions);
                }
            }
        }
    };

    LogarithmicAxis.prototype.createAxisLabel = function createAxisLabel (index, labelOptions) {
        var power = Math.ceil(this.logMin + index);
        var value = Math.pow(this.options.majorUnit, power);
        var text = this.axisLabelText(value, null, labelOptions);

        return new AxisLabel(value, text, index, null, labelOptions);
    };

    LogarithmicAxis.prototype.shouldRenderNote = function shouldRenderNote (value) {
        var range = this.range();
        return range.min <= value && value <= range.max;
    };

    LogarithmicAxis.prototype.pan = function pan (delta) {
        var range = this.translateRange(delta);
        return this.limitRange(range.min, range.max, this.totalMin, this.totalMax, range.offset);
    };

    LogarithmicAxis.prototype.pointsRange = function pointsRange (start, end) {
        var startValue = this.getValue(start);
        var endValue = this.getValue(end);
        var min = Math.min(startValue, endValue);
        var max = Math.max(startValue, endValue);

        return {
            min: min,
            max: max
        };
    };

    LogarithmicAxis.prototype.zoomRange = function zoomRange (delta) {
        var ref = this;
        var options = ref.options;
        var totalMin = ref.totalMin;
        var totalMax = ref.totalMax;
        var newRange = this.scaleRange(delta);
        var min = limitValue(newRange.min, totalMin, totalMax);
        var max = limitValue(newRange.max, totalMin, totalMax);
        var base = options.majorUnit;
        var acceptOptionsRange = max > min && options.min && options.max && (round(log(options.max, base) - log(options.min, base), DEFAULT_PRECISION) < 1);
        var acceptNewRange = !(options.min === totalMin && options.max === totalMax) && round(log(max, base) - log(min, base), DEFAULT_PRECISION) >= 1;

        if (acceptOptionsRange || acceptNewRange) {
            return {
                min: min,
                max: max
            };
        }
    };

    LogarithmicAxis.prototype._minorIntervalOptions = function _minorIntervalOptions (power) {
        var ref = this.options;
        var minorUnit = ref.minorUnit;
        var base = ref.majorUnit;
        var value = Math.pow(base, power);
        var nextValue = Math.pow(base, power + 1);
        var difference = nextValue - value;
        var minorStep = difference / minorUnit;

        return {
            value: value,
            minorStep: minorStep
        };
    };

    LogarithmicAxis.prototype._lineOptions = function _lineOptions () {
        var ref = this.options;
        var reverse = ref.reverse;
        var vertical = ref.vertical;
        var valueAxis = vertical ? Y : X;
        var lineBox = this.lineBox();
        var dir = vertical === reverse ? 1 : -1;
        var startEdge = dir === 1 ? 1 : 2;
        var lineSize = vertical ? lineBox.height() : lineBox.width();
        var step = dir * (lineSize / (this.logMax - this.logMin));
        var lineStart = lineBox[valueAxis + startEdge];

        return {
            step: step,
            lineStart: lineStart,
            lineBox: lineBox
        };
    };

    return LogarithmicAxis;
}(Axis));

function initRange(autoMin, autoMax, axisOptions, options) {
    var min = axisOptions.min;
    var max = axisOptions.max;

    if (defined(axisOptions.axisCrossingValue) && axisOptions.axisCrossingValue <= 0) {
        throwNegativeValuesError();
    }

    if (!defined(options.max)) {
        max = autoMax;
    } else if (options.max <= 0) {
        throwNegativeValuesError();
    }

    if (!defined(options.min)) {
        min = autoMin;
    } else if (options.min <= 0) {
        throwNegativeValuesError();
    }

    return {
        min: min,
        max: max
    };
}

function autoAxisMin$1(min, max, options) {
    var base = options.majorUnit;
    var autoMin = min;
    if (min <= 0) {
        autoMin = max <= 1 ? Math.pow(base, -2) : 1;
    } else if (!options.narrowRange) {
        autoMin = Math.pow(base, Math.floor(log(min, base)));
    }
    return autoMin;
}

function autoAxisMax$1(max, base) {
    var logMaxRemainder = round(log(max, base), DEFAULT_PRECISION) % 1;
    var autoMax;
    if (max <= 0) {
        autoMax = base;
    } else if (logMaxRemainder !== 0 && (logMaxRemainder < 0.3 || logMaxRemainder > 0.9)) {
        autoMax = Math.pow(base, log(max, base) + 0.2);
    } else {
        autoMax = Math.pow(base, Math.ceil(log(max, base)));
    }

    return autoMax;
}

function throwNegativeValuesError() {
    throw new Error("Non positive values cannot be used for a logarithmic axis");
}

function log(y, x) {
    return Math.log(y) / Math.log(x);
}

setDefaultOptions(LogarithmicAxis, {
    type: "log",
    majorUnit: DEFAULT_MAJOR_UNIT,
    minorUnit: 1,
    axisCrossingValue: 1,
    vertical: true,
    majorGridLines: {
        visible: true,
        width: 1,
        color: BLACK
    },
    zIndex: 1,
    _deferLabels: true
});

var GridLinesMixin = {
    createGridLines: function(altAxis) {
        var options = this.options;
        var radius = Math.abs(this.box.center().y - altAxis.lineBox().y1);
        var gridLines = [];
        var skipMajor = false;
        var majorAngles, minorAngles;

        if (options.majorGridLines.visible) {
            majorAngles = this.majorGridLineAngles(altAxis);
            skipMajor = true;

            gridLines = this.renderMajorGridLines(
                majorAngles, radius, options.majorGridLines
            );
        }

        if (options.minorGridLines.visible) {
            minorAngles = this.minorGridLineAngles(altAxis, skipMajor);

            append$1(gridLines, this.renderMinorGridLines(
                minorAngles, radius, options.minorGridLines, altAxis, skipMajor
            ));
        }

        return gridLines;
    },

    renderMajorGridLines: function(angles, radius, options) {
        return this.renderGridLines(angles, radius, options);
    },

    renderMinorGridLines: function(angles, radius, options, altAxis, skipMajor) {
        var radiusCallback = this.radiusCallback && this.radiusCallback(radius, altAxis, skipMajor);
        return this.renderGridLines(angles, radius, options, radiusCallback);
    },

    renderGridLines: function(angles, radius, options, radiusCallback) {
        var style = {
            stroke: {
                width: options.width,
                color: options.color,
                dashType: options.dashType
            }
        };

        var center = this.box.center();
        var circle = new _progress_kendoDrawing.geometry.Circle([ center.x, center.y ], radius);
        var container = this.gridLinesVisual();

        for (var i = 0; i < angles.length; i++) {
            var line = new _progress_kendoDrawing.drawing.Path(style);
            if (radiusCallback) {
                circle.radius = radiusCallback(angles[i]);
            }

            line.moveTo(circle.center)
                .lineTo(circle.pointAt(angles[i] + 180));

            container.append(line);
        }

        return container.children;
    },

    gridLineAngles: function(altAxis, size, skip, step, skipAngles) {
        var this$1 = this;

        var divs = this.intervals(size, skip, step, skipAngles);
        var options = altAxis.options;
        var altAxisVisible = options.visible && (options.line || {}).visible !== false;

        return map(divs, function (d) {
            var alpha = this$1.intervalAngle(d);

            if (!altAxisVisible || alpha !== 90) {
                return alpha;
            }
        });
    }
};

var RadarCategoryAxis = (function (CategoryAxis$$1) {
    function RadarCategoryAxis () {
        CategoryAxis$$1.apply(this, arguments);
    }

    if ( CategoryAxis$$1 ) RadarCategoryAxis.__proto__ = CategoryAxis$$1;
    RadarCategoryAxis.prototype = Object.create( CategoryAxis$$1 && CategoryAxis$$1.prototype );
    RadarCategoryAxis.prototype.constructor = RadarCategoryAxis;

    RadarCategoryAxis.prototype.range = function range () {
        return { min: 0, max: this.options.categories.length };
    };

    RadarCategoryAxis.prototype.reflow = function reflow (box) {
        this.box = box;
        this.reflowLabels();
    };

    RadarCategoryAxis.prototype.lineBox = function lineBox () {
        return this.box;
    };

    RadarCategoryAxis.prototype.reflowLabels = function reflowLabels () {
        var this$1 = this;

        var ref = this;
        var labels = ref.labels;
        var labelOptions = ref.options.labels;
        var skip = labelOptions.skip || 0;
        var step = labelOptions.step || 1;
        var measureBox = new Box();

        for (var i = 0; i < labels.length; i++) {
            labels[i].reflow(measureBox);
            var labelBox = labels[i].box;

            labels[i].reflow(this$1.getSlot(skip + i * step).adjacentBox(
                0, labelBox.width(), labelBox.height()
            ));
        }
    };

    RadarCategoryAxis.prototype.intervals = function intervals (size, skipOption, stepOption, skipAngles) {
        if ( skipAngles === void 0 ) skipAngles = false;

        var options = this.options;
        var categories = options.categories.length;
        var divCount = categories / size || 1;
        var divAngle = 360 / divCount;
        var skip = skipOption || 0;
        var step = stepOption || 1;
        var divs = [];
        var angle = 0;

        for (var i = skip; i < divCount; i += step) {
            if (options.reverse) {
                angle = 360 - i * divAngle;
            } else {
                angle = i * divAngle;
            }

            angle = round(angle, COORD_PRECISION) % 360;

            if (!(skipAngles && inArray(angle, skipAngles))) {
                divs.push(angle);
            }
        }

        return divs;
    };

    RadarCategoryAxis.prototype.majorIntervals = function majorIntervals () {
        return this.intervals(1);
    };

    RadarCategoryAxis.prototype.minorIntervals = function minorIntervals () {
        return this.intervals(0.5);
    };

    RadarCategoryAxis.prototype.intervalAngle = function intervalAngle (interval) {
        return (360 + interval + this.options.startAngle) % 360;
    };

    RadarCategoryAxis.prototype.majorAngles = function majorAngles () {
        var this$1 = this;

        return map(this.majorIntervals(), function (interval) { return this$1.intervalAngle(interval); });
    };

    RadarCategoryAxis.prototype.createLine = function createLine () {
        return [];
    };

    RadarCategoryAxis.prototype.majorGridLineAngles = function majorGridLineAngles (altAxis) {
        var majorGridLines = this.options.majorGridLines;
        return this.gridLineAngles(altAxis, 1, majorGridLines.skip, majorGridLines.step);
    };

    RadarCategoryAxis.prototype.minorGridLineAngles = function minorGridLineAngles (altAxis, skipMajor) {
        var ref = this.options;
        var minorGridLines = ref.minorGridLines;
        var majorGridLines = ref.majorGridLines;
        var majorGridLineAngles = skipMajor ? this.intervals(1, majorGridLines.skip, majorGridLines.step) : null;

        return this.gridLineAngles(altAxis, 0.5, minorGridLines.skip, minorGridLines.step, majorGridLineAngles);
    };

    RadarCategoryAxis.prototype.radiusCallback = function radiusCallback (radius, altAxis, skipMajor) {
        if (altAxis.options.type !== ARC) {
            var minorAngle = rad(360 / (this.options.categories.length * 2));
            var minorRadius = Math.cos(minorAngle) * radius;
            var majorAngles = this.majorAngles();

            var radiusCallback = function(angle) {
                if (!skipMajor && inArray(angle, majorAngles)) {
                    return radius;
                }

                return minorRadius;
            };
            return radiusCallback;
        }
    };

    RadarCategoryAxis.prototype.createPlotBands = function createPlotBands () {
        var this$1 = this;

        var plotBands = this.options.plotBands || [];

        var group = this._plotbandGroup = new _progress_kendoDrawing.drawing.Group({
            zIndex: -1
        });

        for (var i = 0; i < plotBands.length; i++) {
            var band = plotBands[i];
            var slot = this$1.plotBandSlot(band);
            var singleSlot = this$1.getSlot(band.from);

            var head = band.from - Math.floor(band.from);
            slot.startAngle += head * singleSlot.angle;

            var tail = Math.ceil(band.to) - band.to;
            slot.angle -= (tail + head) * singleSlot.angle;

            var ring = ShapeBuilder.current.createRing(slot, {
                fill: {
                    color: band.color,
                    opacity: band.opacity
                },
                stroke: {
                    opacity: band.opacity
                }
            });
            group.append(ring);
        }

        this.appendVisual(group);
    };

    RadarCategoryAxis.prototype.plotBandSlot = function plotBandSlot (band) {
        return this.getSlot(band.from, band.to - 1);
    };

    RadarCategoryAxis.prototype.getSlot = function getSlot (from, to) {
        var options = this.options;
        var justified = options.justified;
        var box = this.box;
        var divs = this.majorAngles();
        var totalDivs = divs.length;
        var slotAngle = 360 / totalDivs;
        var fromValue = from;

        if (options.reverse && !justified) {
            fromValue = (fromValue + 1) % totalDivs;
        }

        fromValue = limitValue(Math.floor(fromValue), 0, totalDivs - 1);
        var slotStart = divs[fromValue];

        if (justified) {
            slotStart = slotStart - slotAngle / 2;

            if (slotStart < 0) {
                slotStart += 360;
            }
        }

        var toValue = limitValue(Math.ceil(to || fromValue), fromValue, totalDivs - 1);
        var slots = toValue - fromValue + 1;
        var angle = slotAngle * slots;

        return new Ring(box.center(), 0, box.height() / 2, slotStart, angle);
    };

    RadarCategoryAxis.prototype.slot = function slot (from, to) {
        var slot = this.getSlot(from, to);
        var startAngle = slot.startAngle + 180;
        var endAngle = startAngle + slot.angle;

        return new _progress_kendoDrawing.geometry.Arc([ slot.center.x, slot.center.y ], {
            startAngle: startAngle,
            endAngle: endAngle,
            radiusX: slot.radius,
            radiusY: slot.radius
        });
    };

    RadarCategoryAxis.prototype.pointCategoryIndex = function pointCategoryIndex (point) {
        var this$1 = this;

        var length = this.options.categories.length;
        var index = null;

        for (var i = 0; i < length; i++) {
            var slot = this$1.getSlot(i);
            if (slot.containsPoint(point)) {
                index = i;
                break;
            }
        }

        return index;
    };

    return RadarCategoryAxis;
}(CategoryAxis));

setDefaultOptions(RadarCategoryAxis, {
    startAngle: 90,
    labels: {
        margin: getSpacing(10)
    },
    majorGridLines: {
        visible: true
    },
    justified: true
});
deepExtend(RadarCategoryAxis.prototype, GridLinesMixin);

var PolarAxis = (function (Axis$$1) {
    function PolarAxis(options, chartService) {
        Axis$$1.call(this, options, chartService);

        var instanceOptions = this.options;

        instanceOptions.minorUnit = instanceOptions.minorUnit || instanceOptions.majorUnit / 2;
    }

    if ( Axis$$1 ) PolarAxis.__proto__ = Axis$$1;
    PolarAxis.prototype = Object.create( Axis$$1 && Axis$$1.prototype );
    PolarAxis.prototype.constructor = PolarAxis;

    PolarAxis.prototype.getDivisions = function getDivisions (stepValue) {
        return NumericAxis.prototype.getDivisions.call(this, stepValue) - 1;
    };

    PolarAxis.prototype.reflow = function reflow (box) {
        this.box = box;
        this.reflowLabels();
    };

    PolarAxis.prototype.reflowLabels = function reflowLabels () {
        var this$1 = this;

        var ref = this;
        var options = ref.options;
        var labels = ref.labels;
        var labelOptions = ref.options.labels;
        var skip = labelOptions.skip || 0;
        var step = labelOptions.step || 1;

        var measureBox = new Box();
        var divs = this.intervals(options.majorUnit, skip, step);

        for (var i = 0; i < labels.length; i++) {
            labels[i].reflow(measureBox);
            var labelBox = labels[i].box;

            labels[i].reflow(this$1.getSlot(divs[i]).adjacentBox(0, labelBox.width(), labelBox.height()));
        }
    };

    PolarAxis.prototype.lineBox = function lineBox () {
        return this.box;
    };

    PolarAxis.prototype.intervals = function intervals (size, skipOption, stepOption, skipAngles) {
        if ( skipAngles === void 0 ) skipAngles = false;

        var min = this.options.min;
        var divisions = this.getDivisions(size);
        var divs = [];
        var skip = skipOption || 0;
        var step = stepOption || 1;

        for (var i = skip; i < divisions; i += step) {
            var current = (360 + min + i * size) % 360;
            if (!(skipAngles && inArray(current, skipAngles))) {
                divs.push(current);
            }
        }

        return divs;
    };

    PolarAxis.prototype.majorIntervals = function majorIntervals () {
        return this.intervals(this.options.majorUnit);
    };

    PolarAxis.prototype.minorIntervals = function minorIntervals () {
        return this.intervals(this.options.minorUnit);
    };

    PolarAxis.prototype.intervalAngle = function intervalAngle (i) {
        return (540 - i - this.options.startAngle) % 360;
    };

    PolarAxis.prototype.createLine = function createLine () {
        return [];
    };

    PolarAxis.prototype.majorGridLineAngles = function majorGridLineAngles (altAxis) {
        var majorGridLines = this.options.majorGridLines;
        return this.gridLineAngles(altAxis, this.options.majorUnit, majorGridLines.skip, majorGridLines.step);
    };

    PolarAxis.prototype.minorGridLineAngles = function minorGridLineAngles (altAxis, skipMajor) {
        var options = this.options;
        var minorGridLines = options.minorGridLines;
        var majorGridLines = options.majorGridLines;
        var majorGridLineAngles = skipMajor ? this.intervals(options.majorUnit, majorGridLines.skip, majorGridLines.step) : null;

        return this.gridLineAngles(altAxis, options.minorUnit, minorGridLines.skip, minorGridLines.step, majorGridLineAngles);
    };

    PolarAxis.prototype.plotBandSlot = function plotBandSlot (band) {
        return this.getSlot(band.from, band.to);
    };

    PolarAxis.prototype.getSlot = function getSlot (a, b) {
        var ref = this;
        var options = ref.options;
        var box = ref.box;
        var startAngle = options.startAngle;
        var start = limitValue(a, options.min, options.max);
        var end = limitValue(b || start, start, options.max);

        if (options.reverse) {
            start *= -1;
            end *= -1;
        }

        start = (540 - start - startAngle) % 360;
        end = (540 - end - startAngle) % 360;

        if (end < start) {
            var tmp = start;
            start = end;
            end = tmp;
        }

        return new Ring(box.center(), 0, box.height() / 2, start, end - start);
    };

    PolarAxis.prototype.slot = function slot (from, to) {
        if ( to === void 0 ) to = from;

        var options = this.options;
        var start = 360 - options.startAngle;
        var slot = this.getSlot(from, to);
        var min = Math.min(from, to);
        var max = Math.max(from, to);
        var startAngle, endAngle;

        if (options.reverse) {
            startAngle = min;
            endAngle = max;
        } else {
            startAngle = 360 - max;
            endAngle = 360 - min;
        }

        startAngle = (startAngle + start) % 360;
        endAngle = (endAngle + start) % 360;

        return new _progress_kendoDrawing.geometry.Arc([ slot.center.x, slot.center.y ], {
            startAngle: startAngle,
            endAngle: endAngle,
            radiusX: slot.radius,
            radiusY: slot.radius
        });
    };

    PolarAxis.prototype.getValue = function getValue (point) {
        var options = this.options;
        var center = this.box.center();
        var dx = point.x - center.x;
        var dy = point.y - center.y;
        var theta = Math.round(deg(Math.atan2(dy, dx)));
        var start = options.startAngle;

        if (!options.reverse) {
            theta *= -1;
            start *= -1;
        }

        return (theta + start + 360) % 360;
    };

    PolarAxis.prototype.valueRange = function valueRange () {
        return {
            min: 0,
            max: Math.PI * 2
        };
    };

    return PolarAxis;
}(Axis));

setDefaultOptions(PolarAxis, {
    type: "polar",
    startAngle: 0,
    reverse: false,
    majorUnit: 60,
    min: 0,
    max: 360,
    labels: {
        margin: getSpacing(10)
    },
    majorGridLines: {
        color: BLACK,
        visible: true,
        width: 1
    },
    minorGridLines: {
        color: "#aaa"
    }
});

deepExtend(PolarAxis.prototype, GridLinesMixin, {
    createPlotBands: RadarCategoryAxis.prototype.createPlotBands,
    majorAngles: RadarCategoryAxis.prototype.majorAngles,
    range: NumericAxis.prototype.range,
    labelsCount: NumericAxis.prototype.labelsCount,
    createAxisLabel: NumericAxis.prototype.createAxisLabel
});

var RadarNumericAxisMixin = {
    options: {
        majorGridLines: {
            visible: true
        }
    },

    createPlotBands: function() {
        var this$1 = this;

        var ref = this.options;
        var type = ref.majorGridLines.type;
        var plotBands = ref.plotBands; if ( plotBands === void 0 ) plotBands = [];
        var altAxis = this.plotArea.polarAxis;
        var majorAngles = altAxis.majorAngles();
        var center = altAxis.box.center();
        var group = this._plotbandGroup = new _progress_kendoDrawing.drawing.Group({
            zIndex: -1
        });

        for (var i = 0; i < plotBands.length; i++) {
            var band = plotBands[i];
            var bandStyle = {
                fill: {
                    color: band.color,
                    opacity: band.opacity
                },
                stroke: {
                    opacity: band.opacity
                }
            };

            var slot = this$1.getSlot(band.from, band.to, true);
            var ring = new Ring(center, center.y - slot.y2, center.y - slot.y1, 0, 360);

            var shape = (void 0);
            if (type === ARC) {
                shape = ShapeBuilder.current.createRing(ring, bandStyle);
            } else {
                shape = _progress_kendoDrawing.drawing.Path.fromPoints(this$1.plotBandPoints(ring, majorAngles), bandStyle).close();
            }

            group.append(shape);
        }

        this.appendVisual(group);
    },

    plotBandPoints: function(ring, angles) {
        var innerPoints = [];
        var outerPoints = [];
        var center = [ ring.center.x, ring.center.y ];
        var innerCircle = new _progress_kendoDrawing.geometry.Circle(center, ring.innerRadius);
        var outerCircle = new _progress_kendoDrawing.geometry.Circle(center, ring.radius);

        for (var i = 0; i < angles.length; i++) {
            innerPoints.push(innerCircle.pointAt(angles[i] + 180));
            outerPoints.push(outerCircle.pointAt(angles[i] + 180));
        }

        innerPoints.reverse();
        innerPoints.push(innerPoints[0]);
        outerPoints.push(outerPoints[0]);

        return outerPoints.concat(innerPoints);
    },

    createGridLines: function(altAxis) {
        var options = this.options;
        var majorTicks = this.radarMajorGridLinePositions();
        var majorAngles = altAxis.majorAngles();
        var center = altAxis.box.center();
        var gridLines = [];

        if (options.majorGridLines.visible) {
            gridLines = this.renderGridLines(
                center, majorTicks, majorAngles, options.majorGridLines
            );
        }

        if (options.minorGridLines.visible) {
            var minorTicks = this.radarMinorGridLinePositions();
            append$1(gridLines, this.renderGridLines(
                center, minorTicks, majorAngles, options.minorGridLines
            ));
        }

        return gridLines;
    },

    renderGridLines: function(center, ticks, angles, options) {
        var style = {
            stroke: {
                width: options.width,
                color: options.color,
                dashType: options.dashType
            }
        };
        var skip = options.skip; if ( skip === void 0 ) skip = 0;
        var step = options.step; if ( step === void 0 ) step = 0;
        var container = this.gridLinesVisual();

        for (var tickIx = skip; tickIx < ticks.length; tickIx += step) {
            var tickRadius = center.y - ticks[tickIx];
            if (tickRadius > 0) {
                var circle = new _progress_kendoDrawing.geometry.Circle([ center.x, center.y ], tickRadius);
                if (options.type === ARC) {
                    container.append(new _progress_kendoDrawing.drawing.Circle(circle, style));
                } else {
                    var line = new _progress_kendoDrawing.drawing.Path(style);
                    for (var angleIx = 0; angleIx < angles.length; angleIx++) {
                        line.lineTo(circle.pointAt(angles[angleIx] + 180));
                    }

                    line.close();
                    container.append(line);
                }
            }
        }

        return container.children;
    },

    getValue: function(point) {
        var lineBox = this.lineBox();
        var altAxis = this.plotArea.polarAxis;
        var majorAngles = altAxis.majorAngles();
        var center = altAxis.box.center();
        var radius = point.distanceTo(center);
        var distance = radius;

        if (this.options.majorGridLines.type !== ARC && majorAngles.length > 1) {
            var dx = point.x - center.x;
            var dy = point.y - center.y;
            var theta = (deg(Math.atan2(dy, dx)) + 540) % 360;

            majorAngles.sort(function(a, b) {
                return angularDistance(a, theta) - angularDistance(b, theta);
            });

            // Solve triangle (center, point, axis X) using one side (radius) and two angles.
            // Angles are derived from triangle (center, point, gridline X)
            var midAngle = angularDistance(majorAngles[0], majorAngles[1]) / 2;
            var alpha = angularDistance(theta, majorAngles[0]);
            var gamma = 90 - midAngle;
            var beta = 180 - alpha - gamma;

            distance = radius * (Math.sin(rad(beta)) / Math.sin(rad(gamma)));
        }

        return this.axisType().prototype.getValue.call(
            this, new Point(lineBox.x1, lineBox.y2 - distance)
        );
    }
};

function angularDistance(a, b) {
    return 180 - Math.abs(Math.abs(a - b) - 180);
}

var RadarNumericAxis = (function (NumericAxis$$1) {
    function RadarNumericAxis () {
        NumericAxis$$1.apply(this, arguments);
    }

    if ( NumericAxis$$1 ) RadarNumericAxis.__proto__ = NumericAxis$$1;
    RadarNumericAxis.prototype = Object.create( NumericAxis$$1 && NumericAxis$$1.prototype );
    RadarNumericAxis.prototype.constructor = RadarNumericAxis;

    RadarNumericAxis.prototype.radarMajorGridLinePositions = function radarMajorGridLinePositions () {
        return this.getTickPositions(this.options.majorUnit);
    };

    RadarNumericAxis.prototype.radarMinorGridLinePositions = function radarMinorGridLinePositions () {
        var options = this.options;
        var minorSkipStep = 0;

        if (options.majorGridLines.visible) {
            minorSkipStep = options.majorUnit;
        }
        return this.getTickPositions(options.minorUnit, minorSkipStep);
    };

    RadarNumericAxis.prototype.axisType = function axisType () {
        return NumericAxis$$1;
    };

    return RadarNumericAxis;
}(NumericAxis));

deepExtend(RadarNumericAxis.prototype, RadarNumericAxisMixin);

var RadarLogarithmicAxis = (function (LogarithmicAxis$$1) {
    function RadarLogarithmicAxis () {
        LogarithmicAxis$$1.apply(this, arguments);
    }

    if ( LogarithmicAxis$$1 ) RadarLogarithmicAxis.__proto__ = LogarithmicAxis$$1;
    RadarLogarithmicAxis.prototype = Object.create( LogarithmicAxis$$1 && LogarithmicAxis$$1.prototype );
    RadarLogarithmicAxis.prototype.constructor = RadarLogarithmicAxis;

    RadarLogarithmicAxis.prototype.radarMajorGridLinePositions = function radarMajorGridLinePositions () {
        var positions = [];

        this.traverseMajorTicksPositions(function(position) {
            positions.push(position);
        }, this.options.majorGridLines);

        return positions;
    };

    RadarLogarithmicAxis.prototype.radarMinorGridLinePositions = function radarMinorGridLinePositions () {
        var positions = [];

        this.traverseMinorTicksPositions(function(position) {
            positions.push(position);
        }, this.options.minorGridLines);

        return positions;
    };

    RadarLogarithmicAxis.prototype.axisType = function axisType () {
        return LogarithmicAxis$$1;
    };

    return RadarLogarithmicAxis;
}(LogarithmicAxis));

deepExtend(RadarLogarithmicAxis.prototype, RadarNumericAxisMixin);

var WEIGHT = 0.333;
var EXTREMUM_ALLOWED_DEVIATION = 0.01;

var CurveProcessor = (function (Class$$1) {
    function CurveProcessor(closed) {
        Class$$1.call(this);

        this.closed = closed;
    }

    if ( Class$$1 ) CurveProcessor.__proto__ = Class$$1;
    CurveProcessor.prototype = Object.create( Class$$1 && Class$$1.prototype );
    CurveProcessor.prototype.constructor = CurveProcessor;

    CurveProcessor.prototype.process = function process (dataPoints) {
        var this$1 = this;

        var points = dataPoints.slice(0);
        var segments = [];
        var closed = this.closed;
        var length = points.length;

        if (length > 2) {
            this.removeDuplicates(0, points);
            length = points.length;
        }

        if (length < 2 || (length === 2 && points[0].equals(points[1]))) {
            return segments;
        }

        var p0 = points[0];
        var p1 = points[1];
        var p2 = points[2];

        segments.push(new _progress_kendoDrawing.geometry.Segment(p0));

        while (p0.equals(points[length - 1])) {
            closed = true;
            points.pop();
            length--;
        }

        if (length === 2) {
            var tangent = this.tangent(p0,p1, X, Y);

            last(segments).controlOut(
                this.firstControlPoint(tangent, p0, p1, X, Y)
            );

            segments.push(new _progress_kendoDrawing.geometry.Segment(
                p1,
                this.secondControlPoint(tangent, p0, p1, X, Y)
            ));

            return segments;
        }

        var initialControlPoint, lastControlPoint;

        if (closed) {
            p0 = points[length - 1]; p1 = points[0]; p2 = points[1];
            var controlPoints = this.controlPoints(p0, p1, p2);
            initialControlPoint = controlPoints[1];
            lastControlPoint = controlPoints[0];
        } else {
            var tangent$1 = this.tangent(p0, p1, X,Y);
            initialControlPoint = this.firstControlPoint(tangent$1, p0, p1, X, Y);
        }

        var cp0 = initialControlPoint;
        for (var idx = 0; idx <= length - 3; idx++) {
            this$1.removeDuplicates(idx, points);
            length = points.length;
            if (idx + 3 <= length) {
                p0 = points[idx]; p1 = points[idx + 1]; p2 = points[idx + 2];
                var controlPoints$1 = this$1.controlPoints(p0,p1,p2);

                last(segments).controlOut(cp0);
                cp0 = controlPoints$1[1];

                var cp1 = controlPoints$1[0];
                segments.push(new _progress_kendoDrawing.geometry.Segment(p1, cp1));
            }
        }

        if (closed) {
            p0 = points[length - 2]; p1 = points[length - 1]; p2 = points[0];
            var controlPoints$2 = this.controlPoints(p0, p1, p2);

            last(segments).controlOut(cp0);
            segments.push(new _progress_kendoDrawing.geometry.Segment(
                p1,
                controlPoints$2[0]
            ));

            last(segments).controlOut(controlPoints$2[1]);
            segments.push(new _progress_kendoDrawing.geometry.Segment(
                p2,
                lastControlPoint
            ));
        } else {
            var tangent$2 = this.tangent(p1, p2, X, Y);

            last(segments).controlOut(cp0);
            segments.push(new _progress_kendoDrawing.geometry.Segment(
                p2,
                this.secondControlPoint(tangent$2, p1, p2, X, Y)
            ));
        }

        return segments;
    };

    CurveProcessor.prototype.removeDuplicates = function removeDuplicates (idx, points) {
        while (points[idx + 1] && (points[idx].equals(points[idx + 1]) || points[idx + 1].equals(points[idx + 2]))) {
            points.splice(idx + 1, 1);
        }
    };

    CurveProcessor.prototype.invertAxis = function invertAxis (p0, p1, p2) {
        var invertAxis = false;

        if (p0.x === p1.x) {
            invertAxis = true;
        } else if (p1.x === p2.x) {
            if ((p1.y < p2.y && p0.y <= p1.y) || (p2.y < p1.y && p1.y <= p0.y)) {
                invertAxis = true;
            }
        } else {
            var fn = this.lineFunction(p0,p1);
            var y2 = this.calculateFunction(fn, p2.x);
            if (!(p0.y <= p1.y && p2.y <= y2) &&
                !(p1.y <= p0.y && p2.y >= y2)) {
                invertAxis = true;
            }
        }

        return invertAxis;
    };

    CurveProcessor.prototype.isLine = function isLine (p0, p1, p2) {
        var fn = this.lineFunction(p0, p1);
        var y2 = this.calculateFunction(fn, p2.x);

        return (p0.x === p1.x && p1.x === p2.x) || round(y2, 1) === round(p2.y, 1);
    };

    CurveProcessor.prototype.lineFunction = function lineFunction (p1, p2) {
        var a = (p2.y - p1.y) / (p2.x - p1.x);
        var b = p1.y - a * p1.x;

        return [ b, a ];
    };

    CurveProcessor.prototype.controlPoints = function controlPoints (p0, p1, p2) {
        var xField = X;
        var yField = Y;
        var restrict = false;
        var switchOrientation = false;
        var tangent;

        if (this.isLine(p0, p1, p2)) {
            tangent = this.tangent(p0, p1, X, Y);
        } else {
            var monotonic = {
                x: this.isMonotonicByField(p0, p1, p2, X),
                y: this.isMonotonicByField(p0, p1, p2, Y)
            };

            if (monotonic.x && monotonic.y) {
                tangent = this.tangent(p0, p2, X, Y);
                restrict = true;
            } else {
                if (this.invertAxis(p0, p1, p2)) {
                    xField = Y;
                    yField = X;
                }

                if (monotonic[xField]) {
                    tangent = 0;
                } else {
                    var sign;
                    if ((p2[yField] < p0[yField] && p0[yField] <= p1[yField]) ||
                        (p0[yField] < p2[yField] && p1[yField] <= p0[yField])) {
                        sign = numberSign((p2[yField] - p0[yField]) * (p1[xField] - p0[xField]));
                    } else {
                        sign = -numberSign((p2[xField] - p0[xField]) * (p1[yField] - p0[yField]));
                    }

                    tangent = EXTREMUM_ALLOWED_DEVIATION * sign;
                    switchOrientation = true;
                }
            }
        }

        var secondControlPoint = this.secondControlPoint(tangent, p0, p1, xField, yField);

        if (switchOrientation) {
            var oldXField = xField;
            xField = yField;
            yField = oldXField;
        }

        var firstControlPoint = this.firstControlPoint(tangent, p1, p2, xField, yField);

        if (restrict) {
            this.restrictControlPoint(p0, p1, secondControlPoint, tangent);
            this.restrictControlPoint(p1, p2, firstControlPoint, tangent);
        }

        return [ secondControlPoint, firstControlPoint ];
    };

    CurveProcessor.prototype.restrictControlPoint = function restrictControlPoint (p1, p2, cp, tangent) {
        if (p1.y < p2.y) {
            if (p2.y < cp.y) {
                cp.x = p1.x + (p2.y - p1.y) / tangent;
                cp.y = p2.y;
            } else if (cp.y < p1.y) {
                cp.x = p2.x - (p2.y - p1.y) / tangent;
                cp.y = p1.y;
            }
        } else {
            if (cp.y < p2.y) {
                cp.x = p1.x - (p1.y - p2.y) / tangent;
                cp.y = p2.y;
            } else if (p1.y < cp.y) {
                cp.x = p2.x + (p1.y - p2.y) / tangent;
                cp.y = p1.y;
            }
        }
    };

    CurveProcessor.prototype.tangent = function tangent (p0, p1, xField, yField) {
        var x = p1[xField] - p0[xField];
        var y = p1[yField] - p0[yField];
        var tangent;

        if (x === 0) {
            tangent = 0;
        } else {
            tangent = y / x;
        }

        return tangent;
    };

    CurveProcessor.prototype.isMonotonicByField = function isMonotonicByField (p0, p1, p2, field) {
        return (p2[field] > p1[field] && p1[field] > p0[field]) ||
                    (p2[field] < p1[field] && p1[field] < p0[field]);
    };

    CurveProcessor.prototype.firstControlPoint = function firstControlPoint (tangent, p0, p3, xField, yField) {
        var t1 = p0[xField];
        var t2 = p3[xField];
        var distance = (t2 - t1) * WEIGHT;

        return this.point(t1 + distance, p0[yField] + distance * tangent, xField, yField);
    };

    CurveProcessor.prototype.secondControlPoint = function secondControlPoint (tangent, p0, p3, xField, yField) {
        var t1 = p0[xField];
        var t2 = p3[xField];
        var distance = (t2 - t1) * WEIGHT;

        return this.point(t2 - distance, p3[yField] - distance * tangent, xField, yField);
    };

    CurveProcessor.prototype.point = function point (xValue, yValue, xField, yField) {
        var controlPoint = new _progress_kendoDrawing.geometry.Point();
        controlPoint[xField] = xValue;
        controlPoint[yField] = yValue;

        return controlPoint;
    };

    CurveProcessor.prototype.calculateFunction = function calculateFunction (fn, x) {
        var length = fn.length;
        var result = 0;

        for (var i = 0; i < length; i++) {
            result += Math.pow(x,i) * fn[i];
        }
        return result;
    };

    return CurveProcessor;
}(_progress_kendoDrawing.Class));

function numberSign(value) {
    return value <= 0 ? -1 : 1;
}

var ChartAxis = (function (Class$$1) {
    function ChartAxis(axis) {
        Class$$1.call(this);

        this._axis = axis;
        this.options = axis.options;
    }

    if ( Class$$1 ) ChartAxis.__proto__ = Class$$1;
    ChartAxis.prototype = Object.create( Class$$1 && Class$$1.prototype );
    ChartAxis.prototype.constructor = ChartAxis;

    ChartAxis.prototype.value = function value (point) {
        var axis = this._axis;
        var value = axis.getCategory ? axis.getCategory(point) : axis.getValue(point);

        return value;
    };

    ChartAxis.prototype.slot = function slot (from, to, limit) {
        if ( limit === void 0 ) limit = true;

        return this._axis.slot(from, to, limit);
    };

    ChartAxis.prototype.range = function range () {
        return this._axis.range();
    };

    ChartAxis.prototype.valueRange = function valueRange () {
        return this._axis.valueRange();
    };

    return ChartAxis;
}(_progress_kendoDrawing.Class));

function findAxisByName(name, axes) {
    for (var idx = 0; idx < axes.length; idx++) {
        if (axes[idx].options.name === name) {
            axes[idx].prepareUserOptions();
            return new ChartAxis(axes[idx]);
        }
    }
}

var ChartPane = function ChartPane(pane) {
    this.visual = pane.visual;
    this.chartsVisual = pane.chartContainer.visual;
    this._pane = pane;
};

ChartPane.prototype.findAxisByName = function findAxisByName$1 (name) {
    return findAxisByName(name, this._pane.axes);
};

var ChartPlotArea = (function (Class$$1) {
    function ChartPlotArea(plotArea) {
        Class$$1.call(this);

        this._plotArea = plotArea;
        this.visual = plotArea.visual;
        this.backgroundVisual = plotArea._bgVisual;
    }

    if ( Class$$1 ) ChartPlotArea.__proto__ = Class$$1;
    ChartPlotArea.prototype = Object.create( Class$$1 && Class$$1.prototype );
    ChartPlotArea.prototype.constructor = ChartPlotArea;

    return ChartPlotArea;
}(_progress_kendoDrawing.Class));

function countNumbers(values) {
    var length = values.length;
    var count = 0;

    for (var i = 0; i < length; i++) {
        var num = values[i];
        if (isNumber(num)) {
            count++;
        }
    }

    return count;
}

var Aggregates = {
    min: function(values) {
        var length = values.length;
        var min = MAX_VALUE;

        for (var i = 0; i < length; i++) {
            var value = values[i];
            if (isNumber(value)) {
                min = Math.min(min, value);
            }
        }

        return min === MAX_VALUE ? values[0] : min;
    },

    max: function(values) {
        var length = values.length;
        var max = MIN_VALUE;

        for (var i = 0; i < length; i++) {
            var value = values[i];
            if (isNumber(value)) {
                max = Math.max(max, value);
            }
        }

        return max === MIN_VALUE ? values[0] : max;
    },

    sum: function(values) {
        var length = values.length;
        var sum = 0;

        for (var i = 0; i < length; i++) {
            var value = values[i];
            if (isNumber(value)) {
                sum += value;
            }
        }

        return sum;
    },

    sumOrNull: function(values) {
        var result = null;

        if (countNumbers(values)) {
            result = Aggregates.sum(values);
        }

        return result;
    },

    count: function(values) {
        var length = values.length;
        var count = 0;

        for (var i = 0; i < length; i++) {
            var value = values[i];
            if (value !== null && defined(value)) {
                count++;
            }
        }

        return count;
    },

    avg: function(values) {
        var count = countNumbers(values);
        var result = values[0];

        if (count > 0) {
            result = Aggregates.sum(values) / count;
        }

        return result;
    },

    first: function(values) {
        var length = values.length;

        for (var i = 0; i < length; i++) {
            var value = values[i];
            if (value !== null && defined(value)) {
                return value;
            }
        }

        return values[0];
    }
};

function getField(field, row) {
    if (row === null) {
        return row;
    }

    var get = getter(field, true);
    return get(row);
}

var SeriesBinder = (function (Class$$1) {
    function SeriesBinder() {
        Class$$1.call(this);

        this._valueFields = {};
        this._otherFields = {};
        this._nullValue = {};
        this._undefinedValue = {};
    }

    if ( Class$$1 ) SeriesBinder.__proto__ = Class$$1;
    SeriesBinder.prototype = Object.create( Class$$1 && Class$$1.prototype );
    SeriesBinder.prototype.constructor = SeriesBinder;

    SeriesBinder.prototype.register = function register (seriesTypes, valueFields, otherFields) {
        var this$1 = this;
        if ( valueFields === void 0 ) valueFields = [ VALUE ];
        if ( otherFields === void 0 ) otherFields = {};


        for (var i = 0; i < seriesTypes.length; i++) {
            var type = seriesTypes[i];

            this$1._valueFields[type] = valueFields;
            this$1._otherFields[type] = otherFields;
            this$1._nullValue[type] = this$1._makeValue(valueFields, null);
            this$1._undefinedValue[type] = this$1._makeValue(valueFields, undefined);
        }
    };

    SeriesBinder.prototype.canonicalFields = function canonicalFields (series) {
        return this.valueFields(series).concat(this.otherFields(series));
    };

    SeriesBinder.prototype.valueFields = function valueFields (series) {
        return this._valueFields[series.type] || [ VALUE ];
    };

    SeriesBinder.prototype.otherFields = function otherFields (series) {
        return this._otherFields[series.type] || [ VALUE ];
    };

    SeriesBinder.prototype.bindPoint = function bindPoint (series, pointIx, item) {
        var data = series.data;
        var pointData = defined(item) ? item : data[pointIx];
        var result = { valueFields: { value: pointData } };
        var valueFields = this.valueFields(series);
        var otherFields = this._otherFields[series.type];
        var fields, value;

        if (pointData === null) {
            value = this._nullValue[series.type];
        } else if (!defined(pointData)) {
            value = this._undefinedValue[series.type];
        } else if (Array.isArray(pointData)) {
            var fieldData = pointData.slice(valueFields.length);
            value = this._bindFromArray(pointData, valueFields);
            fields = this._bindFromArray(fieldData, otherFields);
        } else if (typeof pointData === "object") {
            var srcValueFields = this.sourceFields(series, valueFields);
            var srcPointFields = this.sourceFields(series, otherFields);

            value = this._bindFromObject(pointData, valueFields, srcValueFields);
            fields = this._bindFromObject(pointData, otherFields, srcPointFields);
        }

        if (defined(value)) {
            if (valueFields.length === 1) {
                result.valueFields.value = value[valueFields[0]];
            } else {
                result.valueFields = value;
            }
        }

        result.fields = fields || {};

        return result;
    };

    SeriesBinder.prototype._makeValue = function _makeValue (fields, initialValue) {
        var value = {};
        var length = fields.length;

        for (var i = 0; i < length; i++) {
            var fieldName = fields[i];
            value[fieldName] = initialValue;
        }

        return value;
    };

    SeriesBinder.prototype._bindFromArray = function _bindFromArray (array, fields) {
        var value = {};

        if (fields) {
            var length = Math.min(fields.length, array.length);

            for (var i = 0; i < length; i++) {
                value[fields[i]] = array[i];
            }
        }

        return value;
    };

    SeriesBinder.prototype._bindFromObject = function _bindFromObject (object, fields, srcFields) {
        if ( srcFields === void 0 ) srcFields = fields;

        var value = {};

        if (fields) {
            var length = fields.length;

            for (var i = 0; i < length; i++) {
                var fieldName = fields[i];
                var srcFieldName = srcFields[i];
                if (srcFieldName !== null) {
                    value[fieldName] = getField(srcFieldName, object);
                }
            }
        }

        return value;
    };

    SeriesBinder.prototype.sourceFields = function sourceFields (series, canonicalFields) {
        var sourceFields = [];

        if (canonicalFields) {
            var length = canonicalFields.length;

            for (var i = 0; i < length; i++) {
                var fieldName = canonicalFields[i];
                var sourceFieldName = fieldName === VALUE ? "field" : fieldName + "Field";

                sourceFields.push(series[sourceFieldName] !== null ? (series[sourceFieldName] || fieldName) : null);
            }
        }

        return sourceFields;
    };

    return SeriesBinder;
}(_progress_kendoDrawing.Class));

SeriesBinder.current = new SeriesBinder();

var STD_ERR = "stderr";
var STD_DEV = "stddev";
var percentRegex = /percent(?:\w*)\((\d+)\)/;
var standardDeviationRegex = new RegExp("^" + STD_DEV + "(?:\\((\\d+(?:\\.\\d+)?)\\))?$");

var ErrorRangeCalculator = (function (Class$$1) {
    function ErrorRangeCalculator(errorValue, series, field) {
        Class$$1.call(this);

        this.initGlobalRanges(errorValue, series, field);
    }

    if ( Class$$1 ) ErrorRangeCalculator.__proto__ = Class$$1;
    ErrorRangeCalculator.prototype = Object.create( Class$$1 && Class$$1.prototype );
    ErrorRangeCalculator.prototype.constructor = ErrorRangeCalculator;

    ErrorRangeCalculator.prototype.initGlobalRanges = function initGlobalRanges (errorValue, series, field) {
        var data = series.data;
        var deviationMatch = standardDeviationRegex.exec(errorValue);

        if (deviationMatch) {
            this.valueGetter = this.createValueGetter(series, field);

            var average = this.getAverage(data);
            var deviation = this.getStandardDeviation(data, average, false);
            var multiple = deviationMatch[1] ? parseFloat(deviationMatch[1]) : 1;
            var errorRange = { low: average.value - deviation * multiple, high: average.value + deviation * multiple };

            this.globalRange = function() {
                return errorRange;
            };
        } else if (errorValue.indexOf && errorValue.indexOf(STD_ERR) >= 0) {
            this.valueGetter = this.createValueGetter(series, field);
            var standardError = this.getStandardError(data, this.getAverage(data));

            this.globalRange = function(value) {
                return { low: value - standardError, high: value + standardError };
            };
        }
    };

    ErrorRangeCalculator.prototype.createValueGetter = function createValueGetter (series, field) {
        var data = series.data;
        var binder = SeriesBinder.current;
        var valueFields = binder.valueFields(series);
        var item = defined(data[0]) ? data[0] : {};
        var valueGetter;

        if (isArray(item)) {
            var index = field ? valueFields.indexOf(field) : 0;
            valueGetter = getter("[" + index + "]");
        } else if (isNumber(item)) {
            valueGetter = getter();
        } else if (typeof item === OBJECT) {
            var srcValueFields = binder.sourceFields(series, valueFields);
            valueGetter = getter(srcValueFields[valueFields.indexOf(field)]);
        }

        return valueGetter;
    };

    ErrorRangeCalculator.prototype.getErrorRange = function getErrorRange (pointValue, errorValue) {
        var low, high, value;

        if (!defined(errorValue)) {
            return null;
        }

        if (this.globalRange) {
            return this.globalRange(pointValue);
        }

        if (isArray(errorValue)) {
            low = pointValue - errorValue[0];
            high = pointValue + errorValue[1];
        } else if (isNumber(value = parseFloat(errorValue))) {
            low = pointValue - value;
            high = pointValue + value;
        } else if ((value = percentRegex.exec(errorValue))) {
            var percentValue = pointValue * (parseFloat(value[1]) / 100);
            low = pointValue - Math.abs(percentValue);
            high = pointValue + Math.abs(percentValue);
        } else {
            throw new Error("Invalid ErrorBar value: " + errorValue);
        }

        return { low: low, high: high };
    };

    ErrorRangeCalculator.prototype.getStandardError = function getStandardError (data, average) {
        return this.getStandardDeviation(data, average, true) / Math.sqrt(average.count);
    };

    ErrorRangeCalculator.prototype.getStandardDeviation = function getStandardDeviation (data, average, isSample) {
        var this$1 = this;

        var length = data.length;
        var total = isSample ? average.count - 1 : average.count;
        var squareDifferenceSum = 0;

        for (var idx = 0; idx < length; idx++) {
            var value = this$1.valueGetter(data[idx]);
            if (isNumber(value)) {
                squareDifferenceSum += Math.pow(value - average.value, 2);
            }
        }

        return Math.sqrt(squareDifferenceSum / total);
    };

    ErrorRangeCalculator.prototype.getAverage = function getAverage (data) {
        var this$1 = this;

        var length = data.length;
        var sum = 0;
        var count = 0;

        for (var idx = 0; idx < length; idx++) {
            var value = this$1.valueGetter(data[idx]);
            if (isNumber(value)) {
                sum += value;
                count++;
            }
        }

        return {
            value: sum / count,
            count: count
        };
    };

    return ErrorRangeCalculator;
}(_progress_kendoDrawing.Class));

var browser = _progress_kendoDrawing.support.browser || {};

var INITIAL_ANIMATION_DURATION = 600;
var FADEIN = "fadeIn";

var BORDER_BRIGHTNESS = 0.8;
var TOOLTIP_OFFSET = 5;
var START_SCALE = browser.msie ? 0.001 : 0;
var ERROR_LOW_FIELD = "errorLow";
var ERROR_HIGH_FIELD = "errorHigh";
var X_ERROR_LOW_FIELD = "xErrorLow";
var X_ERROR_HIGH_FIELD = "xErrorHigh";
var Y_ERROR_LOW_FIELD = "yErrorLow";
var Y_ERROR_HIGH_FIELD = "yErrorHigh";
var LINE_MARKER_SIZE = 8;
var ZERO = "zero";
var INTERPOLATE = "interpolate";
var GAP = "gap";
var ABOVE = "above";
var BELOW = "below";

var SMOOTH = "smooth";
var STEP = "step";

var AREA = "area";
var BAR = "bar";
var BOX_PLOT = "boxPlot";
var BUBBLE = "bubble";
var BULLET = "bullet";
var CANDLESTICK = "candlestick";
var COLUMN = "column";
var DONUT = "donut";
var FUNNEL = "funnel";
var HORIZONTAL_WATERFALL = "horizontalWaterfall";
var LINE = "line";
var OHLC = "ohlc";
var PIE = "pie";
var POLAR_AREA = "polarArea";
var POLAR_LINE = "polarLine";
var POLAR_SCATTER = "polarScatter";
var RADAR_AREA = "radarArea";
var RADAR_COLUMN = "radarColumn";
var RADAR_LINE = "radarLine";
var RANGE_AREA = "rangeArea";
var RANGE_BAR = "rangeBar";
var RANGE_COLUMN = "rangeColumn";
var SCATTER = "scatter";
var SCATTER_LINE = "scatterLine";
var VERTICAL_AREA = "verticalArea";
var VERTICAL_BOX_PLOT = "verticalBoxPlot";
var VERTICAL_BULLET = "verticalBullet";
var VERTICAL_LINE = "verticalLine";
var VERTICAL_RANGE_AREA = "verticalRangeArea";
var WATERFALL = "waterfall";
var EQUALLY_SPACED_SERIES = [
    BAR, COLUMN, OHLC, CANDLESTICK, BOX_PLOT, VERTICAL_BOX_PLOT,
    BULLET, RANGE_COLUMN, RANGE_BAR, WATERFALL, HORIZONTAL_WATERFALL
];

var LEGEND_ITEM_CLICK = "legendItemClick";
var LEGEND_ITEM_HOVER = "legendItemHover";
var LEGEND_ITEM_LEAVE = "legendItemLeave";
var SERIES_CLICK = "seriesClick";
var SERIES_HOVER = "seriesHover";
var SERIES_OVER = "seriesOver";
var SERIES_LEAVE = "seriesLeave";
var PLOT_AREA_CLICK = "plotAreaClick";
var PLOT_AREA_HOVER = "plotAreaHover";
var PLOT_AREA_LEAVE = "plotAreaLeave";
var DRAG = "drag";
var DRAG_END = "dragEnd";
var DRAG_START = "dragStart";
var ZOOM_START = "zoomStart";
var ZOOM = "zoom";
var ZOOM_END = "zoomEnd";
var SELECT_START = "selectStart";
var SELECT = "select";
var SELECT_END = "selectEnd";
var RENDER = "render";
var SHOW_TOOLTIP = "showTooltip";
var HIDE_TOOLTIP = "hideTooltip";
var PANE_RENDER = "paneRender";

var LOGARITHMIC = "log";
var CATEGORY = "category";

var INSIDE_END = "insideEnd";
var INSIDE_BASE = "insideBase";
var OUTSIDE_END = "outsideEnd";

var MOUSEWHEEL = "DOMMouseScroll mousewheel";
var MOUSEWHEEL_DELAY = 150;

var DEFAULT_ERROR_BAR_WIDTH = 4;

var ErrorBarBase = (function (ChartElement$$1) {
    function ErrorBarBase(low, high, isVertical, chart, series, options) {
        ChartElement$$1.call(this, options);

        this.low = low;
        this.high = high;
        this.isVertical = isVertical;
        this.chart = chart;
        this.series = series;
    }

    if ( ChartElement$$1 ) ErrorBarBase.__proto__ = ChartElement$$1;
    ErrorBarBase.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    ErrorBarBase.prototype.constructor = ErrorBarBase;

    ErrorBarBase.prototype.reflow = function reflow (targetBox) {
        var endCaps = this.options.endCaps;
        var isVertical = this.isVertical;
        var axis = this.getAxis();
        var valueBox = axis.getSlot(this.low, this.high);
        var centerBox = targetBox.center();
        var capsWidth = this.getCapsWidth(targetBox, isVertical);
        var capValue = isVertical ? centerBox.x : centerBox.y;
        var capStart = capValue - capsWidth;
        var capEnd = capValue + capsWidth;
        var linePoints;

        if (isVertical) {
            linePoints = [
                new Point(centerBox.x, valueBox.y1),
                new Point(centerBox.x, valueBox.y2)
            ];
            if (endCaps) {
                linePoints.push(new Point(capStart, valueBox.y1),
                    new Point(capEnd, valueBox.y1),
                    new Point(capStart, valueBox.y2),
                    new Point(capEnd, valueBox.y2));
            }
            this.box = new Box(capStart, valueBox.y1, capEnd, valueBox.y2);
        } else {
            linePoints = [
                new Point(valueBox.x1, centerBox.y),
                new Point(valueBox.x2, centerBox.y)
            ];
            if (endCaps) {
                linePoints.push(new Point(valueBox.x1, capStart),
                    new Point(valueBox.x1, capEnd),
                    new Point(valueBox.x2, capStart),
                    new Point(valueBox.x2, capEnd));
            }
            this.box = new Box(valueBox.x1, capStart, valueBox.x2, capEnd);
        }

        this.linePoints = linePoints;
    };

    ErrorBarBase.prototype.getCapsWidth = function getCapsWidth (box, isVertical) {
        var boxSize = isVertical ? box.width() : box.height();
        var capsWidth = Math.min(Math.floor(boxSize / 2), DEFAULT_ERROR_BAR_WIDTH) || DEFAULT_ERROR_BAR_WIDTH;

        return capsWidth;
    };

    ErrorBarBase.prototype.createVisual = function createVisual () {
        var this$1 = this;

        var options = this.options;
        var visual = options.visual;

        if (visual) {
            this.visual = visual({
                low: this.low,
                high: this.high,
                rect: this.box.toRect(),
                sender: this.getSender(),
                options: {
                    endCaps: options.endCaps,
                    color: options.color,
                    line: options.line
                },
                createVisual: function () {
                    this$1.createDefaultVisual();
                    var defaultVisual = this$1.visual;
                    delete this$1.visual;
                    return defaultVisual;
                }
            });
        } else {
            this.createDefaultVisual();
        }
    };

    ErrorBarBase.prototype.createDefaultVisual = function createDefaultVisual () {
        var this$1 = this;

        var ref = this;
        var options = ref.options;
        var linePoints = ref.linePoints;
        var lineOptions = {
            stroke: {
                color: options.color,
                width: options.line.width,
                dashType: options.line.dashType
            }
        };

        ChartElement$$1.prototype.createVisual.call(this);

        for (var idx = 0; idx < linePoints.length; idx += 2) {
            var line = new _progress_kendoDrawing.drawing.Path(lineOptions)
                .moveTo(linePoints[idx].x, linePoints[idx].y)
                .lineTo(linePoints[idx + 1].x, linePoints[idx + 1].y);

            alignPathToPixel(line);
            this$1.visual.append(line);
        }
    };

    return ErrorBarBase;
}(ChartElement));

setDefaultOptions(ErrorBarBase, {
    animation: {
        type: FADEIN,
        delay: INITIAL_ANIMATION_DURATION
    },
    endCaps: true,
    line: {
        width: 2
    },
    zIndex: 1
});

var CategoricalErrorBar = (function (ErrorBarBase$$1) {
    function CategoricalErrorBar () {
        ErrorBarBase$$1.apply(this, arguments);
    }

    if ( ErrorBarBase$$1 ) CategoricalErrorBar.__proto__ = ErrorBarBase$$1;
    CategoricalErrorBar.prototype = Object.create( ErrorBarBase$$1 && ErrorBarBase$$1.prototype );
    CategoricalErrorBar.prototype.constructor = CategoricalErrorBar;

    CategoricalErrorBar.prototype.getAxis = function getAxis () {
        var axis = this.chart.seriesValueAxis(this.series);

        return axis;
    };

    return CategoricalErrorBar;
}(ErrorBarBase));

var MAX_EXPAND_DEPTH = 5;

function evalOptions(options, context, state, dryRun) {
    if ( state === void 0 ) state = {};
    if ( dryRun === void 0 ) dryRun = false;

    var defaults = state.defaults = state.defaults || {};
    var depth = state.depth = state.depth || 0;
    var needsEval = false;

    state.excluded = state.excluded || [];

    if (depth > MAX_EXPAND_DEPTH) {
        return null;
    }

    for (var property in options) {
        if (!inArray(property, state.excluded) && options.hasOwnProperty(property)) {
            var propValue = options[property];
            if (isFunction(propValue)) {
                needsEval = true;
                if (!dryRun) {
                    options[property] = valueOrDefault(propValue(context), defaults[property]);
                }
            } else if (isObject(propValue)) {
                if (!dryRun) {
                    state.defaults = defaults[property];
                }
                state.depth++;
                needsEval = evalOptions(propValue, context, state, dryRun) || needsEval;
                state.depth--;
            }
        }
    }

    return needsEval;
}

function categoriesCount$1(series) {
    var seriesCount = series.length;
    var categories = 0;

    for (var i = 0; i < seriesCount; i++) {
        categories = Math.max(categories, series[i].data.length);
    }

    return categories;
}

var CategoricalChart = (function (ChartElement$$1) {
    function CategoricalChart(plotArea, options) {
        ChartElement$$1.call(this, options);

        this.plotArea = plotArea;
        this.chartService = plotArea.chartService;
        this.categoryAxis = plotArea.seriesCategoryAxis(options.series[0]);

        // Value axis ranges grouped by axis name, e.g.:
        // primary: { min: 0, max: 1 }
        this.valueAxisRanges = {};

        this.points = [];
        this.categoryPoints = [];
        this.seriesPoints = [];
        this.seriesOptions = [];
        this._evalSeries = [];

        this.render();
    }

    if ( ChartElement$$1 ) CategoricalChart.__proto__ = ChartElement$$1;
    CategoricalChart.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    CategoricalChart.prototype.constructor = CategoricalChart;

    CategoricalChart.prototype.render = function render () {
        this.traverseDataPoints(this.addValue.bind(this));
    };

    CategoricalChart.prototype.pointOptions = function pointOptions (series, seriesIx) {
        var options = this.seriesOptions[seriesIx];
        if (!options) {
            var defaults = this.pointType().prototype.defaults;
            this.seriesOptions[seriesIx] = options = deepExtend({ }, defaults, {
                vertical: !this.options.invertAxes
            }, series);
        }

        return options;
    };

    CategoricalChart.prototype.plotValue = function plotValue (point) {
        if (!point) {
            return 0;
        }

        if (this.options.isStacked100 && isNumber(point.value)) {
            var categoryIx = point.categoryIx;
            var categoryPoints = this.categoryPoints[categoryIx];
            var otherValues = [];
            var categorySum = 0;

            for (var i = 0; i < categoryPoints.length; i++) {
                var other = categoryPoints[i];
                if (other) {
                    var stack = point.series.stack;
                    var otherStack = other.series.stack;

                    if ((stack && otherStack) && stack.group !== otherStack.group) {
                        continue;
                    }

                    if (isNumber(other.value)) {
                        categorySum += Math.abs(other.value);
                        otherValues.push(Math.abs(other.value));
                    }
                }
            }

            if (categorySum > 0) {
                return point.value / categorySum;
            }
        }

        return point.value;
    };

    CategoricalChart.prototype.plotRange = function plotRange (point, startValue) {
        var this$1 = this;
        if ( startValue === void 0 ) startValue = 0;

        var categoryPoints = this.categoryPoints[point.categoryIx];

        if (this.options.isStacked) {
            var plotValue = this.plotValue(point);
            var positive = plotValue >= 0;
            var prevValue = startValue;
            var isStackedBar = false;

            for (var i = 0; i < categoryPoints.length; i++) {
                var other = categoryPoints[i];

                if (point === other) {
                    break;
                }

                var stack = point.series.stack;
                var otherStack = other.series.stack;
                if (stack && otherStack) {
                    if (typeof stack === STRING && stack !== otherStack) {
                        continue;
                    }

                    if (stack.group && stack.group !== otherStack.group) {
                        continue;
                    }
                }

                var otherValue = this$1.plotValue(other);
                if ((otherValue >= 0 && positive) ||
                    (otherValue < 0 && !positive)) {
                    prevValue += otherValue;
                    plotValue += otherValue;
                    isStackedBar = true;

                    if (this$1.options.isStacked100) {
                        plotValue = Math.min(plotValue, 1);
                    }
                }
            }

            if (isStackedBar) {
                prevValue -= startValue;
            }

            return [ prevValue, plotValue ];
        }

        var series = point.series;
        var valueAxis = this.seriesValueAxis(series);
        var axisCrossingValue = this.categoryAxisCrossingValue(valueAxis);

        return [ axisCrossingValue, convertableToNumber(point.value) ? point.value : axisCrossingValue ];
    };

    CategoricalChart.prototype.stackLimits = function stackLimits (axisName, stackName) {
        var this$1 = this;

        var min = MAX_VALUE;
        var max = MIN_VALUE;

        for (var i = 0; i < this.categoryPoints.length; i++) {
            var categoryPoints = this$1.categoryPoints[i];
            if (!categoryPoints) {
                continue;
            }

            for (var pIx = 0; pIx < categoryPoints.length; pIx++) {
                var point = categoryPoints[pIx];
                if (point) {
                    if (point.series.stack === stackName || point.series.axis === axisName) {
                        var to = this$1.plotRange(point, 0)[1];
                        if (defined(to) && isFinite(to)) {
                            max = Math.max(max, to);
                            min = Math.min(min, to);
                        }
                    }
                }
            }
        }

        return { min: min, max: max };
    };

    CategoricalChart.prototype.updateStackRange = function updateStackRange () {
        var this$1 = this;

        var ref = this.options;
        var isStacked = ref.isStacked;
        var chartSeries = ref.series;
        var limitsCache = {};

        if (isStacked) {
            for (var i = 0; i < chartSeries.length; i++) {
                var series = chartSeries[i];
                var axisName = series.axis;
                var key = axisName + series.stack;

                var limits = limitsCache[key];
                if (!limits) {
                    limits = this$1.stackLimits(axisName, series.stack);

                    var errorTotals = this$1.errorTotals;
                    if (errorTotals) {
                        if (errorTotals.negative.length) {
                            limits.min = Math.min(limits.min, sparseArrayLimits(errorTotals.negative).min);
                        }
                        if (errorTotals.positive.length) {
                            limits.max = Math.max(limits.max, sparseArrayLimits(errorTotals.positive).max);
                        }
                    }

                    if (limits.min !== MAX_VALUE || limits.max !== MIN_VALUE) {
                        limitsCache[key] = limits;
                    } else {
                        limits = null;
                    }
                }

                if (limits) {
                    this$1.valueAxisRanges[axisName] = limits;
                }
            }
        }
    };

    CategoricalChart.prototype.addErrorBar = function addErrorBar (point, data, categoryIx) {
        var value = point.value;
        var series = point.series;
        var seriesIx = point.seriesIx;
        var errorBars = point.options.errorBars;
        var lowValue = data.fields[ERROR_LOW_FIELD];
        var highValue = data.fields[ERROR_HIGH_FIELD];
        var errorRange;

        if (isNumber(lowValue) && isNumber(highValue)) {
            errorRange = { low: lowValue, high: highValue };
        } else if (errorBars && defined(errorBars.value)) {
            this.seriesErrorRanges = this.seriesErrorRanges || [];
            this.seriesErrorRanges[seriesIx] = this.seriesErrorRanges[seriesIx] ||
                new ErrorRangeCalculator(errorBars.value, series, VALUE);

            errorRange = this.seriesErrorRanges[seriesIx].getErrorRange(value, errorBars.value);
        }

        if (errorRange) {
            point.low = errorRange.low;
            point.high = errorRange.high;
            this.addPointErrorBar(point, categoryIx);
        }
    };

    CategoricalChart.prototype.addPointErrorBar = function addPointErrorBar (point, categoryIx) {
        var isVertical = !this.options.invertAxes;
        var options = point.options.errorBars;
        var series = point.series;
        var low = point.low;
        var high = point.high;

        if (this.options.isStacked) {
            var stackedErrorRange = this.stackedErrorRange(point, categoryIx);
            low = stackedErrorRange.low;
            high = stackedErrorRange.high;
        } else {
            var fields = { categoryIx: categoryIx, series: series };
            this.updateRange({ value: low }, fields);
            this.updateRange({ value: high }, fields);
        }

        var errorBar = new CategoricalErrorBar(low, high, isVertical, this, series, options);
        point.errorBars = [ errorBar ];
        point.append(errorBar);
    };

    CategoricalChart.prototype.stackedErrorRange = function stackedErrorRange (point, categoryIx) {
        var plotValue = this.plotRange(point, 0)[1] - point.value;
        var low = point.low + plotValue;
        var high = point.high + plotValue;

        this.errorTotals = this.errorTotals || { positive: [], negative: [] };

        if (low < 0) {
            this.errorTotals.negative[categoryIx] = Math.min(this.errorTotals.negative[categoryIx] || 0, low);
        }

        if (high > 0) {
            this.errorTotals.positive[categoryIx] = Math.max(this.errorTotals.positive[categoryIx] || 0, high);
        }

        return { low: low, high: high };
    };

    CategoricalChart.prototype.addValue = function addValue (data, fields) {
        var categoryIx = fields.categoryIx;
        var series = fields.series;
        var seriesIx = fields.seriesIx;

        var categoryPoints = this.categoryPoints[categoryIx];
        if (!categoryPoints) {
            this.categoryPoints[categoryIx] = categoryPoints = [];
        }

        var seriesPoints = this.seriesPoints[seriesIx];
        if (!seriesPoints) {
            this.seriesPoints[seriesIx] = seriesPoints = [];
        }

        var point = this.createPoint(data, fields);
        if (point) {
            Object.assign(point, fields);

            point.owner = this;
            point.noteText = data.fields.noteText;
            if (!defined(point.dataItem)) {
                point.dataItem = series.data[categoryIx];
            }
            this.addErrorBar(point, data, categoryIx);
        }

        this.points.push(point);
        seriesPoints.push(point);
        categoryPoints.push(point);

        this.updateRange(data.valueFields, fields);
    };

    CategoricalChart.prototype.evalPointOptions = function evalPointOptions (options, value, category, categoryIx, series, seriesIx) {
        var state = { defaults: series._defaults, excluded: [ "data", "aggregate", "_events", "tooltip", "content", "template", "visual", "toggle", "_outOfRangeMinPoint", "_outOfRangeMaxPoint" ] };

        var doEval = this._evalSeries[seriesIx];
        if (!defined(doEval)) {
            this._evalSeries[seriesIx] = doEval = evalOptions(options, {}, state, true);
        }

        var pointOptions = options;
        if (doEval) {
            pointOptions = deepExtend({}, pointOptions);
            evalOptions(pointOptions, {
                value: value,
                category: category,
                index: categoryIx,
                series: series,
                dataItem: series.data[categoryIx]
            }, state);
        }

        return pointOptions;
    };

    CategoricalChart.prototype.updateRange = function updateRange (data, fields) {
        var axisName = fields.series.axis;
        var value = data.value;
        var axisRange = this.valueAxisRanges[axisName];

        if (isFinite(value) && value !== null) {
            axisRange = this.valueAxisRanges[axisName] =
                axisRange || { min: MAX_VALUE, max: MIN_VALUE };

            axisRange.min = Math.min(axisRange.min, value);
            axisRange.max = Math.max(axisRange.max, value);
        }
    };

    CategoricalChart.prototype.seriesValueAxis = function seriesValueAxis (series) {
        var plotArea = this.plotArea;
        var axisName = series.axis;
        var axis = axisName ? plotArea.namedValueAxes[axisName] : plotArea.valueAxis;

        if (!axis) {
            throw new Error("Unable to locate value axis with name " + axisName);
        }

        return axis;
    };

    CategoricalChart.prototype.reflow = function reflow (targetBox) {
        var this$1 = this;

        var categorySlots = this.categorySlots = [];
        var chartPoints = this.points;
        var categoryAxis = this.categoryAxis;
        var pointIx = 0;

        this.traverseDataPoints(function (data, fields) {
            var categoryIx = fields.categoryIx;
            var currentSeries = fields.series;

            var valueAxis = this$1.seriesValueAxis(currentSeries);
            var point = chartPoints[pointIx++];

            var categorySlot = categorySlots[categoryIx];
            if (!categorySlot) {
                categorySlots[categoryIx] = categorySlot =
                    this$1.categorySlot(categoryAxis, categoryIx, valueAxis);
            }

            if (point) {
                var plotRange = this$1.plotRange(point, valueAxis.startValue());
                var valueSlot = this$1.valueSlot(valueAxis, plotRange);
                if (valueSlot) {
                    var pointSlot = this$1.pointSlot(categorySlot, valueSlot);

                    point.aboveAxis = this$1.aboveAxis(point, valueAxis);
                    point.stackValue = plotRange[1];

                    if (this$1.options.isStacked100) {
                        point.percentage = this$1.plotValue(point);
                    }

                    this$1.reflowPoint(point, pointSlot);
                } else {
                    point.visible = false;
                }
            }
        });

        this.reflowCategories(categorySlots);
        if (!this.options.clip && this.options.limitPoints && this.points.length) {
            this.limitPoints();
        }

        this.box = targetBox;
    };

    CategoricalChart.prototype.valueSlot = function valueSlot (valueAxis, plotRange) {
        return valueAxis.getSlot(plotRange[0], plotRange[1], !this.options.clip);
    };

    CategoricalChart.prototype.limitPoints = function limitPoints () {
        var this$1 = this;

        var categoryPoints = this.categoryPoints;
        var points = categoryPoints[0].concat(last(categoryPoints));
        for (var idx = 0; idx < points.length; idx++) {
            if (points[idx]) {
                this$1.limitPoint(points[idx]);
            }
        }
    };

    CategoricalChart.prototype.limitPoint = function limitPoint (point) {
        var limittedSlot = this.categoryAxis.limitSlot(point.box);
        if (!limittedSlot.equals(point.box)) {
            point.reflow(limittedSlot);
        }
    };

    CategoricalChart.prototype.aboveAxis = function aboveAxis (point, valueAxis) {
        var axisCrossingValue = this.categoryAxisCrossingValue(valueAxis);
        var value = point.value;

        return valueAxis.options.reverse ?
            value < axisCrossingValue : value >= axisCrossingValue;
    };

    CategoricalChart.prototype.categoryAxisCrossingValue = function categoryAxisCrossingValue (valueAxis) {
        var categoryAxis = this.categoryAxis;
        var options = valueAxis.options;
        var crossingValues = [].concat(
            options.axisCrossingValues || options.axisCrossingValue
        );

        return crossingValues[categoryAxis.axisIndex || 0] || 0;
    };

    CategoricalChart.prototype.reflowPoint = function reflowPoint (point, pointSlot) {
        point.reflow(pointSlot);
    };

    CategoricalChart.prototype.reflowCategories = function reflowCategories () { };

    CategoricalChart.prototype.pointSlot = function pointSlot (categorySlot, valueSlot) {
        var options = this.options;
        var invertAxes = options.invertAxes;
        var slotX = invertAxes ? valueSlot : categorySlot;
        var slotY = invertAxes ? categorySlot : valueSlot;

        return new Box(slotX.x1, slotY.y1, slotX.x2, slotY.y2);
    };

    CategoricalChart.prototype.categorySlot = function categorySlot (categoryAxis, categoryIx) {
        return categoryAxis.getSlot(categoryIx);
    };

    CategoricalChart.prototype.traverseDataPoints = function traverseDataPoints (callback) {
        var this$1 = this;

        var series = this.options.series;
        var count = categoriesCount$1(series);
        var seriesCount = series.length;

        for (var seriesIx = 0; seriesIx < seriesCount; seriesIx++) {
            this$1._outOfRangeCallback(series[seriesIx], "_outOfRangeMinPoint", seriesIx, callback);
        }

        for (var categoryIx = 0; categoryIx < count; categoryIx++) {
            for (var seriesIx$1 = 0; seriesIx$1 < seriesCount; seriesIx$1++) {
                var currentSeries = series[seriesIx$1];
                var currentCategory = this$1.categoryAxis.categoryAt(categoryIx);
                var pointData = this$1._bindPoint(currentSeries, seriesIx$1, categoryIx);

                callback(pointData, {
                    category: currentCategory,
                    categoryIx: categoryIx,
                    series: currentSeries,
                    seriesIx: seriesIx$1
                });
            }
        }

        for (var seriesIx$2 = 0; seriesIx$2 < seriesCount; seriesIx$2++) {
            this$1._outOfRangeCallback(series[seriesIx$2], "_outOfRangeMaxPoint", seriesIx$2, callback);
        }
    };

    CategoricalChart.prototype._outOfRangeCallback = function _outOfRangeCallback (series, field, seriesIx, callback) {
        var outOfRangePoint = series[field];
        if (outOfRangePoint) {
            var categoryIx = outOfRangePoint.categoryIx;
            var pointData = this._bindPoint(series, seriesIx, categoryIx, outOfRangePoint.item);

            callback(pointData, {
                category: outOfRangePoint.category,
                categoryIx: categoryIx,
                series: series,
                seriesIx: seriesIx,
                dataItem: outOfRangePoint.item
            });
        }
    };

    CategoricalChart.prototype._bindPoint = function _bindPoint (series, seriesIx, categoryIx, item) {
        if (!this._bindCache) {
            this._bindCache = [];
        }

        var bindCache = this._bindCache[seriesIx];
        if (!bindCache) {
            bindCache = this._bindCache[seriesIx] = [];
        }

        var data = bindCache[categoryIx];
        if (!data) {
            data = bindCache[categoryIx] = SeriesBinder.current.bindPoint(series, categoryIx, item);
        }

        return data;
    };

    CategoricalChart.prototype.formatPointValue = function formatPointValue (point, format) {
        if (point.value === null) {
            return "";
        }

        return this.chartService.format.auto(format, point.value);
    };

    CategoricalChart.prototype.pointValue = function pointValue (data) {
        return data.valueFields.value;
    };

    return CategoricalChart;
}(ChartElement));

setDefaultOptions(CategoricalChart, {
    series: [],
    invertAxes: false,
    isStacked: false,
    clip: true,
    limitPoints: true
});

var PointEventsMixin = {
    click: function(chart, e) {
        return chart.trigger(
            SERIES_CLICK,
            this.eventArgs(e)
        );
    },

    hover: function(chart, e) {
        return chart.trigger(
            SERIES_HOVER,
            this.eventArgs(e)
        );
    },

    over: function(chart, e) {
        return chart.trigger(
            SERIES_OVER,
            this.eventArgs(e)
        );
    },

    out: function(chart, e) {
        return chart.trigger(
            SERIES_LEAVE,
            this.eventArgs(e)
        );
    },

    eventArgs: function(e) {
        return {
            value: this.value,
            percentage: this.percentage,
            stackValue: this.stackValue,
            category: this.category,
            series: this.series,
            dataItem: this.dataItem,
            runningTotal: this.runningTotal,
            total: this.total,
            element: eventElement(e),
            originalEvent: e,
            point: this
        };
    }
};

var NoteMixin = {
    createNote: function() {
        var options = this.options.notes;
        var text = this.noteText || options.label.text;

        if (options.visible !== false && defined(text) && text !== null) {
            this.note = new Note({
                value: this.value,
                text: text,
                dataItem: this.dataItem,
                category: this.category,
                series: this.series
            }, this.options.notes, this.owner.chartService);

            this.append(this.note);
        }
    }
};

var LinePoint = (function (ChartElement$$1) {
    function LinePoint(value, options) {
        ChartElement$$1.call(this);

        this.value = value;
        this.options = options;
        this.aboveAxis = valueOrDefault(this.options.aboveAxis, true);
        this.tooltipTracking = true;
    }

    if ( ChartElement$$1 ) LinePoint.__proto__ = ChartElement$$1;
    LinePoint.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    LinePoint.prototype.constructor = LinePoint;

    LinePoint.prototype.render = function render () {
        var ref = this.options;
        var markers = ref.markers;
        var labels = ref.labels;

        if (this._rendered) {
            return;
        }

        this._rendered = true;

        if (markers.visible && markers.size) {
            this.marker = this.createMarker();
            this.append(this.marker);
        }

        if (labels.visible) {
            var labelTemplate = getTemplate(labels);
            var pointData = this.pointData();
            var labelText = this.value;
            if (labelTemplate) {
                labelText = labelTemplate(pointData);
            } else if (labels.format) {
                labelText = this.formatValue(labels.format);
            }
            this.label = new TextBox(labelText,
                deepExtend({
                    align: CENTER,
                    vAlign: CENTER,
                    margin: {
                        left: 5,
                        right: 5
                    },
                    zIndex: valueOrDefault(labels.zIndex, this.series.zIndex)
                }, labels),
                pointData
            );
            this.append(this.label);
        }

        this.createNote();

        if (this.errorBar) {
            this.append(this.errorBar);
        }
    };

    LinePoint.prototype.markerBorder = function markerBorder () {
        var options = this.options.markers;
        var background = options.background;
        var border = deepExtend({ color: this.color }, options.border);

        if (!defined(border.color)) {
            border.color = new _progress_kendoDrawing.Color(background).brightness(BORDER_BRIGHTNESS).toHex();
        }

        return border;
    };

    LinePoint.prototype.createVisual = function createVisual () {};

    LinePoint.prototype.createMarker = function createMarker () {
        var options = this.options.markers;
        var marker = new ShapeElement({
            type: options.type,
            width: options.size,
            height: options.size,
            rotation: options.rotation,
            background: options.background,
            border: this.markerBorder(),
            opacity: options.opacity,
            zIndex: valueOrDefault(options.zIndex, this.series.zIndex),
            animation: options.animation,
            visual: options.visual
        }, {
            dataItem: this.dataItem,
            value: this.value,
            series: this.series,
            category: this.category
        });

        return marker;
    };

    LinePoint.prototype.markerBox = function markerBox () {
        if (!this.marker) {
            this.marker = this.createMarker();
            this.marker.reflow(this._childBox);
        }

        return this.marker.box;
    };

    LinePoint.prototype.reflow = function reflow (targetBox) {
        var this$1 = this;

        var ref = this;
        var options = ref.options;
        var aboveAxis = ref.aboveAxis;
        var vertical = options.vertical;

        this.render();

        this.box = targetBox;
        var childBox = targetBox.clone();

        if (vertical) {
            if (aboveAxis) {
                childBox.y1 -= childBox.height();
            } else {
                childBox.y2 += childBox.height();
            }
        } else {
            if (aboveAxis) {
                childBox.x1 += childBox.width();
            } else {
                childBox.x2 -= childBox.width();
            }
        }

        this._childBox = childBox;
        if (this.marker) {
            this.marker.reflow(childBox);
        }

        this.reflowLabel(childBox);

        if (this.errorBars) {
            for (var i = 0; i < this.errorBars.length; i++) {
                this$1.errorBars[i].reflow(childBox);
            }
        }

        if (this.note) {
            var noteTargetBox = this.markerBox();

            if (!(options.markers.visible && options.markers.size)) {
                var center = noteTargetBox.center();
                noteTargetBox = new Box(center.x, center.y, center.x, center.y);
            }

            this.note.reflow(noteTargetBox);
        }
    };

    LinePoint.prototype.reflowLabel = function reflowLabel (box) {
        var ref = this;
        var options = ref.options;
        var label = ref.label;
        var anchor = options.labels.position;

        if (label) {
            anchor = anchor === ABOVE ? TOP : anchor;
            anchor = anchor === BELOW ? BOTTOM : anchor;

            label.reflow(box);
            label.box.alignTo(this.markerBox(), anchor);
            label.reflow(label.box);
        }
    };

    LinePoint.prototype.createHighlight = function createHighlight () {
        var markers = this.options.highlight.markers;
        var defaultColor = this.markerBorder().color;
        var options = this.options.markers;
        var size = options.size + (options.border.width || 0) + (markers.border.width || 0);

        var shadow = new ShapeElement({
            type: options.type,
            width: size,
            height: size,
            rotation: options.rotation,
            background: markers.color || defaultColor,
            border: {
                color: markers.border.color,
                width: markers.border.width,
                opacity: valueOrDefault(markers.border.opacity, 1)
            },
            opacity: valueOrDefault(markers.opacity, 1)
        });
        shadow.reflow(this._childBox);

        return shadow.getElement();
    };

    LinePoint.prototype.highlightVisual = function highlightVisual () {
        return (this.marker || {}).visual;
    };

    LinePoint.prototype.highlightVisualArgs = function highlightVisualArgs () {
        var marker = this.marker;
        var visual, rect;

        if (marker) {
            rect = marker.paddingBox.toRect();
            visual = marker.visual;
        } else {
            var size = this.options.markers.size;
            var halfSize = size / 2;
            var center = this.box.center();
            rect = new _progress_kendoDrawing.geometry.Rect([ center.x - halfSize, center.y - halfSize ], [ size, size ]);
        }

        return {
            options: this.options,
            rect: rect,
            visual: visual
        };
    };

    LinePoint.prototype.tooltipAnchor = function tooltipAnchor () {
        var markerBox = this.markerBox();
        var clipBox = this.owner.pane.clipBox();
        var showTooltip = !clipBox || clipBox.overlaps(markerBox);

        if (showTooltip) {
            var x = markerBox.x2 + TOOLTIP_OFFSET;
            var horizontalAlign = LEFT;
            var y, verticalAlign;

            if (this.aboveAxis) {
                y = markerBox.y1;
                verticalAlign = BOTTOM;
            } else {
                y = markerBox.y2;
                verticalAlign = TOP;
            }

            return {
                point: new Point(x, y),
                align: {
                    horizontal: horizontalAlign,
                    vertical: verticalAlign
                }
            };
        }
    };

    LinePoint.prototype.formatValue = function formatValue (format) {
        return this.owner.formatPointValue(this, format);
    };

    LinePoint.prototype.overlapsBox = function overlapsBox (box) {
        var markerBox = this.markerBox();
        return markerBox.overlaps(box);
    };

    LinePoint.prototype.unclipElements = function unclipElements () {
        if (this.label) {
            this.label.options.noclip = true;
        }

        if (this.note) {
            this.note.options.noclip = true;
        }
    };

    LinePoint.prototype.pointData = function pointData () {
        return {
            dataItem: this.dataItem,
            category: this.category,
            value: this.value,
            percentage: this.percentage,
            stackValue: this.stackValue,
            series: this.series
        };
    };

    return LinePoint;
}(ChartElement));

LinePoint.prototype.defaults = {
    vertical: true,
    markers: {
        visible: true,
        background: WHITE,
        size: LINE_MARKER_SIZE,
        type: CIRCLE,
        border: {
            width: 2
        },
        opacity: 1
    },
    labels: {
        visible: false,
        position: ABOVE,
        margin: getSpacing(3),
        padding: getSpacing(4),
        animation: {
            type: FADEIN,
            delay: INITIAL_ANIMATION_DURATION
        }
    },
    notes: {
        label: {}
    },
    highlight: {
        markers: {
            border: {
                color: "#fff",
                width: 2
            }
        },
        zIndex: HIGHLIGHT_ZINDEX
    },
    errorBars: {
        line: {
            width: 1
        }
    }
};

deepExtend(LinePoint.prototype, PointEventsMixin);
deepExtend(LinePoint.prototype, NoteMixin);

var LineSegment = (function (ChartElement$$1) {
    function LineSegment(linePoints, series, seriesIx) {
        ChartElement$$1.call(this);

        this.linePoints = linePoints;
        this.series = series;
        this.seriesIx = seriesIx;
    }

    if ( ChartElement$$1 ) LineSegment.__proto__ = ChartElement$$1;
    LineSegment.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    LineSegment.prototype.constructor = LineSegment;

    LineSegment.prototype.points = function points () {
        return this.toGeometryPoints(this.linePoints);
    };

    LineSegment.prototype.toGeometryPoints = function toGeometryPoints (points) {
        var result = [];
        for (var i = 0, length = points.length; i < length; i++) {
            if (points[i] && points[i].visible !== false) {
                result.push(points[i]._childBox.toRect().center());
            }
        }

        return result;
    };

    LineSegment.prototype.createVisual = function createVisual () {
        var this$1 = this;

        var customVisual = this.series.visual;
        if (customVisual) {
            this.visual = customVisual({
                points: this.toGeometryPoints(this.linePoints),
                series: this.series,
                sender: this.getSender(),
                createVisual: function () {
                    this$1.segmentVisual();

                    return this$1.visual;
                }
            });
            if (this.visual && !defined(this.visual.options.zIndex)) {
                this.visual.options.zIndex = this.series.zIndex;
            }
        } else {
            this.segmentVisual();
        }
    };

    LineSegment.prototype.segmentVisual = function segmentVisual () {
        var ref = this;
        var options = ref.options;
        var series = ref.series;
        var color = series.color;
        var defaults = series._defaults;

        if (isFunction(color) && defaults) {
            color = defaults.color;
        }

        var line = _progress_kendoDrawing.drawing.Path.fromPoints(this.points(), {
            stroke: {
                color: color,
                width: series.width,
                opacity: series.opacity,
                dashType: series.dashType
            },
            zIndex: series.zIndex
        });

        if (options.closed) {
            line.close();
        }

        this.visual = line;
    };

    LineSegment.prototype.aliasFor = function aliasFor (e, coords) {
        return this.parent.getNearestPoint(coords.x, coords.y, this.seriesIx);
    };

    return LineSegment;
}(ChartElement));

setDefaultOptions(LineSegment, {
    closed: false
});

var StepLineMixin = {
    calculateStepPoints: function(points) {
        var categoryAxis = this.parent.plotArea.seriesCategoryAxis(this.series);
        var ref = categoryAxis.options;
        var justified = ref.justified;
        var vertical = ref.vertical;
        var reverse = ref.reverse;

        var stepAxis = vertical ? X : Y;
        var axis = vertical ? Y : X;
        var stepDir = reverse ? 2 : 1;
        var dir = stepDir;

        var previousPoint = toGeometryPoint(points[0], stepAxis, stepDir, axis, dir);
        var result = [ previousPoint ];

        for (var idx = 1; idx < points.length; idx++) {
            var point = toGeometryPoint(points[idx], stepAxis, stepDir, axis, dir);

            if (previousPoint[stepAxis] !== point[stepAxis]) {
                var stepPoint = new _progress_kendoDrawing.geometry.Point();
                stepPoint[stepAxis] = previousPoint[stepAxis];
                stepPoint[axis] = point[axis];

                result.push(stepPoint, point);
            }

            previousPoint = point;
        }

        if (!justified) {
            result.push(toGeometryPoint(last(points), stepAxis, stepDir, axis, reverse ? 1 : 2));
        } else if (previousPoint !== last(result)) {
            result.push(previousPoint);
        }

        return result;

    }
};

function toGeometryPoint(lintPoint, stepAxis, stepDir, axis, dir) {
    var box = lintPoint.box;
    var result = new _progress_kendoDrawing.geometry.Point();

    result[stepAxis] = box[stepAxis + stepDir];
    result[axis] = box[axis + dir];

    return result;
}

var StepLineSegment = (function (LineSegment$$1) {
    function StepLineSegment () {
        LineSegment$$1.apply(this, arguments);
    }

    if ( LineSegment$$1 ) StepLineSegment.__proto__ = LineSegment$$1;
    StepLineSegment.prototype = Object.create( LineSegment$$1 && LineSegment$$1.prototype );
    StepLineSegment.prototype.constructor = StepLineSegment;

    StepLineSegment.prototype.points = function points () {
        return this.calculateStepPoints(this.linePoints);
    };

    return StepLineSegment;
}(LineSegment));

deepExtend(StepLineSegment.prototype, StepLineMixin);

var SplineSegment = (function (LineSegment$$1) {
    function SplineSegment () {
        LineSegment$$1.apply(this, arguments);
    }

    if ( LineSegment$$1 ) SplineSegment.__proto__ = LineSegment$$1;
    SplineSegment.prototype = Object.create( LineSegment$$1 && LineSegment$$1.prototype );
    SplineSegment.prototype.constructor = SplineSegment;

    SplineSegment.prototype.segmentVisual = function segmentVisual () {
        var series = this.series;
        var defaults = series._defaults;
        var color = series.color;

        if (isFunction(color) && defaults) {
            color = defaults.color;
        }

        var curveProcessor = new CurveProcessor(this.options.closed);
        var segments = curveProcessor.process(this.points());
        var curve = new _progress_kendoDrawing.drawing.Path({
            stroke: {
                color: color,
                width: series.width,
                opacity: series.opacity,
                dashType: series.dashType
            },
            zIndex: series.zIndex
        });

        curve.segments.push.apply(curve.segments, segments);

        this.visual = curve;
    };

    return SplineSegment;
}(LineSegment));

var LineChartMixin = {
    renderSegments: function() {
        var this$1 = this;

        var ref = this;
        var options = ref.options;
        var seriesPoints = ref.seriesPoints;
        var series = options.series;
        var seriesCount = seriesPoints.length;
        var lastSegment;

        this._segments = [];

        for (var seriesIx = 0; seriesIx < seriesCount; seriesIx++) {
            var currentSeries = series[seriesIx];
            var sortedPoints = this$1.sortPoints(seriesPoints[seriesIx]);
            var pointCount = sortedPoints.length;
            var linePoints = [];

            for (var pointIx = 0; pointIx < pointCount; pointIx++) {
                var point = sortedPoints[pointIx];
                if (point) {
                    linePoints.push(point);
                } else if (this$1.seriesMissingValues(currentSeries) !== INTERPOLATE) {
                    if (linePoints.length > 1) {
                        lastSegment = this$1.createSegment(
                            linePoints, currentSeries, seriesIx, lastSegment
                        );
                        this$1._addSegment(lastSegment);
                    }
                    linePoints = [];
                }
            }

            if (linePoints.length > 1) {
                lastSegment = this$1.createSegment(
                    linePoints, currentSeries, seriesIx, lastSegment
                );
                this$1._addSegment(lastSegment);
            }
        }

        this.children.unshift.apply(this.children, this._segments);
    },

    _addSegment: function(segment) {
        this._segments.push(segment);
        segment.parent = this;
    },

    sortPoints: function(points) {
        return points;
    },

    seriesMissingValues: function(series) {
        var missingValues = series.missingValues;
        var assumeZero = !missingValues && this.options.isStacked;

        return assumeZero ? ZERO : missingValues || INTERPOLATE;
    },

    getNearestPoint: function(x, y, seriesIx) {
        var target = new Point(x, y);
        var allPoints = this.seriesPoints[seriesIx];
        var nearestPointDistance = MAX_VALUE;
        var nearestPoint;

        for (var i = 0; i < allPoints.length; i++) {
            var point = allPoints[i];

            if (point && defined(point.value) && point.value !== null && point.visible !== false) {
                var pointBox = point.box;
                var pointDistance = pointBox.center().distanceTo(target);

                if (pointDistance < nearestPointDistance) {
                    nearestPoint = point;
                    nearestPointDistance = pointDistance;
                }
            }
        }

        return nearestPoint;
    }
};

var ClipAnimation = (function (superclass) {
    function ClipAnimation () {
        superclass.apply(this, arguments);
    }

    if ( superclass ) ClipAnimation.__proto__ = superclass;
    ClipAnimation.prototype = Object.create( superclass && superclass.prototype );
    ClipAnimation.prototype.constructor = ClipAnimation;

    ClipAnimation.prototype.setup = function setup () {
        this._setEnd(this.options.box.x1);
    };

    ClipAnimation.prototype.step = function step (pos) {
        var box = this.options.box;
        this._setEnd(interpolateValue(box.x1, box.x2, pos));
    };

    ClipAnimation.prototype._setEnd = function _setEnd (x) {
        var element = this.element;
        var segments = element.segments;
        var topRight = segments[1].anchor();
        var bottomRight = segments[2].anchor();

        element.suspend();
        topRight.setX(x);
        element.resume();
        bottomRight.setX(x);
    };

    return ClipAnimation;
}(_progress_kendoDrawing.drawing.Animation));

setDefaultOptions(ClipAnimation, {
    duration: INITIAL_ANIMATION_DURATION
});

_progress_kendoDrawing.drawing.AnimationFactory.current.register("clip", ClipAnimation);

function anyHasZIndex(elements) {
    for (var idx = 0; idx < elements.length; idx++) {
        if (defined(elements[idx].zIndex)) {
            return true;
        }
    }
}

var ClipAnimationMixin = {
    createAnimation: function() {
        var root = this.getRoot();
        if (root && (root.options || {}).transitions !== false) {
            var box = root.size();
            var clipPath = _progress_kendoDrawing.drawing.Path.fromRect(box.toRect());
            this.visual.clip(clipPath);
            this.animation = new ClipAnimation(clipPath, {
                box: box
            });
            if (anyHasZIndex(this.options.series)) {
                this._setChildrenAnimation(clipPath);
            }
        }
    },

    _setChildrenAnimation: function(clipPath) {
        var points = this.animationPoints();

        for (var idx = 0; idx < points.length; idx++) {
            var point = points[idx];
            if (point && point.visual && defined(point.visual.options.zIndex)) {
                point.visual.clip(clipPath);
            }
        }
    }
};

var LineChart = (function (CategoricalChart$$1) {
    function LineChart () {
        CategoricalChart$$1.apply(this, arguments);
    }

    if ( CategoricalChart$$1 ) LineChart.__proto__ = CategoricalChart$$1;
    LineChart.prototype = Object.create( CategoricalChart$$1 && CategoricalChart$$1.prototype );
    LineChart.prototype.constructor = LineChart;

    LineChart.prototype.render = function render () {

        CategoricalChart$$1.prototype.render.call(this);

        this.updateStackRange();
        this.renderSegments();
    };

    LineChart.prototype.pointType = function pointType () {
        return LinePoint;
    };

    LineChart.prototype.createPoint = function createPoint (data, fields) {
        var categoryIx = fields.categoryIx;
        var category = fields.category;
        var series = fields.series;
        var seriesIx = fields.seriesIx;
        var missingValues = this.seriesMissingValues(series);
        var value = data.valueFields.value;

        if (!defined(value) || value === null) {
            if (missingValues === ZERO) {
                value = 0;
            } else {
                return null;
            }
        }

        var pointOptions = this.pointOptions(series, seriesIx);
        pointOptions = this.evalPointOptions(
            pointOptions, value, category, categoryIx, series, seriesIx
        );

        var color = data.fields.color || series.color;
        if (isFunction(series.color)) {
            color = pointOptions.color;
        }

        var point = new LinePoint(value, pointOptions);
        point.color = color;

        this.append(point);

        return point;
    };

    LineChart.prototype.plotRange = function plotRange (point) {
        var this$1 = this;

        var plotValue = this.plotValue(point);

        if (this.options.isStacked) {
            var categoryIx = point.categoryIx;
            var categoryPoints = this.categoryPoints[categoryIx];

            for (var i = 0; i < categoryPoints.length; i++) {
                var other = categoryPoints[i];

                if (point === other) {
                    break;
                }

                plotValue += this$1.plotValue(other);

                if (this$1.options.isStacked100) {
                    plotValue = Math.min(plotValue, 1);
                }
            }

        }

        return [ plotValue, plotValue ];
    };

    LineChart.prototype.createSegment = function createSegment (linePoints, currentSeries, seriesIx) {
        var style = currentSeries.style;
        var pointType;

        if (style === STEP) {
            pointType = StepLineSegment;
        } else if (style === SMOOTH) {
            pointType = SplineSegment;
        } else {
            pointType = LineSegment;
        }

        return new pointType(linePoints, currentSeries, seriesIx);
    };

    LineChart.prototype.animationPoints = function animationPoints () {
        var points = this.points;
        var result = [];
        for (var idx = 0; idx < points.length; idx++) {
            result.push((points[idx] || {}).marker);
        }
        return result.concat(this._segments);
    };

    return LineChart;
}(CategoricalChart));

deepExtend(LineChart.prototype, LineChartMixin, ClipAnimationMixin);

var AreaSegment = (function (LineSegment$$1) {
    function AreaSegment(linePoints, currentSeries, seriesIx, prevSegment, stackPoints) {
        LineSegment$$1.call(this, linePoints, currentSeries, seriesIx);

        this.prevSegment = prevSegment;
        this.stackPoints = stackPoints;
    }

    if ( LineSegment$$1 ) AreaSegment.__proto__ = LineSegment$$1;
    AreaSegment.prototype = Object.create( LineSegment$$1 && LineSegment$$1.prototype );
    AreaSegment.prototype.constructor = AreaSegment;

    AreaSegment.prototype.createVisual = function createVisual () {
        var series = this.series;
        var defaults = series._defaults;
        var lineOptions = series.line || {};
        var color = series.color;

        if (isFunction(color) && defaults) {
            color = defaults.color;
        }

        this.visual = new _progress_kendoDrawing.drawing.Group({
            zIndex: series.zIndex
        });

        this.createFill({
            fill: {
                color: color,
                opacity: series.opacity
            },
            stroke: null
        });

        if (lineOptions.width > 0 && lineOptions.visible !== false) {
            this.createStroke({
                stroke: deepExtend({
                    color: color,
                    opacity: series.opacity,
                    lineCap: "butt"
                }, lineOptions)
            });
        }
    };

    AreaSegment.prototype.strokeSegments = function strokeSegments () {
        var segments = this._strokeSegments;

        if (!segments) {
            segments = this._strokeSegments = this.createStrokeSegments();
        }

        return segments;
    };

    AreaSegment.prototype.createStrokeSegments = function createStrokeSegments () {
        return this.segmentsFromPoints(this.points());
    };

    AreaSegment.prototype.stackSegments = function stackSegments () {
        if (this.prevSegment) {
            return this.prevSegment.createStackSegments(this.stackPoints);
        }

        return this.createStackSegments(this.stackPoints);
    };

    AreaSegment.prototype.createStackSegments = function createStackSegments (stackPoints) {
        return this.segmentsFromPoints(this.toGeometryPoints(stackPoints)).reverse();
    };

    AreaSegment.prototype.segmentsFromPoints = function segmentsFromPoints (points) {
        return points.map(function (point) { return new _progress_kendoDrawing.geometry.Segment(point); });
    };

    AreaSegment.prototype.createStroke = function createStroke (style) {
        var stroke = new _progress_kendoDrawing.drawing.Path(style);
        stroke.segments.push.apply(stroke.segments, this.strokeSegments());

        this.visual.append(stroke);
    };

    AreaSegment.prototype.hasStackSegment = function hasStackSegment () {
        return this.prevSegment || (this.stackPoints && this.stackPoints.length);
    };

    AreaSegment.prototype.createFill = function createFill (style) {
        var strokeSegments = this.strokeSegments();
        var fillSegments = strokeSegments.slice(0);
        var hasStackSegments = this.hasStackSegment();

        if (hasStackSegments) {
            var stackSegments = this.stackSegments();

            append$1(fillSegments, stackSegments);
        }

        var fill = new _progress_kendoDrawing.drawing.Path(style);
        fill.segments.push.apply(fill.segments, fillSegments);

        if (!hasStackSegments && strokeSegments.length > 1) {
            this.fillToAxes(fill);
        }

        this.visual.append(fill);
    };

    AreaSegment.prototype.fillToAxes = function fillToAxes (fillPath) {
        var chart = this.parent;
        var invertAxes = chart.options.invertAxes;
        var valueAxis = chart.seriesValueAxis(this.series);
        var crossingValue = chart.categoryAxisCrossingValue(valueAxis);
        var endSlot = valueAxis.getSlot(crossingValue, crossingValue, true);
        var segments = this.strokeSegments();
        var firstPoint = segments[0].anchor();
        var lastPoint = last(segments).anchor();
        var end = invertAxes ? endSlot.x1 : endSlot.y1;

        if (invertAxes) {
            fillPath.lineTo(end, lastPoint.y)
                    .lineTo(end, firstPoint.y);
        } else {
            fillPath.lineTo(lastPoint.x, end)
                    .lineTo(firstPoint.x, end);
        }
    };

    return AreaSegment;
}(LineSegment));

var StepAreaSegment = (function (AreaSegment$$1) {
    function StepAreaSegment () {
        AreaSegment$$1.apply(this, arguments);
    }

    if ( AreaSegment$$1 ) StepAreaSegment.__proto__ = AreaSegment$$1;
    StepAreaSegment.prototype = Object.create( AreaSegment$$1 && AreaSegment$$1.prototype );
    StepAreaSegment.prototype.constructor = StepAreaSegment;

    StepAreaSegment.prototype.createStrokeSegments = function createStrokeSegments () {
        return this.segmentsFromPoints(this.calculateStepPoints(this.linePoints));
    };

    StepAreaSegment.prototype.createStackSegments = function createStackSegments (stackPoints) {
        return this.segmentsFromPoints(this.calculateStepPoints(stackPoints)).reverse();
    };

    return StepAreaSegment;
}(AreaSegment));

deepExtend(StepAreaSegment.prototype, StepLineMixin);

var SplineAreaSegment = (function (AreaSegment$$1) {
    function SplineAreaSegment () {
        AreaSegment$$1.apply(this, arguments);
    }

    if ( AreaSegment$$1 ) SplineAreaSegment.__proto__ = AreaSegment$$1;
    SplineAreaSegment.prototype = Object.create( AreaSegment$$1 && AreaSegment$$1.prototype );
    SplineAreaSegment.prototype.constructor = SplineAreaSegment;

    SplineAreaSegment.prototype.createStrokeSegments = function createStrokeSegments () {
        var curveProcessor = new CurveProcessor(this.options.closed);
        var linePoints = this.points();

        return curveProcessor.process(linePoints);
    };

    SplineAreaSegment.prototype.createStackSegments = function createStackSegments () {
        var strokeSegments = this.strokeSegments();
        var stackSegments = [];
        for (var idx = strokeSegments.length - 1; idx >= 0; idx--) {
            var segment = strokeSegments[idx];
            stackSegments.push(new _progress_kendoDrawing.geometry.Segment(
                segment.anchor(),
                segment.controlOut(),
                segment.controlIn()
            ));
        }

        return stackSegments;
    };

    return SplineAreaSegment;
}(AreaSegment));

var AreaChart = (function (LineChart$$1) {
    function AreaChart () {
        LineChart$$1.apply(this, arguments);
    }

    if ( LineChart$$1 ) AreaChart.__proto__ = LineChart$$1;
    AreaChart.prototype = Object.create( LineChart$$1 && LineChart$$1.prototype );
    AreaChart.prototype.constructor = AreaChart;

    AreaChart.prototype.createSegment = function createSegment (linePoints, currentSeries, seriesIx, prevSegment) {
        var isStacked = this.options.isStacked;
        var style = (currentSeries.line || {}).style;
        var previousSegment;

        var stackPoints;
        if (isStacked && seriesIx > 0 && prevSegment) {
            var missingValues = this.seriesMissingValues(currentSeries);
            if (missingValues !== "gap") {
                stackPoints = prevSegment.linePoints;
                previousSegment = prevSegment;
            } else {
                stackPoints = this._gapStackPoints(linePoints, seriesIx, style);
            }
        }

        var pointType;
        if (style === STEP) {
            pointType = StepAreaSegment;
        } else if (style === SMOOTH) {
            pointType = SplineAreaSegment;
        } else {
            pointType = AreaSegment;
        }

        return new pointType(linePoints, currentSeries, seriesIx, previousSegment, stackPoints);
    };

    AreaChart.prototype.reflow = function reflow (targetBox) {
        var this$1 = this;

        LineChart$$1.prototype.reflow.call(this, targetBox);

        var stackPoints = this._stackPoints;
        if (stackPoints) {
            for (var idx = 0; idx < stackPoints.length; idx++) {
                var stackPoint = stackPoints[idx];
                var pointSlot = this$1.categoryAxis.getSlot(stackPoint.categoryIx);
                stackPoint.reflow(pointSlot);
            }
        }
    };

    AreaChart.prototype._gapStackPoints = function _gapStackPoints (linePoints, seriesIx, style) {
        var this$1 = this;

        var seriesPoints = this.seriesPoints;
        var startIdx = linePoints[0].categoryIx;
        var length = linePoints.length;
        if (startIdx < 0) {
            startIdx = 0;
            length--;
        }

        var endIdx = startIdx + length;
        var pointOffset = this.seriesOptions[0]._outOfRangeMinPoint ? 1 : 0;
        var stackPoints = [];

        this._stackPoints = this._stackPoints || [];
        for (var categoryIx = startIdx; categoryIx < endIdx; categoryIx++) {
            var pointIx = categoryIx + pointOffset;
            var currentSeriesIx = seriesIx;
            var point = (void 0);

            do {
                currentSeriesIx--;
                point = seriesPoints[currentSeriesIx][pointIx];
            } while (currentSeriesIx > 0 && !point);

            if (point) {
                if (style !== STEP && categoryIx > startIdx && !seriesPoints[currentSeriesIx][pointIx - 1]) {
                    stackPoints.push(this$1._previousSegmentPoint(categoryIx, pointIx, pointIx - 1, currentSeriesIx));
                }

                stackPoints.push(point);

                if (style !== STEP && categoryIx + 1 < endIdx && !seriesPoints[currentSeriesIx][pointIx + 1]) {
                    stackPoints.push(this$1._previousSegmentPoint(categoryIx, pointIx, pointIx + 1, currentSeriesIx));
                }
            } else {
                var gapStackPoint = this$1._createGapStackPoint(categoryIx);
                this$1._stackPoints.push(gapStackPoint);
                stackPoints.push(gapStackPoint);
            }
        }

        return stackPoints;
    };

    AreaChart.prototype._previousSegmentPoint = function _previousSegmentPoint (categoryIx, pointIx, segmentIx, seriesIdx) {
        var seriesPoints = this.seriesPoints;
        var index = seriesIdx;
        var point;

        while (index > 0 && !point) {
            index--;
            point = seriesPoints[index][segmentIx];
        }

        if (!point) {
            point = this._createGapStackPoint(categoryIx);
            this._stackPoints.push(point);
        } else {
            point = seriesPoints[index][pointIx];
        }

        return point;
    };

    AreaChart.prototype._createGapStackPoint = function _createGapStackPoint (categoryIx) {
        var options = this.pointOptions({}, 0);
        var point = new LinePoint(0, options);
        point.categoryIx = categoryIx;
        point.series = {};

        return point;
    };

    AreaChart.prototype.seriesMissingValues = function seriesMissingValues (series) {
        return series.missingValues || ZERO;
    };

    return AreaChart;
}(LineChart));

var AxisGroupRangeTracker = (function (Class$$1) {
    function AxisGroupRangeTracker() {
        Class$$1.call(this);

        this.axisRanges = {};
    }

    if ( Class$$1 ) AxisGroupRangeTracker.__proto__ = Class$$1;
    AxisGroupRangeTracker.prototype = Object.create( Class$$1 && Class$$1.prototype );
    AxisGroupRangeTracker.prototype.constructor = AxisGroupRangeTracker;

    AxisGroupRangeTracker.prototype.update = function update (chartAxisRanges) {
        var axisRanges = this.axisRanges;

        for (var axisName in chartAxisRanges) {
            var chartRange = chartAxisRanges[axisName];
            var range = axisRanges[axisName];
            axisRanges[axisName] = range = range || { min: MAX_VALUE, max: MIN_VALUE };

            range.min = Math.min(range.min, chartRange.min);
            range.max = Math.max(range.max, chartRange.max);
        }
    };

    AxisGroupRangeTracker.prototype.reset = function reset (axisName) {
        this.axisRanges[axisName] = undefined;
    };

    AxisGroupRangeTracker.prototype.query = function query (axisName) {
        return this.axisRanges[axisName];
    };

    return AxisGroupRangeTracker;
}(_progress_kendoDrawing.Class));

var BarLabel = (function (ChartElement$$1) {
    function BarLabel(content, options, pointData) {
        ChartElement$$1.call(this, options);

        this.textBox = new TextBox(content, this.options, pointData);
        this.append(this.textBox);
    }

    if ( ChartElement$$1 ) BarLabel.__proto__ = ChartElement$$1;
    BarLabel.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    BarLabel.prototype.constructor = BarLabel;

    BarLabel.prototype.createVisual = function createVisual () {
        this.textBox.options.noclip = this.options.noclip;
    };

    BarLabel.prototype.reflow = function reflow (targetBox) {
        var options = this.options;
        var vertical = options.vertical;
        var aboveAxis = options.aboveAxis;
        var text = this.children[0];
        var textOptions = text.options;
        var box = text.box;
        var padding = text.options.padding;
        var labelBox = targetBox;

        textOptions.align = vertical ? CENTER : LEFT;
        textOptions.vAlign = vertical ? TOP : CENTER;

        if (options.position === INSIDE_END) {
            if (vertical) {
                textOptions.vAlign = TOP;

                if (!aboveAxis && box.height() < targetBox.height()) {
                    textOptions.vAlign = BOTTOM;
                }
            } else {
                textOptions.align = aboveAxis ? RIGHT : LEFT;
            }
        } else if (options.position === CENTER) {
            textOptions.vAlign = CENTER;
            textOptions.align = CENTER;
        } else if (options.position === INSIDE_BASE) {
            if (vertical) {
                textOptions.vAlign = aboveAxis ? BOTTOM : TOP;
            } else {
                textOptions.align = aboveAxis ? LEFT : RIGHT;
            }
        } else if (options.position === OUTSIDE_END) {
            if (vertical) {
                if (aboveAxis) {
                    labelBox = new Box(
                        targetBox.x1, targetBox.y1 - box.height(),
                        targetBox.x2, targetBox.y1
                    );
                } else {
                    labelBox = new Box(
                        targetBox.x1, targetBox.y2,
                        targetBox.x2, targetBox.y2 + box.height()
                    );
                }
            } else {
                textOptions.align = CENTER;
                if (aboveAxis) {
                    labelBox = new Box(
                        targetBox.x2, targetBox.y1,
                        targetBox.x2 + box.width(), targetBox.y2
                    );
                } else {
                    labelBox = new Box(
                        targetBox.x1 - box.width(), targetBox.y1,
                        targetBox.x1, targetBox.y2
                    );
                }
            }
        }

        if (!options.rotation) {
            if (vertical) {
                padding.left = padding.right =
                    (labelBox.width() - text.contentBox.width()) / 2;
            } else {
                padding.top = padding.bottom =
                    (labelBox.height() - text.contentBox.height()) / 2;
            }
        }

        text.reflow(labelBox);
    };

    BarLabel.prototype.alignToClipBox = function alignToClipBox (clipBox) {
        var vertical = this.options.vertical;
        var field = vertical ? Y : X;
        var start = field + "1";
        var end = field + "2";
        var text = this.children[0];
        var parentBox = this.parent.box;

        if (parentBox[start] < clipBox[start] || clipBox[end] < parentBox[end]) {
            var targetBox = text.paddingBox.clone();
            targetBox[start] = Math.max(parentBox[start], clipBox[start]);
            targetBox[end] = Math.min(parentBox[end], clipBox[end]);

            this.reflow(targetBox);
        }
    };

    return BarLabel;
}(ChartElement));

setDefaultOptions(BarLabel, {
    position: OUTSIDE_END,
    margin: getSpacing(3),
    padding: getSpacing(4),
    color: BLACK,
    background: "",
    border: {
        width: 1,
        color: ""
    },
    aboveAxis: true,
    vertical: false,
    animation: {
        type: FADEIN,
        delay: INITIAL_ANIMATION_DURATION
    },
    zIndex: 2
});

function hasGradientOverlay(options) {
    var overlay = options.overlay;

    return overlay && overlay.gradient && overlay.gradient !== "none";
}

var BAR_ALIGN_MIN_WIDTH = 6;

var Bar = (function (ChartElement$$1) {
    function Bar(value, options) {
        ChartElement$$1.call(this);

        this.options = options;
        this.color = options.color || WHITE;
        this.aboveAxis = valueOrDefault(this.options.aboveAxis, true);
        this.value = value;
    }

    if ( ChartElement$$1 ) Bar.__proto__ = ChartElement$$1;
    Bar.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    Bar.prototype.constructor = Bar;

    Bar.prototype.render = function render () {
        if (this._rendered) {
            return;
        }

        this._rendered = true;

        this.createLabel();
        this.createNote();

        if (this.errorBar) {
            this.append(this.errorBar);
        }
    };

    Bar.prototype.createLabel = function createLabel () {
        var options = this.options;
        var labels = options.labels;

        if (labels.visible) {
            var pointData = this.pointData();
            var labelTemplate = getTemplate(labels);
            var labelText;

            if (labelTemplate) {
                labelText = labelTemplate(pointData);
            } else {
                labelText = this.formatValue(labels.format);
            }

            this.label = new BarLabel(labelText,
                deepExtend({
                    vertical: options.vertical
                },
                labels
            ), pointData);
            this.append(this.label);
        }
    };

    Bar.prototype.formatValue = function formatValue (format) {
        return this.owner.formatPointValue(this, format);
    };

    Bar.prototype.reflow = function reflow (targetBox) {
        var this$1 = this;

        this.render();

        var label = this.label;

        this.box = targetBox;

        if (label) {
            label.options.aboveAxis = this.aboveAxis;
            label.reflow(targetBox);
        }

        if (this.note) {
            this.note.reflow(targetBox);
        }

        if (this.errorBars) {
            for (var i = 0; i < this.errorBars.length; i++) {
                this$1.errorBars[i].reflow(targetBox);
            }
        }
    };

    Bar.prototype.createVisual = function createVisual () {
        var this$1 = this;

        var ref = this;
        var box = ref.box;
        var options = ref.options;
        var customVisual = options.visual;

        if (this.visible !== false) {
            ChartElement$$1.prototype.createVisual.call(this);

            if (customVisual) {
                var visual = this.rectVisual = customVisual({
                    category: this.category,
                    dataItem: this.dataItem,
                    value: this.value,
                    sender: this.getSender(),
                    series: this.series,
                    percentage: this.percentage,
                    stackValue: this.stackValue,
                    runningTotal: this.runningTotal,
                    total: this.total,
                    rect: box.toRect(),
                    createVisual: function () {
                        var group = new _progress_kendoDrawing.drawing.Group();
                        this$1.createRect(group);
                        return group;
                    },
                    options: options
                });

                if (visual) {
                    this.visual.append(visual);
                }
            } else if (box.width() > 0 && box.height() > 0) {
                this.createRect(this.visual);
            }
        }
    };

    Bar.prototype.createRect = function createRect (visual) {
        var options = this.options;
        var border = options.border;
        var strokeOpacity = defined(border.opacity) ? border.opacity : options.opacity;
        var rect = this.box.toRect();

        rect.size.width = Math.round(rect.size.width);

        var path = this.rectVisual = _progress_kendoDrawing.drawing.Path.fromRect(rect, {
            fill: {
                color: this.color,
                opacity: options.opacity
            },
            stroke: {
                color: this.getBorderColor(),
                width: border.width,
                opacity: strokeOpacity,
                dashType: border.dashType
            }
        });

        var width = this.box.width();
        var height = this.box.height();

        var size = options.vertical ? width : height;

        if (size > BAR_ALIGN_MIN_WIDTH) {
            alignPathToPixel(path);

            // Fixes lineJoin issue in firefox when the joined lines are parallel
            if (width < 1 || height < 1) {
                path.options.stroke.lineJoin = "round";
            }
        }

        visual.append(path);

        if (hasGradientOverlay(options)) {
            var overlay = this.createGradientOverlay(path, { baseColor: this.color }, deepExtend({
                end: !options.vertical ? [ 0, 1 ] : undefined
            }, options.overlay));

            visual.append(overlay);
        }
    };

    Bar.prototype.createHighlight = function createHighlight (style) {
        var highlight = _progress_kendoDrawing.drawing.Path.fromRect(this.box.toRect(), style);

        return alignPathToPixel(highlight);
    };

    Bar.prototype.highlightVisual = function highlightVisual () {
        return this.rectVisual;
    };

    Bar.prototype.highlightVisualArgs = function highlightVisualArgs () {
        return {
            options: this.options,
            rect: this.box.toRect(),
            visual: this.rectVisual
        };
    };

    Bar.prototype.getBorderColor = function getBorderColor () {
        var color = this.color;
        var border = this.options.border;
        var brightness = border._brightness || BORDER_BRIGHTNESS;
        var borderColor = border.color;

        if (!defined(borderColor)) {
            borderColor = new _progress_kendoDrawing.Color(color).brightness(brightness).toHex();
        }

        return borderColor;
    };

    Bar.prototype.tooltipAnchor = function tooltipAnchor () {
        var ref = this;
        var options = ref.options;
        var box = ref.box;
        var aboveAxis = ref.aboveAxis;
        var clipBox = this.owner.pane.clipBox() || box;
        var horizontalAlign = LEFT;
        var verticalAlign = TOP;
        var x, y;

        if (options.vertical) {
            x = Math.min(box.x2, clipBox.x2) + TOOLTIP_OFFSET;
            if (aboveAxis) {
                y = Math.max(box.y1, clipBox.y1);
            } else {
                y = Math.min(box.y2, clipBox.y2);
                verticalAlign = BOTTOM;
            }
        } else {
            var x1 = Math.max(box.x1, clipBox.x1);
            var x2 = Math.min(box.x2, clipBox.x2);

            if (options.isStacked) {
                verticalAlign = BOTTOM;
                if (aboveAxis) {
                    horizontalAlign = RIGHT;
                    x = x2;
                } else {
                    x = x1;
                }
                y = Math.max(box.y1, clipBox.y1) - TOOLTIP_OFFSET;
            } else {
                if (aboveAxis) {
                    x = x2 + TOOLTIP_OFFSET;
                } else {
                    x = x1 - TOOLTIP_OFFSET;
                    horizontalAlign = RIGHT;
                }
                y = Math.max(box.y1, clipBox.y1);
            }
        }

        return {
            point: new Point(x, y),
            align: {
                horizontal: horizontalAlign,
                vertical: verticalAlign
            }
        };
    };

    Bar.prototype.overlapsBox = function overlapsBox (box) {
        return this.box.overlaps(box);
    };

    Bar.prototype.pointData = function pointData () {
        return {
            dataItem: this.dataItem,
            category: this.category,
            value: this.value,
            percentage: this.percentage,
            stackValue: this.stackValue,
            runningTotal: this.runningTotal,
            total: this.total,
            series: this.series
        };
    };

    return Bar;
}(ChartElement));

deepExtend(Bar.prototype, PointEventsMixin);
deepExtend(Bar.prototype, NoteMixin);

Bar.prototype.defaults = {
    border: {
        width: 1
    },
    vertical: true,
    overlay: {
        gradient: "glass"
    },
    labels: {
        visible: false,
        format: "{0}"
    },
    opacity: 1,
    notes: {
        label: {}
    }
};

function forEach(elements, callback) {
    elements.forEach(callback);
}

function forEachReverse(elements, callback) {
    var length = elements.length;

    for (var idx = length - 1; idx >= 0; idx--) {
        callback(elements[idx], idx - length - 1);
    }
}

var ClusterLayout = (function (ChartElement$$1) {
    function ClusterLayout(options) {
        ChartElement$$1.call(this, options);

        this.forEach = options.rtl ? forEachReverse : forEach;
    }

    if ( ChartElement$$1 ) ClusterLayout.__proto__ = ChartElement$$1;
    ClusterLayout.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    ClusterLayout.prototype.constructor = ClusterLayout;

    ClusterLayout.prototype.reflow = function reflow (box) {
        var ref = this.options;
        var vertical = ref.vertical;
        var gap = ref.gap;
        var spacing = ref.spacing;
        var children = this.children;
        var count = children.length;
        var axis = vertical ? Y : X;
        var slots = count + gap + (spacing * (count - 1));
        var slotSize = (vertical ? box.height() : box.width()) / slots;
        var position = box[axis + 1] + slotSize * (gap / 2);

        this.forEach(children, function (child, idx) {
            var childBox = (child.box || box).clone();

            childBox[axis + 1] = position;
            childBox[axis + 2] = position + slotSize;

            child.reflow(childBox);
            if (idx < count - 1) {
                position += (slotSize * spacing);
            }

            position += slotSize;
        });
    };

    return ClusterLayout;
}(ChartElement));

setDefaultOptions(ClusterLayout, {
    vertical: false,
    gap: 0,
    spacing: 0
});

var StackWrap = (function (ChartElement$$1) {
    function StackWrap () {
        ChartElement$$1.apply(this, arguments);
    }

    if ( ChartElement$$1 ) StackWrap.__proto__ = ChartElement$$1;
    StackWrap.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    StackWrap.prototype.constructor = StackWrap;

    StackWrap.prototype.reflow = function reflow (targetBox) {
        var this$1 = this;

        var positionAxis = this.options.vertical ? X : Y;
        var children = this.children;
        var childrenCount = children.length;
        var box = this.box = new Box();

        for (var i = 0; i < childrenCount; i++) {
            var currentChild = children[i];

            if (currentChild.visible !== false) {
                var childBox = currentChild.box.clone();
                childBox.snapTo(targetBox, positionAxis);

                if (i === 0) {
                    box = this$1.box = childBox.clone();
                }

                currentChild.reflow(childBox);
                box.wrap(childBox);
            }
        }
    };

    return StackWrap;
}(ChartElement));

setDefaultOptions(StackWrap, {
    vertical: true
});

var BarChart = (function (CategoricalChart$$1) {
    function BarChart () {
        CategoricalChart$$1.apply(this, arguments);
    }

    if ( CategoricalChart$$1 ) BarChart.__proto__ = CategoricalChart$$1;
    BarChart.prototype = Object.create( CategoricalChart$$1 && CategoricalChart$$1.prototype );
    BarChart.prototype.constructor = BarChart;

    BarChart.prototype.render = function render () {
        CategoricalChart$$1.prototype.render.call(this);
        this.updateStackRange();
    };

    BarChart.prototype.pointType = function pointType () {
        return Bar;
    };

    BarChart.prototype.clusterType = function clusterType () {
        return ClusterLayout;
    };

    BarChart.prototype.stackType = function stackType () {
        return StackWrap;
    };

    BarChart.prototype.stackLimits = function stackLimits (axisName, stackName) {
        var limits = CategoricalChart$$1.prototype.stackLimits.call(this, axisName, stackName);

        return limits;
    };

    BarChart.prototype.createPoint = function createPoint (data, fields) {
        var categoryIx = fields.categoryIx;
        var category = fields.category;
        var series = fields.series;
        var seriesIx = fields.seriesIx;
        var ref = this;
        var options = ref.options;
        var children = ref.children;
        var isStacked = options.isStacked;
        var value = this.pointValue(data);
        var pointOptions = this.pointOptions(series, seriesIx);

        var labelOptions = pointOptions.labels;
        if (isStacked) {
            if (labelOptions.position === OUTSIDE_END) {
                labelOptions.position = INSIDE_END;
            }
        }

        pointOptions.isStacked = isStacked;

        var color = data.fields.color || series.color;
        if (value < 0 && pointOptions.negativeColor) {
            color = pointOptions.negativeColor;
        }

        pointOptions = this.evalPointOptions(
            pointOptions, value, category, categoryIx, series, seriesIx
        );

        if (isFunction(series.color)) {
            color = pointOptions.color;
        }

        var pointType = this.pointType();
        var point = new pointType(value, pointOptions);
        point.color = color;

        var cluster = children[categoryIx];
        if (!cluster) {
            var clusterType = this.clusterType();
            cluster = new clusterType({
                vertical: options.invertAxes,
                gap: options.gap,
                spacing: options.spacing,
                rtl: !options.invertAxes && (this.chartService || {}).rtl
            });
            this.append(cluster);
        }

        if (isStacked) {
            var stackWrap = this.getStackWrap(series, cluster);
            stackWrap.append(point);
        } else {
            cluster.append(point);
        }

        return point;
    };

    BarChart.prototype.getStackWrap = function getStackWrap (series, cluster) {
        var stack = series.stack;
        var stackGroup = stack ? stack.group || stack : stack;
        var wraps = cluster.children;
        var stackWrap;

        if (typeof stackGroup === STRING) {
            for (var i = 0; i < wraps.length; i++) {
                if (wraps[i]._stackGroup === stackGroup) {
                    stackWrap = wraps[i];
                    break;
                }
            }
        } else {
            stackWrap = wraps[0];
        }

        if (!stackWrap) {
            var stackType = this.stackType();
            stackWrap = new stackType({
                vertical: !this.options.invertAxes
            });
            stackWrap._stackGroup = stackGroup;
            cluster.append(stackWrap);
        }

        return stackWrap;
    };

    BarChart.prototype.categorySlot = function categorySlot (categoryAxis, categoryIx, valueAxis) {
        var options = this.options;
        var categorySlot = categoryAxis.getSlot(categoryIx);
        var startValue = valueAxis.startValue();

        if (options.isStacked) {
            var zeroSlot = valueAxis.getSlot(startValue, startValue, true);
            var stackAxis = options.invertAxes ? X : Y;
            categorySlot[stackAxis + 1] = categorySlot[stackAxis + 2] = zeroSlot[stackAxis + 1];
        }

        return categorySlot;
    };

    BarChart.prototype.reflowCategories = function reflowCategories (categorySlots) {
        var children = this.children;
        var childrenLength = children.length;

        for (var i = 0; i < childrenLength; i++) {
            children[i].reflow(categorySlots[i]);
        }
    };

    BarChart.prototype.createAnimation = function createAnimation () {
        this._setAnimationOptions();
        CategoricalChart$$1.prototype.createAnimation.call(this);

        if (anyHasZIndex(this.options.series)) {
            this._setChildrenAnimation();
        }
    };

    BarChart.prototype._setChildrenAnimation = function _setChildrenAnimation () {
        var this$1 = this;

        var points = this.points;

        for (var idx = 0; idx < points.length; idx++) {
            var point = points[idx];
            var pointVisual = point.visual;
            if (pointVisual && defined(pointVisual.options.zIndex)) {
                point.options.animation = this$1.options.animation;
                point.createAnimation();
            }
        }
    };

    BarChart.prototype._setAnimationOptions = function _setAnimationOptions () {
        var options = this.options;
        var animation = options.animation || {};
        var origin;

        if (options.isStacked) {
            var valueAxis = this.seriesValueAxis(options.series[0]);
            origin = valueAxis.getSlot(valueAxis.startValue());
        } else {
            origin = this.categoryAxis.getSlot(0);
        }

        animation.origin = new _progress_kendoDrawing.geometry.Point(origin.x1, origin.y1);
        animation.vertical = !options.invertAxes;
    };

    return BarChart;
}(CategoricalChart));

setDefaultOptions(BarChart, {
    animation: {
        type: BAR
    }
});

var Candlestick = (function (ChartElement$$1) {
    function Candlestick(value, options) {
        ChartElement$$1.call(this, options);
        this.value = value;
    }

    if ( ChartElement$$1 ) Candlestick.__proto__ = ChartElement$$1;
    Candlestick.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    Candlestick.prototype.constructor = Candlestick;

    Candlestick.prototype.reflow = function reflow (box) {
        var ref = this;
        var options = ref.options;
        var value = ref.value;
        var chart = ref.owner;
        var valueAxis = chart.seriesValueAxis(options);
        var ocSlot = valueAxis.getSlot(value.open, value.close);
        var lhSlot = valueAxis.getSlot(value.low, value.high);

        ocSlot.x1 = lhSlot.x1 = box.x1;
        ocSlot.x2 = lhSlot.x2 = box.x2;

        this.realBody = ocSlot;

        var mid = lhSlot.center().x;
        var points = [];

        points.push([ [ mid, lhSlot.y1 ], [ mid, ocSlot.y1 ] ]);
        points.push([ [ mid, ocSlot.y2 ], [ mid, lhSlot.y2 ] ]);

        this.lines = points;

        this.box = lhSlot.clone().wrap(ocSlot);

        if (!this._rendered) {
            this._rendered = true;
            this.createNote();
        }

        this.reflowNote();
    };

    Candlestick.prototype.reflowNote = function reflowNote () {
        if (this.note) {
            this.note.reflow(this.box);
        }
    };

    Candlestick.prototype.createVisual = function createVisual () {
        ChartElement$$1.prototype.createVisual.call(this);
        this._mainVisual = this.mainVisual(this.options);
        this.visual.append(
            this._mainVisual
        );

        this.createOverlay();
    };

    Candlestick.prototype.mainVisual = function mainVisual (options) {
        var group = new _progress_kendoDrawing.drawing.Group();

        this.createBody(group, options);
        this.createLines(group, options);

        return group;
    };

    Candlestick.prototype.createBody = function createBody (container, options) {
        var body = _progress_kendoDrawing.drawing.Path.fromRect(this.realBody.toRect(), {
            fill: {
                color: this.color,
                opacity: options.opacity
            },
            stroke: null
        });

        if (options.border.width > 0) {
            body.options.set("stroke", {
                color: this.getBorderColor(),
                width: options.border.width,
                dashType: options.border.dashType,
                opacity: valueOrDefault(options.border.opacity, options.opacity)
            });
        }

        alignPathToPixel(body);
        container.append(body);

        if (hasGradientOverlay(options)) {
            container.append(this.createGradientOverlay(body, { baseColor: this.color }, deepExtend({
                end: !options.vertical ? [ 0, 1 ] : undefined
            }, options.overlay)));
        }
    };

    Candlestick.prototype.createLines = function createLines (container, options) {
        this.drawLines(container, options, this.lines, options.line);
    };

    Candlestick.prototype.drawLines = function drawLines (container, options, lines, lineOptions) {
        if (!lines) {
            return;
        }

        var lineStyle = {
            stroke: {
                color: lineOptions.color || this.color,
                opacity: valueOrDefault(lineOptions.opacity, options.opacity),
                width: lineOptions.width,
                dashType: lineOptions.dashType,
                lineCap: "butt"
            }
        };

        for (var i = 0; i < lines.length; i++) {
            var line = _progress_kendoDrawing.drawing.Path.fromPoints(lines[i], lineStyle);
            alignPathToPixel(line);
            container.append(line);
        }
    };

    Candlestick.prototype.getBorderColor = function getBorderColor () {
        var border = this.options.border;
        var borderColor = border.color;

        if (!defined(borderColor)) {
            borderColor = new _progress_kendoDrawing.Color(this.color).brightness(border._brightness).toHex();
        }

        return borderColor;
    };

    Candlestick.prototype.createOverlay = function createOverlay () {
        var overlay = _progress_kendoDrawing.drawing.Path.fromRect(this.box.toRect(), {
            fill: {
                color: WHITE,
                opacity: 0
            },
            stroke: null
        });

        this.visual.append(overlay);
    };

    Candlestick.prototype.createHighlight = function createHighlight () {
        var highlight = this.options.highlight;
        var normalColor = this.color;

        this.color = highlight.color || this.color;
        var overlay = this.mainVisual(
            deepExtend({}, this.options, {
                line: {
                    color: this.getBorderColor()
                }
            }, highlight)
        );
        this.color = normalColor;

        return overlay;
    };

    Candlestick.prototype.highlightVisual = function highlightVisual () {
        return this._mainVisual;
    };

    Candlestick.prototype.highlightVisualArgs = function highlightVisualArgs () {
        return {
            options: this.options,
            rect: this.box.toRect(),
            visual: this._mainVisual
        };
    };

    Candlestick.prototype.tooltipAnchor = function tooltipAnchor () {
        var box = this.box;
        var clipBox = this.owner.pane.clipBox() || box;

        return {
            point: new Point(box.x2 + TOOLTIP_OFFSET, Math.max(box.y1, clipBox.y1) + TOOLTIP_OFFSET),
            align: {
                horizontal: LEFT,
                vertical: TOP
            }
        };
    };

    Candlestick.prototype.formatValue = function formatValue (format) {
        return this.owner.formatPointValue(this, format);
    };

    Candlestick.prototype.overlapsBox = function overlapsBox (box) {
        return this.box.overlaps(box);
    };

    return Candlestick;
}(ChartElement));

setDefaultOptions(Candlestick, {
    vertical: true,
    border: {
        _brightness: 0.8
    },
    line: {
        width: 2
    },
    overlay: {
        gradient: "glass"
    },
    tooltip: {
        format: "<table>" +
                    "<tr><th colspan='2'>{4:d}</th></tr>" +
                    "<tr><td>Open:</td><td>{0:C}</td></tr>" +
                    "<tr><td>High:</td><td>{1:C}</td></tr>" +
                    "<tr><td>Low:</td><td>{2:C}</td></tr>" +
                    "<tr><td>Close:</td><td>{3:C}</td></tr>" +
                "</table>"
    },
    highlight: {
        opacity: 1,
        border: {
            width: 1,
            opacity: 1
        },
        line: {
            width: 1,
            opacity: 1
        }
    },
    notes: {
        visible: true,
        label: {}
    }
});

deepExtend(Candlestick.prototype, PointEventsMixin);
deepExtend(Candlestick.prototype, NoteMixin);

function areNumbers(values) {
    return countNumbers(values) === values.length;
}

var CandlestickChart = (function (CategoricalChart$$1) {
    function CandlestickChart () {
        CategoricalChart$$1.apply(this, arguments);
    }

    if ( CategoricalChart$$1 ) CandlestickChart.__proto__ = CategoricalChart$$1;
    CandlestickChart.prototype = Object.create( CategoricalChart$$1 && CategoricalChart$$1.prototype );
    CandlestickChart.prototype.constructor = CandlestickChart;

    CandlestickChart.prototype.reflowCategories = function reflowCategories (categorySlots) {
        var children = this.children;
        var childrenLength = children.length;

        for (var i = 0; i < childrenLength; i++) {
            children[i].reflow(categorySlots[i]);
        }
    };

    CandlestickChart.prototype.addValue = function addValue (data, fields) {
        var categoryIx = fields.categoryIx;
        var category = fields.category;
        var series = fields.series;
        var seriesIx = fields.seriesIx;
        var ref = this;
        var children = ref.children;
        var options = ref.options;
        var value = data.valueFields;
        var valueParts = this.splitValue(value);
        var hasValue = areNumbers(valueParts);
        var dataItem = series.data[categoryIx];
        var categoryPoints = this.categoryPoints[categoryIx];
        var point;

        if (!categoryPoints) {
            this.categoryPoints[categoryIx] = categoryPoints = [];
        }

        if (hasValue) {
            point = this.createPoint(data, fields);
        }

        var cluster = children[categoryIx];
        if (!cluster) {
            cluster = new ClusterLayout({
                vertical: options.invertAxes,
                gap: options.gap,
                spacing: options.spacing,
                rtl: !options.invertAxes && (this.chartService || {}).rtl
            });
            this.append(cluster);
        }

        if (point) {
            this.updateRange(value, fields);

            cluster.append(point);

            point.categoryIx = categoryIx;
            point.category = category;
            point.series = series;
            point.seriesIx = seriesIx;
            point.owner = this;
            point.dataItem = dataItem;
            point.noteText = data.fields.noteText;
        }

        this.points.push(point);
        categoryPoints.push(point);
    };

    CandlestickChart.prototype.pointType = function pointType () {
        return Candlestick;
    };

    CandlestickChart.prototype.createPoint = function createPoint (data, fields) {
        var categoryIx = fields.categoryIx;
        var category = fields.category;
        var series = fields.series;
        var seriesIx = fields.seriesIx;
        var pointType = this.pointType();
        var value = data.valueFields;
        var pointOptions = deepExtend({}, series);
        var color = data.fields.color || series.color;

        pointOptions = this.evalPointOptions(
            pointOptions, value, category, categoryIx, series, seriesIx
        );

        if (series.type === CANDLESTICK) {
            if (value.open > value.close) {
                color = data.fields.downColor || series.downColor || series.color;
            }
        }

        if (isFunction(series.color)) {
            color = pointOptions.color;
        }

        pointOptions.vertical = !this.options.invertAxes;

        var point = new pointType(value, pointOptions);
        point.color = color;

        return point;
    };

    CandlestickChart.prototype.splitValue = function splitValue (value) {
        return [ value.low, value.open, value.close, value.high ];
    };

    CandlestickChart.prototype.updateRange = function updateRange (value, fields) {
        var axisName = fields.series.axis;
        var parts = this.splitValue(value);
        var axisRange = this.valueAxisRanges[axisName];

        axisRange = this.valueAxisRanges[axisName] =
            axisRange || { min: MAX_VALUE, max: MIN_VALUE };

        axisRange = this.valueAxisRanges[axisName] = {
            min: Math.min.apply(Math, parts.concat([ axisRange.min ])),
            max: Math.max.apply(Math, parts.concat([ axisRange.max ]))
        };
    };

    CandlestickChart.prototype.formatPointValue = function formatPointValue (point, format) {
        var value = point.value;

        return this.chartService.format.auto(format,
            value.open, value.high,
            value.low, value.close, point.category
        );
    };

    CandlestickChart.prototype.animationPoints = function animationPoints () {
        return this.points;
    };

    return CandlestickChart;
}(CategoricalChart));

deepExtend(CandlestickChart.prototype, ClipAnimationMixin);

var BoxPlot = (function (Candlestick$$1) {
    function BoxPlot(value, options) {
        Candlestick$$1.call(this, value, options);

        this.createNote();
    }

    if ( Candlestick$$1 ) BoxPlot.__proto__ = Candlestick$$1;
    BoxPlot.prototype = Object.create( Candlestick$$1 && Candlestick$$1.prototype );
    BoxPlot.prototype.constructor = BoxPlot;

    BoxPlot.prototype.reflow = function reflow (box) {
        var ref = this;
        var options = ref.options;
        var value = ref.value;
        var chart = ref.owner;
        var valueAxis = chart.seriesValueAxis(options);
        var whiskerSlot, boxSlot;

        this.boxSlot = boxSlot = valueAxis.getSlot(value.q1, value.q3);
        this.realBody = boxSlot;
        this.reflowBoxSlot(box);

        this.whiskerSlot = whiskerSlot = valueAxis.getSlot(value.lower, value.upper);
        this.reflowWhiskerSlot(box);

        var medianSlot = valueAxis.getSlot(value.median);

        if (value.mean) {
            var meanSlot = valueAxis.getSlot(value.mean);
            this.meanPoints = this.calcMeanPoints(box, meanSlot);
        }

        this.whiskerPoints = this.calcWhiskerPoints(boxSlot, whiskerSlot);
        this.medianPoints = this.calcMedianPoints(box, medianSlot);

        this.box = whiskerSlot.clone().wrap(boxSlot);
        this.reflowNote();
    };

    BoxPlot.prototype.reflowBoxSlot = function reflowBoxSlot (box) {
        this.boxSlot.x1 = box.x1;
        this.boxSlot.x2 = box.x2;
    };

    BoxPlot.prototype.reflowWhiskerSlot = function reflowWhiskerSlot (box) {
        this.whiskerSlot.x1 = box.x1;
        this.whiskerSlot.x2 = box.x2;
    };

    BoxPlot.prototype.calcMeanPoints = function calcMeanPoints (box, meanSlot) {
        return [
            [ [ box.x1, meanSlot.y1 ], [ box.x2, meanSlot.y1 ] ]
        ];
    };

    BoxPlot.prototype.calcWhiskerPoints = function calcWhiskerPoints (boxSlot, whiskerSlot) {
        var mid = whiskerSlot.center().x;
        return [ [
            [ mid - 5, whiskerSlot.y1 ], [ mid + 5, whiskerSlot.y1 ],
            [ mid, whiskerSlot.y1 ], [ mid, boxSlot.y1 ]
        ], [
            [ mid - 5, whiskerSlot.y2 ], [ mid + 5, whiskerSlot.y2 ],
            [ mid, whiskerSlot.y2 ], [ mid, boxSlot.y2 ]
        ] ];
    };

    BoxPlot.prototype.calcMedianPoints = function calcMedianPoints (box, medianSlot) {
        return [
            [ [ box.x1, medianSlot.y1 ], [ box.x2, medianSlot.y1 ] ]
        ];
    };

    BoxPlot.prototype.renderOutliers = function renderOutliers (options) {
        var this$1 = this;

        var value = this.value;
        var outliers = value.outliers || [];
        var outerFence = Math.abs(value.q3 - value.q1) * 3;
        var elements = [];
        var markers = options.markers || {};

        for (var i = 0; i < outliers.length; i++) {
            var outlierValue = outliers[i];
            if (outlierValue < value.q3 + outerFence && outlierValue > value.q1 - outerFence) {
                markers = options.outliers;
            } else {
                markers = options.extremes;
            }
            var markersBorder = deepExtend({}, markers.border);

            if (!defined(markersBorder.color)) {
                if (defined(this$1.color)) {
                    markersBorder.color = this$1.color;
                } else {
                    markersBorder.color =
                        new _progress_kendoDrawing.Color(markers.background).brightness(BORDER_BRIGHTNESS).toHex();
                }
            }

            var shape = new ShapeElement({
                type: markers.type,
                width: markers.size,
                height: markers.size,
                rotation: markers.rotation,
                background: markers.background,
                border: markersBorder,
                opacity: markers.opacity
            });

            shape.value = outlierValue;

            elements.push(shape);
        }

        this.reflowOutliers(elements);
        return elements;
    };

    BoxPlot.prototype.reflowOutliers = function reflowOutliers (outliers) {
        var this$1 = this;

        var valueAxis = this.owner.seriesValueAxis(this.options);
        var center = this.box.center();

        for (var i = 0; i < outliers.length; i++) {
            var outlierValue = outliers[i].value;
            var markerBox = valueAxis.getSlot(outlierValue);

            if (this$1.options.vertical) {
                markerBox.move(center.x);
            } else {
                markerBox.move(undefined, center.y);
            }

            this$1.box = this$1.box.wrap(markerBox);
            outliers[i].reflow(markerBox);
        }
    };

    BoxPlot.prototype.mainVisual = function mainVisual (options) {
        var group = Candlestick$$1.prototype.mainVisual.call(this, options);
        var outliers = this.renderOutliers(options);

        for (var i = 0; i < outliers.length; i++) {
            var element = outliers[i].getElement();
            if (element) {
                group.append(element);
            }
        }

        return group;
    };

    BoxPlot.prototype.createLines = function createLines (container, options) {
        this.drawLines(container, options, this.whiskerPoints, options.whiskers);
        this.drawLines(container, options, this.medianPoints, options.median);
        this.drawLines(container, options, this.meanPoints, options.mean);
    };

    BoxPlot.prototype.getBorderColor = function getBorderColor () {
        if ((this.options.border || {}).color) {
            return this.options.border.color;
        }

        if (this.color) {
            return this.color;
        }

        return Candlestick$$1.prototype.getBorderColor.call(this);
    };

    return BoxPlot;
}(Candlestick));

setDefaultOptions(BoxPlot, {
    border: {
        _brightness: 0.8
    },
    line: {
        width: 2
    },
    median: {
        color: "#f6f6f6"
    },
    mean: {
        width: 2,
        dashType: "dash",
        color: "#f6f6f6"
    },
    overlay: {
        gradient: "glass"
    },
    tooltip: {
        format: "<table>" +
                    "<tr><th colspan='2'>{6:d}</th></tr>" +
                    "<tr><td>Lower:</td><td>{0:C}</td></tr>" +
                    "<tr><td>Q1:</td><td>{1:C}</td></tr>" +
                    "<tr><td>Median:</td><td>{2:C}</td></tr>" +
                    "<tr><td>Mean:</td><td>{5:C}</td></tr>" +
                    "<tr><td>Q3:</td><td>{3:C}</td></tr>" +
                    "<tr><td>Upper:</td><td>{4:C}</td></tr>" +
                "</table>"
    },
    highlight: {
        opacity: 1,
        border: {
            width: 1,
            opacity: 1
        },
        line: {
            width: 1,
            opacity: 1
        }
    },
    notes: {
        visible: true,
        label: {}
    },
    outliers: {
        visible: true,
        size: LINE_MARKER_SIZE,
        type: CROSS,
        background: WHITE,
        border: {
            width: 2,
            opacity: 1
        },
        opacity: 0
    },
    extremes: {
        visible: true,
        size: LINE_MARKER_SIZE,
        type: CIRCLE,
        background: WHITE,
        border: {
            width: 2,
            opacity: 1
        },
        opacity: 0
    }
});

deepExtend(BoxPlot.prototype, PointEventsMixin);

var VerticalBoxPlot = (function (BoxPlot$$1) {
    function VerticalBoxPlot () {
        BoxPlot$$1.apply(this, arguments);
    }

    if ( BoxPlot$$1 ) VerticalBoxPlot.__proto__ = BoxPlot$$1;
    VerticalBoxPlot.prototype = Object.create( BoxPlot$$1 && BoxPlot$$1.prototype );
    VerticalBoxPlot.prototype.constructor = VerticalBoxPlot;

    VerticalBoxPlot.prototype.reflowBoxSlot = function reflowBoxSlot (box) {
        this.boxSlot.y1 = box.y1;
        this.boxSlot.y2 = box.y2;
    };

    VerticalBoxPlot.prototype.reflowWhiskerSlot = function reflowWhiskerSlot (box) {
        this.whiskerSlot.y1 = box.y1;
        this.whiskerSlot.y2 = box.y2;
    };

    VerticalBoxPlot.prototype.calcMeanPoints = function calcMeanPoints (box, meanSlot) {
        return [
            [ [ meanSlot.x1, box.y1 ], [ meanSlot.x1, box.y2 ] ]
        ];
    };

    VerticalBoxPlot.prototype.calcWhiskerPoints = function calcWhiskerPoints (boxSlot, whiskerSlot) {
        var mid = whiskerSlot.center().y;
        return [ [
            [ whiskerSlot.x1, mid - 5 ], [ whiskerSlot.x1, mid + 5 ],
            [ whiskerSlot.x1, mid ], [ boxSlot.x1, mid ]
        ], [
            [ whiskerSlot.x2, mid - 5 ], [ whiskerSlot.x2, mid + 5 ],
            [ whiskerSlot.x2, mid ], [ boxSlot.x2, mid ]
        ] ];
    };

    VerticalBoxPlot.prototype.calcMedianPoints = function calcMedianPoints (box, medianSlot) {
        return [
            [ [ medianSlot.x1, box.y1 ], [ medianSlot.x1, box.y2 ] ]
        ];
    };

    return VerticalBoxPlot;
}(BoxPlot));

var BoxPlotChart = (function (CandlestickChart$$1) {
    function BoxPlotChart () {
        CandlestickChart$$1.apply(this, arguments);
    }

    if ( CandlestickChart$$1 ) BoxPlotChart.__proto__ = CandlestickChart$$1;
    BoxPlotChart.prototype = Object.create( CandlestickChart$$1 && CandlestickChart$$1.prototype );
    BoxPlotChart.prototype.constructor = BoxPlotChart;

    BoxPlotChart.prototype.addValue = function addValue (data, fields) {
        var categoryIx = fields.categoryIx;
        var category = fields.category;
        var series = fields.series;
        var seriesIx = fields.seriesIx;
        var ref = this;
        var children = ref.children;
        var options = ref.options;
        var value = data.valueFields;
        var valueParts = this.splitValue(value);
        var hasValue = areNumbers(valueParts);
        var dataItem = series.data[categoryIx];
        var categoryPoints = this.categoryPoints[categoryIx];
        var point;

        if (!categoryPoints) {
            this.categoryPoints[categoryIx] = categoryPoints = [];
        }

        if (hasValue) {
            point = this.createPoint(data, fields);
        }

        var cluster = children[categoryIx];
        if (!cluster) {
            cluster = new ClusterLayout({
                vertical: options.invertAxes,
                gap: options.gap,
                spacing: options.spacing,
                rtl: !options.invertAxes && (this.chartService || {}).rtl
            });
            this.append(cluster);
        }

        if (point) {
            this.updateRange(value, fields);

            cluster.append(point);

            point.categoryIx = categoryIx;
            point.category = category;
            point.series = series;
            point.seriesIx = seriesIx;
            point.owner = this;
            point.dataItem = dataItem;
        }

        this.points.push(point);
        categoryPoints.push(point);
    };

    BoxPlotChart.prototype.pointType = function pointType () {
        if (this.options.invertAxes) {
            return VerticalBoxPlot;
        }

        return BoxPlot;
    };

    BoxPlotChart.prototype.splitValue = function splitValue (value) {
        return [
            value.lower, value.q1, value.median,
            value.q3, value.upper
        ];
    };

    BoxPlotChart.prototype.updateRange = function updateRange (value, fields) {
        var axisName = fields.series.axis;
        var axisRange = this.valueAxisRanges[axisName];
        var parts = this.splitValue(value).concat(this.filterOutliers(value.outliers));

        if (defined(value.mean)) {
            parts = parts.concat(value.mean);
        }

        axisRange = this.valueAxisRanges[axisName] =
            axisRange || { min: MAX_VALUE, max: MIN_VALUE };

        axisRange = this.valueAxisRanges[axisName] = {
            min: Math.min.apply(Math, parts.concat([ axisRange.min ])),
            max: Math.max.apply(Math, parts.concat([ axisRange.max ]))
        };
    };

    BoxPlotChart.prototype.formatPointValue = function formatPointValue (point, format) {
        var value = point.value;

        return this.chartService.format.auto(format,
            value.lower, value.q1, value.median,
            value.q3, value.upper, value.mean, point.category
        );
    };

    BoxPlotChart.prototype.filterOutliers = function filterOutliers (items) {
        var length = (items || []).length;
        var result = [];

        for (var i = 0; i < length; i++) {
            var item = items[i];
            if (defined(item) && item !== null) {
                result.push(item);
            }
        }

        return result;
    };

    return BoxPlotChart;
}(CandlestickChart));

var ScatterErrorBar = (function (ErrorBarBase$$1) {
    function ScatterErrorBar () {
        ErrorBarBase$$1.apply(this, arguments);
    }

    if ( ErrorBarBase$$1 ) ScatterErrorBar.__proto__ = ErrorBarBase$$1;
    ScatterErrorBar.prototype = Object.create( ErrorBarBase$$1 && ErrorBarBase$$1.prototype );
    ScatterErrorBar.prototype.constructor = ScatterErrorBar;

    ScatterErrorBar.prototype.getAxis = function getAxis () {
        var axes = this.chart.seriesAxes(this.series);
        var axis = this.isVertical ? axes.y : axes.x;

        return axis;
    };

    return ScatterErrorBar;
}(ErrorBarBase));

function hasValue(value) {
    return defined(value) && value !== null;
}

var ScatterChart = (function (ChartElement$$1) {
    function ScatterChart(plotArea, options) {

        ChartElement$$1.call(this, options);

        this.plotArea = plotArea;
        this.chartService = plotArea.chartService;
        this._initFields();

        this.render();
    }

    if ( ChartElement$$1 ) ScatterChart.__proto__ = ChartElement$$1;
    ScatterChart.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    ScatterChart.prototype.constructor = ScatterChart;

    ScatterChart.prototype._initFields = function _initFields () {
        // X and Y axis ranges grouped by name, e.g.:
        // primary: { min: 0, max: 1 }
        this.xAxisRanges = {};
        this.yAxisRanges = {};

        this.points = [];
        this.seriesPoints = [];
        this.seriesOptions = [];
        this._evalSeries = [];
    };

    ScatterChart.prototype.render = function render () {
        this.traverseDataPoints(this.addValue.bind(this));
    };

    ScatterChart.prototype.addErrorBar = function addErrorBar (point, field, fields) {
        var value = point.value[field];
        var valueErrorField = field + "Value";
        var lowField = field + "ErrorLow";
        var highField = field + "ErrorHigh";
        var seriesIx = fields.seriesIx;
        var series = fields.series;
        var errorBars = point.options.errorBars;
        var lowValue = fields[lowField];
        var highValue = fields[highField];

        if (isNumber(value)) {
            var errorRange;
            if (isNumber(lowValue) && isNumber(highValue)) {
                errorRange = { low: lowValue, high: highValue };
            }

            if (errorBars && defined(errorBars[valueErrorField])) {
                this.seriesErrorRanges = this.seriesErrorRanges || { x: [], y: [] };
                this.seriesErrorRanges[field][seriesIx] = this.seriesErrorRanges[field][seriesIx] ||
                    new ErrorRangeCalculator(errorBars[valueErrorField], series, field);

                errorRange = this.seriesErrorRanges[field][seriesIx].getErrorRange(value, errorBars[valueErrorField]);
            }

            if (errorRange) {
                this.addPointErrorBar(errorRange, point, field);
            }
        }
    };

    ScatterChart.prototype.addPointErrorBar = function addPointErrorBar (errorRange, point, field) {
        var low = errorRange.low;
        var high = errorRange.high;
        var series = point.series;
        var options = point.options.errorBars;
        var isVertical = field === Y;
        var item = {};

        point[field + "Low"] = low;
        point[field + "High"] = high;

        point.errorBars = point.errorBars || [];
        var errorBar = new ScatterErrorBar(low, high, isVertical, this, series, options);
        point.errorBars.push(errorBar);
        point.append(errorBar);

        item[field] = low;
        this.updateRange(item, series);
        item[field] = high;
        this.updateRange(item, series);
    };

    ScatterChart.prototype.addValue = function addValue (value, fields) {
        var x = value.x;
        var y = value.y;
        var seriesIx = fields.seriesIx;
        var series = this.options.series[seriesIx];
        var missingValues = this.seriesMissingValues(series);
        var seriesPoints = this.seriesPoints[seriesIx];

        var pointValue = value;
        if (!(hasValue(x) && hasValue(y))) {
            pointValue = this.createMissingValue(pointValue, missingValues);
        }

        var point;
        if (pointValue) {
            point = this.createPoint(pointValue, fields);
            if (point) {
                Object.assign(point, fields);
                this.addErrorBar(point, X, fields);
                this.addErrorBar(point, Y, fields);
            }
            this.updateRange(pointValue, fields.series);
        }

        this.points.push(point);
        seriesPoints.push(point);
    };

    ScatterChart.prototype.seriesMissingValues = function seriesMissingValues (series) {
        return series.missingValues;
    };

    ScatterChart.prototype.createMissingValue = function createMissingValue () {};

    ScatterChart.prototype.updateRange = function updateRange (value, series) {
        var intlService = this.chartService.intl;
        var xAxisName = series.xAxis;
        var yAxisName = series.yAxis;
        var x = value.x;
        var y = value.y;
        var xAxisRange = this.xAxisRanges[xAxisName];
        var yAxisRange = this.yAxisRanges[yAxisName];

        if (hasValue(x)) {
            xAxisRange = this.xAxisRanges[xAxisName] =
                xAxisRange || { min: MAX_VALUE, max: MIN_VALUE };

            if (isString(x)) {
                x = parseDate(intlService, x);
            }

            xAxisRange.min = Math.min(xAxisRange.min, x);
            xAxisRange.max = Math.max(xAxisRange.max, x);
        }

        if (hasValue(y)) {
            yAxisRange = this.yAxisRanges[yAxisName] =
                yAxisRange || { min: MAX_VALUE, max: MIN_VALUE };

            if (isString(y)) {
                y = parseDate(intlService, y);
            }

            yAxisRange.min = Math.min(yAxisRange.min, y);
            yAxisRange.max = Math.max(yAxisRange.max, y);
        }
    };

    ScatterChart.prototype.evalPointOptions = function evalPointOptions (options, value, fields) {
        var series = fields.series;
        var seriesIx = fields.seriesIx;
        var state = { defaults: series._defaults, excluded: [ "data", "tooltip", "content", "template", "visual", "toggle", "_outOfRangeMinPoint", "_outOfRangeMaxPoint" ] };

        var doEval = this._evalSeries[seriesIx];
        if (!defined(doEval)) {
            this._evalSeries[seriesIx] = doEval = evalOptions(options, {}, state, true);
        }

        var pointOptions = options;
        if (doEval) {
            pointOptions = deepExtend({}, options);
            evalOptions(pointOptions, {
                value: value,
                series: series,
                dataItem: fields.dataItem
            }, state);
        }

        return pointOptions;
    };

    ScatterChart.prototype.pointType = function pointType () {
        return LinePoint;
    };

    ScatterChart.prototype.pointOptions = function pointOptions (series, seriesIx) {
        var options = this.seriesOptions[seriesIx];
        if (!options) {
            var defaults = this.pointType().prototype.defaults;
            this.seriesOptions[seriesIx] = options = deepExtend({}, defaults, {
                markers: {
                    opacity: series.opacity
                },
                tooltip: {
                    format: this.options.tooltip.format
                },
                labels: {
                    format: this.options.labels.format
                }
            }, series);
        }

        return options;
    };

    ScatterChart.prototype.createPoint = function createPoint (value, fields) {
        var series = fields.series;
        var pointOptions = this.pointOptions(series, fields.seriesIx);
        var color = fields.color || series.color;

        pointOptions = this.evalPointOptions(pointOptions, value, fields);

        if (isFunction(series.color)) {
            color = pointOptions.color;
        }

        var point = new LinePoint(value, pointOptions);
        point.color = color;

        this.append(point);

        return point;
    };

    ScatterChart.prototype.seriesAxes = function seriesAxes (series) {
        var xAxisName = series.xAxis;
        var yAxisName = series.yAxis;
        var plotArea = this.plotArea;
        var xAxis = xAxisName ? plotArea.namedXAxes[xAxisName] : plotArea.axisX;
        var yAxis = yAxisName ? plotArea.namedYAxes[yAxisName] : plotArea.axisY;

        if (!xAxis) {
            throw new Error("Unable to locate X axis with name " + xAxisName);
        }

        if (!yAxis) {
            throw new Error("Unable to locate Y axis with name " + yAxisName);
        }

        return {
            x: xAxis,
            y: yAxis
        };
    };

    ScatterChart.prototype.reflow = function reflow (targetBox) {
        var this$1 = this;

        var chartPoints = this.points;
        var limit = !this.options.clip;
        var pointIx = 0;


        this.traverseDataPoints(function (value, fields) {
            var point = chartPoints[pointIx++];
            var seriesAxes = this$1.seriesAxes(fields.series);
            var slotX = seriesAxes.x.getSlot(value.x, value.x, limit);
            var slotY = seriesAxes.y.getSlot(value.y, value.y, limit);

            if (point) {
                if (slotX && slotY) {
                    var pointSlot = this$1.pointSlot(slotX, slotY);
                    point.reflow(pointSlot);
                } else {
                    point.visible = false;
                }
            }
        });

        this.box = targetBox;
    };

    ScatterChart.prototype.pointSlot = function pointSlot (slotX, slotY) {
        return new Box(slotX.x1, slotY.y1, slotX.x2, slotY.y2);
    };

    ScatterChart.prototype.traverseDataPoints = function traverseDataPoints (callback) {
        var this$1 = this;

        var ref = this;
        var series = ref.options.series;
        var seriesPoints = ref.seriesPoints;

        for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {
            var currentSeries = series[seriesIx];
            var currentSeriesPoints = seriesPoints[seriesIx];
            if (!currentSeriesPoints) {
                seriesPoints[seriesIx] = [];
            }

            for (var pointIx = 0; pointIx < currentSeries.data.length; pointIx++) {
                var ref$1 = this$1._bindPoint(currentSeries, seriesIx, pointIx);
                var value = ref$1.valueFields;
                var fields = ref$1.fields;

                callback(value, deepExtend({
                    pointIx: pointIx,
                    series: currentSeries,
                    seriesIx: seriesIx,
                    dataItem: currentSeries.data[pointIx],
                    owner: this$1
                }, fields));
            }
        }
    };

    ScatterChart.prototype.formatPointValue = function formatPointValue (point, format) {
        var value = point.value;
        return this.chartService.format.auto(format, value.x, value.y);
    };

    ScatterChart.prototype.animationPoints = function animationPoints () {
        var points = this.points;
        var result = [];
        for (var idx = 0; idx < points.length; idx++) {
            result.push((points[idx] || {}).marker);
        }
        return result;
    };

    return ScatterChart;
}(ChartElement));
setDefaultOptions(ScatterChart, {
    series: [],
    tooltip: {
        format: "{0}, {1}"
    },
    labels: {
        format: "{0}, {1}"
    },
    clip: true
});
deepExtend(ScatterChart.prototype, ClipAnimationMixin, {
    _bindPoint: CategoricalChart.prototype._bindPoint
});

var Bubble = (function (LinePoint$$1) {
    function Bubble(value, options) {
        LinePoint$$1.call(this, value, options);

        this.category = value.category;
    }

    if ( LinePoint$$1 ) Bubble.__proto__ = LinePoint$$1;
    Bubble.prototype = Object.create( LinePoint$$1 && LinePoint$$1.prototype );
    Bubble.prototype.constructor = Bubble;

    Bubble.prototype.createHighlight = function createHighlight () {
        var highlight = this.options.highlight;
        var border = highlight.border;
        var markers = this.options.markers;
        var center = this.box.center();
        var radius = (markers.size + markers.border.width + border.width) / 2;
        var highlightGroup = new _progress_kendoDrawing.drawing.Group();
        var shadow = new _progress_kendoDrawing.drawing.Circle(new _progress_kendoDrawing.geometry.Circle([ center.x, center.y + radius / 5 + border.width / 2 ], radius + border.width / 2), {
            stroke: {
                color: 'none'
            },
            fill: this.createGradient({
                gradient: 'bubbleShadow',
                color: markers.background,
                stops: [ {
                    offset: 0,
                    color: markers.background,
                    opacity: 0.3
                }, {
                    offset: 1,
                    color: markers.background,
                    opacity: 0
                } ]
            })
        });
        var overlay = new _progress_kendoDrawing.drawing.Circle(new _progress_kendoDrawing.geometry.Circle([ center.x, center.y ], radius), {
            stroke: {
                color: border.color ||
                    new _progress_kendoDrawing.Color(markers.background).brightness(BORDER_BRIGHTNESS).toHex(),
                width: border.width,
                opacity: border.opacity
            },
            fill: {
                color: markers.background,
                opacity: highlight.opacity
            }
        });

        highlightGroup.append(shadow, overlay);

        return highlightGroup;
    };

    return Bubble;
}(LinePoint));

Bubble.prototype.defaults = deepExtend({}, Bubble.prototype.defaults, {
    labels: {
        position: CENTER
    },
    highlight: {
        opacity: 1,
        border: {
            color: "#fff",
            width: 2,
            opacity: 1
        }
    }
});

Bubble.prototype.defaults.highlight.zIndex = undefined;

var BubbleChart = (function (ScatterChart$$1) {
    function BubbleChart () {
        ScatterChart$$1.apply(this, arguments);
    }

    if ( ScatterChart$$1 ) BubbleChart.__proto__ = ScatterChart$$1;
    BubbleChart.prototype = Object.create( ScatterChart$$1 && ScatterChart$$1.prototype );
    BubbleChart.prototype.constructor = BubbleChart;

    BubbleChart.prototype._initFields = function _initFields () {
        this._maxSize = MIN_VALUE;
        ScatterChart$$1.prototype._initFields.call(this);
    };

    BubbleChart.prototype.addValue = function addValue (value, fields) {
        if (value.size !== null && (value.size > 0 || (value.size < 0 && fields.series.negativeValues.visible))) {
            this._maxSize = Math.max(this._maxSize, Math.abs(value.size));
            ScatterChart$$1.prototype.addValue.call(this, value, fields);
        } else {
            this.points.push(null);
            this.seriesPoints[fields.seriesIx].push(null);
        }
    };

    BubbleChart.prototype.reflow = function reflow (box) {
        this.updateBubblesSize(box);
        ScatterChart$$1.prototype.reflow.call(this, box);
    };

    BubbleChart.prototype.pointType = function pointType () {
        return Bubble;
    };

    BubbleChart.prototype.createPoint = function createPoint (value, fields) {
        var series = fields.series;
        var pointsCount = series.data.length;
        var delay = fields.pointIx * (INITIAL_ANIMATION_DURATION / pointsCount);
        var animationOptions = {
            delay: delay,
            duration: INITIAL_ANIMATION_DURATION - delay,
            type: BUBBLE
        };

        var color = fields.color || series.color;
        if (value.size < 0 && series.negativeValues.visible) {
            color = valueOrDefault(
                series.negativeValues.color, color
            );
        }

        var pointOptions = deepExtend({
            labels: {
                animation: {
                    delay: delay,
                    duration: INITIAL_ANIMATION_DURATION - delay
                }
            }
        }, this.pointOptions(series, fields.seriesIx), {
            markers: {
                type: CIRCLE,
                border: series.border,
                opacity: series.opacity,
                animation: animationOptions
            }
        });

        pointOptions = this.evalPointOptions(pointOptions, value, fields);
        if (isFunction(series.color)) {
            color = pointOptions.color;
        }

        pointOptions.markers.background = color;

        var point = new Bubble(value, pointOptions);
        point.color = color;

        this.append(point);

        return point;
    };

    BubbleChart.prototype.updateBubblesSize = function updateBubblesSize (box) {
        var this$1 = this;

        var ref = this;
        var series = ref.options.series;
        var boxSize = Math.min(box.width(), box.height());

        for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {
            var currentSeries = series[seriesIx];
            var seriesPoints = this$1.seriesPoints[seriesIx];
            var minSize = currentSeries.minSize || Math.max(boxSize * 0.02, 10);
            var maxSize = currentSeries.maxSize || boxSize * 0.2;
            var minR = minSize / 2;
            var maxR = maxSize / 2;
            var minArea = Math.PI * minR * minR;
            var maxArea = Math.PI * maxR * maxR;
            var areaRange = maxArea - minArea;
            var areaRatio = areaRange / this$1._maxSize;

            for (var pointIx = 0; pointIx < seriesPoints.length; pointIx++) {
                var point = seriesPoints[pointIx];
                if (point) {
                    var area = Math.abs(point.value.size) * areaRatio;
                    var radius = Math.sqrt((minArea + area) / Math.PI);
                    var baseZIndex = valueOrDefault(point.options.zIndex, 0);
                    var zIndex = baseZIndex + (1 - radius / maxR);

                    deepExtend(point.options, {
                        zIndex: zIndex,
                        markers: {
                            size: radius * 2,
                            zIndex: zIndex
                        },
                        labels: {
                            zIndex: zIndex + 1
                        }
                    });
                }
            }
        }
    };

    BubbleChart.prototype.formatPointValue = function formatPointValue (point, format) {
        var value = point.value;
        return this.chartService.format.auto(format, value.x, value.y, value.size, point.category);
    };

    BubbleChart.prototype.createAnimation = function createAnimation () {};
    BubbleChart.prototype.createVisual = function createVisual () {};

    return BubbleChart;
}(ScatterChart));

setDefaultOptions(BubbleChart, {
    tooltip: {
        format: "{3}"
    },
    labels: {
        format: "{3}"
    }
});

var Target = (function (ShapeElement$$1) {
	function Target () {
		ShapeElement$$1.apply(this, arguments);
	}if ( ShapeElement$$1 ) Target.__proto__ = ShapeElement$$1;
	Target.prototype = Object.create( ShapeElement$$1 && ShapeElement$$1.prototype );
	Target.prototype.constructor = Target;

	

	return Target;
}(ShapeElement));

deepExtend(Target.prototype, PointEventsMixin);

var Bullet = (function (ChartElement$$1) {
    function Bullet(value, options) {
        ChartElement$$1.call(this, options);

        this.aboveAxis = this.options.aboveAxis;
        this.color = options.color || WHITE;
        this.value = value;
    }

    if ( ChartElement$$1 ) Bullet.__proto__ = ChartElement$$1;
    Bullet.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    Bullet.prototype.constructor = Bullet;

    Bullet.prototype.render = function render () {
        var options = this.options;

        if (!this._rendered) {
            this._rendered = true;

            if (defined(this.value.target)) {
                this.target = new Target({
                    type: options.target.shape,
                    background: options.target.color || this.color,
                    opacity: options.opacity,
                    zIndex: options.zIndex,
                    border: options.target.border,
                    vAlign: TOP,
                    align: RIGHT
                });

                this.target.value = this.value;
                this.target.dataItem = this.dataItem;
                this.target.series = this.series;

                this.append(this.target);
            }

            this.createNote();
        }
    };

    Bullet.prototype.reflow = function reflow (box) {
        this.render();

        var ref = this;
        var options = ref.options;
        var target = ref.target;
        var chart = ref.owner;
        var invertAxes = options.invertAxes;
        var valueAxis = chart.seriesValueAxis(this.options);
        var categorySlot = chart.categorySlot(chart.categoryAxis, options.categoryIx, valueAxis);
        var targetValueSlot = valueAxis.getSlot(this.value.target);
        var targetSlotX = invertAxes ? targetValueSlot : categorySlot;
        var targetSlotY = invertAxes ? categorySlot : targetValueSlot;

        if (target) {
            var targetSlot = new Box(
                targetSlotX.x1, targetSlotY.y1,
                targetSlotX.x2, targetSlotY.y2
            );
            target.options.height = invertAxes ? targetSlot.height() : options.target.line.width;
            target.options.width = invertAxes ? options.target.line.width : targetSlot.width();
            target.reflow(targetSlot);
        }

        if (this.note) {
            this.note.reflow(box);
        }

        this.box = box;
    };

    Bullet.prototype.createVisual = function createVisual () {
        ChartElement$$1.prototype.createVisual.call(this);

        var options = this.options;
        var body = _progress_kendoDrawing.drawing.Path.fromRect(this.box.toRect(), {
            fill: {
                color: this.color,
                opacity: options.opacity
            },
            stroke: null
        });

        if (options.border.width > 0) {
            body.options.set("stroke", {
                color: options.border.color || this.color,
                width: options.border.width,
                dashType: options.border.dashType,
                opacity: valueOrDefault(options.border.opacity, options.opacity)
            });
        }

        this.bodyVisual = body;

        alignPathToPixel(body);
        this.visual.append(body);
    };

    Bullet.prototype.createAnimation = function createAnimation () {
        if (this.bodyVisual) {
            this.animation = _progress_kendoDrawing.drawing.Animation.create(
                this.bodyVisual, this.options.animation
            );
        }
    };

    Bullet.prototype.createHighlight = function createHighlight (style) {
        return _progress_kendoDrawing.drawing.Path.fromRect(this.box.toRect(), style);
    };

    Bullet.prototype.highlightVisual = function highlightVisual () {
        return this.bodyVisual;
    };

    Bullet.prototype.highlightVisualArgs = function highlightVisualArgs () {
        return {
            rect: this.box.toRect(),
            visual: this.bodyVisual,
            options: this.options
        };
    };

    Bullet.prototype.formatValue = function formatValue (format) {
        return this.owner.formatPointValue(this, format);
    };

    return Bullet;
}(ChartElement));

Bullet.prototype.tooltipAnchor = Bar.prototype.tooltipAnchor;

setDefaultOptions(Bullet, {
    border: {
        width: 1
    },
    vertical: false,
    opacity: 1,
    target: {
        shape: "",
        border: {
            width: 0,
            color: "green"
        },
        line: {
            width: 2
        }
    },
    tooltip: {
        format: "Current: {0}<br />Target: {1}"
    }
});

deepExtend(Bullet.prototype, PointEventsMixin);
deepExtend(Bullet.prototype, NoteMixin);

var BulletChart = (function (CategoricalChart$$1) {
    function BulletChart(plotArea, options) {

        wrapData(options);

        CategoricalChart$$1.call(this, plotArea, options);
    }

    if ( CategoricalChart$$1 ) BulletChart.__proto__ = CategoricalChart$$1;
    BulletChart.prototype = Object.create( CategoricalChart$$1 && CategoricalChart$$1.prototype );
    BulletChart.prototype.constructor = BulletChart;

    BulletChart.prototype.reflowCategories = function reflowCategories (categorySlots) {
        var children = this.children;
        var childrenLength = children.length;

        for (var i = 0; i < childrenLength; i++) {
            children[i].reflow(categorySlots[i]);
        }
    };

    BulletChart.prototype.plotRange = function plotRange (point) {
        var series = point.series;
        var valueAxis = this.seriesValueAxis(series);
        var axisCrossingValue = this.categoryAxisCrossingValue(valueAxis);

        return [ axisCrossingValue, point.value.current || axisCrossingValue ];
    };

    BulletChart.prototype.createPoint = function createPoint (data, fields) {
        var categoryIx = fields.categoryIx;
        var category = fields.category;
        var series = fields.series;
        var seriesIx = fields.seriesIx;
        var ref = this;
        var options = ref.options;
        var children = ref.children;
        var value = data.valueFields;

        var bulletOptions = deepExtend({
            vertical: !options.invertAxes,
            overlay: series.overlay,
            categoryIx: categoryIx,
            invertAxes: options.invertAxes
        }, series);

        var color = data.fields.color || series.color;
        bulletOptions = this.evalPointOptions(
            bulletOptions, value, category, categoryIx, series, seriesIx
        );

        if (isFunction(series.color)) {
            color = bulletOptions.color;
        }

        var bullet = new Bullet(value, bulletOptions);
        bullet.color = color;

        var cluster = children[categoryIx];
        if (!cluster) {
            cluster = new ClusterLayout({
                vertical: options.invertAxes,
                gap: options.gap,
                spacing: options.spacing,
                rtl: !options.invertAxes && (this.chartService || {}).rtl
            });
            this.append(cluster);
        }

        cluster.append(bullet);

        return bullet;
    };

    BulletChart.prototype.updateRange = function updateRange (value, fields) {
        var current = value.current;
        var target = value.target;
        var axisName = fields.series.axis;
        var axisRange = this.valueAxisRanges[axisName];

        if (defined(current) && !isNaN(current) && defined(target && !isNaN(target))) {
            axisRange = this.valueAxisRanges[axisName] =
                axisRange || { min: MAX_VALUE, max: MIN_VALUE };

            axisRange.min = Math.min(axisRange.min, current, target);
            axisRange.max = Math.max(axisRange.max, current, target);
        }
    };

    BulletChart.prototype.formatPointValue = function formatPointValue (point, format) {
        return this.chartService.format.auto(format, point.value.current, point.value.target);
    };

    BulletChart.prototype.pointValue = function pointValue (data) {
        return data.valueFields.current;
    };

    BulletChart.prototype.aboveAxis = function aboveAxis (point) {
        var value = point.value.current;

        return value > 0;
    };

    BulletChart.prototype.createAnimation = function createAnimation () {
        var this$1 = this;

        var points = this.points;

        this._setAnimationOptions();

        for (var idx = 0; idx < points.length; idx++) {
            var point = points[idx];
            point.options.animation = this$1.options.animation;
            point.createAnimation();
        }
    };

    return BulletChart;
}(CategoricalChart));

BulletChart.prototype._setAnimationOptions = BarChart.prototype._setAnimationOptions;

setDefaultOptions(BulletChart, {
    animation: {
        type: BAR
    }
});

function wrapData(options) {
    var series = options.series;

    for (var i = 0; i < series.length; i++) {
        var seriesItem = series[i];
        var data = seriesItem.data;
        if (data && !isArray(data[0]) && !isObject(data[0])) {
            seriesItem.data = [ data ];
        }
    }
}

var BaseTooltip = (function (Class$$1) {
    function BaseTooltip(chartService, options) {
        Class$$1.call(this);

        this.chartService = chartService;
        this.options = deepExtend({}, this.options, options);
    }

    if ( Class$$1 ) BaseTooltip.__proto__ = Class$$1;
    BaseTooltip.prototype = Object.create( Class$$1 && Class$$1.prototype );
    BaseTooltip.prototype.constructor = BaseTooltip;

    BaseTooltip.prototype.getStyle = function getStyle (options, point) {
        var background = options.background;
        var border = options.border.color;

        if (point) {
            var pointColor = point.color || point.options.color;
            background = valueOrDefault(background, pointColor);
            border = valueOrDefault(border, pointColor);
        }

        var padding = getSpacing(options.padding || {}, "auto");

        return {
            backgroundColor: background,
            borderColor: border,
            font: options.font,
            color: options.color,
            opacity: options.opacity,
            borderWidth: styleValue(options.border.width),
            paddingTop: styleValue(padding.top),
            paddingBottom: styleValue(padding.bottom),
            paddingLeft: styleValue(padding.left),
            paddingRight: styleValue(padding.right)
        };
    };

    BaseTooltip.prototype.show = function show (options, tooltipOptions, point) {
        options.format = tooltipOptions.format;

        var style = this.getStyle(tooltipOptions, point);
        options.style = style;

        if (!defined(tooltipOptions.color) && new _progress_kendoDrawing.Color(style.backgroundColor).percBrightness() > 180) {
            options.className = "k-chart-tooltip-inverse";
        }

        this.chartService.notify(SHOW_TOOLTIP, options);

        this.visible = true;
    };

    BaseTooltip.prototype.hide = function hide () {
        if (this.chartService) {
            this.chartService.notify(HIDE_TOOLTIP);
        }

        this.visible = false;
    };

    BaseTooltip.prototype.destroy = function destroy () {
        delete this.chartService;
    };

    return BaseTooltip;
}(_progress_kendoDrawing.Class));

setDefaultOptions(BaseTooltip, {
    border: {
        width: 1
    },
    opacity: 1
});

var CrosshairTooltip = (function (BaseTooltip$$1) {
    function CrosshairTooltip(chartService, crosshair, options) {
        BaseTooltip$$1.call(this, chartService, options);

        this.crosshair = crosshair;
        this.formatService = chartService.format;
        this.initAxisName();
    }

    if ( BaseTooltip$$1 ) CrosshairTooltip.__proto__ = BaseTooltip$$1;
    CrosshairTooltip.prototype = Object.create( BaseTooltip$$1 && BaseTooltip$$1.prototype );
    CrosshairTooltip.prototype.constructor = CrosshairTooltip;

    CrosshairTooltip.prototype.initAxisName = function initAxisName () {
        var axis = this.crosshair.axis;
        var plotArea = axis.plotArea;
        var name;
        if (plotArea.categoryAxis) {
            name = axis.getCategory ? "categoryAxis" : "valueAxis";
        } else {
            name = axis.options.vertical ? "yAxis" : "xAxis";
        }
        this.axisName = name;
    };

    CrosshairTooltip.prototype.showAt = function showAt (point) {
        var ref = this;
        var axis = ref.crosshair.axis;
        var options = ref.options;
        var value = axis[options.stickyMode ? "getCategory" : "getValue"](point);
        var formattedValue = value;

        if (options.format) {
            formattedValue = this.formatService.auto(options.format, value);
        } else if (axis.options.type === DATE) {
            formattedValue = this.formatService.auto(axis.options.labels.dateFormats[axis.options.baseUnit], value);
        }

        this.show({
            point: point,
            anchor: this.getAnchor(),
            crosshair: this.crosshair,
            value: formattedValue,
            axisName: this.axisName,
            axisIndex: this.crosshair.axis.axisIndex
        }, this.options);
    };

    CrosshairTooltip.prototype.hide = function hide () {
        this.chartService.notify(HIDE_TOOLTIP, {
            crosshair: this.crosshair,
            axisName: this.axisName,
            axisIndex: this.crosshair.axis.axisIndex
        });
    };

    CrosshairTooltip.prototype.getAnchor = function getAnchor () {
        var ref = this;
        var crosshair = ref.crosshair;
        var ref_options = ref.options;
        var position = ref_options.position;
        var padding = ref_options.padding;
        var vertical = !crosshair.axis.options.vertical;
        var lineBox = crosshair.line.bbox();
        var horizontalAlign, verticalAlign, point;

        if (vertical) {
            horizontalAlign = CENTER;
            if (position === BOTTOM) {
                verticalAlign = TOP;
                point = lineBox.bottomLeft().translate(0, padding);
            } else {
                verticalAlign = BOTTOM;
                point = lineBox.topLeft().translate(0, -padding);
            }
        } else {
            verticalAlign = CENTER;
            if (position === LEFT) {
                horizontalAlign = RIGHT;
                point = lineBox.topLeft().translate(-padding, 0);
            } else {
                horizontalAlign = LEFT;
                point = lineBox.topRight().translate(padding, 0);
            }
        }

        return {
            point: point,
            align: {
                horizontal: horizontalAlign,
                vertical: verticalAlign
            }
        };
    };

    return CrosshairTooltip;
}(BaseTooltip));

setDefaultOptions(CrosshairTooltip, {
    padding: 10
});

var Crosshair = (function (ChartElement$$1) {
    function Crosshair(chartService, axis, options) {
        ChartElement$$1.call(this, options);

        this.axis = axis;
        this.stickyMode = axis instanceof CategoryAxis;

        var tooltipOptions = this.options.tooltip;

        if (tooltipOptions.visible) {
            this.tooltip = new CrosshairTooltip(chartService, this,
                deepExtend({}, tooltipOptions, { stickyMode: this.stickyMode })
            );
        }
    }

    if ( ChartElement$$1 ) Crosshair.__proto__ = ChartElement$$1;
    Crosshair.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    Crosshair.prototype.constructor = Crosshair;

    Crosshair.prototype.showAt = function showAt (point) {
        this.point = point;
        this.moveLine();
        this.line.visible(true);

        if (this.tooltip) {
            this.tooltip.showAt(point);
        }
    };

    Crosshair.prototype.hide = function hide () {
        this.line.visible(false);

        if (this.tooltip) {
            this.tooltip.hide();
        }
    };

    Crosshair.prototype.moveLine = function moveLine () {
        var ref = this;
        var axis = ref.axis;
        var point = ref.point;
        var vertical = axis.options.vertical;
        var box = this.getBox();
        var dim = vertical ? Y : X;
        var lineStart = new _progress_kendoDrawing.geometry.Point(box.x1, box.y1);
        var lineEnd;

        if (vertical) {
            lineEnd = new _progress_kendoDrawing.geometry.Point(box.x2, box.y1);
        } else {
            lineEnd = new _progress_kendoDrawing.geometry.Point(box.x1, box.y2);
        }

        if (point) {
            if (this.stickyMode) {
                var slot = axis.getSlot(axis.pointCategoryIndex(point));
                lineStart[dim] = lineEnd[dim] = slot.center()[dim];
            } else {
                lineStart[dim] = lineEnd[dim] = point[dim];
            }
        }

        this.box = box;

        this.line.moveTo(lineStart).lineTo(lineEnd);
    };

    Crosshair.prototype.getBox = function getBox () {
        var axis = this.axis;
        var axes = axis.pane.axes;
        var length = axes.length;
        var vertical = axis.options.vertical;
        var box = axis.lineBox().clone();
        var dim = vertical ? X : Y;
        var axisLineBox;

        for (var i = 0; i < length; i++) {
            var currentAxis = axes[i];
            if (currentAxis.options.vertical !== vertical) {
                if (!axisLineBox) {
                    axisLineBox = currentAxis.lineBox().clone();
                } else {
                    axisLineBox.wrap(currentAxis.lineBox());
                }
            }
        }

        box[dim + 1] = axisLineBox[dim + 1];
        box[dim + 2] = axisLineBox[dim + 2];

        return box;
    };

    Crosshair.prototype.createVisual = function createVisual () {
        ChartElement$$1.prototype.createVisual.call(this);

        var options = this.options;
        this.line = new _progress_kendoDrawing.drawing.Path({
            stroke: {
                color: options.color,
                width: options.width,
                opacity: options.opacity,
                dashType: options.dashType
            },
            visible: false
        });

        this.moveLine();
        this.visual.append(this.line);
    };

    Crosshair.prototype.destroy = function destroy () {
        if (this.tooltip) {
            this.tooltip.destroy();
        }

        ChartElement$$1.prototype.destroy.call(this);
    };

    return Crosshair;
}(ChartElement));

setDefaultOptions(Crosshair, {
    color: BLACK,
    width: 2,
    zIndex: -1,
    tooltip: {
        visible: false
    }
});

var ChartContainer = (function (ChartElement$$1) {
    function ChartContainer(options, pane) {
        ChartElement$$1.call(this, options);
        this.pane = pane;
    }

    if ( ChartElement$$1 ) ChartContainer.__proto__ = ChartElement$$1;
    ChartContainer.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    ChartContainer.prototype.constructor = ChartContainer;

    ChartContainer.prototype.shouldClip = function shouldClip () {
        var children = this.children;
        var length = children.length;

        for (var i = 0; i < length; i++) {
            if (children[i].options.clip === true) {
                return true;
            }
        }
        return false;
    };

    ChartContainer.prototype._clipBox = function _clipBox () {
        return this.pane.chartsBox();
    };

    ChartContainer.prototype.createVisual = function createVisual () {
        this.visual = new _progress_kendoDrawing.drawing.Group({
            zIndex: 0
        });

        if (this.shouldClip()) {
            var clipBox = this.clipBox = this._clipBox();
            var clipRect = clipBox.toRect();
            var clipPath = _progress_kendoDrawing.drawing.Path.fromRect(clipRect);
            alignPathToPixel(clipPath);

            this.visual.clip(clipPath);
            this.unclipLabels();
        }
    };

    ChartContainer.prototype.stackRoot = function stackRoot () {
        return this;
    };

    ChartContainer.prototype.unclipLabels = function unclipLabels () {
        var ref = this;
        var charts = ref.children;
        var clipBox = ref.clipBox;

        for (var i = 0; i < charts.length; i++) {
            var points = charts[i].points || {};
            var length = points.length;

            for (var j = 0; j < length; j++) {
                var point = points[j];
                if (point && point.visible !== false && point.overlapsBox && point.overlapsBox(clipBox)) {
                    if (point.unclipElements) {
                        point.unclipElements();
                    } else {
                        var label = point.label;
                        var note = point.note;

                        if (label && label.options.visible) {
                            if (label.alignToClipBox) {
                                label.alignToClipBox(clipBox);
                            }
                            label.options.noclip = true;
                        }

                        if (note && note.options.visible) {
                            note.options.noclip = true;
                        }
                    }
                }
            }
        }
    };

    ChartContainer.prototype.destroy = function destroy () {
        ChartElement$$1.prototype.destroy.call(this);

        delete this.parent;
    };

    return ChartContainer;
}(ChartElement));

ChartContainer.prototype.isStackRoot = true;

var Pane = (function (BoxElement$$1) {
    function Pane(options) {
        BoxElement$$1.call(this, options);

        this.id = paneID();

        this.createTitle();

        this.content = new ChartElement();

        this.chartContainer = new ChartContainer({}, this);
        this.append(this.content);

        this.axes = [];
        this.charts = [];
    }

    if ( BoxElement$$1 ) Pane.__proto__ = BoxElement$$1;
    Pane.prototype = Object.create( BoxElement$$1 && BoxElement$$1.prototype );
    Pane.prototype.constructor = Pane;

    Pane.prototype.createTitle = function createTitle () {
        var titleOptions = this.options.title;
        if (isObject(titleOptions)) {
            titleOptions = deepExtend({}, titleOptions, {
                align: titleOptions.position,
                position: TOP
            });
        }

        this.title = Title.buildTitle(titleOptions, this, Pane.prototype.options.title);
    };

    Pane.prototype.appendAxis = function appendAxis (axis) {
        this.content.append(axis);
        this.axes.push(axis);
        axis.pane = this;
    };

    Pane.prototype.appendAxisAt = function appendAxisAt (axis, pos) {
        this.content.append(axis);
        this.axes.splice(pos, 0, axis);
        axis.pane = this;
    };

    Pane.prototype.appendChart = function appendChart (chart) {
        if (this.chartContainer.parent !== this.content) {
            this.content.append(this.chartContainer);
        }

        this.charts.push(chart);
        this.chartContainer.append(chart);
        chart.pane = this;
    };

    Pane.prototype.empty = function empty () {
        var this$1 = this;

        var plotArea = this.parent;

        if (plotArea) {
            for (var i = 0; i < this.axes.length; i++) {
                plotArea.removeAxis(this$1.axes[i]);
            }

            for (var i$1 = 0; i$1 < this.charts.length; i$1++) {
                plotArea.removeChart(this$1.charts[i$1]);
            }
        }

        this.axes = [];
        this.charts = [];

        this.content.destroy();
        this.content.children = [];
        this.chartContainer.children = [];
    };

    Pane.prototype.reflow = function reflow (targetBox) {
        // Content (such as charts) is rendered, but excluded from reflows
        var content;
        if (last(this.children) === this.content) {
            content = this.children.pop();
        }

        BoxElement$$1.prototype.reflow.call(this, targetBox);

        if (content) {
            this.children.push(content);
        }

        if (this.title) {
            this.contentBox.y1 += this.title.box.height();
        }
    };

    Pane.prototype.visualStyle = function visualStyle () {
        var style = BoxElement$$1.prototype.visualStyle.call(this);
        style.zIndex = -10;

        return style;
    };

    Pane.prototype.renderComplete = function renderComplete () {
        if (this.options.visible) {
            this.createGridLines();
        }
    };

    Pane.prototype.stackRoot = function stackRoot () {
        return this;
    };

    Pane.prototype.clipRoot = function clipRoot () {
        return this;
    };

    Pane.prototype.createGridLines = function createGridLines () {
        var axes = this.axes;
        var allAxes = axes.concat(this.parent.axes);
        var vGridLines = [];
        var hGridLines = [];

        // TODO
        // Is full combination really necessary?
        for (var i = 0; i < axes.length; i++) {
            var axis = axes[i];
            var vertical = axis.options.vertical;
            var gridLines = vertical ? vGridLines : hGridLines;
            for (var j = 0; j < allAxes.length; j++) {
                if (gridLines.length === 0) {
                    var altAxis = allAxes[j];
                    if (vertical !== altAxis.options.vertical) {
                        append$1(gridLines, axis.createGridLines(altAxis));
                    }
                }
            }
        }
    };

    Pane.prototype.refresh = function refresh () {
        this.visual.clear();

        this.content.parent = null;
        this.content.createGradient = this.createGradient.bind(this);
        this.content.renderVisual();
        this.content.parent = this;

        if (this.title) {
            this.visual.append(this.title.visual);
        }

        this.visual.append(this.content.visual);

        this.renderComplete();
        this.notifyRender();
    };

    Pane.prototype.chartsBox = function chartsBox () {
        var axes = this.axes;
        var length = axes.length;
        var chartsBox = new Box();

        for (var idx = 0; idx < length; idx++) {
            var axis = axes[idx];
            var axisValueField = axis.options.vertical ? Y : X;
            var lineBox = axis.lineBox();
            chartsBox[axisValueField + 1] = lineBox[axisValueField + 1];
            chartsBox[axisValueField + 2] = lineBox[axisValueField + 2];
        }

        if (chartsBox.x2 === 0) {
            var allAxes = this.parent.axes;
            var length$1 = allAxes.length;

            for (var idx$1 = 0; idx$1 < length$1; idx$1++) {
                var axis$1 = allAxes[idx$1];
                if (!axis$1.options.vertical) {
                    var lineBox$1 = axis$1.lineBox();
                    chartsBox.x1 = lineBox$1.x1;
                    chartsBox.x2 = lineBox$1.x2;
                }
            }
        }
        return chartsBox;
    };

    Pane.prototype.clipBox = function clipBox () {
        return this.chartContainer.clipBox;
    };

    Pane.prototype.notifyRender = function notifyRender () {
        var service = this.getService();
        if (service) {
            service.notify(PANE_RENDER, {
                pane: new ChartPane(this),
                index: this.paneIndex,
                name: this.options.name
            });
        }
    };

    return Pane;
}(BoxElement));

var ID = 1;

function paneID() {
    return "pane" + ID++;
}

Pane.prototype.isStackRoot = true;

setDefaultOptions(Pane, {
    zIndex: -1,
    shrinkToFit: true,
    title: {
        align: LEFT
    },
    visible: true
});

function appendIfNotNull(array, element) {
    if (element !== null) {
        array.push(element);
    }
}

function segmentVisible(series, fields, index) {
    var visible = fields.visible;
    if (defined(visible)) {
        return visible;
    }

    var pointVisibility = series.pointVisibility;
    if (pointVisibility) {
        return pointVisibility[index];
    }
}

function bindSegments(series) {
    var data = series.data;
    var points = [];
    var sum = 0;
    var count = 0;

    for (var idx = 0; idx < data.length; idx++) {
        var pointData = SeriesBinder.current.bindPoint(series, idx);
        var value = pointData.valueFields.value;


        if (isString(value)) {
            value = parseFloat(value);
        }

        if (isNumber(value)) {
            pointData.visible = segmentVisible(series, pointData.fields, idx) !== false;

            pointData.value = Math.abs(value);
            points.push(pointData);

            if (pointData.visible) {
                sum += pointData.value;
            }

            if (value !== 0) {
                count++;
            }
        } else {
            points.push(null);
        }
    }

    return {
        total: sum,
        points: points,
        count: count
    };
}

function equalsIgnoreCase(a, b) {
    if (a && b) {
        return a.toLowerCase() === b.toLowerCase();
    }

    return a === b;
}

function filterSeriesByType(series, types) {
    var result = [];

    var seriesTypes = [].concat(types);
    for (var idx = 0; idx < series.length; idx++) {
        var currentSeries = series[idx];
        if (inArray(currentSeries.type, seriesTypes)) {
            result.push(currentSeries);
        }
    }

    return result;
}

function getDateField(field, row, intlService) {
    if (row === null) {
        return row;
    }

    var key = "_date_" + field;
    var value = row[key];

    if (!value) {
        value = parseDate(intlService, getter(field, true)(row));
        row[key] = value;
    }

    return value;
}

function isDateAxis(axisOptions, sampleCategory) {
    var type = axisOptions.type;
    var dateCategory = sampleCategory instanceof Date;

    return (!type && dateCategory) || equalsIgnoreCase(type, DATE);
}

function singleItemOrArray(array) {
    return array.length === 1 ? array[0] : array;
}

var AREA_REGEX = /area/i;

function seriesMissingValues$1(series) {
    if (series.missingValues) {
        return series.missingValues;
    }

    return AREA_REGEX.test(series.type) || series.stack ? ZERO : INTERPOLATE;
}

function hasValue$1(series, item) {
    var fields = SeriesBinder.current.bindPoint(series, null, item);
    var valueFields = fields.valueFields;

    for (var field in valueFields) {
        if (convertableToNumber(valueFields[field])) {
            return true;
        }
    }
}

function findNext(ref) {
    var start = ref.start;
    var dir = ref.dir;
    var min = ref.min;
    var max = ref.max;
    var getter$$1 = ref.getter;
    var hasItem = ref.hasItem;
    var series = ref.series;

    var pointHasValue, outPoint;
    var idx = start;
    do {
        idx += dir;
        //aggregating and binding the item takes too much time for large number of categories
        //will assume that if the aggregation does not create value for a missing item for one it will not create for others
        if (hasItem(idx)) {
            outPoint = getter$$1(idx);
            pointHasValue = hasValue$1(series, outPoint.item);
        }
    } while (min <= idx && idx <= max && !pointHasValue);

    if (pointHasValue) {
        return outPoint;
    }
}

function createOutOfRangePoints(series, range, count, getter$$1, hasItem) {
    var min = range.min;
    var max = range.max;
    var hasMinPoint = min > 0 && min < count;
    var hasMaxPoint = max + 1 < count;

    if (hasMinPoint || hasMaxPoint) {
        var missingValues = seriesMissingValues$1(series);
        var minPoint, maxPoint;
        if (missingValues !== INTERPOLATE) {
            if (hasMinPoint) {
                minPoint = getter$$1(min - 1);
            }

            if (hasMaxPoint) {
                maxPoint = getter$$1(max + 1);
            }
        } else {
            var outPoint, pointHasValue;
            if (hasMinPoint) {
                outPoint = getter$$1(min - 1);
                pointHasValue = hasValue$1(series, outPoint.item);
                if (!pointHasValue) {
                    minPoint = findNext({
                        start: min,
                        dir: -1,
                        min: 0,
                        max: count - 1,
                        getter: getter$$1,
                        hasItem: hasItem,
                        series: series
                    });
                } else {
                    minPoint = outPoint;
                }
            }

            if (hasMaxPoint) {
                outPoint = getter$$1(max + 1);
                pointHasValue = hasValue$1(series, outPoint.item);
                if (!pointHasValue) {
                    maxPoint = findNext({
                        start: max,
                        dir: 1,
                        min: 0,
                        max: count - 1,
                        getter: getter$$1,
                        hasItem: hasItem,
                        series: series
                    });
                } else {
                    maxPoint = outPoint;
                }
            }
        }

        if (minPoint) {
            series._outOfRangeMinPoint = minPoint;
        }

        if (maxPoint) {
            series._outOfRangeMaxPoint = maxPoint;
        }
    }
}

var PlotAreaBase = (function (ChartElement$$1) {
    function PlotAreaBase(series, options, chartService) {
        ChartElement$$1.call(this, options);

        this.initFields(series, options);
        this.series = series;
        this.initSeries();
        this.charts = [];
        this.options.legend = this.options.legend || {};
        this.options.legend.items = [];
        this.axes = [];
        this.crosshairs = [];
        this.chartService = chartService;
        this.originalOptions = options;

        this.createPanes();
        this.render();
        this.createCrosshairs();
    }

    if ( ChartElement$$1 ) PlotAreaBase.__proto__ = ChartElement$$1;
    PlotAreaBase.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    PlotAreaBase.prototype.constructor = PlotAreaBase;

    PlotAreaBase.prototype.initFields = function initFields () { };

    PlotAreaBase.prototype.initSeries = function initSeries () {
        var series = this.series;

        for (var i = 0; i < series.length; i++) {
            series[i].index = i;
        }
    };

    PlotAreaBase.prototype.createPanes = function createPanes () {
        var this$1 = this;

        var defaults = { title: { color: (this.options.title || {}).color } };
        var panes = [];
        var paneOptions = this.options.panes || [];
        var panesLength = Math.max(paneOptions.length, 1);

        function setTitle(options, defaults) {
            if (isString(options.title)) {
                options.title = {
                    text: options.title
                };
            }

            options.title = deepExtend({}, defaults.title, options.title);
        }

        for (var i = 0; i < panesLength; i++) {
            var options = paneOptions[i] || {};
            setTitle(options, defaults);

            var currentPane = new Pane(options);
            currentPane.paneIndex = i;

            panes.push(currentPane);
            this$1.append(currentPane);
        }

        this.panes = panes;
    };

    PlotAreaBase.prototype.createCrosshairs = function createCrosshairs (panes) {
        var this$1 = this;
        if ( panes === void 0 ) panes = this.panes;

        for (var i = 0; i < panes.length; i++) {
            var pane = panes[i];
            for (var j = 0; j < pane.axes.length; j++) {
                var axis = pane.axes[j];
                if (axis.options.crosshair && axis.options.crosshair.visible) {
                    var currentCrosshair = new Crosshair(this$1.chartService, axis, axis.options.crosshair);

                    this$1.crosshairs.push(currentCrosshair);
                    pane.content.append(currentCrosshair);
                }
            }
        }
    };

    PlotAreaBase.prototype.removeCrosshairs = function removeCrosshairs (pane) {
        var crosshairs = this.crosshairs;
        var axes = pane.axes;

        for (var i = crosshairs.length - 1; i >= 0; i--) {
            for (var j = 0; j < axes.length; j++) {
                if (crosshairs[i].axis === axes[j]) {
                    crosshairs.splice(i, 1);
                    break;
                }
            }
        }
    };

    PlotAreaBase.prototype.hideCrosshairs = function hideCrosshairs () {
        var crosshairs = this.crosshairs;
        for (var idx = 0; idx < crosshairs.length; idx++) {
            crosshairs[idx].hide();
        }
    };

    PlotAreaBase.prototype.findPane = function findPane (name) {
        var panes = this.panes;
        var matchingPane;

        for (var i = 0; i < panes.length; i++) {
            if (panes[i].options.name === name) {
                matchingPane = panes[i];
                break;
            }
        }

        return matchingPane || panes[0];
    };

    PlotAreaBase.prototype.findPointPane = function findPointPane (point) {
        var panes = this.panes;
        var matchingPane;

        for (var i = 0; i < panes.length; i++) {
            if (panes[i].box.containsPoint(point)) {
                matchingPane = panes[i];
                break;
            }
        }

        return matchingPane;
    };

    PlotAreaBase.prototype.appendAxis = function appendAxis (axis) {
        var pane = this.findPane(axis.options.pane);

        pane.appendAxis(axis);
        this.axes.push(axis);
        axis.plotArea = this;
    };

    PlotAreaBase.prototype.removeAxis = function removeAxis (axisToRemove) {
        var this$1 = this;

        var filteredAxes = [];

        for (var i = 0; i < this.axes.length; i++) {
            var axis = this$1.axes[i];
            if (axisToRemove !== axis) {
                filteredAxes.push(axis);
            } else {
                axis.destroy();
            }
        }

        this.axes = filteredAxes;
    };

    PlotAreaBase.prototype.appendChart = function appendChart (chart, pane) {
        this.charts.push(chart);
        if (pane) {
            pane.appendChart(chart);
        } else {
            this.append(chart);
        }
    };

    PlotAreaBase.prototype.removeChart = function removeChart (chartToRemove) {
        var this$1 = this;

        var filteredCharts = [];

        for (var i = 0; i < this.charts.length; i++) {
            var chart = this$1.charts[i];
            if (chart !== chartToRemove) {
                filteredCharts.push(chart);
            } else {
                chart.destroy();
            }
        }

        this.charts = filteredCharts;
    };

    PlotAreaBase.prototype.addToLegend = function addToLegend (series) {
        var count = series.length;
        var legend = this.options.legend;
        var labels = legend.labels || {};
        var inactiveItems = legend.inactiveItems || {};
        var inactiveItemsLabels = inactiveItems.labels || {};
        var data = [];

        for (var i = 0; i < count; i++) {
            var currentSeries = series[i];
            var seriesVisible = currentSeries.visible !== false;
            if (currentSeries.visibleInLegend === false) {
                continue;
            }

            var text = currentSeries.name;
            var labelTemplate = seriesVisible ? getTemplate(labels) : getTemplate(inactiveItemsLabels) || getTemplate(labels);
            if (labelTemplate) {
                text = labelTemplate({
                    text: hasValue(text) ? text : "",
                    series: currentSeries
                });
            }

            var defaults = currentSeries._defaults;
            var color = currentSeries.color;
            if (isFunction(color) && defaults) {
                color = defaults.color;
            }

            var itemLabelOptions = (void 0), markerColor = (void 0);
            if (seriesVisible) {
                itemLabelOptions = {};
                markerColor = color;
            } else {
                itemLabelOptions = {
                    color: inactiveItemsLabels.color,
                    font: inactiveItemsLabels.font
                };
                markerColor = inactiveItems.markers.color;
            }

            if (hasValue(text) && text !== "") {
                data.push({
                    text: text,
                    labels: itemLabelOptions,
                    markerColor: markerColor,
                    series: currentSeries,
                    active: seriesVisible
                });
            }
        }

        append$1(legend.items, data);
    };

    PlotAreaBase.prototype.groupAxes = function groupAxes (panes) {
        var xAxes = [];
        var yAxes = [];

        for (var paneIx = 0; paneIx < panes.length; paneIx++) {
            var paneAxes = panes[paneIx].axes;
            for (var axisIx = 0; axisIx < paneAxes.length; axisIx++) {
                var axis = paneAxes[axisIx];
                if (axis.options.vertical) {
                    yAxes.push(axis);
                } else {
                    xAxes.push(axis);
                }
            }
        }

        return { x: xAxes, y: yAxes, any: xAxes.concat(yAxes) };
    };

    PlotAreaBase.prototype.groupSeriesByPane = function groupSeriesByPane () {
        var this$1 = this;

        var series = this.series;
        var seriesByPane = {};

        for (var i = 0; i < series.length; i++) {
            var currentSeries = series[i];
            var pane = this$1.seriesPaneName(currentSeries);

            if (seriesByPane[pane]) {
                seriesByPane[pane].push(currentSeries);
            } else {
                seriesByPane[pane] = [ currentSeries ];
            }
        }

        return seriesByPane;
    };

    PlotAreaBase.prototype.filterVisibleSeries = function filterVisibleSeries (series) {
        var result = [];

        for (var i = 0; i < series.length; i++) {
            var currentSeries = series[i];
            if (currentSeries.visible !== false) {
                result.push(currentSeries);
            }
        }

        return result;
    };

    PlotAreaBase.prototype.reflow = function reflow (targetBox) {
        var options = this.options.plotArea;
        var panes = this.panes;
        var margin = getSpacing(options.margin);

        this.box = targetBox.clone().unpad(margin);
        this.reflowPanes();

        this.detachLabels();
        this.reflowAxes(panes);
        this.reflowCharts(panes);
    };

    PlotAreaBase.prototype.redraw = function redraw (panes) {
        var this$1 = this;

        var panesArray = [].concat(panes);
        this.initSeries();

        //prevents leak during partial redraws. the cached gradients observers retain reference to the destroyed elements.
        var root = this.getRoot();
        if (root) {
            root.cleanGradients();
        }

        for (var i = 0; i < panesArray.length; i++) {
            this$1.removeCrosshairs(panesArray[i]);
            panesArray[i].empty();
        }

        this.render(panesArray);
        this.detachLabels();
        this.reflowAxes(this.panes);
        this.reflowCharts(panesArray);

        this.createCrosshairs(panesArray);

        for (var i$1 = 0; i$1 < panesArray.length; i$1++) {
            panesArray[i$1].refresh();
        }
    };

    PlotAreaBase.prototype.axisCrossingValues = function axisCrossingValues (axis, crossingAxes) {
        var options = axis.options;
        var crossingValues = [].concat(
            options.axisCrossingValues || options.axisCrossingValue
        );
        var valuesToAdd = crossingAxes.length - crossingValues.length;
        var defaultValue = crossingValues[0] || 0;

        for (var i = 0; i < valuesToAdd; i++) {
            crossingValues.push(defaultValue);
        }

        return crossingValues;
    };

    PlotAreaBase.prototype.alignAxisTo = function alignAxisTo (axis, targetAxis, crossingValue, targetCrossingValue) {
        var slot = axis.getSlot(crossingValue, crossingValue, true);
        var slotEdge = axis.options.reverse ? 2 : 1;
        var targetSlot = targetAxis.getSlot(targetCrossingValue, targetCrossingValue, true);
        var targetEdge = targetAxis.options.reverse ? 2 : 1;
        var axisBox = axis.box.translate(
            targetSlot[X + targetEdge] - slot[X + slotEdge],
            targetSlot[Y + targetEdge] - slot[Y + slotEdge]
        );

        if (axis.pane !== targetAxis.pane) {
            axisBox.translate(0, axis.pane.box.y1 - targetAxis.pane.box.y1);
        }

        axis.reflow(axisBox);
    };

    PlotAreaBase.prototype.alignAxes = function alignAxes (xAxes, yAxes) {
        var this$1 = this;

        var xAnchor = xAxes[0];
        var yAnchor = yAxes[0];
        var xAnchorCrossings = this.axisCrossingValues(xAnchor, yAxes);
        var yAnchorCrossings = this.axisCrossingValues(yAnchor, xAxes);
        var leftAnchors = {};
        var rightAnchors = {};
        var topAnchors = {};
        var bottomAnchors = {};

        for (var i = 0; i < yAxes.length; i++) {
            var axis = yAxes[i];
            var pane = axis.pane;
            var paneId = pane.id;
            var visible = axis.options.visible !== false;

            // Locate pane anchor, if any, and use its axisCrossingValues
            var anchor = paneAnchor(xAxes, pane) || xAnchor;
            var anchorCrossings = xAnchorCrossings;

            if (anchor !== xAnchor) {
                anchorCrossings = this$1.axisCrossingValues(anchor, yAxes);
            }

            this$1.alignAxisTo(axis, anchor, yAnchorCrossings[i], anchorCrossings[i]);

            if (axis.options._overlap) {
                continue;
            }

            if (round(axis.lineBox().x1) === round(anchor.lineBox().x1)) {
                // Push the axis to the left the previous y-axis so they don't overlap
                if (leftAnchors[paneId]) {
                    axis.reflow(axis.box
                        .alignTo(leftAnchors[paneId].box, LEFT)
                        .translate(-axis.options.margin, 0)
                    );
                }

                if (visible) {
                    leftAnchors[paneId] = axis;
                }
            }

            if (round(axis.lineBox().x2) === round(anchor.lineBox().x2)) {
                // Flip the labels on the right if we're at the right end of the pane
                if (!axis._mirrored) {
                    axis.options.labels.mirror = !axis.options.labels.mirror;
                    axis._mirrored = true;
                }

                this$1.alignAxisTo(axis, anchor, yAnchorCrossings[i], anchorCrossings[i]);

                // Push the axis to the right the previous y-axis so they don't overlap
                if (rightAnchors[paneId]) {
                    axis.reflow(axis.box
                        .alignTo(rightAnchors[paneId].box, RIGHT)
                        .translate(axis.options.margin, 0)
                    );
                }

                if (visible) {
                    rightAnchors[paneId] = axis;
                }
            }

            if (i !== 0 && yAnchor.pane === axis.pane) {
                axis.alignTo(yAnchor);
                axis.reflow(axis.box);
            }
        }

        for (var i$1 = 0; i$1 < xAxes.length; i$1++) {
            var axis$1 = xAxes[i$1];
            var pane$1 = axis$1.pane;
            var paneId$1 = pane$1.id;
            var visible$1 = axis$1.options.visible !== false;

            // Locate pane anchor and use its axisCrossingValues
            var anchor$1 = paneAnchor(yAxes, pane$1) || yAnchor;
            var anchorCrossings$1 = yAnchorCrossings;
            if (anchor$1 !== yAnchor) {
                anchorCrossings$1 = this$1.axisCrossingValues(anchor$1, xAxes);
            }

            this$1.alignAxisTo(axis$1, anchor$1, xAnchorCrossings[i$1], anchorCrossings$1[i$1]);

            if (axis$1.options._overlap) {
                continue;
            }

            if (round(axis$1.lineBox().y1) === round(anchor$1.lineBox().y1)) {
                // Flip the labels on top if we're at the top of the pane
                if (!axis$1._mirrored) {
                    axis$1.options.labels.mirror = !axis$1.options.labels.mirror;
                    axis$1._mirrored = true;
                }
                this$1.alignAxisTo(axis$1, anchor$1, xAnchorCrossings[i$1], anchorCrossings$1[i$1]);

                // Push the axis above the previous x-axis so they don't overlap
                if (topAnchors[paneId$1]) {
                    axis$1.reflow(axis$1.box
                        .alignTo(topAnchors[paneId$1].box, TOP)
                        .translate(0, -axis$1.options.margin)
                    );
                }

                if (visible$1) {
                    topAnchors[paneId$1] = axis$1;
                }
            }

            if (round(axis$1.lineBox().y2, COORD_PRECISION) === round(anchor$1.lineBox().y2, COORD_PRECISION)) {
                // Push the axis below the previous x-axis so they don't overlap
                if (bottomAnchors[paneId$1]) {
                    axis$1.reflow(axis$1.box
                        .alignTo(bottomAnchors[paneId$1].box, BOTTOM)
                        .translate(0, axis$1.options.margin)
                    );
                }

                if (visible$1) {
                    bottomAnchors[paneId$1] = axis$1;
                }
            }

            if (i$1 !== 0) {
                axis$1.alignTo(xAnchor);
                axis$1.reflow(axis$1.box);
            }
        }
    };

    PlotAreaBase.prototype.shrinkAxisWidth = function shrinkAxisWidth (panes) {
        var axes = this.groupAxes(panes).any;
        var axisBox = axisGroupBox(axes);
        var overflowX = 0;

        for (var i = 0; i < panes.length; i++) {
            var currentPane = panes[i];

            if (currentPane.axes.length > 0) {
                overflowX = Math.max(
                    overflowX,
                    axisBox.width() - currentPane.contentBox.width()
                );
            }
        }

        if (overflowX !== 0) {
            for (var i$1 = 0; i$1 < axes.length; i$1++) {
                var currentAxis = axes[i$1];

                if (!currentAxis.options.vertical) {
                    currentAxis.reflow(currentAxis.box.shrink(overflowX, 0));
                }
            }
        }
    };

    PlotAreaBase.prototype.shrinkAxisHeight = function shrinkAxisHeight (panes) {
        var shrinked;

        for (var i = 0; i < panes.length; i++) {
            var currentPane = panes[i];
            var axes = currentPane.axes;
            var overflowY = Math.max(0, axisGroupBox(axes).height() - currentPane.contentBox.height());

            if (overflowY !== 0) {
                for (var j = 0; j < axes.length; j++) {
                    var currentAxis = axes[j];

                    if (currentAxis.options.vertical) {
                        currentAxis.reflow(
                            currentAxis.box.shrink(0, overflowY)
                        );
                    }
                }
                shrinked = true;
            }
        }

        return shrinked;
    };

    PlotAreaBase.prototype.fitAxes = function fitAxes (panes) {
        var axes = this.groupAxes(panes).any;
        var offsetX = 0;

        for (var i = 0; i < panes.length; i++) {
            var currentPane = panes[i];
            var paneAxes = currentPane.axes;
            var paneBox = currentPane.contentBox;

            if (paneAxes.length > 0) {
                var axisBox = axisGroupBox(paneAxes);
                // OffsetY is calculated and applied per pane
                var offsetY = Math.max(paneBox.y1 - axisBox.y1, paneBox.y2 - axisBox.y2);

                // OffsetX is calculated and applied globally
                offsetX = Math.max(offsetX, paneBox.x1 - axisBox.x1);


                for (var j = 0; j < paneAxes.length; j++) {
                    var currentAxis = paneAxes[j];

                    currentAxis.reflow(
                        currentAxis.box.translate(0, offsetY)
                    );
                }
            }
        }

        for (var i$1 = 0; i$1 < axes.length; i$1++) {
            var currentAxis$1 = axes[i$1];

            currentAxis$1.reflow(
                currentAxis$1.box.translate(offsetX, 0)
            );
        }
    };

    PlotAreaBase.prototype.reflowAxes = function reflowAxes (panes) {
        var this$1 = this;

        var axes = this.groupAxes(panes);

        for (var i = 0; i < panes.length; i++) {
            this$1.reflowPaneAxes(panes[i]);
        }

        if (axes.x.length > 0 && axes.y.length > 0) {
            this.alignAxes(axes.x, axes.y);
            this.shrinkAxisWidth(panes);

            this.autoRotateAxisLabels(axes);

            this.alignAxes(axes.x, axes.y);
            if (this.shrinkAxisWidth(panes)) {
                this.alignAxes(axes.x, axes.y);
            }

            this.shrinkAxisHeight(panes);
            this.alignAxes(axes.x, axes.y);

            if (this.shrinkAxisHeight(panes)) {
                this.alignAxes(axes.x, axes.y);
            }

            this.fitAxes(panes);
        }
    };

    PlotAreaBase.prototype.autoRotateAxisLabels = function autoRotateAxisLabels (groupedAxes) {
        var this$1 = this;

        var ref = this;
        var panes = ref.panes;
        var axes = allPaneAxes(panes);
        var rotated;

        for (var idx = 0; idx < axes.length; idx++) {
            var axis = axes[idx];
            if (axis.autoRotateLabels()) {
                rotated = true;
            }
        }

        if (rotated) {
            for (var idx$1 = 0; idx$1 < panes.length; idx$1++) {
                this$1.reflowPaneAxes(panes[idx$1]);
            }

            if (groupedAxes.x.length > 0 && groupedAxes.y.length > 0) {
                this.alignAxes(groupedAxes.x, groupedAxes.y);
                this.shrinkAxisWidth(panes);
            }
        }
    };

    PlotAreaBase.prototype.reflowPaneAxes = function reflowPaneAxes (pane) {
        var axes = pane.axes;
        var length = axes.length;

        if (length > 0) {
            for (var i = 0; i < length; i++) {
                axes[i].reflow(pane.contentBox);
            }
        }
    };

    PlotAreaBase.prototype.reflowCharts = function reflowCharts (panes) {
        var charts = this.charts;
        var count = charts.length;
        var box = this.box;

        for (var i = 0; i < count; i++) {
            var chartPane = charts[i].pane;
            if (!chartPane || inArray(chartPane, panes)) {
                charts[i].reflow(box);
            }
        }
    };

    PlotAreaBase.prototype.reflowPanes = function reflowPanes () {
        var ref = this;
        var box = ref.box;
        var panes = ref.panes;
        var panesLength = panes.length;
        var remainingHeight = box.height();
        var remainingPanes = panesLength;
        var autoHeightPanes = 0;
        var top = box.y1;

        for (var i = 0; i < panesLength; i++) {
            var currentPane = panes[i];
            var height = currentPane.options.height;

            currentPane.options.width = box.width();

            if (!currentPane.options.height) {
                autoHeightPanes++;
            } else {
                if (height.indexOf && height.indexOf("%")) {
                    var percents = parseInt(height, 10) / 100;
                    currentPane.options.height = percents * box.height();
                }

                currentPane.reflow(box.clone());

                remainingHeight -= currentPane.options.height;
            }
        }

        for (var i$1 = 0; i$1 < panesLength; i$1++) {
            var currentPane$1 = panes[i$1];

            if (!currentPane$1.options.height) {
                currentPane$1.options.height = remainingHeight / autoHeightPanes;
            }
        }

        for (var i$2 = 0; i$2 < panesLength; i$2++) {
            var currentPane$2 = panes[i$2];
            var paneBox = box
                .clone()
                .move(box.x1, top);

            currentPane$2.reflow(paneBox);

            remainingPanes--;
            top += currentPane$2.options.height;
        }
    };

    PlotAreaBase.prototype.backgroundBox = function backgroundBox () {
        var axes = this.axes;
        var axesCount = axes.length;
        var box;

        for (var i = 0; i < axesCount; i++) {
            var axisA = axes[i];

            for (var j = 0; j < axesCount; j++) {
                var axisB = axes[j];

                if (axisA.options.vertical !== axisB.options.vertical) {
                    var lineBox = axisA.lineBox().clone().wrap(axisB.lineBox());

                    if (!box) {
                        box = lineBox;
                    } else {
                        box = box.wrap(lineBox);
                    }
                }
            }
        }

        return box || this.box;
    };

    PlotAreaBase.prototype.chartsBoxes = function chartsBoxes () {
        var panes = this.panes;
        var boxes = [];

        for (var idx = 0; idx < panes.length; idx++) {
            boxes.push(panes[idx].chartsBox());
        }

        return boxes;
    };

    PlotAreaBase.prototype.addBackgroundPaths = function addBackgroundPaths (multipath) {
        var boxes = this.chartsBoxes();
        for (var idx = 0; idx < boxes.length; idx++) {
            multipath.paths.push(_progress_kendoDrawing.drawing.Path.fromRect(boxes[idx].toRect()));
        }
    };

    PlotAreaBase.prototype.backgroundContainsPoint = function backgroundContainsPoint (point) {
        var boxes = this.chartsBoxes();
        for (var idx = 0; idx < boxes.length; idx++) {
            if (boxes[idx].containsPoint(point)) {
                return true;
            }
        }
    };

    PlotAreaBase.prototype.createVisual = function createVisual () {
        ChartElement$$1.prototype.createVisual.call(this);

        var options = this.options.plotArea;
        var opacity = options.opacity;
        var background = options.background;
        var border = options.border; if ( border === void 0 ) border = {};
        if (isTransparent(background)) {
            background = WHITE;
            opacity = 0;
        }

        var bg = this._bgVisual = new _progress_kendoDrawing.drawing.MultiPath({
            fill: {
                color: background,
                opacity: opacity
            },
            stroke: {
                color: border.width ? border.color : "",
                width: border.width,
                dashType: border.dashType
            },
            zIndex: -1
        });

        this.addBackgroundPaths(bg);

        this.appendVisual(bg);
    };

    PlotAreaBase.prototype.pointsByCategoryIndex = function pointsByCategoryIndex (categoryIndex) {
        var charts = this.charts;
        var result = [];

        if (categoryIndex !== null) {
            for (var i = 0; i < charts.length; i++) {
                var chart = charts[i];
                if (chart.pane.options.name === "_navigator") {
                    continue;
                }

                var points = charts[i].categoryPoints[categoryIndex];
                if (points && points.length) {
                    for (var j = 0; j < points.length; j++) {
                        var point = points[j];
                        if (point && defined(point.value) && point.value !== null) {
                            result.push(point);
                        }
                    }
                }
            }
        }

        return result;
    };

    PlotAreaBase.prototype.pointsBySeriesIndex = function pointsBySeriesIndex (seriesIndex) {
        return this.filterPoints(function(point) {
            return point.series.index === seriesIndex;
        });
    };

    PlotAreaBase.prototype.pointsBySeriesName = function pointsBySeriesName (name) {
        return this.filterPoints(function(point) {
            return point.series.name === name;
        });
    };

    PlotAreaBase.prototype.filterPoints = function filterPoints (callback) {
        var charts = this.charts;
        var result = [];

        for (var i = 0; i < charts.length; i++) {
            var chart = charts[i];
            var points = chart.points;
            for (var j = 0; j < points.length; j++) {
                var point = points[j];
                if (point && point.visible !== false && callback(point)) {
                    result.push(point);
                }
            }
        }

        return result;
    };

    PlotAreaBase.prototype.findPoint = function findPoint (callback) {
        var charts = this.charts;

        for (var i = 0; i < charts.length; i++) {
            var chart = charts[i];
            var points = chart.points;
            for (var j = 0; j < points.length; j++) {
                var point = points[j];
                if (point && point.visible !== false && callback(point)) {
                    return point;
                }
            }
        }
    };

    PlotAreaBase.prototype.paneByPoint = function paneByPoint (point) {
        var panes = this.panes;

        for (var i = 0; i < panes.length; i++) {
            var pane = panes[i];
            if (pane.box.containsPoint(point)) {
                return pane;
            }
        }
    };

    PlotAreaBase.prototype.detachLabels = function detachLabels () {
        var axes = this.groupAxes(this.panes);
        var xAxes = axes.x;
        var yAxes = axes.y;

        this.detachAxisGroupLabels(yAxes, xAxes);
        this.detachAxisGroupLabels(xAxes, yAxes);
    };

    PlotAreaBase.prototype.detachAxisGroupLabels = function detachAxisGroupLabels (axes, crossingAxes) {
        var this$1 = this;

        var labelAxisCount = 0;

        for (var i = 0; i < axes.length; i++) {
            var axis = axes[i];
            var pane = axis.pane;
            var anchor = paneAnchor(crossingAxes, pane) || crossingAxes[0];
            var axisIndex = i + labelAxisCount;
            var labelAxis = this$1.createLabelAxis(axis, axisIndex, anchor);

            if (labelAxis) {
                labelAxisCount++;

                var pos = pane.axes.indexOf(axis) + labelAxisCount;
                pane.appendAxisAt(labelAxis, pos);
            }
        }
    };

    PlotAreaBase.prototype.createLabelAxis = function createLabelAxis (axis, axisIndex, anchor) {
        var labelOptions = axis.options.labels;
        var position = labelOptions.position;
        var onAxis = position !== END && position !== START;
        var visible = labelOptions.visible;

        if (onAxis || visible === false) {
            return null;
        }

        var allAxes = this.groupAxes(this.panes);
        var crossingAxes = anchor.options.vertical ? allAxes.x : allAxes.y;
        var anchorCrossings = this.axisCrossingValues(anchor, crossingAxes);
        var end = position === END;
        var range = anchor.range();
        var edge = end ? range.max : range.min;
        var crossingValue = limitValue(anchorCrossings[axisIndex], range.min, range.max);

        if (crossingValue - edge === 0) {
            return null;
        }

        anchorCrossings.splice(axisIndex + 1, 0, edge);
        anchor.options.axisCrossingValues = anchorCrossings;

        var labelAxis = axis.clone();
        axis.clear();

        labelAxis.options.name = undefined;
        labelAxis.options.line.visible = false;

        labelAxis.options.crosshair = undefined;
        labelAxis.options.notes = undefined;
        labelAxis.options.plotBands = undefined;

        return labelAxis;
    };

    return PlotAreaBase;
}(ChartElement));

function axisGroupBox(axes) {
    var length = axes.length;
    var box;

    if (length > 0) {
        for (var i = 0; i < length; i++) {
            var axisBox = axes[i].contentBox();

            if (!box) {
                box = axisBox.clone();
            } else {
                box.wrap(axisBox);
            }
        }
    }

    return box || new Box();
}

function paneAnchor(axes, pane) {
    for (var i = 0; i < axes.length; i++) {
        var anchor = axes[i];
        if (anchor && anchor.pane === pane) {
            return anchor;
        }
    }
}

function isTransparent(color) {
    return color === "" || color === null || color === "none" || color === "transparent" || !defined(color);
}

var allPaneAxes = function (panes) { return panes.reduce(function (acc, pane) { return acc.concat(pane.axes); }, []); };

setDefaultOptions(PlotAreaBase, {
    series: [],
    plotArea: {
        margin: {}
    },
    background: "",
    border: {
        color: BLACK,
        width: 0
    },
    legend: {
        inactiveItems: {
            labels: {
                color: "#919191"
            },
            markers: {
                color: "#919191"
            }
        }
    }
});

var PlotAreaEventsMixin = {
    hover: function(chart, e) {
        this._dispatchEvent(chart, e, PLOT_AREA_HOVER);
    },

    click: function(chart, e) {
        this._dispatchEvent(chart, e, PLOT_AREA_CLICK);
    }
};

var SeriesAggregator = (function (Class$$1) {
    function SeriesAggregator(series, binder, defaultAggregates) {
        Class$$1.call(this);

        var canonicalFields = binder.canonicalFields(series);
        var valueFields = binder.valueFields(series);
        var sourceFields = binder.sourceFields(series, canonicalFields);
        var seriesFields = this._seriesFields = [];
        var defaults = defaultAggregates.query(series.type);
        var rootAggregate = series.aggregate || defaults;

        this._series = series;
        this._binder = binder;

        for (var i = 0; i < canonicalFields.length; i++) {
            var field = canonicalFields[i];
            var fieldAggregate = (void 0);

            if (isObject(rootAggregate)) {
                fieldAggregate = rootAggregate[field];
            } else if (i === 0 || inArray(field, valueFields)) {
                fieldAggregate = rootAggregate;
            } else {
                break;
            }

            if (fieldAggregate) {
                seriesFields.push({
                    canonicalName: field,
                    name: sourceFields[i],
                    transform: isFunction(fieldAggregate) ? fieldAggregate : Aggregates[fieldAggregate]
                });
            }
        }
    }

    if ( Class$$1 ) SeriesAggregator.__proto__ = Class$$1;
    SeriesAggregator.prototype = Object.create( Class$$1 && Class$$1.prototype );
    SeriesAggregator.prototype.constructor = SeriesAggregator;

    SeriesAggregator.prototype.aggregatePoints = function aggregatePoints (srcPoints, group) {
        var this$1 = this;

        var ref = this;
        var series = ref._series;
        var seriesFields = ref._seriesFields;
        var data = this._bindPoints(srcPoints || []);
        var firstDataItem = data.dataItems[0];
        var result = {};

        if (firstDataItem && !isNumber(firstDataItem) && !isArray(firstDataItem)) {
            var fn = function() {};
            fn.prototype = firstDataItem;
            result = new fn();
        }

        for (var i = 0; i < seriesFields.length; i++) {
            var field = seriesFields[i];
            var srcValues = this$1._bindField(data.values, field.canonicalName);
            var value = field.transform(srcValues, series, data.dataItems, group);

            if (value !== null && isObject(value) && !defined(value.length) && !(value instanceof Date)) {
                result = value;
                break;
            } else {
                if (defined(value)) {
                    setValue(field.name, result, value);
                }
            }
        }

        return result;
    };

    SeriesAggregator.prototype._bindPoints = function _bindPoints (points) {
        var ref = this;
        var binder = ref._binder;
        var series = ref._series;
        var values = [];
        var dataItems = [];

        for (var i = 0; i < points.length; i++) {
            var pointIx = points[i];

            values.push(binder.bindPoint(series, pointIx));
            dataItems.push(series.data[pointIx]);
        }

        return {
            values: values,
            dataItems: dataItems
        };
    };

    SeriesAggregator.prototype._bindField = function _bindField (data, field) {
        var values = [];
        var count = data.length;

        for (var i = 0; i < count; i++) {
            var item = data[i];
            var valueFields = item.valueFields;
            var value = (void 0);

            if (defined(valueFields[field])) {
                value = valueFields[field];
            } else {
                value = item.fields[field];
            }

            values.push(value);
        }

        return values;
    };

    return SeriesAggregator;
}(_progress_kendoDrawing.Class));

function setValue(fieldName, target, value) {
    var parentObj = target;
    var field = fieldName;

    if (fieldName.indexOf(".") > -1) {
        var parts = fieldName.split(".");

        while (parts.length > 1) {
            field = parts.shift();
            if (!defined(parentObj[field])) {
                parentObj[field] = {};
            }
            parentObj = parentObj[field];
        }
        field = parts.shift();
    }

    parentObj[field] = value;
}

var DefaultAggregates = (function (Class$$1) {
    function DefaultAggregates() {
        Class$$1.call(this);

        this._defaults = {};
    }

    if ( Class$$1 ) DefaultAggregates.__proto__ = Class$$1;
    DefaultAggregates.prototype = Object.create( Class$$1 && Class$$1.prototype );
    DefaultAggregates.prototype.constructor = DefaultAggregates;

    DefaultAggregates.prototype.register = function register (seriesTypes, aggregates) {
        var this$1 = this;

        for (var i = 0; i < seriesTypes.length; i++) {
            this$1._defaults[seriesTypes[i]] = aggregates;
        }
    };

    DefaultAggregates.prototype.query = function query (seriesType) {
        return this._defaults[seriesType];
    };

    return DefaultAggregates;
}(_progress_kendoDrawing.Class));

DefaultAggregates.current = new DefaultAggregates();

var RangeBar = (function (Bar$$1) {
    function RangeBar () {
        Bar$$1.apply(this, arguments);
    }

    if ( Bar$$1 ) RangeBar.__proto__ = Bar$$1;
    RangeBar.prototype = Object.create( Bar$$1 && Bar$$1.prototype );
    RangeBar.prototype.constructor = RangeBar;

    RangeBar.prototype.createLabel = function createLabel () {
        var labels = this.options.labels;
        var fromOptions = deepExtend({}, labels, labels.from);
        var toOptions = deepExtend({}, labels, labels.to);

        if (fromOptions.visible) {
            this.labelFrom = this._createLabel(fromOptions);
            this.append(this.labelFrom);
        }

        if (toOptions.visible) {
            this.labelTo = this._createLabel(toOptions);
            this.append(this.labelTo);
        }
    };

    RangeBar.prototype._createLabel = function _createLabel (options) {
        var labelTemplate = getTemplate(options);
        var pointData = this.pointData();

        var labelText;

        if (labelTemplate) {
            labelText = labelTemplate(pointData);
        } else {
            labelText = this.formatValue(options.format);
        }

        return new BarLabel(labelText,
            deepExtend({
                vertical: this.options.vertical
            },
            options
        ), pointData);
    };

    RangeBar.prototype.reflow = function reflow (targetBox) {
        this.render();

        var ref = this;
        var labelFrom = ref.labelFrom;
        var labelTo = ref.labelTo;
        var value = ref.value;

        this.box = targetBox;

        if (labelFrom) {
            labelFrom.options.aboveAxis = value.from > value.to;
            labelFrom.reflow(targetBox);
        }

        if (labelTo) {
            labelTo.options.aboveAxis = value.to > value.from;
            labelTo.reflow(targetBox);
        }

        if (this.note) {
            this.note.reflow(targetBox);
        }
    };

    return RangeBar;
}(Bar));

RangeBar.prototype.defaults = deepExtend({}, RangeBar.prototype.defaults, {
    labels: {
        format: "{0} - {1}"
    },
    tooltip: {
        format: "{1}"
    }
});

var RangeBarChart = (function (BarChart$$1) {
    function RangeBarChart () {
        BarChart$$1.apply(this, arguments);
    }

    if ( BarChart$$1 ) RangeBarChart.__proto__ = BarChart$$1;
    RangeBarChart.prototype = Object.create( BarChart$$1 && BarChart$$1.prototype );
    RangeBarChart.prototype.constructor = RangeBarChart;

    RangeBarChart.prototype.pointType = function pointType () {
        return RangeBar;
    };

    RangeBarChart.prototype.pointValue = function pointValue (data) {
        return data.valueFields;
    };

    RangeBarChart.prototype.formatPointValue = function formatPointValue (point, format) {
        if (point.value.from === null && point.value.to === null) {
            return "";
        }

        return this.chartService.format.auto(format, point.value.from, point.value.to);
    };

    RangeBarChart.prototype.plotRange = function plotRange (point) {
        if (!point) {
            return 0;
        }

        return [ point.value.from, point.value.to ];
    };

    RangeBarChart.prototype.updateRange = function updateRange (value, fields) {
        var axisName = fields.series.axis;
        var from = value.from;
        var to = value.to;
        var axisRange = this.valueAxisRanges[axisName];

        if (value !== null && isNumber(from) && isNumber(to)) {
            axisRange = this.valueAxisRanges[axisName] = axisRange || { min: MAX_VALUE, max: MIN_VALUE };

            axisRange.min = Math.min(axisRange.min, from);
            axisRange.max = Math.max(axisRange.max, from);

            axisRange.min = Math.min(axisRange.min, to);
            axisRange.max = Math.max(axisRange.max, to);
        }
    };

    RangeBarChart.prototype.aboveAxis = function aboveAxis (point) {
        var value = point.value;
        return value.from < value.to;
    };

    return RangeBarChart;
}(BarChart));

RangeBarChart.prototype.plotLimits = CategoricalChart.prototype.plotLimits;

var RangeLinePoint = (function (LinePoint$$1) {
    function RangeLinePoint () {
        LinePoint$$1.apply(this, arguments);
    }

    if ( LinePoint$$1 ) RangeLinePoint.__proto__ = LinePoint$$1;
    RangeLinePoint.prototype = Object.create( LinePoint$$1 && LinePoint$$1.prototype );
    RangeLinePoint.prototype.constructor = RangeLinePoint;

    RangeLinePoint.prototype.aliasFor = function aliasFor () {
        return this.parent;
    };

    return RangeLinePoint;
}(LinePoint));

var AUTO$1 = 'auto';
var DEFAULT_FROM_FORMAT = '{0}';
var DEFAULT_TO_FORMAT = '{1}';

var RangeAreaPoint = (function (ChartElement$$1) {
    function RangeAreaPoint(value, options) {
        ChartElement$$1.call(this);

        this.value = value;
        this.options = options;
        this.aboveAxis = valueOrDefault(this.options.aboveAxis, true);
        this.tooltipTracking = true;
        this.initLabelsFormat();
    }

    if ( ChartElement$$1 ) RangeAreaPoint.__proto__ = ChartElement$$1;
    RangeAreaPoint.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    RangeAreaPoint.prototype.constructor = RangeAreaPoint;

    RangeAreaPoint.prototype.render = function render () {
        if (this._rendered) {
            return;
        }

        this._rendered = true;

        var ref = this.options;
        var markers = ref.markers;
        var labels = ref.labels;
        var value = this.value;

        var fromPoint = this.fromPoint = new RangeLinePoint(value, deepExtend({}, this.options, {
            labels: labels.from,
            markers: markers.from
        }));

        var toPoint = this.toPoint = new RangeLinePoint(value, deepExtend({}, this.options, {
            labels: labels.to,
            markers: markers.to
        }));

        this.copyFields(fromPoint);
        this.copyFields(toPoint);

        this.append(fromPoint);
        this.append(toPoint);
    };

    RangeAreaPoint.prototype.reflow = function reflow (targetBox) {
        this.render();

        var fromBox = targetBox.from;
        var toBox = targetBox.to;

        this.positionLabels(fromBox, toBox);

        this.fromPoint.reflow(fromBox);
        this.toPoint.reflow(toBox);

        this.box = this.fromPoint.markerBox().clone().wrap(this.toPoint.markerBox());
    };

    RangeAreaPoint.prototype.createHighlight = function createHighlight () {
        var group = new _progress_kendoDrawing.drawing.Group();
        group.append(this.fromPoint.createHighlight());
        group.append(this.toPoint.createHighlight());

        return group;
    };

    RangeAreaPoint.prototype.highlightVisual = function highlightVisual () {
        return this.visual;
    };

    RangeAreaPoint.prototype.highlightVisualArgs = function highlightVisualArgs () {
        return {
            options: this.options,
            from: this.fromPoint.highlightVisualArgs(),
            to: this.toPoint.highlightVisualArgs()
        };
    };

    RangeAreaPoint.prototype.tooltipAnchor = function tooltipAnchor () {
        var clipBox = this.owner.pane.clipBox();
        var showTooltip = !clipBox || clipBox.overlaps(this.box);

        if (showTooltip) {
            var box = this.box;
            var center = box.center();
            var horizontalAlign = LEFT;
            var x, y, verticalAlign;

            if (this.options.vertical) {
                x = center.x;
                y = box.y1 - TOOLTIP_OFFSET;
                verticalAlign = BOTTOM;
            } else {
                x = box.x2 + TOOLTIP_OFFSET;
                y = center.y;
                verticalAlign = CENTER;
            }

            return {
                point: new Point(x, y),
                align: {
                    horizontal: horizontalAlign,
                    vertical: verticalAlign
                }
            };
        }
    };

    RangeAreaPoint.prototype.formatValue = function formatValue (format) {
        return this.owner.formatPointValue(this, format);
    };

    RangeAreaPoint.prototype.overlapsBox = function overlapsBox (box) {
        return this.box.overlaps(box);
    };

    RangeAreaPoint.prototype.unclipElements = function unclipElements () {
        this.fromPoint.unclipElements();
        this.toPoint.unclipElements();
    };

    RangeAreaPoint.prototype.initLabelsFormat = function initLabelsFormat () {
        var labels = this.options.labels;
        if (!labels.format) {
            if (!labels.from || !labels.from.format) {
                labels.from = Object.assign({}, labels.from, {
                    format: DEFAULT_FROM_FORMAT
                });
            }

            if (!labels.to || !labels.to.format) {
                labels.to = Object.assign({}, labels.to, {
                    format: DEFAULT_TO_FORMAT
                });
            }
        }
    };

    RangeAreaPoint.prototype.positionLabels = function positionLabels (fromBox, toBox) {
        var ref = this.options;
        var labels = ref.labels;
        var vertical = ref.vertical;

        if (labels.position === AUTO$1) {
            var fromLabelPosition, toLabelPosition;
            if (vertical) {
                if (toBox.y1 <= fromBox.y1) {
                    toLabelPosition = ABOVE;
                    fromLabelPosition = BELOW;
                } else {
                    toLabelPosition = BELOW;
                    fromLabelPosition = ABOVE;
                }
            } else {
                if (toBox.x1 <= fromBox.x1) {
                    toLabelPosition = LEFT;
                    fromLabelPosition = RIGHT;
                } else {
                    toLabelPosition = RIGHT;
                    fromLabelPosition = LEFT;
                }
            }

            if (!labels.from || !labels.from.position) {
                this.fromPoint.options.labels.position = fromLabelPosition;
            }

            if (!labels.to || !labels.to.position) {
                this.toPoint.options.labels.position = toLabelPosition;
            }
        }
    };

    RangeAreaPoint.prototype.copyFields = function copyFields (point) {
        point.dataItem = this.dataItem;
        point.category = this.category;
        point.series = this.series;
        point.color = this.color;
        point.owner = this.owner;
    };

    return RangeAreaPoint;
}(ChartElement));

deepExtend(RangeAreaPoint.prototype, PointEventsMixin);
deepExtend(RangeAreaPoint.prototype, NoteMixin);

RangeAreaPoint.prototype.defaults = {
    markers: {
        visible: false,
        background: WHITE,
        size: LINE_MARKER_SIZE,
        type: CIRCLE,
        border: {
            width: 2
        },
        opacity: 1
    },
    labels: {
        visible: false,
        margin: getSpacing(3),
        padding: getSpacing(4),
        animation: {
            type: FADEIN,
            delay: INITIAL_ANIMATION_DURATION
        },
        position: AUTO$1
    },
    notes: {
        label: {}
    },
    highlight: {
        markers: {
            border: {
                color: WHITE,
                width: 2
            }
        },
        zIndex: HIGHLIGHT_ZINDEX
    },
    tooltip: {
        format: '{0} - {1}'
    }
};

var RangeAreaSegment = (function (AreaSegment$$1) {
    function RangeAreaSegment () {
        AreaSegment$$1.apply(this, arguments);
    }

    if ( AreaSegment$$1 ) RangeAreaSegment.__proto__ = AreaSegment$$1;
    RangeAreaSegment.prototype = Object.create( AreaSegment$$1 && AreaSegment$$1.prototype );
    RangeAreaSegment.prototype.constructor = RangeAreaSegment;

    RangeAreaSegment.prototype.createStrokeSegments = function createStrokeSegments () {
        return this.segmentsFromPoints(this.toGeometryPoints(this.toPoints()));
    };

    RangeAreaSegment.prototype.stackSegments = function stackSegments () {
        var fromSegments = this.fromSegments;
        if (!this.fromSegments) {
            fromSegments = this.fromSegments = this.segmentsFromPoints(this.toGeometryPoints(this.fromPoints().reverse()));
        }

        return fromSegments;
    };

    RangeAreaSegment.prototype.createStroke = function createStroke (style) {
        var toPath = new _progress_kendoDrawing.drawing.Path(style);
        var fromPath = new _progress_kendoDrawing.drawing.Path(style);

        toPath.segments.push.apply(toPath.segments, this.strokeSegments());
        fromPath.segments.push.apply(fromPath.segments, this.stackSegments());

        this.visual.append(toPath);
        this.visual.append(fromPath);
    };

    RangeAreaSegment.prototype.hasStackSegment = function hasStackSegment () {
        return true;
    };

    RangeAreaSegment.prototype.fromPoints = function fromPoints () {
        return this.linePoints.map(function (point) { return point.fromPoint; });
    };

    RangeAreaSegment.prototype.toPoints = function toPoints () {
        return this.linePoints.map(function (point) { return point.toPoint; });
    };

    return RangeAreaSegment;
}(AreaSegment));

var SplineRangeAreaSegment = (function (RangeAreaSegment$$1) {
    function SplineRangeAreaSegment () {
        RangeAreaSegment$$1.apply(this, arguments);
    }

    if ( RangeAreaSegment$$1 ) SplineRangeAreaSegment.__proto__ = RangeAreaSegment$$1;
    SplineRangeAreaSegment.prototype = Object.create( RangeAreaSegment$$1 && RangeAreaSegment$$1.prototype );
    SplineRangeAreaSegment.prototype.constructor = SplineRangeAreaSegment;

    SplineRangeAreaSegment.prototype.createStrokeSegments = function createStrokeSegments () {
        return this.createCurveSegments(this.toPoints());
    };

    SplineRangeAreaSegment.prototype.stackSegments = function stackSegments () {
        var fromSegments = this.fromSegments;
        if (!this.fromSegments) {
            fromSegments = this.fromSegments = this.createCurveSegments(this.fromPoints().reverse());
        }

        return fromSegments;
    };

    SplineRangeAreaSegment.prototype.createCurveSegments = function createCurveSegments (points) {
        var curveProcessor = new CurveProcessor();

        return curveProcessor.process(this.toGeometryPoints(points));
    };

    return SplineRangeAreaSegment;
}(RangeAreaSegment));

var StepRangeAreaSegment = (function (RangeAreaSegment$$1) {
    function StepRangeAreaSegment () {
        RangeAreaSegment$$1.apply(this, arguments);
    }

    if ( RangeAreaSegment$$1 ) StepRangeAreaSegment.__proto__ = RangeAreaSegment$$1;
    StepRangeAreaSegment.prototype = Object.create( RangeAreaSegment$$1 && RangeAreaSegment$$1.prototype );
    StepRangeAreaSegment.prototype.constructor = StepRangeAreaSegment;

    StepRangeAreaSegment.prototype.createStrokeSegments = function createStrokeSegments () {
        return this.segmentsFromPoints(this.calculateStepPoints(this.toPoints()));
    };

    StepRangeAreaSegment.prototype.stackSegments = function stackSegments () {
        var fromSegments = this.fromSegments;
        if (!this.fromSegments) {
            fromSegments = this.fromSegments = this.segmentsFromPoints(this.calculateStepPoints(this.fromPoints()));
            fromSegments.reverse();
        }

        return fromSegments;
    };

    return StepRangeAreaSegment;
}(RangeAreaSegment));

deepExtend(StepRangeAreaSegment.prototype, StepLineMixin);

var RangeAreaChart = (function (CategoricalChart$$1) {
    function RangeAreaChart () {
        CategoricalChart$$1.apply(this, arguments);
    }

    if ( CategoricalChart$$1 ) RangeAreaChart.__proto__ = CategoricalChart$$1;
    RangeAreaChart.prototype = Object.create( CategoricalChart$$1 && CategoricalChart$$1.prototype );
    RangeAreaChart.prototype.constructor = RangeAreaChart;

    RangeAreaChart.prototype.render = function render () {
        CategoricalChart$$1.prototype.render.call(this);

        this.renderSegments();
    };

    RangeAreaChart.prototype.pointType = function pointType () {
        return RangeAreaPoint;
    };

    RangeAreaChart.prototype.createPoint = function createPoint (data, fields) {
        var categoryIx = fields.categoryIx;
        var category = fields.category;
        var series = fields.series;
        var seriesIx = fields.seriesIx;
        var value = data.valueFields;

        if (!hasValue(value.from) && !hasValue(value.to)) {
            if (this.seriesMissingValues(series) === ZERO) {
                value = {
                    from: 0,
                    to: 0
                };
            } else {
                return null;
            }
        }

        var pointOptions = this.pointOptions(series, seriesIx);
        pointOptions = this.evalPointOptions(
            pointOptions, value, category, categoryIx, series, seriesIx
        );

        var color = data.fields.color || series.color;
        if (isFunction(series.color)) {
            color = pointOptions.color;
        }

        var point = new RangeAreaPoint(value, pointOptions);
        point.color = color;

        this.append(point);

        return point;
    };

    RangeAreaChart.prototype.createSegment = function createSegment (linePoints, currentSeries, seriesIx) {
        var style = (currentSeries.line || {}).style;
        var segmentType;
        if (style === "smooth") {
            segmentType = SplineRangeAreaSegment;
        } else if (style === "step") {
            segmentType = StepRangeAreaSegment;
        } else {
            segmentType = RangeAreaSegment;
        }

        return new segmentType(linePoints, currentSeries, seriesIx);
    };

    RangeAreaChart.prototype.plotRange = function plotRange (point, startValue) {
        if (!point) {
            return [ startValue, startValue ];
        }

        return [ point.value.from, point.value.to ];
    };

    RangeAreaChart.prototype.valueSlot = function valueSlot (valueAxis, plotRange) {
        var fromSlot = valueAxis.getSlot(plotRange[0], plotRange[0], !this.options.clip);
        var toSlot = valueAxis.getSlot(plotRange[1], plotRange[1], !this.options.clip);
        if (fromSlot && toSlot) {
            return {
                from: fromSlot,
                to: toSlot
            };
        }
    };

    RangeAreaChart.prototype.pointSlot = function pointSlot (categorySlot, valueSlot) {
        var from = valueSlot.from;
        var to = valueSlot.to;
        var fromSlot, toSlot;

        if (this.options.invertAxes) {
            fromSlot = new Box(from.x1, categorySlot.y1, from.x2, categorySlot.y2);
            toSlot = new Box(to.x1, categorySlot.y1, to.x2, categorySlot.y2);
        } else {
            fromSlot = new Box(categorySlot.x1, from.y1, categorySlot.x2, from.y2);
            toSlot = new Box(categorySlot.x1, to.y1, categorySlot.x2, to.y2);
        }

        return {
            from: fromSlot,
            to: toSlot
        };
    };

    RangeAreaChart.prototype.addValue = function addValue (data, fields) {
        var valueFields = data.valueFields;
        if (!isNumber(valueFields.from)) {
            valueFields.from = valueFields.to;
        }

        if (!isNumber(valueFields.to)) {
            valueFields.to = valueFields.from;
        }

        CategoricalChart$$1.prototype.addValue.call(this, data, fields);
    };

    RangeAreaChart.prototype.updateRange = function updateRange (value, fields) {
        if (value !== null && isNumber(value.from) && isNumber(value.to)) {
            var axisName = fields.series.axis;
            var axisRange = this.valueAxisRanges[axisName] = this.valueAxisRanges[axisName] || { min: MAX_VALUE, max: MIN_VALUE };
            var from = value.from;
            var to = value.to;

            axisRange.min = Math.min(axisRange.min, from, to);
            axisRange.max = Math.max(axisRange.max, from, to);
        }
    };

    RangeAreaChart.prototype.formatPointValue = function formatPointValue (point, format) {
        var value = point.value;

        return this.chartService.format.auto(format, value.from, value.to);
    };

    RangeAreaChart.prototype.animationPoints = function animationPoints () {
        var points = this.points;
        var result = [];
        for (var idx = 0; idx < points.length; idx++) {
            var point = points[idx];
            if (point) {
                result.push((point.fromPoint || {}).marker);
                result.push((point.toPoint || {}).marker);
            }
        }

        return result.concat(this._segments);
    };

    return RangeAreaChart;
}(CategoricalChart));

deepExtend(RangeAreaChart.prototype, LineChartMixin, ClipAnimationMixin);

var OHLCPoint = (function (Candlestick$$1) {
    function OHLCPoint () {
        Candlestick$$1.apply(this, arguments);
    }

    if ( Candlestick$$1 ) OHLCPoint.__proto__ = Candlestick$$1;
    OHLCPoint.prototype = Object.create( Candlestick$$1 && Candlestick$$1.prototype );
    OHLCPoint.prototype.constructor = OHLCPoint;

    OHLCPoint.prototype.reflow = function reflow (box) {
        var ref = this;
        var options = ref.options;
        var value = ref.value;
        var chart = ref.owner;
        var valueAxis = chart.seriesValueAxis(options);
        var oPoints = [];
        var cPoints = [];
        var lhPoints = [];

        var lhSlot = valueAxis.getSlot(value.low, value.high);
        var oSlot = valueAxis.getSlot(value.open, value.open);
        var cSlot = valueAxis.getSlot(value.close, value.close);

        oSlot.x1 = cSlot.x1 = lhSlot.x1 = box.x1;
        oSlot.x2 = cSlot.x2 = lhSlot.x2 = box.x2;

        var mid = lhSlot.center().x;

        oPoints.push([ oSlot.x1, oSlot.y1 ]);
        oPoints.push([ mid, oSlot.y1 ]);
        cPoints.push([ mid, cSlot.y1 ]);
        cPoints.push([ cSlot.x2, cSlot.y1 ]);
        lhPoints.push([ mid, lhSlot.y1 ]);
        lhPoints.push([ mid, lhSlot.y2 ]);

        this.lines = [
            oPoints, cPoints, lhPoints
        ];

        this.box = lhSlot.clone().wrap(oSlot.clone().wrap(cSlot));

        this.reflowNote();
    };

    OHLCPoint.prototype.createBody = function createBody () {};

    return OHLCPoint;
}(Candlestick));

var OHLCChart = (function (CandlestickChart$$1) {
    function OHLCChart () {
        CandlestickChart$$1.apply(this, arguments);
    }

    if ( CandlestickChart$$1 ) OHLCChart.__proto__ = CandlestickChart$$1;
    OHLCChart.prototype = Object.create( CandlestickChart$$1 && CandlestickChart$$1.prototype );
    OHLCChart.prototype.constructor = OHLCChart;

    OHLCChart.prototype.pointType = function pointType () {
        return OHLCPoint;
    };

    return OHLCChart;
}(CandlestickChart));

var WaterfallSegment = (function (ChartElement$$1) {
    function WaterfallSegment(from, to, series) {
        ChartElement$$1.call(this);

        this.from = from;
        this.to = to;
        this.series = series;
    }

    if ( ChartElement$$1 ) WaterfallSegment.__proto__ = ChartElement$$1;
    WaterfallSegment.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    WaterfallSegment.prototype.constructor = WaterfallSegment;

    WaterfallSegment.prototype.linePoints = function linePoints () {
        var from = this.from;
        var ref = this;
        var fromBox = ref.from.box;
        var toBox = ref.to.box;
        var points = [];

        if (from.isVertical) {
            var y = from.aboveAxis ? fromBox.y1 : fromBox.y2;
            points.push(
                [ fromBox.x1, y ],
                [ toBox.x2, y ]
            );
        } else {
            var x = from.aboveAxis ? fromBox.x2 : fromBox.x1;
            points.push(
                [ x, fromBox.y1 ],
                [ x, toBox.y2 ]
            );
        }

        return points;
    };

    WaterfallSegment.prototype.createVisual = function createVisual () {
        ChartElement$$1.prototype.createVisual.call(this);

        var line = this.series.line || {};

        var path = _progress_kendoDrawing.drawing.Path.fromPoints(this.linePoints(), {
            stroke: {
                color: line.color,
                width: line.width,
                opacity: line.opacity,
                dashType: line.dashType
            }
        });

        alignPathToPixel(path);
        this.visual.append(path);
    };

    return WaterfallSegment;
}(ChartElement));

setDefaultOptions(WaterfallSegment, {
    animation: {
        type: FADEIN,
        delay: INITIAL_ANIMATION_DURATION
    }
});

var WaterfallChart = (function (BarChart$$1) {
    function WaterfallChart () {
        BarChart$$1.apply(this, arguments);
    }

    if ( BarChart$$1 ) WaterfallChart.__proto__ = BarChart$$1;
    WaterfallChart.prototype = Object.create( BarChart$$1 && BarChart$$1.prototype );
    WaterfallChart.prototype.constructor = WaterfallChart;

    WaterfallChart.prototype.render = function render () {
        BarChart$$1.prototype.render.call(this);
        this.createSegments();
    };

    WaterfallChart.prototype.traverseDataPoints = function traverseDataPoints (callback) {
        var this$1 = this;

        var series = this.options.series;
        var totalCategories = categoriesCount$1(series);
        var isVertical = !this.options.invertAxes;

        for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {
            var currentSeries = series[seriesIx];
            var total = 0;
            var runningTotal = 0;

            for (var categoryIx = 0; categoryIx < totalCategories; categoryIx++) {
                var data = SeriesBinder.current.bindPoint(currentSeries, categoryIx);
                var value = data.valueFields.value;
                var summary = data.fields.summary;
                var from = total;
                var to = (void 0);

                if (summary) {
                    if (summary.toLowerCase() === "total") {
                        data.valueFields.value = total;
                        from = 0;
                        to = total;
                    } else {
                        data.valueFields.value = runningTotal;
                        to = from - runningTotal;
                        runningTotal = 0;
                    }
                } else if (isNumber(value)) {
                    runningTotal += value;
                    total += value;
                    to = total;
                }

                callback(data, {
                    category: this$1.categoryAxis.categoryAt(categoryIx),
                    categoryIx: categoryIx,
                    series: currentSeries,
                    seriesIx: seriesIx,
                    total: total,
                    runningTotal: runningTotal,
                    from: from,
                    to: to,
                    isVertical: isVertical
                });
            }
        }
    };

    WaterfallChart.prototype.updateRange = function updateRange (value, fields) {
        BarChart$$1.prototype.updateRange.call(this, { value: fields.to }, fields);
    };

    WaterfallChart.prototype.aboveAxis = function aboveAxis (point) {
        return point.value >= 0;
    };

    WaterfallChart.prototype.plotRange = function plotRange (point) {
        return [ point.from, point.to ];
    };

    WaterfallChart.prototype.createSegments = function createSegments () {
        var this$1 = this;

        var series = this.options.series;
        var seriesPoints = this.seriesPoints;
        var segments = this.segments = [];

        for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {
            var currentSeries = series[seriesIx];
            var points = seriesPoints[seriesIx];

            if (points) {
                var prevPoint = (void 0);
                for (var pointIx = 0; pointIx < points.length; pointIx++) {
                    var point = points[pointIx];

                    if (point && prevPoint) {
                        var segment = new WaterfallSegment(prevPoint, point, currentSeries);
                        segments.push(segment);
                        this$1.append(segment);
                    }

                    prevPoint = point;
                }
            }
        }
    };

    return WaterfallChart;
}(BarChart));

var AREA_SERIES = [ AREA, VERTICAL_AREA, RANGE_AREA, VERTICAL_RANGE_AREA ];
var OUT_OF_RANGE_SERIES = [ LINE, VERTICAL_LINE ].concat(AREA_SERIES);

var CategoricalPlotArea = (function (PlotAreaBase$$1) {
    function CategoricalPlotArea () {
        PlotAreaBase$$1.apply(this, arguments);
    }

    if ( PlotAreaBase$$1 ) CategoricalPlotArea.__proto__ = PlotAreaBase$$1;
    CategoricalPlotArea.prototype = Object.create( PlotAreaBase$$1 && PlotAreaBase$$1.prototype );
    CategoricalPlotArea.prototype.constructor = CategoricalPlotArea;

    CategoricalPlotArea.prototype.initFields = function initFields (series) {
        var this$1 = this;

        this.namedCategoryAxes = {};
        this.namedValueAxes = {};
        this.valueAxisRangeTracker = new AxisGroupRangeTracker();

        if (series.length > 0) {
            this.invertAxes = inArray(
                series[0].type, [ BAR, BULLET, VERTICAL_LINE, VERTICAL_AREA, VERTICAL_RANGE_AREA,
                                 RANGE_BAR, HORIZONTAL_WATERFALL, VERTICAL_BOX_PLOT ]
            );

            for (var i = 0; i < series.length; i++) {
                var stack = series[i].stack;
                if (stack && stack.type === "100%") {
                    this$1.stack100 = true;
                    break;
                }
            }
        }

    };

    CategoricalPlotArea.prototype.render = function render (panes) {
        if ( panes === void 0 ) panes = this.panes;

        this.createCategoryAxes(panes);
        this.aggregateCategories(panes);
        this.createCategoryAxesLabels(panes);
        this.createCharts(panes);
        this.createValueAxes(panes);
    };

    CategoricalPlotArea.prototype.removeAxis = function removeAxis (axis) {
        var axisName = axis.options.name;

        PlotAreaBase$$1.prototype.removeAxis.call(this, axis);

        if (axis instanceof CategoryAxis) {
            delete this.namedCategoryAxes[axisName];
        } else {
            this.valueAxisRangeTracker.reset(axisName);
            delete this.namedValueAxes[axisName];
        }

        if (axis === this.categoryAxis) {
            delete this.categoryAxis;
        }

        if (axis === this.valueAxis) {
            delete this.valueAxis;
        }
    };

    CategoricalPlotArea.prototype.createCharts = function createCharts (panes) {
        var this$1 = this;

        var seriesByPane = this.groupSeriesByPane();

        for (var i = 0; i < panes.length; i++) {
            var pane = panes[i];
            var paneSeries = seriesByPane[pane.options.name || "default"] || [];
            this$1.addToLegend(paneSeries);

            var visibleSeries = this$1.filterVisibleSeries(paneSeries);
            if (!visibleSeries) {
                continue;
            }

            var groups = this$1.groupSeriesByCategoryAxis(visibleSeries);
            for (var groupIx = 0; groupIx < groups.length; groupIx++) {
                this$1.createChartGroup(groups[groupIx], pane);
            }
        }
    };

    CategoricalPlotArea.prototype.createChartGroup = function createChartGroup (series, pane) {
        this.createAreaChart(
            filterSeriesByType(series, [ AREA, VERTICAL_AREA ]), pane
        );

        this.createRangeAreaChart(
            filterSeriesByType(series, [ RANGE_AREA, VERTICAL_RANGE_AREA ]), pane
        );

        this.createBarChart(
            filterSeriesByType(series, [ COLUMN, BAR ]), pane
        );

        this.createRangeBarChart(
            filterSeriesByType(series, [ RANGE_COLUMN, RANGE_BAR ]), pane
        );

        this.createBulletChart(
            filterSeriesByType(series, [ BULLET, VERTICAL_BULLET ]), pane
        );

        this.createCandlestickChart(
            filterSeriesByType(series, CANDLESTICK), pane
        );

        this.createBoxPlotChart(
            filterSeriesByType(series, [ BOX_PLOT, VERTICAL_BOX_PLOT ]), pane
        );

        this.createOHLCChart(
            filterSeriesByType(series, OHLC), pane
        );

        this.createWaterfallChart(
            filterSeriesByType(series, [ WATERFALL, HORIZONTAL_WATERFALL ]), pane
        );

        this.createLineChart(
            filterSeriesByType(series, [ LINE, VERTICAL_LINE ]), pane
        );
    };

    CategoricalPlotArea.prototype.aggregateCategories = function aggregateCategories (panes) {
        var this$1 = this;

        var series = this.srcSeries || this.series;
        var processedSeries = [];
        this._currentPointsCache = {};
        this._seriesPointsCache = this._seriesPointsCache || {};

        for (var i = 0; i < series.length; i++) {
            var currentSeries = series[i];
            var categoryAxis = this$1.seriesCategoryAxis(currentSeries);
            var axisPane = this$1.findPane(categoryAxis.options.pane);
            var dateAxis = equalsIgnoreCase(categoryAxis.options.type, DATE);

            if ((dateAxis || currentSeries.categoryField) && inArray(axisPane, panes)) {
                currentSeries = this$1.aggregateSeries(currentSeries, categoryAxis);
            } else {
                currentSeries = this$1.filterSeries(currentSeries, categoryAxis);
            }

            processedSeries.push(currentSeries);
        }

        this._seriesPointsCache = this._currentPointsCache;
        this._currentPointsCache = null;

        this.srcSeries = series;
        this.series = processedSeries;
    };

    CategoricalPlotArea.prototype.filterSeries = function filterSeries (series, categoryAxis) {
        var dataLength = (series.data || {}).length;
        categoryAxis._seriesMax = Math.max(categoryAxis._seriesMax || 0, dataLength);

        if (!(isNumber(categoryAxis.options.min) || isNumber(categoryAxis.options.max))) {
            return series;
        }

        var range = categoryAxis.currentRangeIndices();
        var outOfRangePoints = inArray(series.type, OUT_OF_RANGE_SERIES);
        var currentSeries = deepExtend({}, series);

        currentSeries.data = (currentSeries.data || []).slice(range.min, range.max + 1);

        if (outOfRangePoints) {
            createOutOfRangePoints(currentSeries, range, dataLength, function (idx) { return ({
                item: series.data[idx],
                category: categoryAxis.categoryAt(idx, true),
                categoryIx: idx - range.min
            }); }, function (idx) { return defined(series.data[idx]); });
        }

        return currentSeries;
    };

    CategoricalPlotArea.prototype.clearSeriesPointsCache = function clearSeriesPointsCache () {
        this._seriesPointsCache = {};
    };

    CategoricalPlotArea.prototype.seriesSourcePoints = function seriesSourcePoints (series, categoryAxis) {
        var this$1 = this;

        var key = (series.index) + ";" + (categoryAxis.categoriesHash());
        if (this._seriesPointsCache[key]) {
            this._currentPointsCache[key] = this._seriesPointsCache[key];
            return this._seriesPointsCache[key];
        }

        var axisOptions = categoryAxis.options;
        var srcCategories = axisOptions.srcCategories;
        var dateAxis = equalsIgnoreCase(axisOptions.type, DATE);
        var srcData = series.data;
        var getFn = dateAxis ? getDateField : getField;
        var result = [];
        if (!dateAxis) {
            categoryAxis.mapCategories();//fixes major performance issue caused by searching for the index for large data
        }

        for (var idx = 0; idx < srcData.length; idx++) {
            var category = (void 0);
            if (series.categoryField) {
                category = getFn(series.categoryField, srcData[idx], this$1.chartService.intl);
            } else {
                category = srcCategories[idx];
            }

            if (defined(category) && category !== null) {
                var categoryIx = categoryAxis.totalIndex(category);
                result[categoryIx] = result[categoryIx] || { items: [], category: category };
                result[categoryIx].items.push(idx);
            }
        }

        this._currentPointsCache[key] = result;

        return result;
    };

    CategoricalPlotArea.prototype.aggregateSeries = function aggregateSeries (series, categoryAxis) {
        var srcData = series.data;
        if (!srcData.length) {
            return series;
        }

        var srcPoints = this.seriesSourcePoints(series, categoryAxis);
        var result = deepExtend({}, series);
        var aggregator = new SeriesAggregator(deepExtend({}, series), SeriesBinder.current, DefaultAggregates.current);
        var data = result.data = [];
        var dataItems = categoryAxis.options.dataItems || [];

        var range = categoryAxis.currentRangeIndices();
        var categoryItem = function (idx) {
            var categoryIdx = idx - range.min;
            var point = srcPoints[idx];
            if (!point) {
                point = srcPoints[idx] = {};
            }

            point.categoryIx = categoryIdx;

            if (!point.item) {
                var category = categoryAxis.categoryAt(idx, true);
                point.category = category;
                point.item = aggregator.aggregatePoints(point.items, category);
            }

            return point;
        };

        for (var idx = range.min; idx <= range.max; idx++) {
            var point = categoryItem(idx);
            data[point.categoryIx] = point.item;

            if (point.items && point.items.length) {
                dataItems[point.categoryIx] = point.item;
            }
        }

        if (inArray(result.type, OUT_OF_RANGE_SERIES)) {
            createOutOfRangePoints(result, range, categoryAxis.totalCount(), categoryItem, function (idx) { return srcPoints[idx]; });
        }

        categoryAxis.options.dataItems = dataItems;

        return result;
    };

    CategoricalPlotArea.prototype.appendChart = function appendChart (chart, pane) {
        var series = chart.options.series;
        var categoryAxis = this.seriesCategoryAxis(series[0]);
        var categories = categoryAxis.options.categories;
        var categoriesToAdd = Math.max(0, categoriesCount$1(series) - categories.length);

        if (categoriesToAdd > 0) {//consider setting an option to axis instead of adding fake categories
            categories = categoryAxis.options.categories = categoryAxis.options.categories.slice(0);
            while (categoriesToAdd--) {
                categories.push("");
            }
        }

        this.valueAxisRangeTracker.update(chart.valueAxisRanges);

        PlotAreaBase$$1.prototype.appendChart.call(this, chart, pane);
    };

    // TODO: Refactor, optionally use series.pane option
    CategoricalPlotArea.prototype.seriesPaneName = function seriesPaneName (series) {
        var options = this.options;
        var axisName = series.axis;
        var axisOptions = [].concat(options.valueAxis);
        var axis = grep(axisOptions, function(a) { return a.name === axisName; })[0];
        var panes = options.panes || [ {} ];
        var defaultPaneName = (panes[0] || {}).name || "default";
        var paneName = (axis || {}).pane || defaultPaneName;

        return paneName;
    };

    CategoricalPlotArea.prototype.seriesCategoryAxis = function seriesCategoryAxis (series) {
        var axisName = series.categoryAxis;
        var axis = axisName ? this.namedCategoryAxes[axisName] : this.categoryAxis;

        if (!axis) {
            throw new Error("Unable to locate category axis with name " + axisName);
        }

        return axis;
    };

    CategoricalPlotArea.prototype.stackableChartOptions = function stackableChartOptions (firstSeries, pane) {
        var stack = firstSeries.stack;
        var isStacked100 = stack && stack.type === "100%";
        var clip = pane.options.clip;

        return {
            isStacked: stack,
            isStacked100: isStacked100,
            clip: clip
        };
    };

    CategoricalPlotArea.prototype.groupSeriesByCategoryAxis = function groupSeriesByCategoryAxis (series) {
        var categoryAxes = [];
        var unique = {};
        for (var idx = 0; idx < series.length; idx++) {
            var name = series[idx].categoryAxis || "$$default$$";
            if (!unique.hasOwnProperty(name)) {
                unique[name] = true;
                categoryAxes.push(name);
            }
        }

        var groups = [];
        for (var axisIx = 0; axisIx < categoryAxes.length; axisIx++) {
            var axis = categoryAxes[axisIx];
            var axisSeries = groupSeries(series, axis, axisIx);
            if (axisSeries.length === 0) {
                continue;
            }

            groups.push(axisSeries);
        }

        return groups;
    };

    CategoricalPlotArea.prototype.createBarChart = function createBarChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var firstSeries = series[0];
        var barChart = new BarChart(this, Object.assign({
            series: series,
            invertAxes: this.invertAxes,
            gap: firstSeries.gap,
            spacing: firstSeries.spacing
        }, this.stackableChartOptions(firstSeries, pane)));

        this.appendChart(barChart, pane);
    };

    CategoricalPlotArea.prototype.createRangeBarChart = function createRangeBarChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var firstSeries = series[0];
        var rangeColumnChart = new RangeBarChart(this, {
            series: series,
            invertAxes: this.invertAxes,
            gap: firstSeries.gap,
            spacing: firstSeries.spacing
        });

        this.appendChart(rangeColumnChart, pane);
    };

    CategoricalPlotArea.prototype.createBulletChart = function createBulletChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var firstSeries = series[0];
        var bulletChart = new BulletChart(this, {
            series: series,
            invertAxes: this.invertAxes,
            gap: firstSeries.gap,
            spacing: firstSeries.spacing,
            clip: pane.options.clip
        });

        this.appendChart(bulletChart, pane);
    };

    CategoricalPlotArea.prototype.createLineChart = function createLineChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var firstSeries = series[0];
        var lineChart = new LineChart(this, Object.assign({
            invertAxes: this.invertAxes,
            series: series
        }, this.stackableChartOptions(firstSeries, pane)));

        this.appendChart(lineChart, pane);
    };

    CategoricalPlotArea.prototype.createAreaChart = function createAreaChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var firstSeries = series[0];
        var areaChart = new AreaChart(this, Object.assign({
            invertAxes: this.invertAxes,
            series: series
        }, this.stackableChartOptions(firstSeries, pane)));

        this.appendChart(areaChart, pane);
    };

    CategoricalPlotArea.prototype.createRangeAreaChart = function createRangeAreaChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var rangeAreaChart = new RangeAreaChart(this, {
            invertAxes: this.invertAxes,
            series: series,
            clip: pane.options.clip
        });

        this.appendChart(rangeAreaChart, pane);
    };

    CategoricalPlotArea.prototype.createOHLCChart = function createOHLCChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var firstSeries = series[0];
        var chart = new OHLCChart(this, {
            invertAxes: this.invertAxes,
            gap: firstSeries.gap,
            series: series,
            spacing: firstSeries.spacing,
            clip: pane.options.clip
        });

        this.appendChart(chart, pane);
    };

    CategoricalPlotArea.prototype.createCandlestickChart = function createCandlestickChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var firstSeries = series[0];
        var chart = new CandlestickChart(this, {
            invertAxes: this.invertAxes,
            gap: firstSeries.gap,
            series: series,
            spacing: firstSeries.spacing,
            clip: pane.options.clip
        });

        this.appendChart(chart, pane);
    };

    CategoricalPlotArea.prototype.createBoxPlotChart = function createBoxPlotChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var firstSeries = series[0];
        var chart = new BoxPlotChart(this, {
            invertAxes: this.invertAxes,
            gap: firstSeries.gap,
            series: series,
            spacing: firstSeries.spacing,
            clip: pane.options.clip
        });

        this.appendChart(chart, pane);
    };

    CategoricalPlotArea.prototype.createWaterfallChart = function createWaterfallChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var firstSeries = series[0];
        var waterfallChart = new WaterfallChart(this, {
            series: series,
            invertAxes: this.invertAxes,
            gap: firstSeries.gap,
            spacing: firstSeries.spacing
        });

        this.appendChart(waterfallChart, pane);
    };

    CategoricalPlotArea.prototype.axisRequiresRounding = function axisRequiresRounding (categoryAxisName, categoryAxisIndex) {
        var this$1 = this;

        var centeredSeries = filterSeriesByType(this.series, EQUALLY_SPACED_SERIES);

        for (var seriesIx = 0; seriesIx < this.series.length; seriesIx++) {
            var currentSeries = this$1.series[seriesIx];
            if (inArray(currentSeries.type, AREA_SERIES)) {
                var line = currentSeries.line;
                if (line && line.style === STEP) {
                    centeredSeries.push(currentSeries);
                }
            }
        }

        for (var seriesIx$1 = 0; seriesIx$1 < centeredSeries.length; seriesIx$1++) {
            var seriesAxis = centeredSeries[seriesIx$1].categoryAxis || "";
            if (seriesAxis === categoryAxisName || (!seriesAxis && categoryAxisIndex === 0)) {
                return true;
            }
        }
    };

    CategoricalPlotArea.prototype.aggregatedAxis = function aggregatedAxis (categoryAxisName, categoryAxisIndex) {
        var series = this.series;

        for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {
            var seriesAxis = series[seriesIx].categoryAxis || "";
            if ((seriesAxis === categoryAxisName || (!seriesAxis && categoryAxisIndex === 0)) && series[seriesIx].categoryField) {
                return true;
            }
        }
    };

    CategoricalPlotArea.prototype.createCategoryAxesLabels = function createCategoryAxesLabels () {
        var axes = this.axes;
        for (var i = 0; i < axes.length; i++) {
            if (axes[i] instanceof CategoryAxis) {
                axes[i].createLabels();
            }
        }
    };

    CategoricalPlotArea.prototype.createCategoryAxes = function createCategoryAxes (panes) {
        var this$1 = this;

        var invertAxes = this.invertAxes;
        var definitions = [].concat(this.options.categoryAxis);
        var axes = [];

        for (var i = 0; i < definitions.length; i++) {
            var axisOptions = definitions[i];
            var axisPane = this$1.findPane(axisOptions.pane);

            if (inArray(axisPane, panes)) {
                var name = axisOptions.name;
                var categories = axisOptions.categories; if ( categories === void 0 ) categories = [];
                axisOptions = deepExtend({
                    vertical: invertAxes,
                    reverse: !invertAxes && this$1.chartService.rtl,
                    axisCrossingValue: invertAxes ? MAX_VALUE : 0
                }, axisOptions);

                if (!defined(axisOptions.justified)) {
                    axisOptions.justified = this$1.isJustified();
                }

                if (this$1.axisRequiresRounding(name, i)) {
                    axisOptions.justified = false;
                }

                var categoryAxis = (void 0);

                if (isDateAxis(axisOptions, categories[0])) {
                    categoryAxis = new DateCategoryAxis(axisOptions, this$1.chartService);
                } else {
                    categoryAxis = new CategoryAxis(axisOptions, this$1.chartService);
                }

                definitions[i].categories = categoryAxis.options.srcCategories;

                if (name) {
                    if (this$1.namedCategoryAxes[name]) {
                        throw new Error(("Category axis with name " + name + " is already defined"));
                    }
                    this$1.namedCategoryAxes[name] = categoryAxis;
                }

                categoryAxis.axisIndex = i;
                axes.push(categoryAxis);
                this$1.appendAxis(categoryAxis);
            }
        }

        var primaryAxis = this.categoryAxis || axes[0];
        this.categoryAxis = primaryAxis;

        if (invertAxes) {
            this.axisY = primaryAxis;
        } else {
            this.axisX = primaryAxis;
        }
    };

    CategoricalPlotArea.prototype.isJustified = function isJustified () {
        var series = this.series;

        for (var i = 0; i < series.length; i++) {
            var currentSeries = series[i];
            if (!inArray(currentSeries.type, AREA_SERIES)) {
                return false;
            }
        }

        return true;
    };

    CategoricalPlotArea.prototype.createValueAxes = function createValueAxes (panes) {
        var this$1 = this;

        var tracker = this.valueAxisRangeTracker;
        var defaultRange = tracker.query();
        var definitions = [].concat(this.options.valueAxis);
        var invertAxes = this.invertAxes;
        var baseOptions = { vertical: !invertAxes, reverse: invertAxes && this.chartService.rtl };
        var axes = [];

        if (this.stack100) {
            baseOptions.roundToMajorUnit = false;
            baseOptions.labels = { format: "P0" };
        }

        for (var i = 0; i < definitions.length; i++) {
            var axisOptions = definitions[i];
            var axisPane = this$1.findPane(axisOptions.pane);

            if (inArray(axisPane, panes)) {
                var name = axisOptions.name;
                var defaultAxisRange = equalsIgnoreCase(axisOptions.type, LOGARITHMIC) ? { min: 0.1, max: 1 } : { min: 0, max: 1 };
                var range = tracker.query(name) || defaultRange || defaultAxisRange;

                if (i === 0 && range && defaultRange) {
                    range.min = Math.min(range.min, defaultRange.min);
                    range.max = Math.max(range.max, defaultRange.max);
                }

                var axisType = (void 0);
                if (equalsIgnoreCase(axisOptions.type, LOGARITHMIC)) {
                    axisType = LogarithmicAxis;
                } else {
                    axisType = NumericAxis;
                }

                var valueAxis = new axisType(range.min, range.max,
                    deepExtend({}, baseOptions, axisOptions),
                    this$1.chartService
                );

                if (name) {
                    if (this$1.namedValueAxes[name]) {
                        throw new Error(("Value axis with name " + name + " is already defined"));
                    }
                    this$1.namedValueAxes[name] = valueAxis;
                }
                valueAxis.axisIndex = i;

                axes.push(valueAxis);
                this$1.appendAxis(valueAxis);
            }
        }

        var primaryAxis = this.valueAxis || axes[0];
        this.valueAxis = primaryAxis;

        if (invertAxes) {
            this.axisX = primaryAxis;
        } else {
            this.axisY = primaryAxis;
        }
    };

    CategoricalPlotArea.prototype._dispatchEvent = function _dispatchEvent (chart, e, eventType) {
        var coords = chart._eventCoordinates(e);
        var point = new Point(coords.x, coords.y);
        var pane = this.pointPane(point);
        var categories = [];
        var values = [];

        if (!pane) {
            return;
        }

        var allAxes = pane.axes;
        for (var i = 0; i < allAxes.length; i++) {
            var axis = allAxes[i];
            if (axis.getValue) {
                appendIfNotNull(values, axis.getValue(point));
            } else {
                appendIfNotNull(categories, axis.getCategory(point));
            }
        }

        if (categories.length === 0) {
            appendIfNotNull(categories, this.categoryAxis.getCategory(point));
        }

        if (categories.length > 0 && values.length > 0) {
            chart.trigger(eventType, {
                element: eventElement(e),
                originalEvent: e,
                category: singleItemOrArray(categories),
                value: singleItemOrArray(values)
            });
        }
    };

    CategoricalPlotArea.prototype.pointPane = function pointPane (point) {
        var panes = this.panes;

        for (var i = 0; i < panes.length; i++) {
            var currentPane = panes[i];
            if (currentPane.contentBox.containsPoint(point)) {
                return currentPane;
            }
        }
    };

    CategoricalPlotArea.prototype.updateAxisOptions = function updateAxisOptions$1 (axis, options) {
        updateAxisOptions(this.options, axis, options);
        updateAxisOptions(this.originalOptions, axis, options);
    };

    return CategoricalPlotArea;
}(PlotAreaBase));

function updateAxisOptions(targetOptions, axis, options) {
    var axesOptions = axis instanceof CategoryAxis ? [].concat(targetOptions.categoryAxis) : [].concat(targetOptions.valueAxis);
    deepExtend(axesOptions[axis.axisIndex], options);
}

function groupSeries(series, axis, axisIx) {
    return grep(series, function(s) {
        return (axisIx === 0 && !s.categoryAxis) || (s.categoryAxis === axis);
    });
}

setDefaultOptions(CategoricalPlotArea, {
    categoryAxis: {},
    valueAxis: {}
});

deepExtend(CategoricalPlotArea.prototype, PlotAreaEventsMixin);

var Highlight = (function (Class$$1) {
    function Highlight() {
        Class$$1.call(this);

        this._points = [];
    }

    if ( Class$$1 ) Highlight.__proto__ = Class$$1;
    Highlight.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Highlight.prototype.constructor = Highlight;

    Highlight.prototype.destroy = function destroy () {
        this._points = [];
    };

    Highlight.prototype.show = function show (points) {
        var this$1 = this;

        var arrayPoints = [].concat(points);
        this.hide();

        for (var i = 0; i < arrayPoints.length; i++) {
            var point = arrayPoints[i];
            if (point && point.toggleHighlight && point.hasHighlight()) {
                this$1.togglePointHighlight(point, true);
                this$1._points.push(point);
            }
        }
    };

    Highlight.prototype.togglePointHighlight = function togglePointHighlight (point, show) {
        var toggleHandler = (point.options.highlight || {}).toggle;
        if (toggleHandler) {
            var eventArgs = {
                category: point.category,
                series: point.series,
                dataItem: point.dataItem,
                value: point.value,
                stackValue: point.stackValue,
                preventDefault: preventDefault,
                visual: point.highlightVisual(),
                show: show
            };
            toggleHandler(eventArgs);
            if (!eventArgs._defaultPrevented) {
                point.toggleHighlight(show);
            }
        } else {
            point.toggleHighlight(show);
        }
    };

    Highlight.prototype.hide = function hide () {
        var this$1 = this;

        var points = this._points;
        while (points.length) {
            this$1.togglePointHighlight(points.pop(), false);
        }
    };

    Highlight.prototype.isHighlighted = function isHighlighted (element) {
        var points = this._points;

        for (var i = 0; i < points.length; i++) {
            var point = points[i];
            if (element === point) {
                return true;
            }
        }

        return false;
    };

    return Highlight;
}(_progress_kendoDrawing.Class));

function preventDefault() {
    this._defaultPrevented = true;
}

function acceptKey(e, mouseKey) {
    var key = (mouseKey || "").toLowerCase();
    var event = e.event;
    var accept = (key === "none" && !(event.ctrlKey || event.shiftKey || event.altKey)) || event[key + "Key"];

    return accept;
}

function toChartAxisRanges(axisRanges) {
    var ranges = {};
    for (var idx = 0; idx < axisRanges.length; idx++) {
        var axisRange = axisRanges[idx];
        if (axisRange.axis.options.name) {
            ranges[axisRange.axis.options.name] = {
                min: axisRange.range.min,
                max: axisRange.range.max
            };
        }
    }
    return ranges;
}

var Pannable = (function (Class$$1) {
    function Pannable(plotArea, options) {
        Class$$1.call(this);

        this.plotArea = plotArea;
        this.options = deepExtend({}, this.options, options);
    }

    if ( Class$$1 ) Pannable.__proto__ = Class$$1;
    Pannable.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Pannable.prototype.constructor = Pannable;

    Pannable.prototype.start = function start (e) {
        this._active = acceptKey(e, this.options.key);
        return this._active;
    };

    Pannable.prototype.move = function move (e) {
        if (this._active) {
            var axisRanges = this.axisRanges = this._panAxes(e, X).concat(this._panAxes(e, Y));
            if (axisRanges.length) {
                this.axisRanges = axisRanges;
                return toChartAxisRanges(axisRanges);
            }
        }
    };

    Pannable.prototype.end = function end () {
        var active = this._active;
        this._active = false;

        return active;
    };

    Pannable.prototype.pan = function pan () {
        var ref = this;
        var plotArea = ref.plotArea;
        var axisRanges = ref.axisRanges;
        if (axisRanges.length) {
            for (var idx = 0; idx < axisRanges.length; idx++) {
                var range = axisRanges[idx];
                plotArea.updateAxisOptions(range.axis, range.range);
            }
            plotArea.redraw(plotArea.panes);
        }
    };

    Pannable.prototype.destroy = function destroy () {
        delete this.plotArea;
    };

    Pannable.prototype._panAxes = function _panAxes (e, position) {
        var plotArea = this.plotArea;
        var delta = -e[position].delta;
        var lock = (this.options.lock || "").toLowerCase();
        var updatedAxes = [];

        if (delta !== 0 && (lock || "").toLowerCase() !== position) {
            var axes = plotArea.axes;
            for (var idx = 0; idx < axes.length; idx++) {
                var axis = axes[idx];

                if (position === X && !axis.options.vertical || position === Y && axis.options.vertical) {
                    var range = axis.pan(delta);

                    if (range) {
                        range.limitRange = true;
                        updatedAxes.push({
                            axis: axis,
                            range: range
                        });
                    }
                }
            }
        }

        return updatedAxes;
    };

    return Pannable;
}(_progress_kendoDrawing.Class));

Pannable.prototype.options = {
    key: "none",
    lock: "none"
};

var ZoomSelection = (function (Class$$1) {
    function ZoomSelection(chart, options) {
        Class$$1.call(this);

        this.chart = chart;
        this.options = deepExtend({}, this.options, options);
        this.createElement();
    }

    if ( Class$$1 ) ZoomSelection.__proto__ = Class$$1;
    ZoomSelection.prototype = Object.create( Class$$1 && Class$$1.prototype );
    ZoomSelection.prototype.constructor = ZoomSelection;

    ZoomSelection.prototype.createElement = function createElement () {
        var marquee = this._marquee = document.createElement("div");
        marquee.className = "k-marquee";
        var marqueeColor = document.createElement("div");
        marqueeColor.className = "k-marquee-color";
        marquee.appendChild(marqueeColor);
    };

    ZoomSelection.prototype.removeElement = function removeElement () {
        if (this._marquee.parentNode) {
            this._marquee.parentNode.removeChild(this._marquee);
        }
    };

    ZoomSelection.prototype.setStyles = function setStyles (styles) {
        elementStyles(this._marquee, styles);
    };

    ZoomSelection.prototype.start = function start (e) {
        if (acceptKey(e, this.options.key)) {
            var chart = this.chart;
            var point = chart._eventCoordinates(e);
            var zoomPane = this._zoomPane = chart._plotArea.paneByPoint(point);
            var clipBox = zoomPane ? zoomPane.chartsBox().clone() : null;

            if (zoomPane && clipBox) {
                var offset = this._elementOffset();

                clipBox.translate(offset.left, offset.top);
                this._zoomPaneClipBox = clipBox;

                document.body.appendChild(this._marquee);
                this.setStyles({
                    left: e.pageX + 1,
                    top: e.pageY + 1,
                    width: 0,
                    height: 0
                });

                return true;
            }
        }
        return false;
    };

    ZoomSelection.prototype._elementOffset = function _elementOffset () {
        var chartElement = this.chart.element;
        var ref = elementStyles(chartElement, [ "paddingLeft", "paddingTop" ]);
        var paddingLeft = ref.paddingLeft;
        var paddingTop = ref.paddingTop;
        var offset = elementOffset(chartElement);

        return {
            left: paddingLeft + offset.left,
            top: paddingTop + offset.top
        };
    };

    ZoomSelection.prototype.move = function move (e) {
        var zoomPane = this._zoomPane;
        if (zoomPane) {
            this.setStyles(this._selectionPosition(e));
        }
    };

    ZoomSelection.prototype.end = function end (e) {
        var zoomPane = this._zoomPane;
        if (zoomPane) {
            var elementOffset$$1 = this._elementOffset();
            var selectionPosition = this._selectionPosition(e);
            selectionPosition.left -= elementOffset$$1.left;
            selectionPosition.top -= elementOffset$$1.top;

            var start = { x: selectionPosition.left, y: selectionPosition.top };
            var end = { x: selectionPosition.left + selectionPosition.width, y: selectionPosition.top + selectionPosition.height };
            this._updateAxisRanges(start, end);

            this.removeElement();
            delete this._zoomPane;

            return toChartAxisRanges(this.axisRanges);
        }
    };

    ZoomSelection.prototype.zoom = function zoom () {
        var axisRanges = this.axisRanges;
        if (axisRanges && axisRanges.length) {
            var plotArea = this.chart._plotArea;
            for (var idx = 0; idx < axisRanges.length; idx++) {
                var axisRange = axisRanges[idx];
                plotArea.updateAxisOptions(axisRange.axis, axisRange.range);
            }
            plotArea.redraw(plotArea.panes);
        }
    };

    ZoomSelection.prototype.destroy = function destroy () {
        this.removeElement();
        delete this._marquee;
        delete this.chart;
    };

    ZoomSelection.prototype._updateAxisRanges = function _updateAxisRanges (start, end) {
        var lock = (this.options.lock || "").toLowerCase();
        var axisRanges = [];

        var axes = this._zoomPane.axes;
        for (var idx = 0; idx < axes.length; idx++) {
            var axis = axes[idx];
            var vertical = axis.options.vertical;
            if (!(lock === X && !vertical) && !(lock === Y && vertical) && defined(axis.axisIndex)) {
                var range = axis.pointsRange(start, end);
                if (range) {
                    axisRanges.push({
                        axis: axis,
                        range: range
                    });
                }
            }
        }

        this.axisRanges = axisRanges;
    };

    ZoomSelection.prototype._selectionPosition = function _selectionPosition (e) {
        var clipBox = this._zoomPaneClipBox;
        var startLocation = {
            x: e.x.startLocation,
            y: e.y.startLocation
        };
        var pageX = e.x.location;
        var pageY = e.y.location;
        var lock = (this.options.lock || "").toLowerCase();
        var left = Math.min(startLocation.x, pageX);
        var top = Math.min(startLocation.y, pageY);
        var width = Math.abs(startLocation.x - pageX);
        var height = Math.abs(startLocation.y - pageY);

        if (lock === X) {
            left = clipBox.x1;
            width = clipBox.width();
        }
        if (lock === Y) {
            top = clipBox.y1;
            height = clipBox.height();
        }

        if (pageX > clipBox.x2) {
            width = clipBox.x2 - startLocation.x;
        }

        if (pageX < clipBox.x1) {
            width = startLocation.x - clipBox.x1;
        }

        if (pageY > clipBox.y2) {
            height = clipBox.y2 - startLocation.y;
        }

        if (pageY < clipBox.y1) {
            height = startLocation.y - clipBox.y1;
        }

        return {
            left: Math.max(left, clipBox.x1),
            top: Math.max(top, clipBox.y1),
            width: width,
            height: height
        };
    };

    return ZoomSelection;
}(_progress_kendoDrawing.Class));

ZoomSelection.prototype.options = {
    key: "shift",
    lock: "none"
};

var MousewheelZoom = (function (Class$$1) {
    function MousewheelZoom(chart, options) {
        Class$$1.call(this);

        this.chart = chart;
        this.options = deepExtend({}, this.options, options);
    }

    if ( Class$$1 ) MousewheelZoom.__proto__ = Class$$1;
    MousewheelZoom.prototype = Object.create( Class$$1 && Class$$1.prototype );
    MousewheelZoom.prototype.constructor = MousewheelZoom;

    MousewheelZoom.prototype.updateRanges = function updateRanges (delta) {
        var lock = (this.options.lock || "").toLowerCase();
        var axisRanges = [];
        var axes = this.chart._plotArea.axes;

        for (var idx = 0; idx < axes.length; idx++) {
            var axis = axes[idx];
            var vertical = axis.options.vertical;

            if (!(lock === X && !vertical) && !(lock === Y && vertical)) {
                var range = axis.zoomRange(-delta);

                if (range) {
                    axisRanges.push({
                        axis: axis,
                        range: range
                    });
                }
            }
        }

        this.axisRanges = axisRanges;
        return toChartAxisRanges(axisRanges);
    };

    MousewheelZoom.prototype.zoom = function zoom () {
        var axisRanges = this.axisRanges;
        if (axisRanges && axisRanges.length) {
            var plotArea = this.chart._plotArea;
            for (var idx = 0; idx < axisRanges.length; idx++) {
                var axisRange = axisRanges[idx];
                plotArea.updateAxisOptions(axisRange.axis, axisRange.range);
            }
            plotArea.redraw(plotArea.panes);
        }
    };

    MousewheelZoom.prototype.destroy = function destroy () {
        delete this.chart;
    };

    return MousewheelZoom;
}(_progress_kendoDrawing.Class));

var LegendLayout = (function (ChartElement$$1) {
    function LegendLayout(options, chartService) {
        ChartElement$$1.call(this, options);

        this.chartService = chartService;
    }

    if ( ChartElement$$1 ) LegendLayout.__proto__ = ChartElement$$1;
    LegendLayout.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    LegendLayout.prototype.constructor = LegendLayout;

    LegendLayout.prototype.render = function render () {
        var ref = this;
        var children = ref.children;
        var options = ref.options;
        var vertical = options.vertical;

        this.visual = new _progress_kendoDrawing.drawing.Layout(null, {
            spacing: vertical ? 0 : options.spacing,
            lineSpacing: vertical ? options.spacing : 0,
            orientation: vertical ? "vertical" : "horizontal",
            reverse: options.rtl,
            alignItems: vertical ? "start" : "center"
        });

        for (var idx = 0; idx < children.length; idx++) {
            var legendItem = children[idx];
            legendItem.reflow(new Box());
            legendItem.renderVisual();
        }
    };

    LegendLayout.prototype.reflow = function reflow (box) {
        this.visual.rect(box.toRect());
        this.visual.reflow();
        var bbox = this.visual.clippedBBox();

        if (bbox) {
            this.box = rectToBox(bbox);
        } else {
            this.box = new Box();
        }
    };

    LegendLayout.prototype.renderVisual = function renderVisual () {
        this.addVisual();
    };

    LegendLayout.prototype.createVisual = function createVisual () {};

    return LegendLayout;
}(ChartElement));

var LegendItem = (function (BoxElement$$1) {
    function LegendItem(options) {
        BoxElement$$1.call(this, options);

        this.createContainer();
        if (!options.rtl) {
            this.createMarker();
            this.createLabel();
        } else {
            this.createLabel();
            this.createMarker();
        }
    }

    if ( BoxElement$$1 ) LegendItem.__proto__ = BoxElement$$1;
    LegendItem.prototype = Object.create( BoxElement$$1 && BoxElement$$1.prototype );
    LegendItem.prototype.constructor = LegendItem;

    LegendItem.prototype.createContainer = function createContainer () {
        this.container = new FloatElement({ vertical: false, wrap: false, align: CENTER, spacing: this.options.spacing });
        this.append(this.container);
    };

    LegendItem.prototype.createMarker = function createMarker () {
        this.container.append(new ShapeElement(this.markerOptions()));
    };

    LegendItem.prototype.markerOptions = function markerOptions () {
        var options = this.options;
        var markerColor = options.markerColor;
        return deepExtend({}, options.markers, {
            background: markerColor,
            border: {
                color: markerColor
            }
        });
    };

    LegendItem.prototype.createLabel = function createLabel () {
        var options = this.options;
        var labelOptions = deepExtend({}, options.labels);

        this.container.append(new TextBox(options.text, labelOptions));
    };

    LegendItem.prototype.renderComplete = function renderComplete () {
        BoxElement$$1.prototype.renderComplete.call(this);

        var cursor = this.options.cursor || {};
        var eventSink = this._itemOverlay = _progress_kendoDrawing.drawing.Path.fromRect(this.container.box.toRect(), {
            fill: {
                color: WHITE,
                opacity: 0
            },
            stroke: null,
            cursor: cursor.style || cursor
        });

        this.appendVisual(eventSink);
    };

    LegendItem.prototype.click = function click (widget, e) {
        var args = this.eventArgs(e);

        if (!widget.trigger(LEGEND_ITEM_CLICK, args) && e && e.type === 'contextmenu') {
            e.preventDefault();
        }
    };

    LegendItem.prototype.over = function over (widget, e) {
        var args = this.eventArgs(e);

        if (!widget.trigger(LEGEND_ITEM_HOVER, args)) {
            widget._legendItemHover(args.seriesIndex, args.pointIndex);
        }

        // Don't trigger point hover for legend items
        return true;
    };

    LegendItem.prototype.out = function out (widget, e) {
        widget._unsetActivePoint();

        widget.trigger(LEGEND_ITEM_LEAVE, this.eventArgs(e));
    };

    LegendItem.prototype.eventArgs = function eventArgs (e) {
        var options = this.options;

        return {
            element: eventElement(e),
            text: options.text,
            series: options.series,
            seriesIndex: options.series.index,
            pointIndex: options.pointIndex
        };
    };

    LegendItem.prototype.renderVisual = function renderVisual () {
        var this$1 = this;

        var options = this.options;
        var customVisual = options.visual;

        if (customVisual) {
            this.visual = customVisual({
                active: options.active,
                series: options.series,
                sender: this.getSender(),
                pointIndex: options.pointIndex,
                options: {
                    markers: this.markerOptions(),
                    labels: options.labels
                },
                createVisual: function () {
                    this$1.createVisual();
                    this$1.renderChildren();
                    this$1.renderComplete();

                    var defaultVisual = this$1.visual;

                    delete this$1.visual;

                    return defaultVisual;
                }
            });
            this.addVisual();
        } else {
            BoxElement$$1.prototype.renderVisual.call(this);
        }
    };

    return LegendItem;
}(BoxElement));

var HORIZONTAL = "horizontal";
var POINTER = "pointer";
var CUSTOM = "custom";

var Legend = (function (ChartElement$$1) {
    function Legend(options, chartService) {
        if ( chartService === void 0 ) chartService = {};

        ChartElement$$1.call(this, options);

        this.chartService = chartService;

        if (!inArray(this.options.position, [ TOP, RIGHT, BOTTOM, LEFT, CUSTOM ])) {
            this.options.position = RIGHT;
        }

        this.createContainer();

        this.createItems();
    }

    if ( ChartElement$$1 ) Legend.__proto__ = ChartElement$$1;
    Legend.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    Legend.prototype.constructor = Legend;

    Legend.prototype.createContainer = function createContainer () {
        var options = this.options;
        var position = options.position;
        var userAlign = options.align;
        var align = position;
        var vAlign = CENTER;

        if (position === CUSTOM) {
            align = LEFT;
        } else if (inArray(position, [ TOP, BOTTOM ])) {
            if (userAlign === "start") {
                align = LEFT;
            } else if (userAlign === "end") {
                align = RIGHT;
            } else {
                align = CENTER;
            }
            vAlign = position;
        } else if (userAlign) {
            if (userAlign === "start") {
                vAlign = TOP;
            } else if (userAlign === "end") {
                vAlign = BOTTOM;
            }
        }

        this.container = new BoxElement({
            margin: options.margin,
            padding: options.padding,
            background: options.background,
            border: options.border,
            vAlign: vAlign,
            align: align,
            zIndex: options.zIndex,
            shrinkToFit: true
        });

        this.append(this.container);
    };

    Legend.prototype.createItems = function createItems () {
        var chartService = this.getService();
        var options = this.options;
        var vertical = this.isVertical();
        var innerElement = new LegendLayout({
            vertical: vertical,
            spacing: options.spacing,
            rtl: chartService.rtl
        }, chartService);
        var items = options.items;

        if (options.reverse) {
            items = items.slice(0).reverse();
        }

        var count = items.length;

        for (var i = 0; i < count; i++) {
            var item = items[i];

            innerElement.append(new LegendItem(deepExtend({}, {
                markers: options.markers,
                labels: options.labels,
                rtl: chartService.rtl
            }, options.item, item)));
        }

        innerElement.render();

        this.container.append(innerElement);
    };

    Legend.prototype.isVertical = function isVertical () {
        var ref = this.options;
        var orientation = ref.orientation;
        var position = ref.position;
        var vertical = (position === CUSTOM && orientation !== HORIZONTAL) ||
               (defined(orientation) ? orientation !== HORIZONTAL : inArray(position, [ LEFT, RIGHT ]));

        return vertical;
    };

    Legend.prototype.hasItems = function hasItems () {
        return this.container.children[0].children.length > 0;
    };

    Legend.prototype.reflow = function reflow (targetBox) {
        var options = this.options;
        var legendBox = targetBox.clone();

        if (!this.hasItems()) {
            this.box = legendBox;
            return;
        }

        if (options.position === CUSTOM) {
            this.containerCustomReflow(legendBox);
            this.box = legendBox;
        } else {
            this.containerReflow(legendBox);
        }
    };

    Legend.prototype.containerReflow = function containerReflow (targetBox) {
        var ref = this;
        var options = ref.options;
        var container = ref.container;
        var position = options.position;
        var width = options.width;
        var height = options.height;
        var pos = position === TOP || position === BOTTOM ? X : Y;
        var vertical = this.isVertical();
        var alignTarget = targetBox.clone();
        var containerBox = targetBox.clone();

        if (position === LEFT || position === RIGHT) {
            containerBox.y1 = alignTarget.y1 = 0;
        }

        if (vertical && height) {
            containerBox.y2 = containerBox.y1 + height;
            containerBox.align(alignTarget, Y, container.options.vAlign);
        } else if (!vertical && width) {
            containerBox.x2 = containerBox.x1 + width;
            containerBox.align(alignTarget, X, container.options.align);
        }

        container.reflow(containerBox);
        containerBox = container.box;

        var box = containerBox.clone();

        if (options.offsetX || options.offsetY) {
            containerBox.translate(options.offsetX, options.offsetY);
            this.container.reflow(containerBox);
        }

        box[pos + 1] = targetBox[pos + 1];
        box[pos + 2] = targetBox[pos + 2];

        this.box = box;
    };

    Legend.prototype.containerCustomReflow = function containerCustomReflow (targetBox) {
        var ref = this;
        var options = ref.options;
        var container = ref.container;
        var offsetX = options.offsetX;
        var offsetY = options.offsetY;
        var width = options.width;
        var height = options.height;
        var vertical = this.isVertical();
        var containerBox = targetBox.clone();

        if (vertical && height) {
            containerBox.y2 = containerBox.y1 + height;
        } else if (!vertical && width) {
            containerBox.x2 = containerBox.x1 + width;
        }
        container.reflow(containerBox);
        containerBox = container.box;

        container.reflow(new Box(
            offsetX, offsetY,
            offsetX + containerBox.width(), offsetY + containerBox.height()
        ));
    };

    Legend.prototype.renderVisual = function renderVisual () {
        if (this.hasItems()) {
            ChartElement$$1.prototype.renderVisual.call(this);
        }
    };

    return Legend;
}(ChartElement));

setDefaultOptions(Legend, {
    position: RIGHT,
    items: [],
    offsetX: 0,
    offsetY: 0,
    margin: getSpacing(5),
    padding: getSpacing(5),
    border: {
        color: BLACK,
        width: 0
    },
    item: {
        cursor: POINTER,
        spacing: 6
    },
    spacing: 6,
    background: "",
    zIndex: 1,
    markers: {
        border: {
            width: 0
        },
        width: 15,
        height: 3,
        type: "rect",
        align: LEFT,
        vAlign: CENTER
    }
});

var PlotAreaFactory = (function (Class$$1) {
    function PlotAreaFactory() {
        Class$$1.call(this);

        this._registry = [];
    }

    if ( Class$$1 ) PlotAreaFactory.__proto__ = Class$$1;
    PlotAreaFactory.prototype = Object.create( Class$$1 && Class$$1.prototype );
    PlotAreaFactory.prototype.constructor = PlotAreaFactory;

    PlotAreaFactory.prototype.register = function register (type, seriesTypes) {
        this._registry.push({
            type: type,
            seriesTypes: seriesTypes
        });
    };

    PlotAreaFactory.prototype.create = function create (srcSeries, options, chartService) {
        var registry = this._registry;
        var match = registry[0];
        var series;

        for (var idx = 0; idx < registry.length; idx++) {
            var entry = registry[idx];
            series = filterSeriesByType(srcSeries, entry.seriesTypes);

            if (series.length > 0) {
                match = entry;
                break;
            }
        }

        return new match.type(series, options, chartService);
    };

    return PlotAreaFactory;
}(_progress_kendoDrawing.Class));

PlotAreaFactory.current = new PlotAreaFactory();

var ZOOM_ACCELERATION = 3;
var SELECTOR_HEIGHT_ADJUST = 0.1;

function createDiv(className) {
    var element = document.createElement("div");
    if (className) {
        element.className = className;
    }

    return element;
}

function closestHandle(element) {
    var current = element;
    while (current && !hasClasses(current, "k-handle")) {
        current = current.parentNode;
    }

    return current;
}

var Selection = (function (Class$$1) {
    function Selection(chart, categoryAxis, options, observer) {
        Class$$1.call(this);

        var chartElement = chart.element;

        this.options = deepExtend({}, this.options, options);
        this.chart = chart;
        this.observer = observer;
        this.chartElement = chartElement;
        this.categoryAxis = categoryAxis;
        this._dateAxis = this.categoryAxis instanceof DateCategoryAxis;

        this.initOptions();

        if (this.options.visible && chartElement.offsetHeight) {
            this.createElements();

            this.set(this._index(this.options.from), this._index(this.options.to));

            this.bindEvents();
        }
    }

    if ( Class$$1 ) Selection.__proto__ = Class$$1;
    Selection.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Selection.prototype.constructor = Selection;

    Selection.prototype.onPane = function onPane (pane) {
        return this.categoryAxis.pane === pane;
    };

    Selection.prototype.createElements = function createElements () {
        var options = this.options;
        var wrapper = this.wrapper = createDiv("k-selector");
        elementStyles(wrapper, {
            top: options.offset.top,
            left: options.offset.left,
            width: options.width,
            height: options.height,
            direction: 'ltr'
        });
        var selection = this.selection = createDiv("k-selection");
        this.leftMask = createDiv("k-mask");
        this.rightMask = createDiv("k-mask");

        wrapper.appendChild(this.leftMask);
        wrapper.appendChild(this.rightMask);
        wrapper.appendChild(selection);

        selection.appendChild(createDiv("k-selection-bg"));

        var leftHandle = this.leftHandle = createDiv("k-handle k-left-handle");
        var rightHandle = this.rightHandle = createDiv("k-handle k-right-handle");
        leftHandle.appendChild(createDiv());
        rightHandle.appendChild(createDiv());

        selection.appendChild(leftHandle);
        selection.appendChild(rightHandle);

        this.chartElement.appendChild(wrapper);
        var selectionStyles = elementStyles(selection, [ "borderLeftWidth", "borderRightWidth", "height" ]);
        var leftHandleHeight = elementStyles(leftHandle, "height").height;
        var rightHandleHeight = elementStyles(rightHandle, "height").height;

        options.selection = {
            border: {
                left: selectionStyles.borderLeftWidth,
                right: selectionStyles.borderRightWidth
            }
        };

        elementStyles(leftHandle, {
            top: (selectionStyles.height - leftHandleHeight) / 2
        });

        elementStyles(rightHandle, {
            top: (selectionStyles.height - rightHandleHeight) / 2
        });

        wrapper.style.cssText = wrapper.style.cssText;
    };

    Selection.prototype.bindEvents = function bindEvents$1 () {
        if (this.options.mousewheel !== false) {
            this._mousewheelHandler = this._mousewheel.bind(this);
            var obj;
            bindEvents(this.wrapper, ( obj = {}, obj[ MOUSEWHEEL ] = this._mousewheelHandler, obj ));
        }

        this._domEvents = DomEventsBuilder.create(this.wrapper, {
            stopPropagation: true, // applicable for the jQuery UserEvents
            start: this._start.bind(this),
            move: this._move.bind(this),
            end: this._end.bind(this),
            tap: this._tap.bind(this),
            press: this._press.bind(this),
            gesturestart: this._gesturestart.bind(this),
            gesturechange: this._gesturechange.bind(this),
            gestureend: this._gestureend.bind(this)
        });
    };

    Selection.prototype.initOptions = function initOptions () {
        var ref = this;
        var options = ref.options;
        var categoryAxis = ref.categoryAxis;
        var box = categoryAxis.pane.chartsBox();
        var intlService = this.chart.chartService.intl;

        if (this._dateAxis) {
            deepExtend(options, {
                min: parseDate(intlService, options.min),
                max: parseDate(intlService, options.max),
                from: parseDate(intlService, options.from),
                to: parseDate(intlService, options.to)
            });
        }

        var ref$1 = elementStyles(this.chartElement, [ "paddingLeft", "paddingTop" ]);
        var paddingLeft = ref$1.paddingLeft;
        var paddingTop = ref$1.paddingTop;

        this.options = deepExtend({}, {
            width: box.width(),
            height: box.height() + SELECTOR_HEIGHT_ADJUST, //workaround for sub-pixel hover on the paths in chrome
            padding: {
                left: paddingLeft,
                top: paddingTop
            },
            offset: {
                left: box.x1 + paddingLeft,
                top: box.y1 + paddingTop
            },
            from: options.min,
            to: options.max
        }, options);
    };

    Selection.prototype.destroy = function destroy () {
        if (this._domEvents) {
            this._domEvents.destroy();
            delete this._domEvents;
        }

        clearTimeout(this._mwTimeout);
        this._state = null;

        if (this.wrapper) {
            if (this._mousewheelHandler) {
                var obj;
                unbindEvents(this.wrapper, ( obj = {}, obj[ MOUSEWHEEL ] = this._mousewheelHandler, obj ));
                this._mousewheelHandler = null;
            }
            this.chartElement.removeChild(this.wrapper);
            this.wrapper = null;
        }
    };

    Selection.prototype._rangeEventArgs = function _rangeEventArgs (range) {

        return {
            axis: this.categoryAxis.options,
            from: this._value(range.from),
            to: this._value(range.to)
        };
    };

    Selection.prototype._start = function _start (e) {
        var options = this.options;
        var target = eventElement(e);

        if (this._state || !target) {
            return;
        }

        this.chart._unsetActivePoint();
        this._state = {
            moveTarget: closestHandle(target) || target,
            startLocation: e.x ? e.x.location : 0,
            range: {
                from: this._index(options.from),
                to: this._index(options.to)
            }
        };

        var args = this._rangeEventArgs({
            from: this._index(options.from),
            to: this._index(options.to)
        });

        if (this.trigger(SELECT_START, args)) {
            this._state = null;
        }
    };

    Selection.prototype._press = function _press (e) {
        var handle;
        if (this._state) {
            handle = this._state.moveTarget;
        } else {
            handle = closestHandle(eventElement(e));
        }
        if (handle) {
            addClass(handle, "k-handle-active");
        }
    };

    Selection.prototype._move = function _move (e) {
        if (!this._state) {
            return;
        }

        var ref = this;
        var state = ref._state;
        var options = ref.options;
        var categoryAxis = ref.categoryAxis;
        var range = state.range;
        var target = state.moveTarget;
        var reverse = categoryAxis.options.reverse;
        var from = this._index(options.from);
        var to = this._index(options.to);
        var min = this._index(options.min);
        var max = this._index(options.max);
        var delta = state.startLocation - e.x.location;
        var oldRange = { from: range.from, to: range.to };
        var span = range.to - range.from;
        var scale = elementStyles(this.wrapper, "width").width / (categoryAxis.categoriesCount() - 1);
        var offset = Math.round(delta / scale) * (reverse ? -1 : 1);

        if (!target) {
            return;
        }

        var leftHandle = hasClasses(target, "k-left-handle");
        var rightHandle = hasClasses(target, "k-right-handle");

        if (hasClasses(target, "k-selection k-selection-bg")) {
            range.from = Math.min(
                Math.max(min, from - offset),
                max - span
            );
            range.to = Math.min(
                range.from + span,
                max
            );
        } else if ((leftHandle && !reverse) || (rightHandle && reverse)) {
            range.from = Math.min(
                Math.max(min, from - offset),
                max - 1
            );
            range.to = Math.max(range.from + 1, range.to);
        } else if ((leftHandle && reverse) || (rightHandle && !reverse)) {
            range.to = Math.min(
                Math.max(min + 1, to - offset),
                max
            );
            range.from = Math.min(range.to - 1, range.from);
        }

        if (range.from !== oldRange.from || range.to !== oldRange.to) {
            this.move(range.from, range.to);
            this.trigger(SELECT, this._rangeEventArgs(range));
        }
    };

    Selection.prototype._end = function _end () {
        if (this._state) {
            var moveTarget = this._state.moveTarget;
            if (moveTarget) {
                removeClass(moveTarget, "k-handle-active");
            }

            var range = this._state.range;
            this.set(range.from, range.to);
            this.trigger(SELECT_END, this._rangeEventArgs(range));

            delete this._state;
        }
    };

    Selection.prototype._tap = function _tap (e) {
        var ref = this;
        var options = ref.options;
        var categoryAxis = ref.categoryAxis;
        var coords = this.chart._eventCoordinates(e);
        var categoryIx = categoryAxis.pointCategoryIndex(new Point(coords.x, categoryAxis.box.y1));
        var from = this._index(options.from);
        var to = this._index(options.to);
        var min = this._index(options.min);
        var max = this._index(options.max);
        var span = to - from;
        var mid = from + span / 2;
        var range = {};
        var rightClick = e.event.which === 3;
        var offset = Math.round(mid - categoryIx);

        if (this._state || rightClick) {
            return;
        }


        this.chart._unsetActivePoint();

        if (!categoryAxis.options.justified) {
            offset--;
        }

        range.from = Math.min(
            Math.max(min, from - offset),
            max - span
        );

        range.to = Math.min(range.from + span, max);

        this._start(e);
        if (this._state) {
            this._state.range = range;
            this.trigger(SELECT, this._rangeEventArgs(range));
            this._end();
        }
    };

    Selection.prototype._mousewheel = function _mousewheel (e) {
        var this$1 = this;

        var delta = mousewheelDelta(e);

        this._start({ target: this.selection });

        if (this._state) {
            var range = this._state.range;

            e.preventDefault();
            e.stopPropagation();

            if (Math.abs(delta) > 1) {
                delta *= ZOOM_ACCELERATION;
            }

            if (this.options.mousewheel.reverse) {
                delta *= -1;
            }

            if (this.expand(delta)) {
                this.trigger(SELECT, {
                    axis: this.categoryAxis.options,
                    delta: delta,
                    originalEvent: e,
                    from: this._value(range.from),
                    to: this._value(range.to)
                });
            }

            if (this._mwTimeout) {
                clearTimeout(this._mwTimeout);
            }

            this._mwTimeout = setTimeout(function () {
                this$1._end();
            }, MOUSEWHEEL_DELAY);
        }
    };

    Selection.prototype._gesturestart = function _gesturestart (e) {
        var options = this.options;

        this._state = {
            range: {
                from: this._index(options.from),
                to: this._index(options.to)
            }
        };
        var args = this._rangeEventArgs(this._state.range);

        if (this.trigger(SELECT_START, args)) {
            this._state = null;
        } else {
            e.preventDefault();
        }
    };

    Selection.prototype._gestureend = function _gestureend () {
        if (this._state) {
            this.trigger(SELECT_END, this._rangeEventArgs(this._state.range));
            delete this._state;
        }
    };

    Selection.prototype._gesturechange = function _gesturechange (e) {
        var ref = this;
        var chart = ref.chart;
        var state = ref._state;
        var options = ref.options;
        var categoryAxis = ref.categoryAxis;
        var range = state.range;
        var p0 = chart._toModelCoordinates(e.touches[0].x.location).x;
        var p1 = chart._toModelCoordinates(e.touches[1].x.location).x;
        var left = Math.min(p0, p1);
        var right = Math.max(p0, p1);

        e.preventDefault();

        range.from = categoryAxis.pointCategoryIndex(new Point(left)) || options.min;

        range.to = categoryAxis.pointCategoryIndex(new Point(right)) || options.max;

        this.move(range.from, range.to);

        this.trigger(SELECT, this._rangeEventArgs(range));
    };

    Selection.prototype._index = function _index (value) {
        var index = value;

        if (value instanceof Date) {
            index = this.categoryAxis.categoryIndex(value);
        }

        return index;
    };

    Selection.prototype._value = function _value (index) {
        var value = index;
        if (this._dateAxis) {
            value = this.categoryAxis.categoryAt(index);
            if (value > this.options.max) {
                value = this.options.max;
            }
        }

        return value;
    };

    Selection.prototype._slot = function _slot (value) {
        var categoryAxis = this.categoryAxis;
        var index = this._index(value);

        return categoryAxis.getSlot(index, index, true);
    };

    Selection.prototype.move = function move (from, to) {
        var options = this.options;
        var reverse = this.categoryAxis.options.reverse;
        var offset = options.offset;
        var padding = options.padding;
        var border = options.selection.border;
        var left = reverse ? to : from;
        var right = reverse ? from : to;
        var edge = 'x' + (reverse ? 2 : 1);

        var box = this._slot(left);
        var leftMaskWidth = round(box[edge] - offset.left + padding.left);

        elementStyles(this.leftMask, {
            width: leftMaskWidth
        });
        elementStyles(this.selection, {
            left: leftMaskWidth
        });

        box = this._slot(right);

        var rightMaskWidth = round(options.width - (box[edge] - offset.left + padding.left));
        elementStyles(this.rightMask, {
            width: rightMaskWidth
        });

        var distance = options.width - rightMaskWidth;
        if (distance !== options.width) {
            distance += border.right;
        }

        elementStyles(this.rightMask, {
            left: distance
        });
        elementStyles(this.selection, {
            width: Math.max(options.width - (leftMaskWidth + rightMaskWidth) - border.right, 0)
        });
    };

    Selection.prototype.set = function set (from, to) {
        var options = this.options;
        var min = this._index(options.min);
        var max = this._index(options.max);
        var fromValue = limitValue(this._index(from), min, max);
        var toValue = limitValue(this._index(to), fromValue + 1, max);

        if (options.visible) {
            this.move(fromValue, toValue);
        }

        options.from = this._value(fromValue);
        options.to = this._value(toValue);
    };

    Selection.prototype.expand = function expand (delta) {
        var options = this.options;
        var min = this._index(options.min);
        var max = this._index(options.max);
        var zDir = options.mousewheel.zoom;
        var from = this._index(options.from);
        var to = this._index(options.to);
        var range = { from: from, to: to };
        var oldRange = deepExtend({}, range);

        if (this._state) {
            range = this._state.range;
        }

        if (zDir !== RIGHT) {
            range.from = limitValue(
                limitValue(from - delta, 0, to - 1),
                min, max
            );
        }

        if (zDir !== LEFT) {
            range.to = limitValue(
                limitValue(to + delta, range.from + 1, max),
                min,
                max
             );
        }

        if (range.from !== oldRange.from || range.to !== oldRange.to) {
            this.set(range.from, range.to);
            return true;
        }
    };

    Selection.prototype.trigger = function trigger (name, args) {
        return (this.observer || this.chart).trigger(name, args);
    };

    return Selection;
}(_progress_kendoDrawing.Class));

setDefaultOptions(Selection, {
    visible: true,
    mousewheel: {
        zoom: "both"
    },
    min: MIN_VALUE,
    max: MAX_VALUE
});

var Tooltip = (function (BaseTooltip$$1) {
    function Tooltip () {
        BaseTooltip$$1.apply(this, arguments);
    }

    if ( BaseTooltip$$1 ) Tooltip.__proto__ = BaseTooltip$$1;
    Tooltip.prototype = Object.create( BaseTooltip$$1 && BaseTooltip$$1.prototype );
    Tooltip.prototype.constructor = Tooltip;

    Tooltip.prototype.show = function show (point) {
        if (!point || !point.tooltipAnchor || (this._current && this._current === point)) {
            return;
        }

        var options = deepExtend({}, this.options, point.options.tooltip);
        var anchor = point.tooltipAnchor();

        if (anchor) {
            this._current = point;
            BaseTooltip$$1.prototype.show.call(this, {
                point: point,
                anchor: anchor
            }, options, point);
        } else {
            this.hide();
        }
    };

    Tooltip.prototype.hide = function hide () {
        delete this._current;
        BaseTooltip$$1.prototype.hide.call(this);
    };

    return Tooltip;
}(BaseTooltip));

var SharedTooltip = (function (BaseTooltip$$1) {
    function SharedTooltip(plotArea, options) {
        BaseTooltip$$1.call(this, plotArea.chartService, options);

        this.plotArea = plotArea;
        this.formatService = plotArea.chartService.format;
    }

    if ( BaseTooltip$$1 ) SharedTooltip.__proto__ = BaseTooltip$$1;
    SharedTooltip.prototype = Object.create( BaseTooltip$$1 && BaseTooltip$$1.prototype );
    SharedTooltip.prototype.constructor = SharedTooltip;

    SharedTooltip.prototype.showAt = function showAt (points, coords) {
        var tooltipPoints = grep(points, function(point) {
            var tooltip = point.series.tooltip;
            var excluded = tooltip && tooltip.visible === false;

            return !excluded;
        });

        if (tooltipPoints.length > 0) {
            var point = tooltipPoints[0];
            var slot = this.plotArea.categoryAxis.getSlot(point.categoryIx);

            var anchor = coords ? this._slotAnchor(coords, slot) : this._defaultAnchor(point, slot);

            this.show({
                anchor: anchor,
                shared: true,
                points: points,
                category: point.category,
                categoryText: this.formatService.auto(this.options.categoryFormat, point.category),
                series: this.plotArea.series
            }, this.options);
        }
    };

    SharedTooltip.prototype._slotAnchor = function _slotAnchor (point, slot) {
        var axis = this.plotArea.categoryAxis;
        var align = {
            horizontal: "left",
            vertical: "center"
        };

        if (!axis.options.vertical) {
            point.x = slot.center().x;
        }

        return {
            point: point,
            align: align
        };
    };

    SharedTooltip.prototype._defaultAnchor = function _defaultAnchor (point, slot) {
        var box = point.owner.pane.chartsBox();
        var vertical = this.plotArea.categoryAxis.options.vertical;
        var center = box.center();
        var slotCenter = slot.center();
        var align = {
            horizontal: "center",
            vertical: "center"
        };

        var centerPoint;
        if (vertical) {
            centerPoint = new Point(center.x, slotCenter.y);
        } else {
            centerPoint = new Point(slotCenter.x, center.y);
        }

        return {
            point: centerPoint,
            align: align
        };
    };

    return SharedTooltip;
}(BaseTooltip));

setDefaultOptions(SharedTooltip, {
    categoryFormat: '{0:d}'
});

var BarChartAnimation = (function (superclass) {
    function BarChartAnimation () {
        superclass.apply(this, arguments);
    }

    if ( superclass ) BarChartAnimation.__proto__ = superclass;
    BarChartAnimation.prototype = Object.create( superclass && superclass.prototype );
    BarChartAnimation.prototype.constructor = BarChartAnimation;

    BarChartAnimation.prototype.setup = function setup () {
        var ref = this;
        var element = ref.element;
        var options = ref.options;
        var bbox = element.bbox();

        if (bbox) {
            this.origin = options.origin;
            var axis = options.vertical ? Y : X;

            var fromScale = this.fromScale = new _progress_kendoDrawing.geometry.Point(1, 1);
            fromScale[axis] = START_SCALE;

            element.transform(_progress_kendoDrawing.geometry.transform()
                .scale(fromScale.x, fromScale.y)
            );
        } else {
            this.abort();
        }
    };

    BarChartAnimation.prototype.step = function step (pos) {
        var scaleX = interpolateValue(this.fromScale.x, 1, pos);
        var scaleY = interpolateValue(this.fromScale.y, 1, pos);

        this.element.transform(_progress_kendoDrawing.geometry.transform()
            .scale(scaleX, scaleY, this.origin)
        );
    };

    BarChartAnimation.prototype.abort = function abort () {
        superclass.prototype.abort.call(this);
        this.element.transform(null);
    };

    return BarChartAnimation;
}(_progress_kendoDrawing.drawing.Animation));

setDefaultOptions(BarChartAnimation, {
    duration: INITIAL_ANIMATION_DURATION
});

_progress_kendoDrawing.drawing.AnimationFactory.current.register(BAR, BarChartAnimation);

var BubbleAnimation = (function (superclass) {
    function BubbleAnimation () {
        superclass.apply(this, arguments);
    }

    if ( superclass ) BubbleAnimation.__proto__ = superclass;
    BubbleAnimation.prototype = Object.create( superclass && superclass.prototype );
    BubbleAnimation.prototype.constructor = BubbleAnimation;

    BubbleAnimation.prototype.setup = function setup () {
        var center = this.center = this.element.bbox().center();
        this.element.transform(_progress_kendoDrawing.geometry.transform()
            .scale(START_SCALE, START_SCALE, center)
        );
    };

    BubbleAnimation.prototype.step = function step (pos) {
        this.element.transform(_progress_kendoDrawing.geometry.transform()
            .scale(pos, pos, this.center)
        );
    };

    return BubbleAnimation;
}(_progress_kendoDrawing.drawing.Animation));

setDefaultOptions(BubbleAnimation, {
    easing: "easeOutElastic"
});

_progress_kendoDrawing.drawing.AnimationFactory.current.register(BUBBLE, BubbleAnimation);

var FadeInAnimation = (function (superclass) {
    function FadeInAnimation () {
        superclass.apply(this, arguments);
    }

    if ( superclass ) FadeInAnimation.__proto__ = superclass;
    FadeInAnimation.prototype = Object.create( superclass && superclass.prototype );
    FadeInAnimation.prototype.constructor = FadeInAnimation;

    FadeInAnimation.prototype.setup = function setup () {
        this.fadeTo = this.element.opacity();
        this.element.opacity(0);
    };

    FadeInAnimation.prototype.step = function step (pos) {
        this.element.opacity(pos * this.fadeTo);
    };

    return FadeInAnimation;
}(_progress_kendoDrawing.drawing.Animation));

setDefaultOptions(FadeInAnimation, {
    duration: 200,
    easing: "linear"
});

_progress_kendoDrawing.drawing.AnimationFactory.current.register(FADEIN, FadeInAnimation);

var PieAnimation = (function (superclass) {
    function PieAnimation () {
        superclass.apply(this, arguments);
    }

    if ( superclass ) PieAnimation.__proto__ = superclass;
    PieAnimation.prototype = Object.create( superclass && superclass.prototype );
    PieAnimation.prototype.constructor = PieAnimation;

    PieAnimation.prototype.setup = function setup () {
        this.element.transform(_progress_kendoDrawing.geometry.transform()
            .scale(START_SCALE, START_SCALE, this.options.center)
        );
    };

    PieAnimation.prototype.step = function step (pos) {
        this.element.transform(_progress_kendoDrawing.geometry.transform()
            .scale(pos, pos, this.options.center)
        );
    };

    return PieAnimation;
}(_progress_kendoDrawing.drawing.Animation));

setDefaultOptions(PieAnimation, {
    easing: "easeOutElastic",
    duration: INITIAL_ANIMATION_DURATION
});

_progress_kendoDrawing.drawing.AnimationFactory.current.register(PIE, PieAnimation);

var ScatterLineChart = (function (ScatterChart$$1) {
    function ScatterLineChart () {
        ScatterChart$$1.apply(this, arguments);
    }

    if ( ScatterChart$$1 ) ScatterLineChart.__proto__ = ScatterChart$$1;
    ScatterLineChart.prototype = Object.create( ScatterChart$$1 && ScatterChart$$1.prototype );
    ScatterLineChart.prototype.constructor = ScatterLineChart;

    ScatterLineChart.prototype.render = function render () {
        ScatterChart$$1.prototype.render.call(this);

        this.renderSegments();
    };

    ScatterLineChart.prototype.createSegment = function createSegment (linePoints, currentSeries, seriesIx) {
        var style = currentSeries.style;
        var pointType;

        if (style === SMOOTH) {
            pointType = SplineSegment;
        } else {
            pointType = LineSegment;
        }

        return new pointType(linePoints, currentSeries, seriesIx);
    };

    ScatterLineChart.prototype.animationPoints = function animationPoints () {
        var points = ScatterChart$$1.prototype.animationPoints.call(this);
        return points.concat(this._segments);
    };

    ScatterLineChart.prototype.createMissingValue = function createMissingValue (value, missingValues) {
        if (missingValues === ZERO) {
            var missingValue = {
                x: value.x,
                y: value.y
            };
            if (!hasValue(missingValue.x)) {
                missingValue.x = 0;
            }
            if (!hasValue(missingValue.y)) {
                missingValue.y = 0;
            }
            return missingValue;
        }
    };

    return ScatterLineChart;
}(ScatterChart));

deepExtend(ScatterLineChart.prototype, LineChartMixin);

var XYPlotArea = (function (PlotAreaBase$$1) {
    function XYPlotArea () {
        PlotAreaBase$$1.apply(this, arguments);
    }

    if ( PlotAreaBase$$1 ) XYPlotArea.__proto__ = PlotAreaBase$$1;
    XYPlotArea.prototype = Object.create( PlotAreaBase$$1 && PlotAreaBase$$1.prototype );
    XYPlotArea.prototype.constructor = XYPlotArea;

    XYPlotArea.prototype.initFields = function initFields () {
        this.namedXAxes = {};
        this.namedYAxes = {};

        this.xAxisRangeTracker = new AxisGroupRangeTracker();
        this.yAxisRangeTracker = new AxisGroupRangeTracker();
    };

    XYPlotArea.prototype.render = function render (panes) {
        var this$1 = this;
        if ( panes === void 0 ) panes = this.panes;

        var seriesByPane = this.groupSeriesByPane();

        for (var i = 0; i < panes.length; i++) {
            var pane = panes[i];
            var paneSeries = seriesByPane[pane.options.name || "default"] || [];
            this$1.addToLegend(paneSeries);
            var filteredSeries = this$1.filterVisibleSeries(paneSeries);

            if (!filteredSeries) {
                continue;
            }

            this$1.createScatterChart(
                filterSeriesByType(filteredSeries, SCATTER),
                pane
            );

            this$1.createScatterLineChart(
                filterSeriesByType(filteredSeries, SCATTER_LINE),
                pane
            );

            this$1.createBubbleChart(
                filterSeriesByType(filteredSeries, BUBBLE),
                pane
            );
        }

        this.createAxes(panes);
    };

    XYPlotArea.prototype.appendChart = function appendChart (chart, pane) {
        this.xAxisRangeTracker.update(chart.xAxisRanges);
        this.yAxisRangeTracker.update(chart.yAxisRanges);

        PlotAreaBase$$1.prototype.appendChart.call(this, chart, pane);
    };

    XYPlotArea.prototype.removeAxis = function removeAxis (axis) {
        var axisName = axis.options.name;

        PlotAreaBase$$1.prototype.removeAxis.call(this, axis);

        if (axis.options.vertical) {
            this.yAxisRangeTracker.reset(axisName);
            delete this.namedYAxes[axisName];
        } else {
            this.xAxisRangeTracker.reset(axisName);
            delete this.namedXAxes[axisName];
        }

        if (axis === this.axisX) {
            delete this.axisX;
        }

        if (axis === this.axisY) {
            delete this.axisY;
        }
    };

    // TODO: Refactor, optionally use series.pane option
    XYPlotArea.prototype.seriesPaneName = function seriesPaneName (series) {
        var options = this.options;
        var xAxisName = series.xAxis;
        var xAxisOptions = [].concat(options.xAxis);
        var xAxis = grep(xAxisOptions, function(a) { return a.name === xAxisName; })[0];
        var yAxisName = series.yAxis;
        var yAxisOptions = [].concat(options.yAxis);
        var yAxis = grep(yAxisOptions, function(a) { return a.name === yAxisName; })[0];
        var panes = options.panes || [ {} ];
        var defaultPaneName = panes[0].name || "default";
        var paneName = (xAxis || {}).pane || (yAxis || {}).pane || defaultPaneName;

        return paneName;
    };

    XYPlotArea.prototype.createScatterChart = function createScatterChart (series, pane) {
        if (series.length > 0) {
            this.appendChart(
                new ScatterChart(this, { series: series, clip: pane.options.clip }),
                pane
            );
        }
    };

    XYPlotArea.prototype.createScatterLineChart = function createScatterLineChart (series, pane) {
        if (series.length > 0) {
            this.appendChart(
                new ScatterLineChart(this, { series: series, clip: pane.options.clip }),
                pane
            );
        }
    };

    XYPlotArea.prototype.createBubbleChart = function createBubbleChart (series, pane) {
        if (series.length > 0) {
            this.appendChart(
                new BubbleChart(this, { series: series, clip: pane.options.clip }),
                pane
            );
        }
    };

    XYPlotArea.prototype.createXYAxis = function createXYAxis (options, vertical, axisIndex) {
        var axisName = options.name;
        var namedAxes = vertical ? this.namedYAxes : this.namedXAxes;
        var tracker = vertical ? this.yAxisRangeTracker : this.xAxisRangeTracker;
        var axisOptions = deepExtend({ reverse: !vertical && this.chartService.rtl }, options, { vertical: vertical });
        var isLog = equalsIgnoreCase(axisOptions.type, LOGARITHMIC);
        var defaultRange = tracker.query();
        var defaultAxisRange = isLog ? { min: 0.1, max: 1 } : { min: 0, max: 1 };
        var range = tracker.query(axisName) || defaultRange || defaultAxisRange;
        var typeSamples = [ axisOptions.min, axisOptions.max ];
        var series = this.series;

        for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {
            var currentSeries = series[seriesIx];
            var seriesAxisName = currentSeries[vertical ? "yAxis" : "xAxis"];
            if ((seriesAxisName === axisOptions.name) || (axisIndex === 0 && !seriesAxisName)) {
                var firstPointValue = SeriesBinder.current.bindPoint(currentSeries, 0).valueFields;
                typeSamples.push(firstPointValue[vertical ? "y" : "x"]);

                break;
            }
        }

        if (axisIndex === 0 && defaultRange) {
            range.min = Math.min(range.min, defaultRange.min);
            range.max = Math.max(range.max, defaultRange.max);
        }

        var inferredDate;

        for (var i = 0; i < typeSamples.length; i++) {
            if (typeSamples[i] instanceof Date) {
                inferredDate = true;
                break;
            }
        }

        var axisType;
        if (equalsIgnoreCase(axisOptions.type, DATE) || (!axisOptions.type && inferredDate)) {
            axisType = DateValueAxis;
        } else if (isLog) {
            axisType = LogarithmicAxis;
        } else {
            axisType = NumericAxis;
        }

        var axis = new axisType(range.min, range.max, axisOptions, this.chartService);
        axis.axisIndex = axisIndex;

        if (axisName) {
            if (namedAxes[axisName]) {
                throw new Error(((vertical ? "Y" : "X") + " axis with name " + axisName + " is already defined"));
            }
            namedAxes[axisName] = axis;
        }

        this.appendAxis(axis);

        return axis;
    };

    XYPlotArea.prototype.createAxes = function createAxes (panes) {
        var this$1 = this;

        var options = this.options;
        var xAxesOptions = [].concat(options.xAxis);
        var xAxes = [];
        var yAxesOptions = [].concat(options.yAxis);
        var yAxes = [];

        for (var idx = 0; idx < xAxesOptions.length; idx++) {
            var axisPane = this$1.findPane(xAxesOptions[idx].pane);
            if (inArray(axisPane, panes)) {
                xAxes.push(this$1.createXYAxis(xAxesOptions[idx], false, idx));
            }
        }

        for (var idx$1 = 0; idx$1 < yAxesOptions.length; idx$1++) {
            var axisPane$1 = this$1.findPane(yAxesOptions[idx$1].pane);
            if (inArray(axisPane$1, panes)) {
                yAxes.push(this$1.createXYAxis(yAxesOptions[idx$1], true, idx$1));
            }
        }

        this.axisX = this.axisX || xAxes[0];
        this.axisY = this.axisY || yAxes[0];
    };

    XYPlotArea.prototype._dispatchEvent = function _dispatchEvent (chart, e, eventType) {
        var coords = chart._eventCoordinates(e);
        var point = new Point(coords.x, coords.y);
        var allAxes = this.axes;
        var length = allAxes.length;
        var xValues = [];
        var yValues = [];

        for (var i = 0; i < length; i++) {
            var axis = allAxes[i];
            var values = axis.options.vertical ? yValues : xValues;
            var currentValue = axis.getValue(point);
            if (currentValue !== null) {
                values.push(currentValue);
            }
        }

        if (xValues.length > 0 && yValues.length > 0) {
            chart.trigger(eventType, {
                element: eventElement(e),
                originalEvent: e,
                x: singleItemOrArray(xValues),
                y: singleItemOrArray(yValues)
            });
        }
    };

    XYPlotArea.prototype.updateAxisOptions = function updateAxisOptions$1 (axis, options) {
        var vertical = axis.options.vertical;
        var axes = this.groupAxes(this.panes);
        var index = (vertical ? axes.y : axes.x).indexOf(axis);

        updateAxisOptions$1$1(this.options, index, vertical, options);
        updateAxisOptions$1$1(this.originalOptions, index, vertical, options);
    };

    return XYPlotArea;
}(PlotAreaBase));

function updateAxisOptions$1$1(targetOptions, axisIndex, vertical, options) {
    var axisOptions = ([].concat(vertical ? targetOptions.yAxis : targetOptions.xAxis))[axisIndex];
    deepExtend(axisOptions, options);
}

setDefaultOptions(XYPlotArea, {
    xAxis: {},
    yAxis: {}
});

deepExtend(XYPlotArea.prototype, PlotAreaEventsMixin);

var PieSegment = (function (ChartElement$$1) {
    function PieSegment(value, sector, options) {
        ChartElement$$1.call(this, options);

        this.value = value;
        this.sector = sector;
    }

    if ( ChartElement$$1 ) PieSegment.__proto__ = ChartElement$$1;
    PieSegment.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    PieSegment.prototype.constructor = PieSegment;

    PieSegment.prototype.render = function render () {
        var labels = this.options.labels;
        var chartService = this.owner.chartService;
        var labelText = this.value;

        if (this._rendered || this.visible === false) {
            return;
        }
        this._rendered = true;

        var labelTemplate = getTemplate(labels);
        var pointData = this.pointData();

        if (labelTemplate) {
            labelText = labelTemplate(pointData);
        } else if (labels.format) {
            labelText = chartService.format.auto(labels.format, labelText);
        }

        if (labels.visible && (labelText || labelText === 0)) {
            if (labels.position === CENTER || labels.position === INSIDE_END) {
                if (!labels.color) {
                    var brightnessValue = new _progress_kendoDrawing.Color(this.options.color).percBrightness();
                    if (brightnessValue > 180) {
                        labels.color = BLACK;
                    } else {
                        labels.color = WHITE;
                    }
                }
                if (!labels.background) {
                    labels.background = this.options.color;
                }
            } else {
                var themeLabels = chartService.theme.seriesDefaults.labels;
                labels.color = labels.color || themeLabels.color;
                labels.background = labels.background || themeLabels.background;
            }


            this.label = new TextBox(labelText, deepExtend({}, labels, {
                align: CENTER,
                vAlign: "",
                animation: {
                    type: FADEIN,
                    delay: this.animationDelay
                }
            }), pointData);

            this.append(this.label);
        }
    };

    PieSegment.prototype.reflow = function reflow (targetBox) {
        this.render();
        this.box = targetBox;
        this.reflowLabel();
    };

    PieSegment.prototype.reflowLabel = function reflowLabel () {
        var ref = this;
        var labelsOptions = ref.options.labels;
        var label = ref.label;
        var sector = this.sector.clone();
        var labelsDistance = labelsOptions.distance;
        var angle = sector.middle();

        if (label) {
            var labelHeight = label.box.height();
            var labelWidth = label.box.width();
            var lp;

            if (labelsOptions.position === CENTER) {
                sector.radius = Math.abs((sector.radius - labelHeight) / 2) + labelHeight;
                lp = sector.point(angle);
                label.reflow(new Box(lp.x, lp.y - labelHeight / 2, lp.x, lp.y));
            } else if (labelsOptions.position === INSIDE_END) {
                sector.radius = sector.radius - labelHeight / 2;
                lp = sector.point(angle);
                label.reflow(new Box(lp.x, lp.y - labelHeight / 2, lp.x, lp.y));
            } else {
                var x1;
                lp = sector.clone().expand(labelsDistance).point(angle);
                if (lp.x >= sector.center.x) {
                    x1 = lp.x + labelWidth;
                    label.orientation = RIGHT;
                } else {
                    x1 = lp.x - labelWidth;
                    label.orientation = LEFT;
                }
                label.reflow(new Box(x1, lp.y - labelHeight, lp.x, lp.y));
            }
        }
    };

    PieSegment.prototype.createVisual = function createVisual () {
        var this$1 = this;

        var ref = this;
        var sector = ref.sector;
        var options = ref.options;

        ChartElement$$1.prototype.createVisual.call(this);

        if (this.value) {
            if (options.visual) {
                var startAngle = (sector.startAngle + 180) % 360;
                var visual = options.visual({
                    category: this.category,
                    dataItem: this.dataItem,
                    value: this.value,
                    series: this.series,
                    percentage: this.percentage,
                    center: new _progress_kendoDrawing.geometry.Point(sector.center.x, sector.center.y),
                    radius: sector.radius,
                    innerRadius: sector.innerRadius,
                    startAngle: startAngle,
                    endAngle: startAngle + sector.angle,
                    options: options,
                    sender: this.getSender(),
                    createVisual: function () {
                        var group = new _progress_kendoDrawing.drawing.Group();
                        this$1.createSegmentVisual(group);

                        return group;
                    }
                });

                if (visual) {
                    this.visual.append(visual);
                }
            } else {
                this.createSegmentVisual(this.visual);
            }
        }
    };

    PieSegment.prototype.createSegmentVisual = function createSegmentVisual (group) {
        var ref = this;
        var sector = ref.sector;
        var options = ref.options;
        var borderOptions = options.border || {};
        var border = borderOptions.width > 0 ? {
            stroke: {
                color: borderOptions.color,
                width: borderOptions.width,
                opacity: borderOptions.opacity,
                dashType: borderOptions.dashType
            }
        } : {};
        var color = options.color;
        var fill = {
            color: color,
            opacity: options.opacity
        };
        var visual = this.createSegment(sector, deepExtend({
            fill: fill,
            stroke: {
                opacity: options.opacity
            },
            zIndex: options.zIndex
        }, border));

        group.append(visual);

        if (hasGradientOverlay(options)) {
            group.append(this.createGradientOverlay(visual, {
                baseColor: color,
                fallbackFill: fill
            }, deepExtend({
                center: [ sector.center.x, sector.center.y ],
                innerRadius: sector.innerRadius,
                radius: sector.radius,
                userSpace: true
            }, options.overlay)));
        }
    };

    PieSegment.prototype.createSegment = function createSegment (sector, options) {
        if (options.singleSegment) {
            return new _progress_kendoDrawing.drawing.Circle(new _progress_kendoDrawing.geometry.Circle(new _progress_kendoDrawing.geometry.Point(sector.center.x, sector.center.y), sector.radius), options);
        }

        return ShapeBuilder.current.createRing(sector, options);
    };

    PieSegment.prototype.createAnimation = function createAnimation () {
        var ref = this;
        var options = ref.options;
        var center = ref.sector.center;

        deepExtend(options, {
            animation: {
                center: [ center.x, center.y ],
                delay: this.animationDelay
            }
        });

        ChartElement$$1.prototype.createAnimation.call(this);
    };

    PieSegment.prototype.createHighlight = function createHighlight (options) {
        var highlight = this.options.highlight || {};
        var border = highlight.border || {};

        return this.createSegment(this.sector, deepExtend({}, options, {
            fill: {
                color: highlight.color,
                opacity: highlight.opacity
            },
            stroke: {
                opacity: border.opacity,
                width: border.width,
                color: border.color
            }
        }));
    };

    PieSegment.prototype.highlightVisual = function highlightVisual () {
        return this.visual.children[0];
    };

    PieSegment.prototype.highlightVisualArgs = function highlightVisualArgs () {
        var sector = this.sector;

        return {
            options: this.options,
            radius: sector.radius,
            innerRadius: sector.innerRadius,
            center: new _progress_kendoDrawing.geometry.Point(sector.center.x, sector.center.y),
            startAngle: sector.startAngle,
            endAngle: sector.angle + sector.startAngle,
            visual: this.visual
        };
    };

    PieSegment.prototype.tooltipAnchor = function tooltipAnchor () {
        var sector = this.sector.clone().expand(TOOLTIP_OFFSET);
        var midAndle = sector.middle();
        var midPoint = sector.point(midAndle);

        return {
            point: midPoint,
            align: tooltipAlignment(midAndle + 180)
        };
    };

    PieSegment.prototype.formatValue = function formatValue (format) {
        return this.owner.formatPointValue(this, format);
    };

    PieSegment.prototype.pointData = function pointData () {
        return {
            dataItem: this.dataItem,
            category: this.category,
            value: this.value,
            series: this.series,
            percentage: this.percentage
        };
    };

    return PieSegment;
}(ChartElement));

var RAD_30 = round(rad(30), DEFAULT_PRECISION);
var RAD_60 = round(rad(60), DEFAULT_PRECISION);

function tooltipAlignment(angle) {
    var radians = rad(angle);
    var sine = round(Math.sin(radians), DEFAULT_PRECISION);
    var cosine = round(Math.cos(radians), DEFAULT_PRECISION);


    var horizontal;
    if (Math.abs(sine) > RAD_60) {
        horizontal = CENTER;
    } else if (cosine < 0) {
        horizontal = RIGHT;
    } else {
        horizontal = LEFT;
    }

    var vertical;
    if (Math.abs(sine) < RAD_30) {
        vertical = CENTER;
    } else if (sine < 0) {
        vertical = BOTTOM;
    } else {
        vertical = TOP;
    }

    return {
        horizontal: horizontal,
        vertical: vertical
    };
}

setDefaultOptions(PieSegment, {
    color: WHITE,
    overlay: {
        gradient: "roundedBevel"
    },
    border: {
        width: 0.5
    },
    labels: {
        visible: false,
        distance: 35,
        font: DEFAULT_FONT,
        margin: getSpacing(0.5),
        align: CIRCLE,
        zIndex: 1,
        position: OUTSIDE_END
    },
    animation: {
        type: PIE
    },
    highlight: {
        visible: true,
        border: {
            width: 1
        }
    },
    visible: true
});

deepExtend(PieSegment.prototype, PointEventsMixin);

var PieChartMixin = {
    createLegendItem: function(value, point, options) {
        var legendOptions = this.options.legend || {};
        var labelsOptions = legendOptions.labels || {};
        var inactiveItems = legendOptions.inactiveItems || {};
        var inactiveItemsLabels = inactiveItems.labels || {};

        if (options && options.visibleInLegend !== false) {
            var pointVisible = options.visible !== false;
            var labelTemplate = pointVisible ? getTemplate(labelsOptions) :
                getTemplate(inactiveItemsLabels) || getTemplate(labelsOptions);
            var text = options.category;

            if (labelTemplate) {
                text = labelTemplate({
                    text: text,
                    series: options.series,
                    dataItem: options.dataItem,
                    percentage: options.percentage,
                    value: value
                });
            }

            var itemLabelOptions, markerColor;
            if (pointVisible) {
                itemLabelOptions = {};
                markerColor = point.color;
            } else {
                itemLabelOptions = {
                    color: inactiveItemsLabels.color,
                    font: inactiveItemsLabels.font
                };
                markerColor = (inactiveItems.markers || {}).color;
            }

            if (hasValue(text) && text !== "") {
                this.legendItems.push({
                    active: pointVisible,
                    pointIndex: options.index,
                    text: text,
                    series: options.series,
                    markerColor: markerColor,
                    labels: itemLabelOptions
                });
            }
        }
    }
};

var PIE_SECTOR_ANIM_DELAY = 70;

var PieChart = (function (ChartElement$$1) {
    function PieChart(plotArea, options) {
        ChartElement$$1.call(this, options);

        this.plotArea = plotArea;
        this.chartService = plotArea.chartService;
        this.points = [];
        this.legendItems = [];
        this.render();
    }

    if ( ChartElement$$1 ) PieChart.__proto__ = ChartElement$$1;
    PieChart.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    PieChart.prototype.constructor = PieChart;

    PieChart.prototype.render = function render () {
        this.traverseDataPoints(this.addValue.bind(this));
    };

    PieChart.prototype.traverseDataPoints = function traverseDataPoints (callback) {
        var this$1 = this;

        var ref = this;
        var options = ref.options;
        var seriesColors = ref.plotArea.options.seriesColors; if ( seriesColors === void 0 ) seriesColors = [];
        var colorsCount = seriesColors.length;
        var series = options.series;
        var seriesCount = series.length;

        for (var seriesIx = 0; seriesIx < seriesCount; seriesIx++) {
            var currentSeries = series[seriesIx];
            var data = currentSeries.data;
            var ref$1 = bindSegments(currentSeries);
            var total = ref$1.total;
            var points = ref$1.points;
            var count = ref$1.count;
            var anglePerValue = 360 / total;
            var constantAngle = (void 0);
            if (!isFinite(anglePerValue)) {
                constantAngle = 360 / count;
            }
            var currentAngle = (void 0);

            if (defined(currentSeries.startAngle)) {
                currentAngle = currentSeries.startAngle;
            } else {
                currentAngle = options.startAngle;
            }

            if (seriesIx !== seriesCount - 1) {
                if (currentSeries.labels.position === OUTSIDE_END) {
                    currentSeries.labels.position = CENTER;
                }
            }

            for (var i = 0; i < points.length; i++) {
                var pointData = points[i];
                if (!pointData) {
                    continue;
                }

                var fields = pointData.fields;
                var value = pointData.value;
                var visible = pointData.visible;
                var angle = value !== 0 ? (constantAngle || (value * anglePerValue)) : 0;
                var explode = data.length !== 1 && Boolean(fields.explode);

                if (!isFunction(currentSeries.color)) {
                    currentSeries.color = fields.color || seriesColors[i % colorsCount];
                }

                callback(pointData.valueFields.value, new Ring(null, 0, 0, currentAngle, angle), {
                    owner: this$1,
                    category: defined(fields.category) ? fields.category : "",
                    index: i,
                    series: currentSeries,
                    seriesIx: seriesIx,
                    dataItem: data[i],
                    percentage: total !== 0 ? value / total : 0,
                    explode: explode,
                    visibleInLegend: fields.visibleInLegend,
                    visible: visible,
                    zIndex: seriesCount - seriesIx,
                    animationDelay: this$1.animationDelay(i, seriesIx, seriesCount)
                });

                if (visible !== false) {
                    currentAngle += angle;
                }
            }
        }
    };

    PieChart.prototype.evalSegmentOptions = function evalSegmentOptions (options, value, fields) {
        var series = fields.series;

        evalOptions(options, {
            value: value,
            series: series,
            dataItem: fields.dataItem,
            category: fields.category,
            percentage: fields.percentage
        }, { defaults: series._defaults, excluded: [ "data", "content", "template", "visual", "toggle" ] });
    };

    PieChart.prototype.addValue = function addValue (value, sector, fields) {
        var segmentOptions = deepExtend({}, fields.series, { index: fields.index });
        this.evalSegmentOptions(segmentOptions, value, fields);

        this.createLegendItem(value, segmentOptions, fields);

        if (fields.visible === false) {
            return;
        }

        var segment = new PieSegment(value, sector, segmentOptions);
        Object.assign(segment, fields);
        this.append(segment);
        this.points.push(segment);
    };

    PieChart.prototype.reflow = function reflow (targetBox) {
        var ref = this;
        var options = ref.options;
        var points = ref.points;
        var seriesConfigs = ref.seriesConfigs; if ( seriesConfigs === void 0 ) seriesConfigs = [];
        var count = points.length;
        var box = targetBox.clone();
        var space = 5;
        var minWidth = Math.min(box.width(), box.height());
        var halfMinWidth = minWidth / 2;
        var defaultPadding = minWidth - minWidth * 0.85;
        var newBox = new Box(box.x1, box.y1, box.x1 + minWidth, box.y1 + minWidth);
        var newBoxCenter = newBox.center();
        var boxCenter = box.center();
        var seriesCount = options.series.length;
        var leftSideLabels = [];
        var rightSideLabels = [];
        var padding = valueOrDefault(options.padding, defaultPadding);

        this.targetBox = targetBox;

        padding = padding > halfMinWidth - space ? halfMinWidth - space : padding;
        newBox.translate(boxCenter.x - newBoxCenter.x, boxCenter.y - newBoxCenter.y);

        var radius = halfMinWidth - padding;
        var center = new Point(
            radius + newBox.x1 + padding,
            radius + newBox.y1 + padding
        );

        for (var i = 0; i < count; i++) {
            var segment = points[i];
            var sector = segment.sector;
            var seriesIndex = segment.seriesIx;
            sector.radius = radius;
            sector.center = center;

            if (seriesConfigs.length) {
                var seriesConfig = seriesConfigs[seriesIndex];
                sector.innerRadius = seriesConfig.innerRadius;
                sector.radius = seriesConfig.radius;
            }

            if (seriesIndex === seriesCount - 1 && segment.explode) {
                sector.center = sector.clone().setRadius(sector.radius * 0.15).point(sector.middle());
            }

            segment.reflow(newBox);

            var label = segment.label;
            if (label) {
                if (label.options.position === OUTSIDE_END) {
                    if (seriesIndex === seriesCount - 1) {
                        if (label.orientation === RIGHT) {
                            rightSideLabels.push(label);
                        } else {
                            leftSideLabels.push(label);
                        }
                    }
                }
            }
        }

        if (leftSideLabels.length > 0) {
            leftSideLabels.sort(this.labelComparator(true));
            this.leftLabelsReflow(leftSideLabels);
        }

        if (rightSideLabels.length > 0) {
            rightSideLabels.sort(this.labelComparator(false));
            this.rightLabelsReflow(rightSideLabels);
        }

        this.box = newBox;
    };

    PieChart.prototype.leftLabelsReflow = function leftLabelsReflow (labels) {
        var distances = this.distanceBetweenLabels(labels);

        this.distributeLabels(distances, labels);
    };

    PieChart.prototype.rightLabelsReflow = function rightLabelsReflow (labels) {
        var distances = this.distanceBetweenLabels(labels);

        this.distributeLabels(distances, labels);
    };

    PieChart.prototype.distanceBetweenLabels = function distanceBetweenLabels (labels) {
        var segment = last(this.points);
        var sector = segment.sector;
        var count = labels.length - 1;
        var lr = sector.radius + segment.options.labels.distance;
        var distances = [];
        var firstBox = labels[0].box;
        var distance = round(firstBox.y1 - (sector.center.y - lr - firstBox.height() - firstBox.height() / 2));

        distances.push(distance);

        for (var i = 0; i < count; i++) {
            var secondBox = labels[i + 1].box;

            firstBox = labels[i].box;
            distance = round(secondBox.y1 - firstBox.y2);
            distances.push(distance);
        }
        distance = round(sector.center.y + lr - labels[count].box.y2 - labels[count].box.height() / 2);
        distances.push(distance);

        return distances;
    };

    PieChart.prototype.distributeLabels = function distributeLabels (distances, labels) {
        var this$1 = this;

        var count = distances.length;
        var left, right, remaining;

        for (var i = 0; i < count; i++) {
            remaining = -distances[i];
            left = right = i;

            while (remaining > 0 && (left >= 0 || right < count)) {
                remaining = this$1._takeDistance(distances, i, --left, remaining);
                remaining = this$1._takeDistance(distances, i, ++right, remaining);
            }
        }

        this.reflowLabels(distances, labels);
    };

    PieChart.prototype._takeDistance = function _takeDistance (distances, anchor, position, amount) {
        var result = amount;
        if (distances[position] > 0) {
            var available = Math.min(distances[position], result);
            result -= available;
            distances[position] -= available;
            distances[anchor] += available;
        }

        return result;
    };

    PieChart.prototype.reflowLabels = function reflowLabels (distances, labels) {
        var this$1 = this;

        var segment = last(this.points);
        var sector = segment.sector;
        var labelOptions = segment.options.labels;
        var labelsCount = labels.length;
        var labelDistance = labelOptions.distance;
        var boxY = sector.center.y - (sector.radius + labelDistance) - labels[0].box.height();
        var boxX;

        distances[0] += 2;
        for (var i = 0; i < labelsCount; i++) {
            var label = labels[i];
            var box = label.box;

            boxY += distances[i];
            boxX = this$1.hAlignLabel(
                box.x2,
                sector.clone().expand(labelDistance),
                boxY,
                boxY + box.height(),
                label.orientation === RIGHT);

            if (label.orientation === RIGHT) {
                if (labelOptions.align !== CIRCLE) {
                    boxX = sector.radius + sector.center.x + labelDistance;
                }
                label.reflow(new Box(boxX + box.width(), boxY, boxX, boxY));
            } else {
                if (labelOptions.align !== CIRCLE) {
                    boxX = sector.center.x - sector.radius - labelDistance;
                }
                label.reflow(new Box(boxX - box.width(), boxY, boxX, boxY));
            }

            boxY += box.height();
        }
    };

    PieChart.prototype.createVisual = function createVisual () {
        var this$1 = this;

        var ref = this;
        var connectors = ref.options.connectors;
        var points = ref.points;
        var count = points.length;
        var space = 4;

        ChartElement$$1.prototype.createVisual.call(this);

        this._connectorLines = [];

        for (var i = 0; i < count; i++) {
            var segment = points[i];
            var sector = segment.sector;
            var label = segment.label;
            var angle = sector.middle();
            var connectorsColor = (segment.options.connectors || {}).color || connectors.color;

            if (label) {
                var connectorLine = new _progress_kendoDrawing.drawing.Path({
                    stroke: {
                        color: connectorsColor,
                        width: connectors.width
                    },
                    animation: {
                        type: FADEIN,
                        delay: segment.animationDelay
                    }
                });

                if (label.options.position === OUTSIDE_END) {
                    var box = label.box;
                    var centerPoint = sector.center;
                    var start = sector.point(angle);
                    var middle = new Point(box.x1, box.center().y);
                    var sr = (void 0), end = (void 0), crossing = (void 0);

                    start = sector.clone().expand(connectors.padding).point(angle);
                    connectorLine.moveTo(start.x, start.y);
                    // TODO: Extract into a method to remove duplication
                    if (label.orientation === RIGHT) {
                        end = new Point(box.x1 - connectors.padding, box.center().y);
                        crossing = intersection(centerPoint, start, middle, end);
                        middle = new Point(end.x - space, end.y);
                        crossing = crossing || middle;
                        crossing.x = Math.min(crossing.x, middle.x);

                        if (this$1.pointInCircle(crossing, sector.center, sector.radius + space) ||
                            crossing.x < sector.center.x) {
                            sr = sector.center.x + sector.radius + space;
                            if (segment.options.labels.align !== COLUMN) {
                                if (sr < middle.x) {
                                    connectorLine.lineTo(sr, start.y);
                                } else {
                                    connectorLine.lineTo(start.x + space * 2, start.y);
                                }
                            } else {
                                connectorLine.lineTo(sr, start.y);
                            }
                            connectorLine.lineTo(middle.x, end.y);
                        } else {
                            crossing.y = end.y;
                            connectorLine.lineTo(crossing.x, crossing.y);
                        }
                    } else {
                        end = new Point(box.x2 + connectors.padding, box.center().y);
                        crossing = intersection(centerPoint, start, middle, end);
                        middle = new Point(end.x + space, end.y);
                        crossing = crossing || middle;
                        crossing.x = Math.max(crossing.x, middle.x);

                        if (this$1.pointInCircle(crossing, sector.center, sector.radius + space) ||
                            crossing.x > sector.center.x) {
                            sr = sector.center.x - sector.radius - space;
                            if (segment.options.labels.align !== COLUMN) {
                                if (sr > middle.x) {
                                    connectorLine.lineTo(sr, start.y);
                                } else {
                                    connectorLine.lineTo(start.x - space * 2, start.y);
                                }
                            } else {
                                connectorLine.lineTo(sr, start.y);
                            }
                            connectorLine.lineTo(middle.x, end.y);
                        } else {
                            crossing.y = end.y;
                            connectorLine.lineTo(crossing.x, crossing.y);
                        }
                    }

                    connectorLine.lineTo(end.x, end.y);

                    this$1._connectorLines.push(connectorLine);
                    this$1.visual.append(connectorLine);
                }
            }
        }
    };

    PieChart.prototype.renderVisual = function renderVisual () {
        ChartElement$$1.prototype.renderVisual.call(this);

        if (this.options.series.find(function (options) { return options.autoFit; })) {
            var rect = this.targetBox.toRect();
            _progress_kendoDrawing.drawing.fit(this.visual, rect);

            var transform = this.visual.transform();

            if (transform) {
                _progress_kendoDrawing.drawing.align([ this.visual ], rect, 'center');

                var pieBox = this.box.toRect().transformCopy(transform); //transformed pie box

                transform.matrix().f += rect.center().y - pieBox.center().y; // move to targetbox center
            }
        }
    };

    PieChart.prototype.labelComparator = function labelComparator (reverse) {
        var reverseValue = reverse ? -1 : 1;

        return function(a, b) {
            var first = (a.parent.sector.middle() + 270) % 360;
            var second = (b.parent.sector.middle() + 270) % 360;
            return (first - second) * reverseValue;
        };
    };

    PieChart.prototype.hAlignLabel = function hAlignLabel (originalX, sector, y1, y2, direction) {
        var radius = sector.radius;
        var sector_center = sector.center;
        var cx = sector_center.x;
        var cy = sector_center.y;
        var t = Math.min(Math.abs(cy - y1), Math.abs(cy - y2));

        if (t > radius) {
            return originalX;
        }

        return cx + Math.sqrt((radius * radius) - (t * t)) * (direction ? 1 : -1);
    };

    PieChart.prototype.pointInCircle = function pointInCircle (point, center, radius) {
        return Math.pow(center.x - point.x, 2) + Math.pow(center.y - point.y, 2) < Math.pow(radius, 2);
    };

    PieChart.prototype.formatPointValue = function formatPointValue (point, format) {
        return this.chartService.format.auto(format, point.value);
    };

    PieChart.prototype.animationDelay = function animationDelay (categoryIndex) {
        return categoryIndex * PIE_SECTOR_ANIM_DELAY;
    };

    PieChart.prototype.stackRoot = function stackRoot () {
        return this;
    };

    return PieChart;
}(ChartElement));

function intersection(a1, a2, b1, b2) {
    var uat = (b2.x - b1.x) * (a1.y - b1.y) - (b2.y - b1.y) * (a1.x - b1.x);
    var ub = (b2.y - b1.y) * (a2.x - a1.x) - (b2.x - b1.x) * (a2.y - a1.y);

    var result;
    if (ub !== 0) {
        var ua = (uat / ub);

        result = new Point(
            a1.x + ua * (a2.x - a1.x),
            a1.y + ua * (a2.y - a1.y)
        );
    }

    return result;
}

setDefaultOptions(PieChart, {
    startAngle: 90,
    connectors: {
        width: 2,
        color: "#939393",
        padding: 8
    },
    inactiveItems: {
        markers: {},
        labels: {}
    }
});

deepExtend(PieChart.prototype, PieChartMixin);

PieChart.prototype.isStackRoot = true;

var PiePlotArea = (function (PlotAreaBase$$1) {
    function PiePlotArea () {
        PlotAreaBase$$1.apply(this, arguments);
    }

    if ( PlotAreaBase$$1 ) PiePlotArea.__proto__ = PlotAreaBase$$1;
    PiePlotArea.prototype = Object.create( PlotAreaBase$$1 && PlotAreaBase$$1.prototype );
    PiePlotArea.prototype.constructor = PiePlotArea;

    PiePlotArea.prototype.render = function render () {
        this.createPieChart(this.series);
    };

    PiePlotArea.prototype.createPieChart = function createPieChart (series) {
        var firstSeries = series[0];
        var pieChart = new PieChart(this, {
            series: series,
            padding: firstSeries.padding,
            startAngle: firstSeries.startAngle,
            connectors: firstSeries.connectors,
            legend: this.options.legend
        });

        this.appendChart(pieChart);
    };

    PiePlotArea.prototype.appendChart = function appendChart (chart, pane) {
        PlotAreaBase$$1.prototype.appendChart.call(this, chart, pane);
        append$1(this.options.legend.items, chart.legendItems);
    };

    return PiePlotArea;
}(PlotAreaBase));

var DonutSegment = (function (PieSegment$$1) {
    function DonutSegment () {
        PieSegment$$1.apply(this, arguments);
    }

    if ( PieSegment$$1 ) DonutSegment.__proto__ = PieSegment$$1;
    DonutSegment.prototype = Object.create( PieSegment$$1 && PieSegment$$1.prototype );
    DonutSegment.prototype.constructor = DonutSegment;

    DonutSegment.prototype.reflowLabel = function reflowLabel () {
        var ref = this;
        var labelsOptions = ref.options.labels;
        var label = ref.label;
        var sector = this.sector.clone();
        var angle = sector.middle();

        if (label) {
            var labelHeight = label.box.height();
            if (labelsOptions.position === CENTER) {
                sector.radius -= (sector.radius - sector.innerRadius) / 2;

                var lp = sector.point(angle);

                label.reflow(new Box(lp.x, lp.y - labelHeight / 2, lp.x, lp.y));
            } else {
                PieSegment$$1.prototype.reflowLabel.call(this);
            }
        }
    };

    DonutSegment.prototype.createSegment = function createSegment (sector, options) {
        return ShapeBuilder.current.createRing(sector, options);
    };

    return DonutSegment;
}(PieSegment));

setDefaultOptions(DonutSegment, {
    overlay: {
        gradient: "roundedGlass"
    },
    labels: {
        position: CENTER
    },
    animation: {
        type: PIE
    }
});

deepExtend(DonutSegment.prototype, PointEventsMixin);

var DONUT_SECTOR_ANIM_DELAY = 50;

var DonutChart = (function (PieChart$$1) {
    function DonutChart () {
        PieChart$$1.apply(this, arguments);
    }

    if ( PieChart$$1 ) DonutChart.__proto__ = PieChart$$1;
    DonutChart.prototype = Object.create( PieChart$$1 && PieChart$$1.prototype );
    DonutChart.prototype.constructor = DonutChart;

    DonutChart.prototype.addValue = function addValue (value, sector, fields) {
        var segmentOptions = deepExtend({}, fields.series, { index: fields.index });
        this.evalSegmentOptions(segmentOptions, value, fields);

        this.createLegendItem(value, segmentOptions, fields);

        if (!value || fields.visible === false) {
            return;
        }

        var segment = new DonutSegment(value, sector, segmentOptions);

        Object.assign(segment, fields);
        this.append(segment);
        this.points.push(segment);
    };

    DonutChart.prototype.reflow = function reflow (targetBox) {
        var this$1 = this;

        var options = this.options;
        var box = targetBox.clone();
        var space = 5;
        var minWidth = Math.min(box.width(), box.height());
        var halfMinWidth = minWidth / 2;
        var defaultPadding = minWidth - minWidth * 0.85;
        var series = options.series;
        var seriesCount = series.length;

        var padding = valueOrDefault(options.padding, defaultPadding);
        padding = padding > halfMinWidth - space ? halfMinWidth - space : padding;

        var totalSize = halfMinWidth - padding;
        var seriesWithoutSize = 0;
        var holeSize;

        for (var i = 0; i < seriesCount; i++) {
            var currentSeries = series[i];
            if (i === 0) {
                if (defined(currentSeries.holeSize)) {
                    holeSize = currentSeries.holeSize;
                    totalSize -= currentSeries.holeSize;
                }
            }

            if (defined(currentSeries.size)) {
                totalSize -= currentSeries.size;
            } else {
                seriesWithoutSize++;
            }

            if (defined(currentSeries.margin) && i !== seriesCount - 1) {
                totalSize -= currentSeries.margin;
            }
        }

        if (!defined(holeSize)) {
            var currentSize = (halfMinWidth - padding) / (seriesCount + 0.75);
            holeSize = currentSize * 0.75;
            totalSize -= holeSize;
        }

        var innerRadius = holeSize;
        var margin = 0;
        var size, radius;

        this.seriesConfigs = [];

        for (var i$1 = 0; i$1 < seriesCount; i$1++) {
            var currentSeries$1 = series[i$1];
            size = valueOrDefault(currentSeries$1.size, totalSize / seriesWithoutSize);
            innerRadius += margin;
            radius = innerRadius + size;
            this$1.seriesConfigs.push({ innerRadius: innerRadius, radius: radius });
            margin = currentSeries$1.margin || 0;
            innerRadius = radius;
        }

        PieChart$$1.prototype.reflow.call(this, targetBox);
    };

    DonutChart.prototype.animationDelay = function animationDelay (categoryIndex, seriesIndex, seriesCount) {
        return categoryIndex * DONUT_SECTOR_ANIM_DELAY +
            (INITIAL_ANIMATION_DURATION * (seriesIndex + 1) / (seriesCount + 1));
    };

    return DonutChart;
}(PieChart));


setDefaultOptions(DonutChart, {
    startAngle: 90,
    connectors: {
        width: 2,
        color: "#939393",
        padding: 8
    }
});

var DonutPlotArea = (function (PiePlotArea$$1) {
    function DonutPlotArea () {
        PiePlotArea$$1.apply(this, arguments);
    }

    if ( PiePlotArea$$1 ) DonutPlotArea.__proto__ = PiePlotArea$$1;
    DonutPlotArea.prototype = Object.create( PiePlotArea$$1 && PiePlotArea$$1.prototype );
    DonutPlotArea.prototype.constructor = DonutPlotArea;

    DonutPlotArea.prototype.render = function render () {
        this.createDonutChart(this.series);
    };

    DonutPlotArea.prototype.createDonutChart = function createDonutChart (series) {
        var firstSeries = series[0];
        var donutChart = new DonutChart(this, {
            series: series,
            padding: firstSeries.padding,
            connectors: firstSeries.connectors,
            legend: this.options.legend
        });

        this.appendChart(donutChart);
    };

    return DonutPlotArea;
}(PiePlotArea));

var DEFAULT_PADDING = 0.15;

var PolarPlotAreaBase = (function (PlotAreaBase$$1) {
    function PolarPlotAreaBase () {
        PlotAreaBase$$1.apply(this, arguments);
    }

    if ( PlotAreaBase$$1 ) PolarPlotAreaBase.__proto__ = PlotAreaBase$$1;
    PolarPlotAreaBase.prototype = Object.create( PlotAreaBase$$1 && PlotAreaBase$$1.prototype );
    PolarPlotAreaBase.prototype.constructor = PolarPlotAreaBase;

    PolarPlotAreaBase.prototype.initFields = function initFields () {
        this.valueAxisRangeTracker = new AxisGroupRangeTracker();
    };

    PolarPlotAreaBase.prototype.render = function render () {
        this.addToLegend(this.series);
        this.createPolarAxis();
        this.createCharts();
        this.createValueAxis();
    };

    PolarPlotAreaBase.prototype.alignAxes = function alignAxes () {
        var axis = this.valueAxis;
        var range = axis.range();
        var crossingValue = axis.options.reverse ? range.max : range.min;
        var slot = axis.getSlot(crossingValue);
        var center = this.polarAxis.getSlot(0).center;
        var axisBox = axis.box.translate(
            center.x - slot.x1,
            center.y - slot.y1
        );

        axis.reflow(axisBox);
    };

    PolarPlotAreaBase.prototype.createValueAxis = function createValueAxis () {
        var tracker = this.valueAxisRangeTracker;
        var defaultRange = tracker.query();
        var axisOptions = this.valueAxisOptions({
            roundToMajorUnit: false,
            zIndex: -1
        });
        var axisType, axisDefaultRange;

        if (axisOptions.type === LOGARITHMIC) {
            axisType = RadarLogarithmicAxis;
            axisDefaultRange = { min: 0.1, max: 1 };
        } else {
            axisType = RadarNumericAxis;
            axisDefaultRange = { min: 0, max: 1 };
        }

        var range = tracker.query(name) || defaultRange || axisDefaultRange;

        if (range && defaultRange) {
            range.min = Math.min(range.min, defaultRange.min);
            range.max = Math.max(range.max, defaultRange.max);
        }

        var valueAxis = new axisType(
            range.min, range.max,
            axisOptions,
            this.chartService
        );

        this.valueAxis = valueAxis;
        this.appendAxis(valueAxis);
    };

    PolarPlotAreaBase.prototype.reflowAxes = function reflowAxes () {
        var ref = this;
        var options = ref.options.plotArea;
        var valueAxis = ref.valueAxis;
        var polarAxis = ref.polarAxis;
        var box = ref.box;
        var defaultPadding = Math.min(box.width(), box.height()) * DEFAULT_PADDING;
        var padding = getSpacing(options.padding || {}, defaultPadding);
        var paddingBox = box.clone().unpad(padding);
        var axisBox = paddingBox.clone();

        axisBox.y2 = axisBox.y1 + Math.min(axisBox.width(), axisBox.height());
        axisBox.align(paddingBox, Y, CENTER);

        var valueAxisBox = axisBox.clone().shrink(0, axisBox.height() / 2);

        polarAxis.reflow(axisBox);
        valueAxis.reflow(valueAxisBox);
        var heightDiff = valueAxis.lineBox().height() - valueAxis.box.height();
        valueAxis.reflow(valueAxis.box.unpad({ top: heightDiff }));

        this.axisBox = axisBox;
        this.alignAxes(axisBox);
    };

    PolarPlotAreaBase.prototype.backgroundBox = function backgroundBox () {
        return this.box;
    };

    PolarPlotAreaBase.prototype.detachLabels = function detachLabels () {};

    return PolarPlotAreaBase;
}(PlotAreaBase));

var PolarScatterChart = (function (ScatterChart$$1) {
    function PolarScatterChart () {
        ScatterChart$$1.apply(this, arguments);
    }

    if ( ScatterChart$$1 ) PolarScatterChart.__proto__ = ScatterChart$$1;
    PolarScatterChart.prototype = Object.create( ScatterChart$$1 && ScatterChart$$1.prototype );
    PolarScatterChart.prototype.constructor = PolarScatterChart;

    PolarScatterChart.prototype.pointSlot = function pointSlot (slotX, slotY) {
        var valueRadius = slotX.center.y - slotY.y1;
        var slot = Point.onCircle(slotX.center, slotX.startAngle, valueRadius);

        return new Box(slot.x, slot.y, slot.x, slot.y);
    };

    return PolarScatterChart;
}(ScatterChart));

setDefaultOptions(PolarScatterChart, {
    clip: false
});

var PolarLineChart = (function (ScatterLineChart$$1) {
    function PolarLineChart () {
        ScatterLineChart$$1.apply(this, arguments);
    }if ( ScatterLineChart$$1 ) PolarLineChart.__proto__ = ScatterLineChart$$1;
    PolarLineChart.prototype = Object.create( ScatterLineChart$$1 && ScatterLineChart$$1.prototype );
    PolarLineChart.prototype.constructor = PolarLineChart;

    

    return PolarLineChart;
}(ScatterLineChart));

PolarLineChart.prototype.pointSlot = PolarScatterChart.prototype.pointSlot;

setDefaultOptions(PolarLineChart, {
    clip: false
});

var SplinePolarAreaSegment = (function (SplineAreaSegment$$1) {
    function SplinePolarAreaSegment () {
        SplineAreaSegment$$1.apply(this, arguments);
    }

    if ( SplineAreaSegment$$1 ) SplinePolarAreaSegment.__proto__ = SplineAreaSegment$$1;
    SplinePolarAreaSegment.prototype = Object.create( SplineAreaSegment$$1 && SplineAreaSegment$$1.prototype );
    SplinePolarAreaSegment.prototype.constructor = SplinePolarAreaSegment;

    SplinePolarAreaSegment.prototype.fillToAxes = function fillToAxes (fillPath) {
        var center = this._polarAxisCenter();
        fillPath.lineTo(center.x, center.y);
    };

    SplinePolarAreaSegment.prototype._polarAxisCenter = function _polarAxisCenter () {
        var polarAxis = this.parent.plotArea.polarAxis;
        var center = polarAxis.box.center();
        return center;
    };

    SplinePolarAreaSegment.prototype.strokeSegments = function strokeSegments () {
        var segments = this._strokeSegments;

        if (!segments) {
            var center = this._polarAxisCenter();
            var curveProcessor = new CurveProcessor(false);
            var linePoints = this.points();

            linePoints.push(center);
            segments = this._strokeSegments = curveProcessor.process(linePoints);
            segments.pop();
        }

        return segments;
    };

    return SplinePolarAreaSegment;
}(SplineAreaSegment));

var PolarAreaSegment = (function (AreaSegment$$1) {
    function PolarAreaSegment () {
        AreaSegment$$1.apply(this, arguments);
    }

    if ( AreaSegment$$1 ) PolarAreaSegment.__proto__ = AreaSegment$$1;
    PolarAreaSegment.prototype = Object.create( AreaSegment$$1 && AreaSegment$$1.prototype );
    PolarAreaSegment.prototype.constructor = PolarAreaSegment;

    PolarAreaSegment.prototype.fillToAxes = function fillToAxes (fillPath) {
        var polarAxis = this.parent.plotArea.polarAxis;
        var center = polarAxis.box.center();
        var centerSegment = new _progress_kendoDrawing.geometry.Segment([ center.x, center.y ]);

        fillPath.segments.unshift(centerSegment);
        fillPath.segments.push(centerSegment);
    };

    return PolarAreaSegment;
}(AreaSegment));

var PolarAreaChart = (function (PolarLineChart$$1) {
    function PolarAreaChart () {
        PolarLineChart$$1.apply(this, arguments);
    }

    if ( PolarLineChart$$1 ) PolarAreaChart.__proto__ = PolarLineChart$$1;
    PolarAreaChart.prototype = Object.create( PolarLineChart$$1 && PolarLineChart$$1.prototype );
    PolarAreaChart.prototype.constructor = PolarAreaChart;

    PolarAreaChart.prototype.createSegment = function createSegment (linePoints, currentSeries, seriesIx) {
        var style = (currentSeries.line || {}).style;
        var segment;

        if (style === SMOOTH) {
            segment = new SplinePolarAreaSegment(linePoints, currentSeries, seriesIx);
        } else {
            segment = new PolarAreaSegment(linePoints, currentSeries, seriesIx);
        }
        return segment;
    };

    PolarAreaChart.prototype.createMissingValue = function createMissingValue (value, missingValues) {
        var missingValue;

        if (hasValue(value.x) && missingValues !== INTERPOLATE) {
            missingValue = {
                x: value.x,
                y: value.y
            };
            if (missingValues === ZERO) {
                missingValue.y = 0;
            }
        }

        return missingValue;
    };

    PolarAreaChart.prototype.seriesMissingValues = function seriesMissingValues (series) {
        return series.missingValues || ZERO;
    };

    PolarAreaChart.prototype._hasMissingValuesGap = function _hasMissingValuesGap () {
        var this$1 = this;

        var series = this.options.series;

        for (var idx = 0; idx < series.length; idx++) {
            if (this$1.seriesMissingValues(series[idx]) === GAP) {
                return true;
            }
        }
    };

    PolarAreaChart.prototype.sortPoints = function sortPoints (points) {
        var this$1 = this;

        points.sort(xComparer);

        if (this._hasMissingValuesGap()) {
            for (var idx = 0; idx < points.length; idx++) {
                var point = points[idx];
                if (point) {
                    var value = point.value;
                    if (!hasValue(value.y) && this$1.seriesMissingValues(point.series) === GAP) {
                        delete points[idx];
                    }
                }
            }
        }

        return points;
    };

    return PolarAreaChart;
}(PolarLineChart));

function xComparer(a, b) {
    return a.value.x - b.value.x;
}

var PolarPlotArea = (function (PolarPlotAreaBase$$1) {
    function PolarPlotArea () {
        PolarPlotAreaBase$$1.apply(this, arguments);
    }

    if ( PolarPlotAreaBase$$1 ) PolarPlotArea.__proto__ = PolarPlotAreaBase$$1;
    PolarPlotArea.prototype = Object.create( PolarPlotAreaBase$$1 && PolarPlotAreaBase$$1.prototype );
    PolarPlotArea.prototype.constructor = PolarPlotArea;

    PolarPlotArea.prototype.createPolarAxis = function createPolarAxis () {
        var polarAxis = new PolarAxis(this.options.xAxis, this.chartService);

        this.polarAxis = polarAxis;
        this.axisX = polarAxis;
        this.appendAxis(polarAxis);
    };

    PolarPlotArea.prototype.valueAxisOptions = function valueAxisOptions (defaults) {
        return deepExtend(defaults, {
            majorGridLines: { type: ARC },
            minorGridLines: { type: ARC }
        }, this.options.yAxis);
    };

    PolarPlotArea.prototype.createValueAxis = function createValueAxis () {
        PolarPlotAreaBase$$1.prototype.createValueAxis.call(this);
        this.axisY = this.valueAxis;
    };

    PolarPlotArea.prototype.appendChart = function appendChart (chart, pane) {
        this.valueAxisRangeTracker.update(chart.yAxisRanges);

        PlotAreaBase.prototype.appendChart.call(this, chart, pane);
    };

    PolarPlotArea.prototype.createCharts = function createCharts () {
        var series = this.filterVisibleSeries(this.series);
        var pane = this.panes[0];

        this.createLineChart(
            filterSeriesByType(series, [ POLAR_LINE ]),
            pane
        );

        this.createScatterChart(
            filterSeriesByType(series, [ POLAR_SCATTER ]),
            pane
        );

        this.createAreaChart(
            filterSeriesByType(series, [ POLAR_AREA ]),
            pane
        );
    };

    PolarPlotArea.prototype.createLineChart = function createLineChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var lineChart = new PolarLineChart(this, { series: series });

        this.appendChart(lineChart, pane);
    };

    PolarPlotArea.prototype.createScatterChart = function createScatterChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var scatterChart = new PolarScatterChart(this, { series: series });

        this.appendChart(scatterChart, pane);
    };

    PolarPlotArea.prototype.createAreaChart = function createAreaChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var areaChart = new PolarAreaChart(this, { series: series });

        this.appendChart(areaChart, pane);
    };

    PolarPlotArea.prototype._dispatchEvent = function _dispatchEvent (chart, e, eventType) {
        var coords = chart._eventCoordinates(e);
        var point = new Point(coords.x, coords.y);
        var xValue = this.axisX.getValue(point);
        var yValue = this.axisY.getValue(point);

        if (xValue !== null && yValue !== null) {
            chart.trigger(eventType, {
                element: eventElement(e),
                x: xValue,
                y: yValue
            });
        }
    };

    PolarPlotArea.prototype.createCrosshairs = function createCrosshairs () {};

    return PolarPlotArea;
}(PolarPlotAreaBase));

setDefaultOptions(PolarPlotArea, {
    xAxis: {},
    yAxis: {}
});

deepExtend(PolarPlotArea.prototype, PlotAreaEventsMixin);

var RadarLineChart = (function (LineChart$$1) {
    function RadarLineChart () {
        LineChart$$1.apply(this, arguments);
    }

    if ( LineChart$$1 ) RadarLineChart.__proto__ = LineChart$$1;
    RadarLineChart.prototype = Object.create( LineChart$$1 && LineChart$$1.prototype );
    RadarLineChart.prototype.constructor = RadarLineChart;

    RadarLineChart.prototype.pointSlot = function pointSlot (categorySlot, valueSlot) {
        var valueRadius = categorySlot.center.y - valueSlot.y1;
        var slot = Point.onCircle(categorySlot.center, categorySlot.middle(), valueRadius);

        return new Box(slot.x, slot.y, slot.x, slot.y);
    };

    RadarLineChart.prototype.createSegment = function createSegment (linePoints, currentSeries, seriesIx) {
        var style = currentSeries.style;
        var pointType;

        if (style === SMOOTH) {
            pointType = SplineSegment;
        } else {
            pointType = LineSegment;
        }

        var segment = new pointType(linePoints, currentSeries, seriesIx);

        if (linePoints.length === currentSeries.data.length) {
            segment.options.closed = true;
        }

        return segment;
    };

    return RadarLineChart;
}(LineChart));

setDefaultOptions(RadarLineChart, {
    clip: false,
    limitPoints: false
});

var SplineRadarAreaSegment = (function (SplineAreaSegment$$1) {
    function SplineRadarAreaSegment () {
        SplineAreaSegment$$1.apply(this, arguments);
    }

    if ( SplineAreaSegment$$1 ) SplineRadarAreaSegment.__proto__ = SplineAreaSegment$$1;
    SplineRadarAreaSegment.prototype = Object.create( SplineAreaSegment$$1 && SplineAreaSegment$$1.prototype );
    SplineRadarAreaSegment.prototype.constructor = SplineRadarAreaSegment;

    SplineRadarAreaSegment.prototype.fillToAxes = function fillToAxes () {};

    return SplineRadarAreaSegment;
}(SplineAreaSegment));

var RadarAreaSegment = (function (AreaSegment$$1) {
    function RadarAreaSegment () {
        AreaSegment$$1.apply(this, arguments);
    }

    if ( AreaSegment$$1 ) RadarAreaSegment.__proto__ = AreaSegment$$1;
    RadarAreaSegment.prototype = Object.create( AreaSegment$$1 && AreaSegment$$1.prototype );
    RadarAreaSegment.prototype.constructor = RadarAreaSegment;

    RadarAreaSegment.prototype.fillToAxes = function fillToAxes () {};

    return RadarAreaSegment;
}(AreaSegment));

var RadarAreaChart = (function (RadarLineChart$$1) {
    function RadarAreaChart () {
        RadarLineChart$$1.apply(this, arguments);
    }

    if ( RadarLineChart$$1 ) RadarAreaChart.__proto__ = RadarLineChart$$1;
    RadarAreaChart.prototype = Object.create( RadarLineChart$$1 && RadarLineChart$$1.prototype );
    RadarAreaChart.prototype.constructor = RadarAreaChart;

    RadarAreaChart.prototype.createSegment = function createSegment (linePoints, currentSeries, seriesIx, prevSegment) {
        var isStacked = this.options.isStacked;
        var style = (currentSeries.line || {}).style;
        var previousSegment;
        var stackPoints;
        var segment;

        if (isStacked && seriesIx > 0 && prevSegment) {
            stackPoints = prevSegment.linePoints.slice(0);
            previousSegment = prevSegment;
        }

        if (style === SMOOTH) {
            segment = new SplineRadarAreaSegment(linePoints, currentSeries, seriesIx, previousSegment, stackPoints);
            segment.options.closed = true;
        } else {
            linePoints.push(linePoints[0]);
            segment = new RadarAreaSegment(linePoints, currentSeries, seriesIx, previousSegment, stackPoints);
        }

        return segment;
    };

    RadarAreaChart.prototype.seriesMissingValues = function seriesMissingValues (series) {
        return series.missingValues || ZERO;
    };

    return RadarAreaChart;
}(RadarLineChart));

var RadarSegment = (function (DonutSegment$$1) {
    function RadarSegment(value, options) {
        DonutSegment$$1.call(this, value, null, options);
    }

    if ( DonutSegment$$1 ) RadarSegment.__proto__ = DonutSegment$$1;
    RadarSegment.prototype = Object.create( DonutSegment$$1 && DonutSegment$$1.prototype );
    RadarSegment.prototype.constructor = RadarSegment;

    return RadarSegment;
}(DonutSegment));

setDefaultOptions(RadarSegment, {
    overlay: {
        gradient: "none"
    },
    labels: {
        distance: 10
    }
});

var RadarClusterLayout = (function (ChartElement$$1) {
    function RadarClusterLayout(options) {
        ChartElement$$1.call(this, options);

        this.forEach = options.rtl ? forEachReverse : forEach;
    }

    if ( ChartElement$$1 ) RadarClusterLayout.__proto__ = ChartElement$$1;
    RadarClusterLayout.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    RadarClusterLayout.prototype.constructor = RadarClusterLayout;

    RadarClusterLayout.prototype.reflow = function reflow (sector) {
        var ref = this;
        var options = ref.options;
        var children = ref.children;
        var gap = options.gap;
        var spacing = options.spacing;
        var count = children.length;
        var slots = count + gap + (spacing * (count - 1));
        var slotAngle = sector.angle / slots;
        var angle = sector.startAngle + slotAngle * (gap / 2);

        this.forEach(children, function (child) {
            var slotSector = sector.clone();
            slotSector.startAngle = angle;
            slotSector.angle = slotAngle;

            if (child.sector) {
                slotSector.radius = child.sector.radius;
            }

            child.reflow(slotSector);
            child.sector = slotSector;

            angle += slotAngle + (slotAngle * spacing);
        });
    };

    return RadarClusterLayout;
}(ChartElement));

setDefaultOptions(RadarClusterLayout, {
    gap: 1,
    spacing: 0
});

var RadarStackLayout = (function (ChartElement$$1) {
    function RadarStackLayout () {
        ChartElement$$1.apply(this, arguments);
    }

    if ( ChartElement$$1 ) RadarStackLayout.__proto__ = ChartElement$$1;
    RadarStackLayout.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    RadarStackLayout.prototype.constructor = RadarStackLayout;

    RadarStackLayout.prototype.reflow = function reflow (sector) {
        var ref = this;
        var reverse = ref.options.reverse;
        var children = ref.children;
        var childrenCount = children.length;
        var first = reverse ? childrenCount - 1 : 0;
        var step = reverse ? -1 : 1;

        this.box = new Box();

        for (var i = first; i >= 0 && i < childrenCount; i += step) {
            var childSector = children[i].sector;
            childSector.startAngle = sector.startAngle;
            childSector.angle = sector.angle;
        }
    };

    return RadarStackLayout;
}(ChartElement));

var RadarBarChart = (function (BarChart$$1) {
    function RadarBarChart () {
        BarChart$$1.apply(this, arguments);
    }

    if ( BarChart$$1 ) RadarBarChart.__proto__ = BarChart$$1;
    RadarBarChart.prototype = Object.create( BarChart$$1 && BarChart$$1.prototype );
    RadarBarChart.prototype.constructor = RadarBarChart;

    RadarBarChart.prototype.pointType = function pointType () {
        return RadarSegment;
    };

    RadarBarChart.prototype.clusterType = function clusterType () {
        return RadarClusterLayout;
    };

    RadarBarChart.prototype.stackType = function stackType () {
        return RadarStackLayout;
    };

    RadarBarChart.prototype.categorySlot = function categorySlot (categoryAxis, categoryIx) {
        return categoryAxis.getSlot(categoryIx);
    };

    RadarBarChart.prototype.pointSlot = function pointSlot (categorySlot, valueSlot) {
        var slot = categorySlot.clone();
        var y = categorySlot.center.y;

        slot.radius = y - valueSlot.y1;
        slot.innerRadius = y - valueSlot.y2;

        return slot;
    };

    RadarBarChart.prototype.reflowPoint = function reflowPoint (point, pointSlot) {
        point.sector = pointSlot;
        point.reflow();
    };

    RadarBarChart.prototype.createAnimation = function createAnimation () {
        this.options.animation.center = this.box.toRect().center();
        BarChart$$1.prototype.createAnimation.call(this);
    };

    return RadarBarChart;
}(BarChart));

RadarBarChart.prototype.reflow = CategoricalChart.prototype.reflow;

setDefaultOptions(RadarBarChart, {
    clip: false,
    limitPoints: false,
    animation: {
        type: "pie"
    }
});

var RadarPlotArea = (function (PolarPlotAreaBase$$1) {
    function RadarPlotArea () {
        PolarPlotAreaBase$$1.apply(this, arguments);
    }

    if ( PolarPlotAreaBase$$1 ) RadarPlotArea.__proto__ = PolarPlotAreaBase$$1;
    RadarPlotArea.prototype = Object.create( PolarPlotAreaBase$$1 && PolarPlotAreaBase$$1.prototype );
    RadarPlotArea.prototype.constructor = RadarPlotArea;

    RadarPlotArea.prototype.createPolarAxis = function createPolarAxis () {
        var categoryAxis = new RadarCategoryAxis(this.options.categoryAxis, this.chartService);

        this.polarAxis = categoryAxis;
        this.categoryAxis = categoryAxis;
        this.appendAxis(categoryAxis);
        this.aggregateCategories();
        this.createCategoryAxesLabels();
    };

    RadarPlotArea.prototype.valueAxisOptions = function valueAxisOptions (defaults) {
        if (this._hasBarCharts) {
            deepExtend(defaults, {
                majorGridLines: { type: ARC },
                minorGridLines: { type: ARC }
            });
        }

        if (this._isStacked100) {
            deepExtend(defaults, {
                roundToMajorUnit: false,
                labels: { format: "P0" }
            });
        }

        return deepExtend(defaults, this.options.valueAxis);
    };

    RadarPlotArea.prototype.aggregateCategories = function aggregateCategories () {
        // No separate panes in radar charts
        CategoricalPlotArea.prototype.aggregateCategories.call(this, this.panes);
    };

    RadarPlotArea.prototype.createCategoryAxesLabels = function createCategoryAxesLabels () {
        CategoricalPlotArea.prototype.createCategoryAxesLabels.call(this, this.panes);
    };

    RadarPlotArea.prototype.filterSeries = function filterSeries (currentSeries) {
        // Not supported for radar charts
        return currentSeries;
    };

    RadarPlotArea.prototype.createCharts = function createCharts () {
        var series = this.filterVisibleSeries(this.series);
        var pane = this.panes[0];

        this.createAreaChart(
            filterSeriesByType(series, [ RADAR_AREA ]),
            pane
        );

        this.createLineChart(
            filterSeriesByType(series, [ RADAR_LINE ]),
            pane
        );

        this.createBarChart(
            filterSeriesByType(series, [ RADAR_COLUMN ]),
            pane
        );
    };

    RadarPlotArea.prototype.chartOptions = function chartOptions (series) {
        var options = { series: series };
        var firstSeries = series[0];
        if (firstSeries) {
            var filteredSeries = this.filterVisibleSeries(series);
            var stack = firstSeries.stack;
            options.isStacked = stack && filteredSeries.length > 1;
            options.isStacked100 = stack && stack.type === "100%" && filteredSeries.length > 1;

            if (options.isStacked100) {
                this._isStacked100 = true;
            }
        }

        return options;
    };

    RadarPlotArea.prototype.createAreaChart = function createAreaChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var areaChart = new RadarAreaChart(this, this.chartOptions(series));
        this.appendChart(areaChart, pane);
    };

    RadarPlotArea.prototype.createLineChart = function createLineChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var lineChart = new RadarLineChart(this, this.chartOptions(series));
        this.appendChart(lineChart, pane);
    };

    RadarPlotArea.prototype.createBarChart = function createBarChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var firstSeries = series[0];
        var options = this.chartOptions(series);
        options.gap = firstSeries.gap;
        options.spacing = firstSeries.spacing;

        var barChart = new RadarBarChart(this, options);
        this.appendChart(barChart, pane);

        this._hasBarCharts = true;
    };

    RadarPlotArea.prototype.seriesCategoryAxis = function seriesCategoryAxis () {
        return this.categoryAxis;
    };

    RadarPlotArea.prototype._dispatchEvent = function _dispatchEvent (chart, e, eventType) {
        var coords = chart._eventCoordinates(e);
        var point = new Point(coords.x, coords.y);
        var category = this.categoryAxis.getCategory(point);
        var value = this.valueAxis.getValue(point);

        if (category !== null && value !== null) {
            chart.trigger(eventType, {
                element: eventElement(e),
                category: category,
                value: value
            });
        }
    };

    RadarPlotArea.prototype.createCrosshairs = function createCrosshairs () {};

    return RadarPlotArea;
}(PolarPlotAreaBase));

deepExtend(RadarPlotArea.prototype, PlotAreaEventsMixin, {
    appendChart: CategoricalPlotArea.prototype.appendChart,
    aggregateSeries: CategoricalPlotArea.prototype.aggregateSeries,
    seriesSourcePoints: CategoricalPlotArea.prototype.seriesSourcePoints
});

setDefaultOptions(RadarPlotArea, {
    categoryAxis: {
        categories: []
    },
    valueAxis: {}
});

var FunnelSegment = (function (ChartElement$$1) {
    function FunnelSegment(value, options, segmentOptions) {
        ChartElement$$1.call(this, options);

        this.value = value;
        this.options.index = segmentOptions.index;
    }

    if ( ChartElement$$1 ) FunnelSegment.__proto__ = ChartElement$$1;
    FunnelSegment.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    FunnelSegment.prototype.constructor = FunnelSegment;

    FunnelSegment.prototype.reflow = function reflow (chartBox) {
        var points = this.points;
        var label = this.children[0];

        this.box = new Box(points[0].x, points[0].y, points[1].x, points[2].y);

        if (label) {
            label.reflow(new Box(chartBox.x1, points[0].y, chartBox.x2, points[2].y));
        }
    };

    FunnelSegment.prototype.createVisual = function createVisual () {
        var this$1 = this;

        var options = this.options;
        var visual;

        ChartElement$$1.prototype.createVisual.call(this);

        if (options.visual) {
            visual = options.visual({
                category: this.category,
                dataItem: this.dataItem,
                value: this.value,
                series: this.series,
                percentage: this.percentage,
                points: this.points,
                options: options,
                sender: this.getSender(),
                createVisual: function () { return this$1.createPath(); }
            });
        } else {
            visual = this.createPath();
        }

        if (visual) {
            this.visual.append(visual);
        }
    };

    FunnelSegment.prototype.createPath = function createPath () {
        var options = this.options;
        var border = options.border;
        var path = _progress_kendoDrawing.drawing.Path.fromPoints(this.points, {
            fill: {
                color: options.color,
                opacity: options.opacity
            },
            stroke: {
                color: border.color,
                opacity: border.opacity,
                width: border.width
            }
        }).close();

        return path;
    };

    FunnelSegment.prototype.createHighlight = function createHighlight (style) {
        return _progress_kendoDrawing.drawing.Path.fromPoints(this.points, style);
    };

    FunnelSegment.prototype.highlightVisual = function highlightVisual () {
        return this.visual.children[0];
    };

    FunnelSegment.prototype.highlightVisualArgs = function highlightVisualArgs () {
        var path = _progress_kendoDrawing.drawing.Path.fromPoints(this.points).close();

        return {
            options: this.options,
            path: path
        };
    };

    FunnelSegment.prototype.tooltipAnchor = function tooltipAnchor () {
        var box = this.box;
        return {
            point: new Point(box.center().x, box.y1),
            align: {
                horizontal: "center",
                vertical: "top"
            }
        };
    };

    FunnelSegment.prototype.formatValue = function formatValue (format) {
        var point = this;
        return point.owner.formatPointValue(point, format);
    };

    return FunnelSegment;
}(ChartElement));

setDefaultOptions(FunnelSegment, {
    color: WHITE,
    border: {
        width: 1
    }
});

deepExtend(FunnelSegment.prototype, PointEventsMixin);

var FunnelChart = (function (ChartElement$$1) {
    function FunnelChart(plotArea, options) {
        ChartElement$$1.call(this, options);

        this.plotArea = plotArea;
        this.points = [];
        this.labels = [];
        this.legendItems = [];
        this.render();
    }

    if ( ChartElement$$1 ) FunnelChart.__proto__ = ChartElement$$1;
    FunnelChart.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    FunnelChart.prototype.constructor = FunnelChart;

    FunnelChart.prototype.formatPointValue = function formatPointValue (point, format) {
        return this.chartService.format.auto(format,point.value);
    };

    FunnelChart.prototype.render = function render () {
        var this$1 = this;

        var ref = this;
        var options = ref.options;
        var seriesColors = ref.plotArea.options.seriesColors; if ( seriesColors === void 0 ) seriesColors = [];
        var series = options.series[0];
        var data = series.data;

        if (!data) {
            return;
        }

        var ref$1 = bindSegments(series);
        var total = ref$1.total;
        var points = ref$1.points;

        for (var i = 0; i < points.length; i++) {
            var pointData = points[i];

            if (!pointData) {
                continue;
            }

            var fields = pointData.fields;

            if (!isFunction(series.color)) {
                series.color = fields.color || seriesColors[i % seriesColors.length];
            }

            fields = deepExtend({
                index: i,
                owner: this$1,
                series: series,
                dataItem: data[i],
                percentage: pointData.value / total
            }, fields, { visible: pointData.visible });

            var value = pointData.valueFields.value;
            var segment = this$1.createSegment(value, fields);
            var label = this$1.createLabel(value, fields);

            if (segment && label) {
                segment.append(label);
            }
        }
    };

    FunnelChart.prototype.evalSegmentOptions = function evalSegmentOptions (options, value, fields) {
        var series = fields.series;

        evalOptions(options, {
            value: value,
            series: series,
            dataItem: fields.dataItem,
            index: fields.index
        }, { defaults: series._defaults, excluded: [ "data", "content", "template", "toggle", "visual" ] });
    };

    FunnelChart.prototype.createSegment = function createSegment (value, fields) {
        var seriesOptions = deepExtend({}, fields.series);
        this.evalSegmentOptions(seriesOptions, value, fields);

        this.createLegendItem(value, seriesOptions, fields);

        if (fields.visible !== false) {

            var segment = new FunnelSegment(value, seriesOptions, fields);
            Object.assign(segment, fields);

            this.append(segment);
            this.points.push(segment);

            return segment;
        }
    };

    FunnelChart.prototype.createLabel = function createLabel (value, fields) {
        var series = fields.series;
        var dataItem = fields.dataItem;
        var labels = deepExtend({}, this.options.labels, series.labels);
        var text = value;

        if (labels.visible) {
            var labelTemplate = getTemplate(labels);
            var data = {
                dataItem: dataItem,
                value: value,
                percentage: fields.percentage,
                category: fields.category,
                series: series
            };
            if (labelTemplate) {
                text = labelTemplate(data);
            } else if (labels.format) {
                text = this.plotArea.chartService.format.auto(labels.format, text);
            }

            if (!labels.color) {
                var brightnessValue = new _progress_kendoDrawing.Color(series.color).percBrightness();
                if (brightnessValue > 180) {
                    labels.color = BLACK;
                } else {
                    labels.color = WHITE;
                }
                if (!labels.background) {
                    labels.background = series.color;
                }
            }

            this.evalSegmentOptions(labels, value, fields);
            var textBox = new TextBox(text, deepExtend({
                vAlign: labels.position
            }, labels), data);

            this.labels.push(textBox);

            return textBox;
        }
    };

    FunnelChart.prototype.labelPadding = function labelPadding () {
        var labels = this.labels;
        var padding = { left: 0, right: 0 };

        for (var i = 0; i < labels.length; i++) {
            var label = labels[i];
            var align = label.options.align;
            if (align !== CENTER) {
                var width = labels[i].box.width();

                if (align === LEFT) {
                    padding.left = Math.max(padding.left, width);
                } else {
                    padding.right = Math.max(padding.right, width);
                }
            }
        }

        return padding;
    };

    FunnelChart.prototype.dynamicSlopeReflow = function dynamicSlopeReflow (box, width, totalHeight) {
        var ref = this;
        var options = ref.options;
        var segments = ref.points;
        var count = segments.length;
        var firstSegment = segments[0];
        var maxSegment = firstSegment;

        for (var idx = 0; idx < segments.length; idx++) {
            if (segments[idx].percentage > maxSegment.percentage) {
                maxSegment = segments[idx];
            }
        }

        var lastUpperSide = (firstSegment.percentage / maxSegment.percentage) * width;
        var previousOffset = (width - lastUpperSide) / 2;
        var previousHeight = 0;

        for (var idx$1 = 0; idx$1 < count; idx$1++) {
            var percentage = segments[idx$1].percentage;
            var nextSegment = segments[idx$1 + 1];
            var nextPercentage = (nextSegment ? nextSegment.percentage : percentage);
            var points = segments[idx$1].points = [];
            var height = (options.dynamicHeight) ? (totalHeight * percentage) : (totalHeight / count);
            var offset = (void 0);

            if (!percentage) {
                offset = nextPercentage ? 0 : width / 2;
            } else {
                offset = (width - lastUpperSide * (nextPercentage / percentage)) / 2;
            }

            offset = limitValue(offset, 0, width);

            points.push(new _progress_kendoDrawing.geometry.Point(box.x1 + previousOffset, box.y1 + previousHeight));
            points.push(new _progress_kendoDrawing.geometry.Point(box.x1 + width - previousOffset, box.y1 + previousHeight));
            points.push(new _progress_kendoDrawing.geometry.Point(box.x1 + width - offset, box.y1 + height + previousHeight));
            points.push(new _progress_kendoDrawing.geometry.Point(box.x1 + offset, box.y1 + height + previousHeight));

            previousOffset = offset;
            previousHeight += height + options.segmentSpacing;
            lastUpperSide = limitValue(width - 2 * offset, 0, width);
        }
    };

    FunnelChart.prototype.constantSlopeReflow = function constantSlopeReflow (box, width, totalHeight) {
        var ref = this;
        var options = ref.options;
        var segments = ref.points;
        var count = segments.length;
        var decreasingWidth = options.neckRatio <= 1;
        var neckRatio = decreasingWidth ? options.neckRatio * width : width;
        var previousOffset = decreasingWidth ? 0 : (width - width / options.neckRatio) / 2;
        var topMostWidth = decreasingWidth ? width : width - previousOffset * 2;
        var finalNarrow = (topMostWidth - neckRatio) / 2;
        var previousHeight = 0;

        for (var idx = 0; idx < count; idx++) {
            var points = segments[idx].points = [];
            var percentage = segments[idx].percentage;
            var offset = (options.dynamicHeight) ? (finalNarrow * percentage) : (finalNarrow / count);
            var height = (options.dynamicHeight) ? (totalHeight * percentage) : (totalHeight / count);

            points.push(new _progress_kendoDrawing.geometry.Point(box.x1 + previousOffset, box.y1 + previousHeight));
            points.push(new _progress_kendoDrawing.geometry.Point(box.x1 + width - previousOffset, box.y1 + previousHeight));
            points.push(new _progress_kendoDrawing.geometry.Point(box.x1 + width - previousOffset - offset, box.y1 + height + previousHeight));
            points.push(new _progress_kendoDrawing.geometry.Point(box.x1 + previousOffset + offset,box.y1 + height + previousHeight));
            previousOffset += offset;
            previousHeight += height + options.segmentSpacing;
        }
    };

    FunnelChart.prototype.reflow = function reflow (chartBox) {
        var points = this.points;
        var count = points.length;

        if (!count) {
            return;
        }

        var options = this.options;
        var box = chartBox.clone().unpad(this.labelPadding());
        var totalHeight = box.height() - options.segmentSpacing * (count - 1);
        var width = box.width();

        if (options.dynamicSlope) {
            this.dynamicSlopeReflow(box, width, totalHeight);
        } else {
            this.constantSlopeReflow(box, width, totalHeight);
        }

        for (var idx = 0; idx < count; idx++) {
            points[idx].reflow(chartBox);
        }
    };

    return FunnelChart;
}(ChartElement));

setDefaultOptions(FunnelChart, {
    neckRatio: 0.3,
    width: 300,
    dynamicSlope: false,
    dynamicHeight: true,
    segmentSpacing: 0,
    labels: {
        visible: false,
        align: CENTER,
        position: CENTER,
        zIndex: 1
    }
});

deepExtend(FunnelChart.prototype, PieChartMixin);

var FunnelPlotArea = (function (PlotAreaBase$$1) {
    function FunnelPlotArea () {
        PlotAreaBase$$1.apply(this, arguments);
    }

    if ( PlotAreaBase$$1 ) FunnelPlotArea.__proto__ = PlotAreaBase$$1;
    FunnelPlotArea.prototype = Object.create( PlotAreaBase$$1 && PlotAreaBase$$1.prototype );
    FunnelPlotArea.prototype.constructor = FunnelPlotArea;

    FunnelPlotArea.prototype.render = function render () {
        this.createFunnelChart(this.series);
    };

    FunnelPlotArea.prototype.createFunnelChart = function createFunnelChart (series) {
        var firstSeries = series[0];
        var funnelChart = new FunnelChart(this, {
            series: series,
            legend: this.options.legend,
            neckRatio: firstSeries.neckRatio,
            dynamicHeight: firstSeries.dynamicHeight,
            dynamicSlope: firstSeries.dynamicSlope,
            segmentSpacing: firstSeries.segmentSpacing,
            highlight: firstSeries.highlight
        });

        this.appendChart(funnelChart);
    };

    FunnelPlotArea.prototype.appendChart = function appendChart (chart, pane) {
        PlotAreaBase$$1.prototype.appendChart.call(this, chart, pane);
        append$1(this.options.legend.items, chart.legendItems);
    };

    return FunnelPlotArea;
}(PlotAreaBase));

var COLOR = "color";
var FIRST = "first";
var FROM = "from";
var MAX = "max";
var MIN = "min";
var NOTE_TEXT = "noteText";
var SUMMARY_FIELD = "summary";
var TO = "to";

PlotAreaFactory.current.register(CategoricalPlotArea, [
    BAR, COLUMN, LINE, VERTICAL_LINE, AREA, VERTICAL_AREA,
    CANDLESTICK, OHLC, BULLET, VERTICAL_BULLET, BOX_PLOT, VERTICAL_BOX_PLOT,
    RANGE_COLUMN, RANGE_BAR, WATERFALL, HORIZONTAL_WATERFALL, RANGE_AREA, VERTICAL_RANGE_AREA
]);

PlotAreaFactory.current.register(XYPlotArea, [
    SCATTER, SCATTER_LINE, BUBBLE
]);

PlotAreaFactory.current.register(PiePlotArea, [ PIE ]);
PlotAreaFactory.current.register(DonutPlotArea, [ DONUT ]);
PlotAreaFactory.current.register(FunnelPlotArea, [ FUNNEL ]);

PlotAreaFactory.current.register(PolarPlotArea, [ POLAR_AREA, POLAR_LINE, POLAR_SCATTER ]);
PlotAreaFactory.current.register(RadarPlotArea, [ RADAR_AREA, RADAR_COLUMN, RADAR_LINE ]);

SeriesBinder.current.register(
    [ BAR, COLUMN, LINE, VERTICAL_LINE, AREA, VERTICAL_AREA ],
    [ VALUE ], [ CATEGORY, COLOR, NOTE_TEXT, ERROR_LOW_FIELD, ERROR_HIGH_FIELD ]
);

SeriesBinder.current.register(
    [ RANGE_COLUMN, RANGE_BAR, RANGE_AREA, VERTICAL_RANGE_AREA ],
    [ FROM, TO ], [ CATEGORY, COLOR, NOTE_TEXT ]
);

SeriesBinder.current.register(
    [ WATERFALL, HORIZONTAL_WATERFALL ],
    [ VALUE ], [ CATEGORY, COLOR, NOTE_TEXT, SUMMARY_FIELD ]
);

SeriesBinder.current.register([ POLAR_AREA, POLAR_LINE, POLAR_SCATTER ], [ X, Y ], [ COLOR ]);
SeriesBinder.current.register([ RADAR_AREA, RADAR_COLUMN, RADAR_LINE ], [ VALUE ], [ COLOR ]);

SeriesBinder.current.register(
    [ FUNNEL ],
    [ VALUE ], [ CATEGORY, COLOR, "visibleInLegend", "visible" ]
);

DefaultAggregates.current.register(
    [ BAR, COLUMN, LINE, VERTICAL_LINE, AREA, VERTICAL_AREA, WATERFALL, HORIZONTAL_WATERFALL ],
    { value: MAX, color: FIRST, noteText: FIRST, errorLow: MIN, errorHigh: MAX }
);

DefaultAggregates.current.register(
    [ RANGE_COLUMN, RANGE_BAR, RANGE_AREA, VERTICAL_RANGE_AREA ],
    { from: MIN, to: MAX, color: FIRST, noteText: FIRST }
);

DefaultAggregates.current.register(
    [ RADAR_AREA, RADAR_COLUMN, RADAR_LINE ],
    { value: MAX, color: FIRST }
);

SeriesBinder.current.register(
    [ SCATTER, SCATTER_LINE, BUBBLE ],
    [ X, Y ], [ COLOR, NOTE_TEXT, X_ERROR_LOW_FIELD, X_ERROR_HIGH_FIELD, Y_ERROR_LOW_FIELD, Y_ERROR_HIGH_FIELD ]
);

SeriesBinder.current.register(
    [ BUBBLE ], [ X, Y, "size" ], [ COLOR, CATEGORY, NOTE_TEXT ]
);

SeriesBinder.current.register(
    [ CANDLESTICK, OHLC ],
    [ "open", "high", "low", "close" ], [ CATEGORY, COLOR, "downColor", NOTE_TEXT ]
);

DefaultAggregates.current.register(
    [ CANDLESTICK, OHLC ],
    { open: MAX, high: MAX, low: MIN, close: MAX,
      color: FIRST, downColor: FIRST, noteText: FIRST }
);

SeriesBinder.current.register(
    [ BOX_PLOT, VERTICAL_BOX_PLOT ],
    [ "lower", "q1", "median", "q3", "upper", "mean", "outliers" ], [ CATEGORY, COLOR, NOTE_TEXT ]
);

DefaultAggregates.current.register(
    [ BOX_PLOT, VERTICAL_BOX_PLOT ],
    { lower: MAX, q1: MAX, median: MAX, q3: MAX, upper: MAX, mean: MAX, outliers: FIRST,
      color: FIRST, noteText: FIRST }
);

SeriesBinder.current.register(
    [ BULLET, VERTICAL_BULLET ],
    [ "current", "target" ], [ CATEGORY, COLOR, "visibleInLegend", NOTE_TEXT ]
);

DefaultAggregates.current.register(
    [ BULLET, VERTICAL_BULLET ],
    { current: MAX, target: MAX, color: FIRST, noteText: FIRST }
);

SeriesBinder.current.register(
    [ PIE, DONUT ],
    [ VALUE ], [ CATEGORY, COLOR, "explode", "visibleInLegend", "visible" ]
);

var AXIS_NAMES = [ CATEGORY, VALUE, X, Y ];

var MOUSEMOVE = "mousemove";
var CONTEXTMENU = "contextmenu";
var MOUSELEAVE = "mouseleave";
var MOUSEMOVE_DELAY = 20;

var Chart = (function (Class$$1) {
    function Chart(element, userOptions, themeOptions, context) {
        var this$1 = this;
        if ( context === void 0 ) context = {};

        Class$$1.call(this);

        this.observers = [];
        this.addObserver(context.observer);
        this.chartService = new ChartService(this, context);
        this.chartService.theme = themeOptions;

        this._initElement(element);

        var options = deepExtend({}, this.options, userOptions);
        this._originalOptions = deepExtend({}, options);
        this._theme = themeOptions;
        this._initTheme(options, themeOptions);

        this._initHandlers();
        this._initSurface();

        this.bindCategories();
        FontLoader.preloadFonts(userOptions, function () {
            this$1.fontLoaded = true;
            if (!this$1._destroyed) {
                this$1.trigger('init');
                this$1._redraw();
                this$1._attachEvents();
            }
        });
    }

    if ( Class$$1 ) Chart.__proto__ = Class$$1;
    Chart.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Chart.prototype.constructor = Chart;

    Chart.prototype._initElement = function _initElement (element) {
        this._setElementClass(element);
        element.style.position = "relative";
        while (element.firstChild) {
            element.removeChild(element.firstChild);
        }
        this.element = element;
    };

    Chart.prototype._setElementClass = function _setElementClass (element) {
        addClass(element, "k-chart");
    };

    Chart.prototype._initTheme = function _initTheme (options, themeOptions) {
        var seriesCopies = [];
        var series = options.series || [];

        for (var i = 0; i < series.length; i++) {
            seriesCopies.push(Object.assign({}, series[i]));
        }
        options.series = seriesCopies;

        resolveAxisAliases(options);
        this.applyDefaults(options, themeOptions);

        // Clean up default if not overriden by data attributes
        if (options.seriesColors === null) {
            delete options.seriesColors;
        }

        this.options = deepExtend({}, themeOptions, options);
        this.applySeriesColors();
    };

    Chart.prototype.getSize = function getSize () {
        var chartArea = this.options.chartArea || {};
        var width = chartArea.width ? parseInt(chartArea.width, 10) : Math.floor(this.element.offsetWidth);
        var height = chartArea.height ? parseInt(chartArea.height, 10) : Math.floor(this.element.offsetHeight);

        return {
            width: width,
            height: height
        };
    };

    Chart.prototype.resize = function resize (force) {
        var size = this.getSize();
        var currentSize = this._size;

        if (force || (size.width > 0 || size.height > 0) && (!currentSize || size.width !== currentSize.width || size.height !== currentSize.height)) {
            this._size = size;
            this._resize(size, force);
            this.trigger("resize", size);
        }
    };

    Chart.prototype._resize = function _resize () {
        this._noTransitionsRedraw();
    };

    Chart.prototype.redraw = function redraw (paneName) {
        this.applyDefaults(this.options);
        this.applySeriesColors();

        if (paneName) {
            var plotArea = this._model._plotArea;
            var pane = plotArea.findPane(paneName);
            plotArea.redraw(pane);
        } else {
            this._redraw();
        }
    };

    Chart.prototype.getAxis = function getAxis (name) {
        return findAxisByName(name, this._plotArea.axes);
    };

    Chart.prototype.findAxisByName = function findAxisByName$1 (name) {
        return this.getAxis(name);
    };

    Chart.prototype.findPaneByName = function findPaneByName (name) {
        var panes = this._plotArea.panes;

        for (var idx = 0; idx < panes.length; idx++) {
            if (panes[idx].options.name === name) {
                return new ChartPane(panes[idx]);
            }
        }
    };

    Chart.prototype.findPaneByIndex = function findPaneByIndex (idx) {
        var panes = this._plotArea.panes;
        if (panes[idx]) {
            return new ChartPane(panes[idx]);
        }
    };

    Chart.prototype.plotArea = function plotArea () {
        return new ChartPlotArea(this._plotArea);
    };

    Chart.prototype.toggleHighlight = function toggleHighlight (show, filter) {
        var plotArea = this._plotArea;
        var firstSeries = (plotArea.srcSeries || plotArea.series || [])[0];
        var points;

        if (isFunction(filter)) {
            points = plotArea.filterPoints(filter);
        } else {
            var seriesName, categoryName;
            if (isObject(filter)) {
                seriesName = filter.series;
                categoryName = filter.category;
            } else {
                seriesName = categoryName = filter;
            }

            if (firstSeries.type === DONUT) {
                points = pointByCategoryName(plotArea.pointsBySeriesName(seriesName), categoryName);
            } else if (firstSeries.type === PIE || firstSeries.type === FUNNEL) {
                points = pointByCategoryName((plotArea.charts[0] || {}).points, categoryName);
            } else {
                points = plotArea.pointsBySeriesName(seriesName);
            }
        }

        if (points) {
            this.togglePointsHighlight(show, points);
        }
    };

    Chart.prototype.togglePointsHighlight = function togglePointsHighlight (show, points) {
        var highlight = this._highlight;
        for (var idx = 0; idx < points.length; idx++) {
            highlight.togglePointHighlight(points[idx], show);
        }
    };

    Chart.prototype.showTooltip = function showTooltip (filter) {
        var shared = this._sharedTooltip();
        var ref = this;
        var tooltip = ref._tooltip;
        var plotArea = ref._plotArea;
        var point, categoryIndex;

        if (isFunction(filter)) {
            point = plotArea.findPoint(filter);
            if (point && shared) {
                categoryIndex = point.categoryIx;
            }
        } else if (shared && defined(filter)) {
            categoryIndex = plotArea.categoryAxis.categoryIndex(filter);
        }

        if (shared) {
            if (categoryIndex >= 0) {
                var points = this._plotArea.pointsByCategoryIndex(categoryIndex);
                tooltip.showAt(points);
            }
        } else if (point) {
            tooltip.show(point);
        }
    };

    Chart.prototype.hideTooltip = function hideTooltip () {
        this._tooltip.hide();
    };

    Chart.prototype._initSurface = function _initSurface () {
        var surface = this.surface;
        var wrap = this._surfaceWrap();

        var chartArea = this.options.chartArea;
        if (chartArea.width) {
            elementSize$1(wrap, { width: chartArea.width });
        }
        if (chartArea.height) {
            elementSize$1(wrap, { height: chartArea.height });
        }

        if (!surface || surface.options.type !== this.options.renderAs) {
            this._destroySurface();

            this.surface = _progress_kendoDrawing.drawing.Surface.create(wrap, {
                type: this.options.renderAs
            });

            this.surface.bind("mouseenter", this._surfaceMouseenterHandler);
            this.surface.bind("mouseleave", this._surfaceMouseleaveHandler);

        } else {
            this.surface.clear();
            this.surface.resize();
        }
    };

    Chart.prototype._surfaceWrap = function _surfaceWrap () {
        return this.element;
    };

    Chart.prototype._redraw = function _redraw () {
        var model = this._getModel();
        this._size = {
            width: model.options.width,
            height: model.options.height
        };

        this._destroyView();

        this._model = model;
        this._plotArea = model._plotArea;

        model.renderVisual();

        if (this.options.transitions !== false) {
            model.traverse(function(element) {
                if (element.animation) {
                    element.animation.setup();
                }
            });
        }

        this._initSurface();
        this.surface.draw(model.visual);

        if (this.options.transitions !== false) {
            model.traverse(function(element) {
                if (element.animation) {
                    element.animation.play();
                }
            });
        }

        this._tooltip = this._createTooltip();
        this._highlight = new Highlight();
        this._setupSelection();
        this._createPannable();
        this._createZoomSelection();
        this._createMousewheelZoom();

        this.trigger(RENDER);
        triggerPaneRender(this._plotArea.panes);

        if (!this._navState) {
            this._cancelDomEvents();
        }
    };

    Chart.prototype.exportVisual = function exportVisual (exportOptions) {
        var visual;
        if (exportOptions && (exportOptions.width || exportOptions.height || exportOptions.options)) {
            var currentOptions = this.options;
            var options = deepExtend({}, exportOptions.options, {
                chartArea: {
                    width: exportOptions.width,
                    height: exportOptions.height
                }
            });

            clearMissingValues(this._originalOptions, options);
            this.options = deepExtend({}, this._originalOptions, options);
            this._initTheme(this.options, this._theme);
            this.bindCategories();

            var model = this._getModel();

            model.renderVisual();
            triggerPaneRender(model._plotArea.panes);

            visual = model.visual;

            this.options = currentOptions;
        } else {
            visual = this.surface.exportVisual();
        }

        return visual;
    };

    Chart.prototype._sharedTooltip = function _sharedTooltip () {
        return this._plotArea instanceof CategoricalPlotArea && this.options.tooltip && this.options.tooltip.shared;
    };

    Chart.prototype._createPannable = function _createPannable () {
        var options = this.options;
        if (options.pannable !== false) {
            this._pannable = new Pannable(this._plotArea, options.pannable);
        }
    };

    Chart.prototype._createZoomSelection = function _createZoomSelection () {
        var zoomable = this.options.zoomable;
        var selection = (zoomable || {}).selection;
        if (zoomable !== false && selection !== false) {
            this._zoomSelection = new ZoomSelection(this, selection);
        }
    };

    Chart.prototype._createMousewheelZoom = function _createMousewheelZoom () {
        var zoomable = this.options.zoomable;
        var mousewheel = (zoomable || {}).mousewheel;
        if (zoomable !== false && mousewheel !== false) {
            this._mousewheelZoom = new MousewheelZoom(this, mousewheel);
        }
    };

    Chart.prototype._toggleDragZoomEvents = function _toggleDragZoomEvents () {
        var pannable = this.options.pannable;
        var zoomable = this.options.zoomable;
        var selection = (zoomable || {}).selection;
        var mousewheel = (zoomable || {}).mousewheel;
        var allowDrag = !pannable && (zoomable === false || selection === false) && !this.requiresHandlers([ DRAG_START, DRAG, DRAG_END ]);
        var allowZoom = (zoomable === false || mousewheel === false) && !this.requiresHandlers([ ZOOM_START, ZOOM, ZOOM_END ]);
        var element = this.element;

        if (this._dragZoomEnabled && allowDrag && allowZoom) {
            element.style.touchAction = this._touchAction || '';
            this._dragZoomEnabled = false;
        } else if (!this._dragZoomEnabled && !(allowDrag && allowZoom)) {
            element.style.touchAction = "none";

            this._dragZoomEnabled = true;
        }

        this._toggleDomEvents(!allowDrag, !allowZoom);
    };

    Chart.prototype._toggleDomEvents = function _toggleDomEvents (drag, zoom) {
        var domEvents = this.domEvents;
        if (!domEvents) {
            return;
        }

        if (domEvents.toggleDrag) {
            domEvents.toggleDrag(drag);
        }

        if (domEvents.toggleZoom) {
            domEvents.toggleZoom(zoom);
        }
    };

    Chart.prototype._createTooltip = function _createTooltip () {
        var ref = this;
        var tooltipOptions = ref.options.tooltip;
        var tooltip;

        if (this._sharedTooltip()) {
            tooltip = this._createSharedTooltip(tooltipOptions);
        } else {
            tooltip = new Tooltip(this.chartService, tooltipOptions);
        }

        return tooltip;
    };

    Chart.prototype._createSharedTooltip = function _createSharedTooltip (options) {
        return new SharedTooltip(this._plotArea, options);
    };

    Chart.prototype.applyDefaults = function applyDefaults (options, themeOptions) {
        applyAxisDefaults(options, themeOptions);
        applySeriesDefaults(options, themeOptions);
    };

    Chart.prototype.applySeriesColors = function applySeriesColors () {
        var options = this.options;
        var series = options.series;
        var colors = options.seriesColors || [];

        for (var i = 0; i < series.length; i++) {
            var currentSeries = series[i];
            var seriesColor = colors[i % colors.length];
            var defaults = currentSeries._defaults;

            currentSeries.color = currentSeries.color || seriesColor;
            if (defaults) {
                defaults.color = defaults.color || seriesColor;
            }
        }
    };

    Chart.prototype._getModel = function _getModel () {
        var options = this.options;
        var plotArea = this._createPlotArea();
        var model = new RootElement(this._modelOptions());
        model.chart = this;
        model._plotArea = plotArea;

        Title.buildTitle(options.title, model);

        if (options.legend && options.legend.visible) {
            model.append(new Legend(plotArea.options.legend, this.chartService));
        }
        model.append(plotArea);
        model.reflow();

        return model;
    };

    Chart.prototype._modelOptions = function _modelOptions () {
        var options = this.options;
        var size = this.getSize();

        return deepExtend({
            transitions: options.transitions,
            width: size.width || DEFAULT_WIDTH,
            height: size.height || DEFAULT_HEIGHT
        }, options.chartArea);
    };

    Chart.prototype._createPlotArea = function _createPlotArea (skipSeries) {
        var options = this.options;

        var plotArea = PlotAreaFactory.current.create(skipSeries ? [] : options.series, options, this.chartService);

        return plotArea;
    };

    Chart.prototype._setupSelection = function _setupSelection () {
        var this$1 = this;

        var ref = this;
        var axes = ref._plotArea.axes;
        var selections = this._selections = [];

        for (var i = 0; i < axes.length; i++) {
            var axis = axes[i];
            var options = axis.options;
            if (axis instanceof CategoryAxis && options.select && !options.vertical) {
                var range = axis.range();

                var selection = new Selection(this$1, axis,
                    deepExtend({ min: range.min, max: range.max }, options.select)
                );

                selections.push(selection);
            }
        }
    };

    Chart.prototype._selectStart = function _selectStart (e) {
        return this.trigger(SELECT_START, e);
    };

    Chart.prototype._select = function _select (e) {
        return this.trigger(SELECT, e);
    };

    Chart.prototype._selectEnd = function _selectEnd (e) {
        return this.trigger(SELECT_END, e);
    };

    Chart.prototype._initHandlers = function _initHandlers () {
        this._clickHandler = this._click.bind(this);
        this._mousewheelHandler = this._mousewheel.bind(this);
        this._mouseleaveHandler = this._mouseleave.bind(this);
        this._surfaceMouseenterHandler = this._mouseover.bind(this);
        this._surfaceMouseleaveHandler = this._mouseout.bind(this);

        this._mousemove = _progress_kendoDrawing.throttle(
            this._mousemove.bind(this),
            MOUSEMOVE_DELAY
        );
    };

    Chart.prototype.addObserver = function addObserver (observer) {
        if (observer) {
            this.observers.push(observer);
        }
    };

    Chart.prototype.removeObserver = function removeObserver (observer) {
        var index = this.observers.indexOf(observer);
        if (index >= 0) {
            this.observers.splice(index, 1);
        }
    };

    Chart.prototype.requiresHandlers = function requiresHandlers (eventNames) {
        var observers = this.observers;
        for (var idx = 0; idx < observers.length; idx++) {
            if (observers[idx].requiresHandlers(eventNames)) {
                return true;
            }
        }
    };

    Chart.prototype.trigger = function trigger (name, args) {
        if ( args === void 0 ) args = {};

        if (name === SHOW_TOOLTIP) {
            args.anchor.point = this._toDocumentCoordinates(args.anchor.point);
        }
        args.sender = this;

        var observers = this.observers;
        var isDefaultPrevented = false;
        for (var idx = 0; idx < observers.length; idx++) {
            if (observers[idx].trigger(name, args)) {
                isDefaultPrevented = true;
            }
        }

        return isDefaultPrevented;
    };

    Chart.prototype._attachEvents = function _attachEvents () {
        var element = this.element;

        this._touchAction = element.style.touchAction;

        var obj;
        bindEvents(element, ( obj = {}, obj[ CONTEXTMENU ] = this._clickHandler, obj[ MOUSEWHEEL ] = this._mousewheelHandler, obj[ MOUSELEAVE ] = this._mouseleaveHandler, obj ));

        if (this._shouldAttachMouseMove()) {
            var obj$1;
            bindEvents(element, ( obj$1 = {}, obj$1[ MOUSEMOVE ] = this._mousemove, obj$1 ));
        }

        this.domEvents = DomEventsBuilder.create(this.element, {
            start: this._start.bind(this),
            move: this._move.bind(this),
            end: this._end.bind(this),
            tap: this._tap.bind(this),
            gesturestart: this._gesturestart.bind(this),
            gesturechange: this._gesturechange.bind(this),
            gestureend: this._gestureend.bind(this)
        });

        this._toggleDragZoomEvents();
    };

    Chart.prototype._mouseleave = function _mouseleave (e) {
        if (this._hoveredPoint) {
            this._hoveredPoint.out(this, e);
            this._hoveredPoint = null;
        }

        if (this._plotArea.hovered) {
            this.trigger(PLOT_AREA_LEAVE);
            this._plotArea.hovered = false;
        }
    };

    Chart.prototype._cancelDomEvents = function _cancelDomEvents () {
        if (this.domEvents && this.domEvents.cancel) {
            this.domEvents.cancel();
        }
    };

    Chart.prototype._gesturestart = function _gesturestart (e) {
        if (this._mousewheelZoom && !this._stopChartHandlers(e)) {
            this._gestureDistance = e.distance;
            this._unsetActivePoint();
            this.surface.suspendTracking();
        }
    };

    Chart.prototype._gestureend = function _gestureend (e) {
        if (this._zooming && !this._stopChartHandlers(e)) {
            if (this.surface) {
                this.surface.resumeTracking();
            }
            this._zooming = false;
            this.trigger(ZOOM_END, {});
        }
    };

    Chart.prototype._gesturechange = function _gesturechange (e) {
        var mousewheelZoom = this._mousewheelZoom;

        if (mousewheelZoom && !this._stopChartHandlers(e)) {
            e.preventDefault();
            var previousGestureDistance = this._gestureDistance;
            var scaleDelta = -e.distance / previousGestureDistance + 1;

            if (Math.abs(scaleDelta) >= 0.1) {
                scaleDelta = Math.round(scaleDelta * 10);

                this._gestureDistance = e.distance;
                var args = { delta: scaleDelta, axisRanges: axisRanges(this._plotArea.axes), originalEvent: e };
                if (this._zooming || !this.trigger(ZOOM_START, args)) {

                    if (!this._zooming) {
                        this._zooming = true;
                    }

                    var ranges = args.axisRanges = mousewheelZoom.updateRanges(scaleDelta);
                    if (ranges && !this.trigger(ZOOM, args)) {
                        mousewheelZoom.zoom();
                    }
                }
            }
        }
    };

    Chart.prototype._mouseout = function _mouseout (e) {
        if (e.element) {
            var element = this._drawingChartElement(e.element, e);

            if (element && element.leave) {
                element.leave(this, e.originalEvent);
            }
        }
    };

    Chart.prototype._start = function _start (e) {
        var coords = this._eventCoordinates(e);

        if (this._stopChartHandlers(e) || !this._plotArea.backgroundContainsPoint(coords)) {
            return;
        }


        if (this.requiresHandlers([ DRAG_START, DRAG, DRAG_END ])) {
            this._startNavigation(e, coords, DRAG_START);
        }

        if (this._pannable && this._pannable.start(e)) {
            this.surface.suspendTracking();
            this._unsetActivePoint();
            this._suppressHover = true;
            this.chartService.panning = true;
        }

        if (this._zoomSelection) {
            if (this._zoomSelection.start(e)) {
                this.trigger(ZOOM_START, { axisRanges: axisRanges(this._plotArea.axes), originalEvent: e });
            }
        }
    };

    Chart.prototype._move = function _move (e) {
        var ref = this;
        var state = ref._navState;
        var pannable = ref._pannable;

        if (this._stopChartHandlers(e)) {
            return;
        }

        if (pannable) {
            var ranges = pannable.move(e);

            if (ranges && !this.trigger(DRAG, { axisRanges: ranges, originalEvent: e })) {
                pannable.pan();
            }
        } else if (state) {
            var ranges$1 = {};
            var axes = state.axes;

            for (var i = 0; i < axes.length; i++) {
                var currentAxis = axes[i];
                var axisName = currentAxis.options.name;
                if (axisName) {
                    var axis = currentAxis.options.vertical ? e.y : e.x;
                    var delta = axis.startLocation - axis.location;

                    if (delta !== 0) {
                        ranges$1[currentAxis.options.name] = currentAxis.translateRange(delta);
                    }
                }
            }

            state.axisRanges = ranges$1;
            this.trigger(DRAG, {
                axisRanges: ranges$1,
                originalEvent: e
            });
        }

        if (this._zoomSelection) {
            this._zoomSelection.move(e);
        }
    };

    Chart.prototype._end = function _end (e) {
        if (this._stopChartHandlers(e)) {
            return;
        }

        var pannable = this._pannable;
        if (pannable && pannable.end(e)) {
            this.surface.resumeTracking();
            this.trigger(DRAG_END, {
                axisRanges: axisRanges(this._plotArea.axes),
                originalEvent: e
            });
            this._suppressHover = false;
            this.chartService.panning = false;
        } else {
            this._endNavigation(e, DRAG_END);
        }

        if (this._zoomSelection) {
            var ranges = this._zoomSelection.end(e);
            if (ranges && !this.trigger(ZOOM, { axisRanges: ranges, originalEvent: e })) {
                this._zoomSelection.zoom();
                this.trigger(ZOOM_END, { axisRanges: ranges, originalEvent: e });
            }
        }
    };

    Chart.prototype._stopChartHandlers = function _stopChartHandlers (e) {
        var selections = this._selections || [];
        if (!selections.length) {
            return false;
        }

        var coords = this._eventCoordinates(e);
        var pane = this._plotArea.paneByPoint(coords);
        if (pane) {
            for (var idx = 0; idx < selections.length; idx++) {
                if (selections[idx].onPane(pane)) {
                    return true;
                }
            }
        }
    };

    Chart.prototype._mousewheel = function _mousewheel (e) {
        var this$1 = this;

        var delta = mousewheelDelta(e);
        var mousewheelZoom = this._mousewheelZoom;
        var coords = this._eventCoordinates(e);

        if (this._stopChartHandlers(e) || !this._plotArea.backgroundContainsPoint(coords)) {
            return;
        }

        if (mousewheelZoom) {
            var args = { delta: delta, axisRanges: axisRanges(this._plotArea.axes), originalEvent: e };
            if (this._zooming || !this.trigger(ZOOM_START, args)) {
                e.preventDefault();

                if (!this._zooming) {
                    this._unsetActivePoint();
                    this.surface.suspendTracking();
                    this._zooming = true;
                }

                if (this._mwTimeout) {
                    clearTimeout(this._mwTimeout);
                }

                args.axisRanges = mousewheelZoom.updateRanges(delta);
                if (args.axisRanges && !this.trigger(ZOOM, args)) {
                    mousewheelZoom.zoom();
                }

                this._mwTimeout = setTimeout(function () {
                    this$1.trigger(ZOOM_END, args);
                    this$1._zooming = false;
                    if (this$1.surface) {
                        this$1.surface.resumeTracking();
                    }
                }, MOUSEWHEEL_DELAY);
            }
        } else {
            var state = this._navState;
            if (!state) {
                var prevented = this._startNavigation(e, coords, ZOOM_START);
                if (!prevented) {
                    state = this._navState;
                }
            }

            if (state) {
                var totalDelta = state.totalDelta || delta;
                state.totalDelta = totalDelta + delta;

                var axes = this._navState.axes;
                var ranges = {};

                for (var i = 0; i < axes.length; i++) {
                    var currentAxis = axes[i];
                    var axisName = currentAxis.options.name;
                    if (axisName) {
                        ranges[axisName] = currentAxis.scaleRange(-totalDelta);
                    }
                }

                this.trigger(ZOOM, {
                    delta: delta,
                    axisRanges: ranges,
                    originalEvent: e
                });

                if (this._mwTimeout) {
                    clearTimeout(this._mwTimeout);
                }

                this._mwTimeout = setTimeout(function () {
                    this$1._endNavigation(e, ZOOM_END);
                }, MOUSEWHEEL_DELAY);
            }
        }
    };

    Chart.prototype._startNavigation = function _startNavigation (e, coords, chartEvent) {
        var plotArea = this._model._plotArea;
        var pane = plotArea.findPointPane(coords);
        var axes = plotArea.axes.slice(0);

        if (!pane) {
            return;
        }

        var ranges = axisRanges(axes);

        var prevented = this.trigger(chartEvent, {
            axisRanges: ranges,
            originalEvent: e
        });

        if (prevented) {
            this._cancelDomEvents();
        } else {
            this._suppressHover = true;
            this._unsetActivePoint();
            this._navState = {
                axisRanges: ranges,
                pane: pane,
                axes: axes
            };
        }
    };

    Chart.prototype._endNavigation = function _endNavigation (e, chartEvent) {
        if (this._navState) {
            this.trigger(chartEvent, {
                axisRanges: this._navState.axisRanges,
                originalEvent: e
            });
            this._suppressHover = false;
            this._navState = null;
        }
    };

    Chart.prototype._getChartElement = function _getChartElement (e, match) {
        var element = this.surface.eventTarget(e);
        if (element) {
            return this._drawingChartElement(element, e, match);
        }
    };

    Chart.prototype._drawingChartElement = function _drawingChartElement (element, e, match) {
        var current = element;
        var chartElement;
        while (current && !chartElement) {
            chartElement = current.chartElement;
            current = current.parent;
        }

        if (chartElement) {
            if (chartElement.aliasFor) {
                chartElement = chartElement.aliasFor(e, this._eventCoordinates(e));
            }

            if (match) {
                chartElement = chartElement.closest(match);
                if (chartElement && chartElement.aliasFor) {
                    chartElement = chartElement.aliasFor();
                }
            }

            return chartElement;
        }
    };

    Chart.prototype._eventCoordinates = function _eventCoordinates (e) {
        var coordinates = eventCoordinates(e);
        return this._toModelCoordinates(coordinates.x, coordinates.y);
    };

    Chart.prototype._elementPadding = function _elementPadding () {
        if (!this._padding) {
            var ref = elementStyles(this.element, [ "paddingLeft", "paddingTop" ]);
            var paddingLeft = ref.paddingLeft;
            var paddingTop = ref.paddingTop;
            this._padding = {
                top: paddingTop,
                left: paddingLeft
            };
        }

        return this._padding;
    };

    Chart.prototype._toDocumentCoordinates = function _toDocumentCoordinates (point) {
        var padding = this._elementPadding();
        var offset = elementOffset(this.element);

        return {
            left: round(point.x + padding.left + offset.left),
            top: round(point.y + padding.top + offset.top)
        };
    };

    Chart.prototype._toModelCoordinates = function _toModelCoordinates (clientX, clientY) {
        var element = this.element;
        var offset = elementOffset(element);
        var padding = this._elementPadding();

        return new Point(
            clientX - offset.left - padding.left,
            clientY - offset.top - padding.top
        );
    };

    Chart.prototype._tap = function _tap (e) {
        var this$1 = this;

        var drawingElement = this.surface.eventTarget(e);
        var element = this._drawingChartElement(drawingElement, e);
        var sharedTooltip = this._sharedTooltip();

        if (!this._startHover(drawingElement, e) && !sharedTooltip) {
            this._unsetActivePoint();
        }

        if (sharedTooltip) {
            this._trackSharedTooltip(this._eventCoordinates(e), e, true);
        }

        this._propagateClick(element, e);

        //part of fix for hover issue on windows touch
        this.handlingTap = true;
        setTimeout(function () {
            this$1.handlingTap = false;
        }, 0);
    };

    Chart.prototype._click = function _click (e) {
        var element = this._getChartElement(e);
        this._propagateClick(element, e);
    };

    Chart.prototype._propagateClick = function _propagateClick (element, e) {
        var this$1 = this;

        var current = element;
        while (current) {
            if (current.click) {
                current.click(this$1, e);
            }

            current = current.parent;
        }
    };

    Chart.prototype._startHover = function _startHover (element, e) {
        if (this._suppressHover) {
            return false;
        }

        var point = this._drawingChartElement(element, e, function(element) {
            return (element.hover || element.over) && !(element instanceof PlotAreaBase);
        });

        var activePoint = this._activePoint;
        var hoveredPoint = this._hoveredPoint;

        if (hoveredPoint && hoveredPoint !== point) {
            hoveredPoint.out(this, e);
            this._hoveredPoint = null;
        }

        if (point && hoveredPoint !== point && point.over) {
            this._hoveredPoint = point;
            point.over(this, e);
        }

        if (point && activePoint !== point && point.hover) {
            this._activePoint = point;

            if (!this._sharedTooltip() && !point.hover(this, e)) {
                var tooltipOptions = deepExtend({}, this.options.tooltip, point.options.tooltip);
                if (tooltipOptions.visible) {
                    this._tooltip.show(point);
                }

                this._highlight.show(point);
            }
        }

        return point;
    };

    Chart.prototype._mouseover = function _mouseover (e) {
        var point = this._startHover(e.element, e.originalEvent);

        if (point && point.tooltipTracking && !this._mouseMoveTrackHandler && !this._sharedTooltip()) {
            this._mouseMoveTrackHandler = this._mouseMoveTracking.bind(this);
            var obj;
            bindEvents(document, ( obj = {}, obj[ MOUSEMOVE ] = this._mouseMoveTrackHandler, obj ));
        }
    };

    Chart.prototype._mouseMoveTracking = function _mouseMoveTracking (e) {
        var ref = this;
        var options = ref.options;
        var tooltip = ref._tooltip;
        var highlight = ref._highlight;
        var point = ref._activePoint;
        var coords = this._eventCoordinates(e);

        if (this._plotArea.box.containsPoint(coords)) {
            if (point && point.tooltipTracking && point.series && point.parent.getNearestPoint) {
                var seriesPoint = point.parent.getNearestPoint(coords.x, coords.y, point.seriesIx);
                if (seriesPoint && seriesPoint !== point) {
                    this._activePoint = seriesPoint;

                    if (!seriesPoint.hover(this, e)) {
                        var tooltipOptions = deepExtend({}, options.tooltip, seriesPoint.options.tooltip);
                        if (tooltipOptions.visible) {
                            tooltip.show(seriesPoint);
                        }

                        highlight.show(seriesPoint);
                    }
                }
            }
        } else {
            var obj;
            unbindEvents(document, ( obj = {}, obj[ MOUSEMOVE ] = this._mouseMoveTrackHandler, obj ));
            this._unsetActivePoint();
            this._mouseMoveTrackHandler = null;
        }
    };

    Chart.prototype._mousemove = function _mousemove (e) {
        var coords = this._eventCoordinates(e);
        var plotArea = this._plotArea;

        this._trackCrosshairs(coords);

        if (plotArea.hover) {
            var overPlotArea = plotArea.backgroundContainsPoint(coords);
            if (overPlotArea) {
                plotArea.hovered = true;
                this._plotArea.hover(this, e);
            } else if (plotArea.hovered && !overPlotArea) {
                this.trigger(PLOT_AREA_LEAVE);
                plotArea.hovered = false;
            }
        }

        if (this._sharedTooltip()) {
            this._trackSharedTooltip(coords, e);
        }
    };

    Chart.prototype._trackCrosshairs = function _trackCrosshairs (coords) {
        var crosshairs = this._plotArea.crosshairs;

        for (var i = 0; i < crosshairs.length; i++) {
            var current = crosshairs[i];

            if (current.box.containsPoint(coords)) {
                current.showAt(coords);
            } else {
                current.hide();
            }
        }
    };

    Chart.prototype._trackSharedTooltip = function _trackSharedTooltip (coords, e, toggle) {
        if (this._suppressHover) {
            return;
        }

        var ref = this;
        var tooltipOptions = ref.options.tooltip;
        var plotArea = ref._plotArea;
        var categoryAxis = ref._plotArea.categoryAxis;
        var tooltip = ref._tooltip;
        var highlight = ref._highlight;

        if (plotArea.backgroundContainsPoint(coords)) {
            var index = categoryAxis.pointCategoryIndex(coords);
            if (index !== this._tooltipCategoryIx || (!this._sharedHighlight && toggle)) {
                var points = plotArea.pointsByCategoryIndex(index);
                var pointArgs = points.map(function(point) {
                    return point.eventArgs(e);
                });
                var hoverArgs = pointArgs[0] || {};
                hoverArgs.categoryPoints = pointArgs;

                if (points.length > 0 && !this.trigger(SERIES_HOVER, hoverArgs)) {
                    if (tooltipOptions.visible) {
                        tooltip.showAt(points, coords);
                    }

                    highlight.show(points);

                    this._sharedHighlight = true;
                } else {
                    tooltip.hide();
                }

                this._tooltipCategoryIx = index;
            } else if (toggle && this._sharedHighlight) {
                highlight.hide();
                tooltip.hide();
                this._sharedHighlight = false;
            }
        } else if (this._sharedHighlight) {
            highlight.hide();
            tooltip.hide();
            this._tooltipCategoryIx = null;
            this._sharedHighlight = false;
        }
    };

    Chart.prototype.hideElements = function hideElements () {
        var plotArea = this._plotArea;
        this._mousemove.cancel();

        plotArea.hideCrosshairs();

        this._unsetActivePoint();
    };

    Chart.prototype._unsetActivePoint = function _unsetActivePoint () {
        var ref = this;
        var tooltip = ref._tooltip;
        var highlight = ref._highlight;

        this._activePoint = null;
        this._hoveredPoint = null;

        if (tooltip) {
            tooltip.hide();
        }

        this._tooltipCategoryIx = null;
        this._sharedHighlight = false;

        if (highlight) {
            highlight.hide();
        }
    };

    Chart.prototype._deferRedraw = function _deferRedraw () {
        this._redraw();
    };

    Chart.prototype._clearRedrawTimeout = function _clearRedrawTimeout () {
        if (this._redrawTimeout) {
            clearInterval(this._redrawTimeout);
            this._redrawTimeout = null;
        }
    };

    Chart.prototype.bindCategories = function bindCategories () {
        var this$1 = this;

        var options = this.options;
        var definitions = [].concat(options.categoryAxis);

        for (var axisIx = 0; axisIx < definitions.length; axisIx++) {
            var axis = definitions[axisIx];
            if (axis.autoBind !== false) {
                this$1.bindCategoryAxisFromSeries(axis, axisIx);
            }
        }
    };

    Chart.prototype.bindCategoryAxisFromSeries = function bindCategoryAxisFromSeries (axis, axisIx) {
        var this$1 = this;

        var series = this.options.series;
        var seriesLength = series.length;
        var uniqueCategories = new HashMap();//perf improvement in case type category with dates
        var items = [];
        var bindable = false;
        var dateAxis;

        for (var seriesIx = 0; seriesIx < seriesLength; seriesIx++) {
            var s = series[seriesIx];
            var onAxis = s.categoryAxis === axis.name || (!s.categoryAxis && axisIx === 0);
            var data = s.data;
            var dataLength = data.length;
            var bind = s.categoryField && onAxis;
            bindable = bind || bindable;

            if (bind && dataLength > 0) {
                dateAxis = isDateAxis(axis, getField(s.categoryField, data[0]));

                var getFn = dateAxis ? getDateField : getField;

                for (var dataIx = 0; dataIx < dataLength; dataIx++) {
                    var dataRow = data[dataIx];
                    var category = getFn(s.categoryField, dataRow, this$1.chartService.intl);

                    if (dateAxis || !uniqueCategories.get(category)) {
                        items.push([ category, dataRow ]);

                        if (!dateAxis) {
                            uniqueCategories.set(category, true);
                        }
                    }
                }
            }
        }

        if (items.length > 0) {
            if (dateAxis) {
                items = uniqueDates(items, function(a, b) {
                    return dateComparer(a[0], b[0]);
                });
            }

            var result = transpose(items);
            axis.categories = result[0];
        } else if (bindable) {
            axis.categories = [];
        }
    };

    Chart.prototype._isBindable = function _isBindable (series) {
        var valueFields = SeriesBinder.current.valueFields(series);
        var result = true;

        for (var i = 0; i < valueFields.length; i++) {
            var field = valueFields[i];
            if (field === VALUE) {
                field = "field";
            } else {
                field = field + "Field";
            }

            if (!defined(series[field])) {
                result = false;
                break;
            }
        }

        return result;
    };

    Chart.prototype._noTransitionsRedraw = function _noTransitionsRedraw () {
        var options = this.options;
        var transitionsState;

        if (options.transitions) {
            options.transitions = false;
            transitionsState = true;
        }

        this._redraw();

        if (transitionsState) {
            options.transitions = true;
        }
    };

    Chart.prototype._legendItemHover = function _legendItemHover (seriesIndex, pointIndex) {
        var ref = this;
        var plotArea = ref._plotArea;
        var highlight = ref._highlight;
        var currentSeries = (plotArea.srcSeries || plotArea.series)[seriesIndex];
        var items;

        if (inArray(currentSeries.type, [ PIE, DONUT, FUNNEL ])) {
            items = plotArea.findPoint(function(point) {
                return point.series.index === seriesIndex && point.index === pointIndex;
            });
        } else {
            items = plotArea.pointsBySeriesIndex(seriesIndex);
        }

        highlight.show(items);
    };

    Chart.prototype._shouldAttachMouseMove = function _shouldAttachMouseMove () {
        return this._plotArea.crosshairs.length || (this._tooltip && this._sharedTooltip()) || this.requiresHandlers([ PLOT_AREA_HOVER, PLOT_AREA_LEAVE ]);
    };

    Chart.prototype.updateMouseMoveHandler = function updateMouseMoveHandler () {
        var obj;
        unbindEvents(this.element, ( obj = {}, obj[ MOUSEMOVE ] = this._mousemove, obj ));

        if (this._shouldAttachMouseMove()) {
            var obj$1;
            bindEvents(this.element, ( obj$1 = {}, obj$1[ MOUSEMOVE ] = this._mousemove, obj$1 ));
        }
    };

    Chart.prototype.applyOptions = function applyOptions (options, theme) {
        clearMissingValues(this._originalOptions, options);
        this._originalOptions = deepExtend(this._originalOptions, options);
        this.options = deepExtend({}, this._originalOptions);

        if (theme) {
            this._theme = theme;
            this.chartService.theme = theme;
        }
        this._initTheme(this.options, this._theme);

        this._toggleDragZoomEvents();
    };

    Chart.prototype.setOptions = function setOptions (options, theme) {
        this.applyOptions(options, theme);
        this.bindCategories();
        this.redraw();
        this.updateMouseMoveHandler();
    };

    Chart.prototype.setDirection = function setDirection (rtl) {
        this.chartService.rtl = Boolean(rtl);
        if (this.surface && this.surface.type === 'svg') {
            this._destroySurface();
        }
    };

    Chart.prototype.setIntlService = function setIntlService (intl) {
        this.chartService.intl = intl;
    };

    Chart.prototype.noTransitionsRedraw = function noTransitionsRedraw () {
        this._noTransitionsRedraw();
    };

    Chart.prototype.destroy = function destroy () {
        this._destroyed = true;

        var obj;
        unbindEvents(this.element, ( obj = {}, obj[ CONTEXTMENU ] = this._clickHandler, obj[ MOUSEWHEEL ] = this._mousewheelHandler, obj[ MOUSEMOVE ] = this._mousemove, obj[ MOUSELEAVE ] = this._mouseleaveHandler, obj ));

        if (this.domEvents) {
            this.domEvents.destroy();
            delete this.domEvents;
        }

        if (this._mouseMoveTrackHandler) {
            var obj$1;
            unbindEvents(document, ( obj$1 = {}, obj$1[ MOUSEMOVE ] = this._mouseMoveTrackHandler, obj$1 ));
        }

        this._destroyView();

        this._destroySurface();

        this._clearRedrawTimeout();
    };

    Chart.prototype._destroySurface = function _destroySurface () {
        var surface = this.surface;
        if (surface) {
            surface.unbind("mouseenter", this._surfaceMouseenterHandler);
            surface.unbind("mouseleave", this._surfaceMouseleaveHandler);
            surface.destroy();

            this.surface = null;
        }
    };

    Chart.prototype._destroyView = function _destroyView () {
        var ref = this;
        var model = ref._model;
        var selections = ref._selections;

        if (model) {
            model.destroy();
            this._model = null;
        }

        if (selections) {
            while (selections.length > 0) {
                selections.shift().destroy();
            }
        }

        this._unsetActivePoint();

        if (this._tooltip) {
            this._tooltip.destroy();
        }

        if (this._highlight) {
            this._highlight.destroy();
        }

        if (this._zoomSelection) {
            this._zoomSelection.destroy();
            delete this._zoomSelection;
        }

        if (this._pannable) {
            this._pannable.destroy();
            delete this._pannable;
        }

        if (this._mousewheelZoom) {
            this._mousewheelZoom.destroy();
            delete this._mousewheelZoom;
        }
    };

    return Chart;
}(_progress_kendoDrawing.Class));

function resolveAxisAliases(options) {
    var aliases = AXIS_NAMES;

    for (var idx = 0; idx < aliases.length; idx++) {
        var alias = aliases[idx] + "Axes";
        if (options[alias]) {
            options[aliases[idx] + "Axis"] = options[alias];
            delete options[alias];
        }
    }
}

function pointByCategoryName(points, name) {
    if (points) {
        for (var idx = 0; idx < points.length; idx++) {
            if (points[idx].category === name) {
                return [ points[idx] ];
            }
        }
    }
}

function applyAxisDefaults(options, themeOptions) {
    var themeAxisDefaults = ((themeOptions || {}).axisDefaults) || {};
    var axisName, axisDefaults, axes;

    function mapAxisOptions(axisOptions) {
        var axisColor = (axisOptions || {}).color || axisDefaults.color;
        var result = deepExtend({},
            themeAxisDefaults,
            themeAxisDefaults[axisName],
            axisDefaults,
            axisDefaults[axisName], {
                line: { color: axisColor },
                labels: { color: axisColor },
                title: { color: axisColor }
            },
            axisOptions
        );

        delete result[axisName];

        return result;
    }

    for (var idx = 0; idx < AXIS_NAMES.length; idx++) {
        axisName = AXIS_NAMES[idx] + "Axis";
        axisDefaults = options.axisDefaults || {};
        axes = [].concat(options[axisName]);

        axes = axes.map(mapAxisOptions);

        options[axisName] = axes.length > 1 ? axes : axes[0];
    }
}

function applySeriesDefaults(options, themeOptions) {
    var series = options.series;
    var seriesLength = series.length;
    var seriesDefaults = options.seriesDefaults;
    var commonDefaults = deepExtend({}, options.seriesDefaults);
    var themeSeriesDefaults = themeOptions ? deepExtend({}, themeOptions.seriesDefaults) : {};
    var commonThemeDefaults = deepExtend({}, themeSeriesDefaults);

    cleanupNestedSeriesDefaults(commonDefaults);
    cleanupNestedSeriesDefaults(commonThemeDefaults);

    for (var i = 0; i < seriesLength; i++) {
        var seriesType = series[i].type || options.seriesDefaults.type;

        var baseOptions = deepExtend(
            { data: [] },
            commonThemeDefaults,
            themeSeriesDefaults[seriesType],
            { tooltip: options.tooltip },
            commonDefaults,
            seriesDefaults[seriesType]
        );

        series[i]._defaults = baseOptions;
        series[i] = deepExtend({}, baseOptions, series[i]);
        series[i].data = series[i].data || [];
    }
}

function cleanupNestedSeriesDefaults(seriesDefaults) {
    delete seriesDefaults.bar;
    delete seriesDefaults.column;
    delete seriesDefaults.rangeColumn;
    delete seriesDefaults.line;
    delete seriesDefaults.verticalLine;
    delete seriesDefaults.pie;
    delete seriesDefaults.donut;
    delete seriesDefaults.area;
    delete seriesDefaults.verticalArea;
    delete seriesDefaults.scatter;
    delete seriesDefaults.scatterLine;
    delete seriesDefaults.bubble;
    delete seriesDefaults.candlestick;
    delete seriesDefaults.ohlc;
    delete seriesDefaults.boxPlot;
    delete seriesDefaults.bullet;
    delete seriesDefaults.verticalBullet;
    delete seriesDefaults.polarArea;
    delete seriesDefaults.polarLine;
    delete seriesDefaults.radarArea;
    delete seriesDefaults.radarLine;
    delete seriesDefaults.waterfall;
}


function axisRanges(axes) {
    var ranges = {};

    for (var i = 0; i < axes.length; i++) {
        var axis = axes[i];
        var axisName = axis.options.name;
        if (axisName) {
            ranges[axisName] = axis.range();
        }
    }

    return ranges;
}

function sortDates(dates, comparer) {
    if ( comparer === void 0 ) comparer = dateComparer;

    for (var i = 1, length = dates.length; i < length; i++) {
        if (comparer(dates[i], dates[i - 1]) < 0) {
            dates.sort(comparer);
            break;
        }
    }

    return dates;
}

function uniqueDates(srcDates, comparer) {
    if ( comparer === void 0 ) comparer = dateComparer;

    var dates = sortDates(srcDates, comparer);
    var length = dates.length;
    var result = length > 0 ? [ dates[0] ] : [];

    for (var i = 1; i < length; i++) {
        if (comparer(dates[i], last(result)) !== 0) {
            result.push(dates[i]);
        }
    }

    return result;
}

function transpose(rows) {
    var rowCount = rows.length;
    var result = [];

    for (var rowIx = 0; rowIx < rowCount; rowIx++) {
        var row = rows[rowIx];
        var colCount = row.length;

        for (var colIx = 0; colIx < colCount; colIx++) {
            result[colIx] = result[colIx] || [];
            result[colIx].push(row[colIx]);
        }
    }

    return result;
}

var DATA_FIELDS = [ 'data', 'categories' ];

function clearMissingValues(originalOptions, options) {
    for (var field in options) {
        if (!inArray(field, DATA_FIELDS) && options.hasOwnProperty(field)) {
            var fieldValue = options[field];
            var originalValue = originalOptions[field];
            if (defined(originalValue)) {
                var nullValue = fieldValue === null;
                if ((nullValue || !defined(fieldValue))) {
                    delete originalOptions[field];
                    if (nullValue) {
                        delete options[field];
                    }
                } else if (originalValue && isObject(fieldValue)) {
                    if (isObject(originalValue)) {
                        clearMissingValues(originalValue, fieldValue);
                    }
                }
            }
        }
    }
}

function triggerPaneRender(panes) {
    for (var idx = 0; idx < panes.length; idx++) {
        panes[idx].notifyRender();
    }
}

setDefaultOptions(Chart, {
    renderAs: "",
    chartArea: {},
    legend: {
        visible: true,
        labels: {}
    },
    categoryAxis: {},
    seriesDefaults: {
        type: COLUMN,
        data: [],
        highlight: {
            visible: true
        },
        labels: {},
        negativeValues: {
            visible: false
        }
    },
    series: [],
    seriesColors: null,
    tooltip: {
        visible: false
    },
    transitions: true,
    valueAxis: {},
    plotArea: {},
    title: {},
    xAxis: {},
    yAxis: {},
    panes: [ {} ],
    pannable: false,
    zoomable: false
});

var TOP_OFFSET = -2;

var SharedTooltip$1 = (function (ChartSharedTooltip) {
    function SharedTooltip$$1 () {
        ChartSharedTooltip.apply(this, arguments);
    }

    if ( ChartSharedTooltip ) SharedTooltip$$1.__proto__ = ChartSharedTooltip;
    SharedTooltip$$1.prototype = Object.create( ChartSharedTooltip && ChartSharedTooltip.prototype );
    SharedTooltip$$1.prototype.constructor = SharedTooltip$$1;

    SharedTooltip$$1.prototype._slotAnchor = function _slotAnchor (coords, slot) {
        var axis = this.plotArea.categoryAxis;
        var vertical = axis.options.vertical;
        var align = vertical ? {
            horizontal: "left",
            vertical: "center"
        } : {
            horizontal: "center",
            vertical: "bottom"
        };

        var point;

        if (vertical) {
            point = new Point(this.plotArea.box.x2, slot.center().y);
        } else {
            point = new Point(slot.center().x, TOP_OFFSET);
        }

        return {
            point: point,
            align: align
        };
    };

    SharedTooltip$$1.prototype._defaultAnchor = function _defaultAnchor (point, slot) {
        return this._slotAnchor({}, slot);
    };

    return SharedTooltip$$1;
}(SharedTooltip));

var DEAULT_BAR_WIDTH = 150;
var DEAULT_BULLET_WIDTH = 150;
var NO_CROSSHAIR = [ BAR, BULLET ];

function hide$1(children) {
    var state = [];
    for (var idx = 0; idx < children.length; idx++) {
        var child = children[idx];
        state[idx] = child.style.display;
        child.style.display = "none";
    }

    return state;
}

function show$1(children, state) {
    for (var idx = 0; idx < children.length; idx++) {
        children[idx].style.display = state[idx];
    }
}

function wrapNumber(value) {
    return isNumber(value) ? [ value ] : value;
}

var Sparkline = (function (Chart$$1) {
    function Sparkline () {
        Chart$$1.apply(this, arguments);
    }

    if ( Chart$$1 ) Sparkline.__proto__ = Chart$$1;
    Sparkline.prototype = Object.create( Chart$$1 && Chart$$1.prototype );
    Sparkline.prototype.constructor = Sparkline;

    Sparkline.prototype._setElementClass = function _setElementClass (element) {
        addClass(element, 'k-sparkline');
    };

    Sparkline.prototype._initElement = function _initElement (element) {
        Chart$$1.prototype._initElement.call(this, element);

        this._initialWidth = Math.floor(elementSize$1(element).width);
    };

    Sparkline.prototype._resize = function _resize () {
        var element = this.element;
        var state = hide$1(element.childNodes);

        this._initialWidth = Math.floor(elementSize$1(element).width);

        show$1(element.childNodes, state);

        Chart$$1.prototype._resize.call(this);
    };

    Sparkline.prototype._modelOptions = function _modelOptions () {
        var chartOptions = this.options;
        var stage = this._surfaceWrap();
        var displayState = hide$1(stage.childNodes);

        var space = document.createElement('span');
        space.innerHTML = '&nbsp;';

        stage.appendChild(space);

        var options = deepExtend({
            width: this._autoWidth,
            height: elementSize$1(stage).height,
            transitions: chartOptions.transitions
        }, chartOptions.chartArea, {
            inline: true,
            align: false
        });

        elementSize$1(stage, {
            width: options.width,
            height: options.height
        });

        stage.removeChild(space);

        show$1(stage.childNodes, displayState);

        if (this.surface) {
            this.surface.resize();
        }

        return options;
    };

    Sparkline.prototype._surfaceWrap = function _surfaceWrap () {
        if (!this.stage) {
            var stage = this.stage = document.createElement('span');
            this.element.appendChild(stage);
        }
        return this.stage;
    };

    Sparkline.prototype._createPlotArea = function _createPlotArea (skipSeries) {
        var plotArea = Chart$$1.prototype._createPlotArea.call(this, skipSeries);
        this._autoWidth = this._initialWidth || this._calculateWidth(plotArea);

        return plotArea;
    };

    Sparkline.prototype._calculateWidth = function _calculateWidth (plotArea) {
        var options = this.options;
        var margin = getSpacing(options.chartArea.margin);
        var charts = plotArea.charts;
        var stage = this._surfaceWrap();
        var total = 0;


        for (var i = 0; i < charts.length; i++) {
            var currentChart = charts[i];
            var firstSeries = (currentChart.options.series || [])[0];
            if (!firstSeries) {
                continue;
            }

            if (firstSeries.type === BAR) {
                return DEAULT_BAR_WIDTH;
            }

            if (firstSeries.type === BULLET) {
                return DEAULT_BULLET_WIDTH;
            }

            if (firstSeries.type === PIE) {
                return elementSize$1(stage).height;
            }

            var categoryAxis = currentChart.categoryAxis;
            if (categoryAxis) {
                var pointsCount = categoryAxis.categoriesCount() *
                    (!currentChart.options.isStacked && inArray(firstSeries.type, [ COLUMN, VERTICAL_BULLET ]) ? currentChart.seriesOptions.length : 1);

                total = Math.max(total, pointsCount);
            }
        }

        var size = total * options.pointWidth;
        if (size > 0) {
            size += margin.left + margin.right;
        }

        return size;
    };

    Sparkline.prototype._createSharedTooltip = function _createSharedTooltip (options) {
        return new SharedTooltip$1(this._plotArea, options);
    };

    Sparkline.normalizeOptions = function normalizeOptions (userOptions) {
        var options = wrapNumber(userOptions);

        if (isArray(options)) {
            options = { seriesDefaults: { data: options } };
        } else {
            options = deepExtend({}, options);
        }

        if (!options.series) {
            options.series = [ { data: wrapNumber(options.data) } ];
        }

        deepExtend(options, {
            seriesDefaults: {
                type: options.type
            }
        });

        if (inArray(options.series[0].type, NO_CROSSHAIR) ||
            inArray(options.seriesDefaults.type, NO_CROSSHAIR)) {
            options = deepExtend({}, {
                categoryAxis: {
                    crosshair: {
                        visible: false
                    }
                }
            }, options);
        }

        return options;
    };

    return Sparkline;
}(Chart));

setDefaultOptions(Sparkline, {
    chartArea: {
        margin: 2
    },
    axisDefaults: {
        visible: false,
        majorGridLines: {
            visible: false
        },
        valueAxis: {
            narrowRange: true
        }
    },
    seriesDefaults: {
        type: "line",
        area: {
            line: {
                width: 0.5
            }
        },
        bar: {
            stack: true
        },
        padding: 2,
        width: 0.5,
        overlay: {
            gradient: null
        },
        highlight: {
            visible: false
        },
        border: {
            width: 0
        },
        markers: {
            size: 2,
            visible: false
        }
    },
    tooltip: {
        visible: true,
        shared: true
    },
    categoryAxis: {
        crosshair: {
            visible: true,
            tooltip: {
                visible: false
            }
        }
    },
    legend: {
        visible: false
    },
    transitions: false,

    pointWidth: 5,

    panes: [ { clip: false } ]
});

var FadeOutAnimation = (function (superclass) {
    function FadeOutAnimation () {
        superclass.apply(this, arguments);
    }

    if ( superclass ) FadeOutAnimation.__proto__ = superclass;
    FadeOutAnimation.prototype = Object.create( superclass && superclass.prototype );
    FadeOutAnimation.prototype.constructor = FadeOutAnimation;

    FadeOutAnimation.prototype.setup = function setup () {
        this._initialOpacity = parseFloat(elementStyles(this.element, 'opacity').opacity);
    };

    FadeOutAnimation.prototype.step = function step (pos) {
        elementStyles(this.element, {
            opacity: String(interpolateValue(this._initialOpacity, 0, pos))
        });
    };

    FadeOutAnimation.prototype.abort = function abort () {
        superclass.prototype.abort.call(this);
        elementStyles(this.element, {
            display: 'none',
            opacity: String(this._initialOpacity)
        });
    };

    FadeOutAnimation.prototype.cancel = function cancel () {
        superclass.prototype.abort.call(this);
        elementStyles(this.element, {
            opacity: String(this._initialOpacity)
        });
    };

    return FadeOutAnimation;
}(_progress_kendoDrawing.drawing.Animation));

function createDiv$1(className, style) {
    var div = document.createElement("div");
    div.className = className;
    if (style) {
        div.style.cssText = style;
    }

    return div;
}

var NavigatorHint = (function (Class$$1) {
    function NavigatorHint(container, chartService, options) {
        Class$$1.call(this);

        this.options = deepExtend({}, this.options, options);
        this.container = container;
        this.chartService = chartService;

        var padding = elementStyles(container, [ "paddingLeft", "paddingTop" ]);
        this.chartPadding = {
            top: padding.paddingTop,
            left: padding.paddingLeft
        };

        this.createElements();
        container.appendChild(this.element);
    }

    if ( Class$$1 ) NavigatorHint.__proto__ = Class$$1;
    NavigatorHint.prototype = Object.create( Class$$1 && Class$$1.prototype );
    NavigatorHint.prototype.constructor = NavigatorHint;

    NavigatorHint.prototype.createElements = function createElements () {
        var element = this.element = createDiv$1('k-navigator-hint', 'display: none; position: absolute; top: 1px; left: 1px;');
        var tooltip = this.tooltip = createDiv$1('k-tooltip k-chart-tooltip');
        var scroll = this.scroll = createDiv$1('k-scroll');

        tooltip.innerHTML = '&nbsp;';

        element.appendChild(tooltip);
        element.appendChild(scroll);
    };

    NavigatorHint.prototype.show = function show (from, to, bbox) {
        var ref = this;
        var element = ref.element;
        var options = ref.options;
        var scroll = ref.scroll;
        var tooltip = ref.tooltip;
        var middle = toDate(toTime(from) + toTime(to - from) / 2);
        var scrollWidth = bbox.width() * 0.4;
        var minPos = bbox.center().x - scrollWidth;
        var maxPos = bbox.center().x;
        var posRange = maxPos - minPos;
        var range = options.max - options.min;
        var scale = posRange / range;
        var offset = middle - options.min;
        var text = this.chartService.intl.format(options.format, from, to);
        var template = getTemplate(options);

        this.clearHideTimeout();

        if (!this._visible) {
            elementStyles(element, {
                visibility: 'hidden',
                display: 'block'
            });
            this._visible = true;
        }

        if (template) {
            text = template({
                from: from,
                to: to
            });
        }

        tooltip.innerHTML = text;
        elementStyles(tooltip, {
            left: bbox.center().x - tooltip.offsetWidth / 2,
            top: bbox.y1
        });

        var tooltipStyle = elementStyles(tooltip, [ 'marginTop', 'borderTopWidth', 'height' ]);

        elementStyles(scroll, {
            width: scrollWidth,
            left: minPos + offset * scale,
            top: bbox.y1 + tooltipStyle.marginTop + tooltipStyle.borderTopWidth + tooltipStyle.height / 2
        });

        elementStyles(element, {
            visibility: 'visible'
        });
    };

    NavigatorHint.prototype.clearHideTimeout = function clearHideTimeout () {
        if (this._hideTimeout) {
            clearTimeout(this._hideTimeout);
        }

        if (this._hideAnimation) {
            this._hideAnimation.cancel();
        }
    };

    NavigatorHint.prototype.hide = function hide () {
        var this$1 = this;

        this.clearHideTimeout();

        this._hideTimeout = setTimeout(function () {
            this$1._visible = false;
            this$1._hideAnimation = new FadeOutAnimation(this$1.element);
            this$1._hideAnimation.setup();
            this$1._hideAnimation.play();
        }, this.options.hideDelay);
    };

    NavigatorHint.prototype.destroy = function destroy () {
        this.clearHideTimeout();
        if (this.container) {
            this.container.removeChild(this.element);
        }
        delete this.container;
        delete this.chartService;
        delete this.element;
        delete this.tooltip;
        delete this.scroll;
    };

    return NavigatorHint;
}(_progress_kendoDrawing.Class));

setDefaultOptions(NavigatorHint, {
    format: "{0:d} - {1:d}",
    hideDelay: 500
});

var NAVIGATOR_PANE = "_navigator";
var NAVIGATOR_AXIS = NAVIGATOR_PANE;



var constants = Object.freeze({
	NAVIGATOR_AXIS: NAVIGATOR_AXIS,
	NAVIGATOR_PANE: NAVIGATOR_PANE
});

var ZOOM_ACCELERATION$1 = 3;

var Navigator = (function (Class$$1) {
    function Navigator(chart) {
        Class$$1.call(this);

        this.chart = chart;
        var options = this.options = deepExtend({}, this.options, chart.options.navigator);
        var select = options.select;
        if (select) {
            select.from = this.parseDate(select.from);
            select.to = this.parseDate(select.to);
        }

        if (!defined(options.hint.visible)) {
            options.hint.visible = options.visible;
        }

        var obj;
        this.chartObserver = new InstanceObserver(this, ( obj = {}, obj[DRAG] = '_drag', obj[DRAG_END] = '_dragEnd', obj[ZOOM] = '_zoom', obj[ZOOM_END] = '_zoomEnd', obj ));
        chart.addObserver(this.chartObserver);
    }

    if ( Class$$1 ) Navigator.__proto__ = Class$$1;
    Navigator.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Navigator.prototype.constructor = Navigator;

    Navigator.prototype.parseDate = function parseDate$1 (value) {
        return parseDate(this.chart.chartService.intl, value);
    };

    Navigator.prototype.clean = function clean () {
        if (this.selection) {
            this.selection.destroy();
            this.selection = null;
        }

        if (this.hint) {
            this.hint.destroy();
            this.hint = null;
        }
    };

    Navigator.prototype.destroy = function destroy () {
        if (this.chart) {
            this.chart.removeObserver(this.chartObserver);
            delete this.chart;
        }

        this.clean();
    };

    Navigator.prototype.redraw = function redraw () {
        this._redrawSelf();
        this.initSelection();
    };

    Navigator.prototype.initSelection = function initSelection () {
        var ref = this;
        var chart = ref.chart;
        var options = ref.options;
        var axis = this.mainAxis();
        var ref$1 = axis.roundedRange();
        var min = ref$1.min;
        var max = ref$1.max;
        var ref$2 = options.select;
        var from = ref$2.from;
        var to = ref$2.to;
        var mousewheel = ref$2.mousewheel;
        var axisClone = clone$1(axis);

        if (axis.categoriesCount() === 0) {
            return;
        }

        this.clean();

        // "Freeze" the selection axis position until the next redraw
        axisClone.box = axis.box;

        this.selection = new Selection(chart, axisClone, {
            min: min,
            max: max,
            from: from || min,
            to: to || max,
            mousewheel: valueOrDefault(mousewheel, { zoom: "left" }),
            visible: options.visible
        }, new InstanceObserver(this, {
            selectStart: '_selectStart',
            select: '_select',
            selectEnd: '_selectEnd'
        }));

        if (options.hint.visible) {
            this.hint = new NavigatorHint(chart.element, chart.chartService, {
                min: min,
                max: max,
                template: getTemplate(options.hint),
                format: options.hint.format
            });
        }
    };

    Navigator.prototype.setRange = function setRange () {
        var plotArea = this.chart._createPlotArea(true);
        var axis = plotArea.namedCategoryAxes[NAVIGATOR_AXIS];

        var ref = axis.roundedRange();
        var min = ref.min;
        var max = ref.max;

        var select = this.options.select || {};
        var from = select.from || min;
        if (from < min) {
            from = min;
        }

        var to = select.to || max;
        if (to > max) {
            to = max;
        }

        this.options.select = deepExtend({}, select, {
            from: from,
            to: to
        });

        this.filterAxes();
    };

    Navigator.prototype._redrawSelf = function _redrawSelf (silent) {
        var plotArea = this.chart._plotArea;

        if (plotArea) {
            plotArea.redraw(last(plotArea.panes), silent);
        }
    };

    Navigator.prototype.redrawSlaves = function redrawSlaves () {
        var chart = this.chart;
        var plotArea = chart._plotArea;
        var slavePanes = plotArea.panes.slice(0, -1);

        // Update the original series and categoryAxis before partial refresh.
        plotArea.srcSeries = chart.options.series;
        plotArea.options.categoryAxis = chart.options.categoryAxis;
        plotArea.clearSeriesPointsCache();

        plotArea.redraw(slavePanes);
    };

    Navigator.prototype._drag = function _drag (e) {
        var ref = this;
        var chart = ref.chart;
        var selection = ref.selection;
        var coords = chart._eventCoordinates(e.originalEvent);
        var navigatorAxis = this.mainAxis();
        var naviRange = navigatorAxis.roundedRange();
        var inNavigator = navigatorAxis.pane.box.containsPoint(coords);
        var axis = chart._plotArea.categoryAxis;
        var range = e.axisRanges[axis.options.name];
        var select = this.options.select;
        var duration$$1;

        if (!range || inNavigator || !selection) {
            return;
        }

        if (select.from && select.to) {
            duration$$1 = toTime(select.to) - toTime(select.from);
        } else {
            duration$$1 = toTime(selection.options.to) - toTime(selection.options.from);
        }

        var from = toDate(limitValue(
            toTime(range.min),
            naviRange.min, toTime(naviRange.max) - duration$$1
        ));

        var to = toDate(limitValue(
            toTime(from) + duration$$1,
            toTime(naviRange.min) + duration$$1, naviRange.max
        ));

        this.options.select = { from: from, to: to };

        if (this.options.liveDrag) {
            this.filterAxes();
            this.redrawSlaves();
        }

        selection.set(from, to);

        this.showHint(from, to);
    };

    Navigator.prototype._dragEnd = function _dragEnd () {
        this.filterAxes();
        this.filter();
        this.redrawSlaves();

        if (this.hint) {
            this.hint.hide();
        }
    };

    Navigator.prototype.readSelection = function readSelection () {
        var ref = this;
        var ref_selection_options = ref.selection.options;
        var from = ref_selection_options.from;
        var to = ref_selection_options.to;
        var select = ref.options.select;

        select.from = from;
        select.to = to;
    };

    Navigator.prototype.filterAxes = function filterAxes () {
        var ref = this;
        var select = ref.options.select; if ( select === void 0 ) select = { };
        var chart = ref.chart;
        var allAxes = chart.options.categoryAxis;
        var from = select.from;
        var to = select.to;

        for (var idx = 0; idx < allAxes.length; idx++) {
            var axis = allAxes[idx];
            if (axis.pane !== NAVIGATOR_PANE) {
                axis.min = from;
                axis.max = to;
            }
        }
    };

    Navigator.prototype.filter = function filter () {
        var ref = this;
        var chart = ref.chart;
        var select = ref.options.select;

        if (!chart.requiresHandlers([ "navigatorFilter" ])) {
            return;
        }

        var mainAxis = this.mainAxis();
        var args = {
            from: select.from,
            to: select.to
        };

        if (mainAxis.options.type !== 'category') {
            var axisOptions = new DateCategoryAxis(deepExtend({
                baseUnit: "fit"
            }, chart.options.categoryAxis[0], {
                categories: [ select.from, select.to ]
            }), chart.chartService).options;

            args.from = addDuration(axisOptions.min, -axisOptions.baseUnitStep, axisOptions.baseUnit);
            args.to = addDuration(axisOptions.max, axisOptions.baseUnitStep, axisOptions.baseUnit);
        }

        this.chart.trigger("navigatorFilter", args);
    };

    Navigator.prototype._zoom = function _zoom (e) {
        var ref = this;
        var axis = ref.chart._plotArea.categoryAxis;
        var selection = ref.selection;
        var ref_options = ref.options;
        var select = ref_options.select;
        var liveDrag = ref_options.liveDrag;
        var mainAxis = this.mainAxis();
        var delta = e.delta;

        if (!selection) {
            return;
        }

        var fromIx = mainAxis.categoryIndex(selection.options.from);
        var toIx = mainAxis.categoryIndex(selection.options.to);

        e.originalEvent.preventDefault();

        if (Math.abs(delta) > 1) {
            delta *= ZOOM_ACCELERATION$1;
        }

        if (toIx - fromIx > 1) {
            selection.expand(delta);
            this.readSelection();
        } else {
            axis.options.min = select.from;
            select.from = axis.scaleRange(-e.delta).min;
        }

        if (liveDrag) {
            this.filterAxes();
            this.redrawSlaves();
        }

        selection.set(select.from, select.to);

        this.showHint(this.options.select.from, this.options.select.to);
    };

    Navigator.prototype._zoomEnd = function _zoomEnd (e) {
        this._dragEnd(e);
    };

    Navigator.prototype.showHint = function showHint (from, to) {
        var plotArea = this.chart._plotArea;

        if (this.hint) {
            this.hint.show(from, to, plotArea.backgroundBox());
        }
    };

    Navigator.prototype._selectStart = function _selectStart (e) {
        return this.chart._selectStart(e);
    };

    Navigator.prototype._select = function _select (e) {
        this.showHint(e.from, e.to);

        return this.chart._select(e);
    };

    Navigator.prototype._selectEnd = function _selectEnd (e) {
        if (this.hint) {
            this.hint.hide();
        }

        this.readSelection();
        this.filterAxes();
        this.filter();
        this.redrawSlaves();

        return this.chart._selectEnd(e);
    };

    Navigator.prototype.mainAxis = function mainAxis () {
        var plotArea = this.chart._plotArea;

        if (plotArea) {
            return plotArea.namedCategoryAxes[NAVIGATOR_AXIS];
        }
    };

    Navigator.prototype.select = function select (from, to) {
        var select = this.options.select;

        if (from && to) {
            select.from = this.parseDate(from);
            select.to = this.parseDate(to);

            this.filterAxes();
            this.filter();
            this.redrawSlaves();

            this.selection.set(from, to);
        }

        return {
            from: select.from,
            to: select.to
        };
    };

    Navigator.setup = function setup (options, themeOptions) {
        if ( options === void 0 ) options = {};
        if ( themeOptions === void 0 ) themeOptions = {};

        if (options.__navi) {
            return;
        }
        options.__navi = true;

        var naviOptions = deepExtend({}, themeOptions.navigator, options.navigator);
        var panes = options.panes = [].concat(options.panes);
        var paneOptions = deepExtend({}, naviOptions.pane, { name: NAVIGATOR_PANE });

        if (!naviOptions.visible) {
            paneOptions.visible = false;
            paneOptions.height = 0.1;
        }

        panes.push(paneOptions);

        Navigator.attachAxes(options, naviOptions);
        Navigator.attachSeries(options, naviOptions, themeOptions);
    };

    Navigator.attachAxes = function attachAxes (options, naviOptions) {
        var series = naviOptions.series || [];
        var categoryAxes = options.categoryAxis = [].concat(options.categoryAxis);
        var valueAxes = options.valueAxis = [].concat(options.valueAxis);

        var equallySpacedSeries = filterSeriesByType(series, EQUALLY_SPACED_SERIES);
        var justifyAxis = equallySpacedSeries.length === 0;

        var base = deepExtend({
            type: "date",
            pane: NAVIGATOR_PANE,
            roundToBaseUnit: !justifyAxis,
            justified: justifyAxis,
            _collapse: false,
            majorTicks: { visible: true },
            tooltip: { visible: false },
            labels: { step: 1 },
            autoBind: naviOptions.autoBindElements,
            autoBaseUnitSteps: {
                minutes: [ 1 ],
                hours: [ 1, 2 ],
                days: [ 1, 2 ],
                weeks: [],
                months: [ 1 ],
                years: [ 1 ]
            }
        });
        var user = naviOptions.categoryAxis;

        categoryAxes.push(
            deepExtend({}, base, {
                maxDateGroups: 200
            }, user, {
                name: NAVIGATOR_AXIS,
                title: null,
                baseUnit: "fit",
                baseUnitStep: "auto",
                labels: { visible: false },
                majorTicks: { visible: false }
            }), deepExtend({}, base, user, {
                name: NAVIGATOR_AXIS + "_labels",
                maxDateGroups: 20,
                baseUnitStep: "auto",
                labels: { position: "" },
                plotBands: [],
                autoBaseUnitSteps: {
                    minutes: []
                },
                _overlap: true
            }), deepExtend({}, base, user, {
                name: NAVIGATOR_AXIS + "_ticks",
                maxDateGroups: 200,
                majorTicks: {
                    width: 0.5
                },
                plotBands: [],
                title: null,
                labels: { visible: false, mirror: true },
                _overlap: true
            })
        );

        valueAxes.push(deepExtend({
            name: NAVIGATOR_AXIS,
            pane: NAVIGATOR_PANE,
            majorGridLines: {
                visible: false
            },
            visible: false
        }, naviOptions.valueAxis));
    };

    Navigator.attachSeries = function attachSeries (options, naviOptions, themeOptions) {
        var series = options.series = options.series || [];
        var navigatorSeries = [].concat(naviOptions.series || []);
        var seriesColors = themeOptions.seriesColors;
        var defaults = naviOptions.seriesDefaults;

        for (var idx = 0; idx < navigatorSeries.length; idx++) {
            series.push(
                deepExtend({
                    color: seriesColors[idx % seriesColors.length],
                    categoryField: naviOptions.dateField,
                    visibleInLegend: false,
                    tooltip: {
                        visible: false
                    }
                }, defaults, navigatorSeries[idx], {
                    axis: NAVIGATOR_AXIS,
                    categoryAxis: NAVIGATOR_AXIS,
                    autoBind: naviOptions.autoBindElements
                })
            );
        }
    };

    return Navigator;
}(_progress_kendoDrawing.Class));

function ClonedObject() { }
function clone$1(obj) {
    ClonedObject.prototype = obj;
    return new ClonedObject();
}

var AUTO_CATEGORY_WIDTH = 28;

var StockChart = (function (Chart$$1) {
    function StockChart () {
        Chart$$1.apply(this, arguments);
    }

    if ( Chart$$1 ) StockChart.__proto__ = Chart$$1;
    StockChart.prototype = Object.create( Chart$$1 && Chart$$1.prototype );
    StockChart.prototype.constructor = StockChart;

    StockChart.prototype.applyDefaults = function applyDefaults (options, themeOptions) {
        var width = elementSize$1(this.element).width || DEFAULT_WIDTH;
        var theme = themeOptions;

        var stockDefaults = {
            seriesDefaults: {
                categoryField: options.dateField
            },
            axisDefaults: {
                categoryAxis: {
                    name: "default",
                    majorGridLines: {
                        visible: false
                    },
                    labels: {
                        step: 2
                    },
                    majorTicks: {
                        visible: false
                    },
                    maxDateGroups: Math.floor(width / AUTO_CATEGORY_WIDTH)
                }
            }
        };

        if (theme) {
            theme = deepExtend({}, theme, stockDefaults);
        }

        Navigator.setup(options, theme);

        Chart$$1.prototype.applyDefaults.call(this, options, theme);
    };

    StockChart.prototype._setElementClass = function _setElementClass (element) {
        addClass(element, 'k-chart k-stockchart');
    };

    StockChart.prototype.setOptions = function setOptions (options) {
        this.destroyNavigator();
        Chart$$1.prototype.setOptions.call(this, options);
    };

    StockChart.prototype.noTransitionsRedraw = function noTransitionsRedraw () {
        var transitions = this.options.transitions;

        this.options.transitions = false;
        this._fullRedraw();
        this.options.transitions = transitions;
    };

    StockChart.prototype._resize = function _resize () {
        this.noTransitionsRedraw();
    };

    StockChart.prototype._redraw = function _redraw () {
        var navigator = this.navigator;

        if (!this._dirty() && navigator && navigator.options.partialRedraw) {
            navigator.redrawSlaves();
        } else {
            this._fullRedraw();
        }
    };

    StockChart.prototype._dirty = function _dirty () {
        var options = this.options;
        var series = [].concat(options.series, options.navigator.series);
        var seriesCount = grep(series, function(s) { return s && s.visible; }).length;
        var dirty = this._seriesCount !== seriesCount;
        this._seriesCount = seriesCount;

        return dirty;
    };

    StockChart.prototype._fullRedraw = function _fullRedraw () {
        var navigator = this.navigator;

        if (!navigator) {
            navigator = this.navigator = new Navigator(this);
            this.trigger("navigatorCreated", { navigator: navigator });
        }

        navigator.clean();
        navigator.setRange();

        Chart$$1.prototype._redraw.call(this);

        navigator.initSelection();
    };

    StockChart.prototype._trackSharedTooltip = function _trackSharedTooltip (coords) {
        var plotArea = this._plotArea;
        var pane = plotArea.paneByPoint(coords);

        if (pane && pane.options.name === NAVIGATOR_PANE) {
            this._unsetActivePoint();
        } else {
            Chart$$1.prototype._trackSharedTooltip.call(this, coords);
        }
    };

    StockChart.prototype.bindCategories = function bindCategories () {
        Chart$$1.prototype.bindCategories.call(this);
        this.copyNavigatorCategories();
    };

    StockChart.prototype.copyNavigatorCategories = function copyNavigatorCategories () {
        var definitions = [].concat(this.options.categoryAxis);
        var categories;

        for (var axisIx = 0; axisIx < definitions.length; axisIx++) {
            var axis = definitions[axisIx];
            if (axis.name === NAVIGATOR_AXIS) {
                categories = axis.categories;
            } else if (categories && axis.pane === NAVIGATOR_PANE) {
                axis.categories = categories;
            }
        }
    };

    StockChart.prototype.destroyNavigator = function destroyNavigator () {
        if (this.navigator) {
            this.navigator.destroy();
            this.navigator = null;
        }
    };

    StockChart.prototype.destroy = function destroy () {
        this.destroyNavigator();
        Chart$$1.prototype.destroy.call(this);
    };

    StockChart.prototype._stopChartHandlers = function _stopChartHandlers (e) {
        var coords = this._eventCoordinates(e);
        var pane = this._plotArea.paneByPoint(coords);

        return Chart$$1.prototype._stopChartHandlers.call(this, e) || (pane && pane.options.name === NAVIGATOR_PANE);
    };

    StockChart.prototype._toggleDragZoomEvents = function _toggleDragZoomEvents () {
        if (!this._dragZoomEnabled) {
            this.element.style.touchAction = "none";

            this._dragZoomEnabled = true;
        }
    };

    return StockChart;
}(Chart));

setDefaultOptions(StockChart, {
    dateField: "date",
    axisDefaults: {
        categoryAxis: {
            type: "date",
            baseUnit: "fit",
            justified: true
        },
        valueAxis: {
            narrowRange: true,
            labels: {
                format: "C"
            }
        }
    },
    navigator: {
        select: {},
        seriesDefaults: {
            markers: {
                visible: false
            },
            tooltip: {
                visible: true
            },
            line: {
                width: 2
            }
        },
        hint: {},
        visible: true
    },
    tooltip: {
        visible: true
    },
    legend: {
        visible: false
    }
});

var ANGULAR_SPEED = 150;
var LINEAR_SPEED = 250;
var ARROW = "arrow";
var ARROW_POINTER = "arrowPointer";
var BAR_POINTER = "barPointer";
var DEFAULT_HEIGHT$1 = 200;
var DEFAULT_LINE_WIDTH = 0.5;
var DEFAULT_WIDTH$1 = 200;
var DEGREE = Math.PI / 180;
var INSIDE$1 = "inside";
var LINEAR$1 = "linear";
var OUTSIDE$1 = "outside";
var RADIAL_POINTER = "radialPointer";
var RADIAL_RANGE_POINTER = "radialRangePointer";

function pad$1(bbox, value) {
    var origin = bbox.getOrigin();
    var size = bbox.getSize();
    var spacing = getSpacing(value);

    bbox.setOrigin([ origin.x - spacing.left, origin.y - spacing.top ]);
    bbox.setSize([ size.width + (spacing.left + spacing.right), size.height + (spacing.top + spacing.bottom) ]);

    return bbox;
}

var Group = _progress_kendoDrawing.drawing.Group;
var Path$1 = _progress_kendoDrawing.drawing.Path;
var Text$2 = _progress_kendoDrawing.drawing.Text;

function buildLabelElement(label, options) {
    var labelBox = label.box;
    var textBox = label.children[0].box;
    var border = options.border || {};
    var background = options.background || "";

    var wrapper = Path$1.fromRect(new _progress_kendoDrawing.geometry.Rect([ labelBox.x1, labelBox.y1 ], [ labelBox.width(), labelBox.height() ]), {
        stroke: {}
    });

    var text = new Text$2(label.text, new _progress_kendoDrawing.geometry.Point(textBox.x1, textBox.y1), {
        font: options.font,
        fill: { color: options.color }
    });

    var styleGeometry = pad$1(text.bbox().clone(), options.padding);

    var styleBox = Path$1.fromRect(styleGeometry, {
        stroke: {
            color: border.width ? border.color : "",
            width: border.width,
            dashType: border.dashType,
            lineJoin: "round",
            lineCap: "round"
        },
        fill: {
            color: background
        }
    });

    var elements = new Group();
    elements.append(wrapper);
    elements.append(styleBox);
    elements.append(text);

    return elements;
}

function getRange(range, min, max) {
    var from = defined(range.from) ? range.from : MIN_VALUE;
    var to = defined(range.to) ? range.to : MAX_VALUE;

    range.from = Math.max(Math.min(to, from), min);
    range.to = Math.min(Math.max(to, from), max);

    return range;
}

function unpad$1(bbox, value) {
    var spacing = getSpacing(value);

    spacing.left = -spacing.left; spacing.top = -spacing.top;
    spacing.right = -spacing.right; spacing.bottom = -spacing.bottom;

    return pad$1(bbox, spacing);
}

var DEFAULT_MARGIN = 5;
var Path = _progress_kendoDrawing.drawing.Path;
var Surface = _progress_kendoDrawing.drawing.Surface;

var Gauge = (function (Class$$1) {
    function Gauge(element, userOptions, theme, context) {
        if ( context === void 0 ) context = {};

        Class$$1.call(this);

        this.element = element;
        this.theme = theme;
        this.contextService = new ChartService(this, context);
        this._originalOptions = deepExtend({}, this.options, userOptions);
        this.options = deepExtend({}, this._originalOptions);
        this._initTheme(theme);

        this.redraw();
    }

    if ( Class$$1 ) Gauge.__proto__ = Class$$1;
    Gauge.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Gauge.prototype.constructor = Gauge;

    Gauge.prototype.destroy = function destroy () {
        if (this.surface) {
            this.surface.destroy();
            this.surface = null;
        }

        delete this.element;
        delete this.surfaceElement;
    };

    Gauge.prototype.value = function value (pointerValue) {
        var pointer = this.pointers[0];

        if (arguments.length === 0) {
            return pointer.value();
        }

        pointer.value(pointerValue);
        this._setValueOptions(pointerValue);
    };

    Gauge.prototype._draw = function _draw () {
        var surface = this.surface;

        surface.clear();
        surface.draw(this._visuals);
    };

    Gauge.prototype.exportVisual = function exportVisual () {
        return this._visuals;
    };

    Gauge.prototype.allValues = function allValues (values) {
        var pointers = this.pointers;
        var allValues = [];

        if (arguments.length === 0) {
            for (var i = 0; i < pointers.length; i++) {
                allValues.push(pointers[i].value());
            }

            return allValues;
        }

        if (isArray(values)) {
            for (var i$1 = 0; i$1 < values.length; i$1++) {
                if (isNumber(values[i$1])) {
                    pointers[i$1].value(values[i$1]);
                }
            }
        }

        this._setValueOptions(values);
    };

    Gauge.prototype._setValueOptions = function _setValueOptions (values) {
        var pointers = [].concat(this.options.pointer);
        var arrayValues = [].concat(values);

        for (var i = 0; i < arrayValues.length; i++) {
            pointers[i].value = arrayValues[i];
        }
    };

    Gauge.prototype.resize = function resize () {
        this.noTransitionsRedraw();
    };

    Gauge.prototype.noTransitionsRedraw = function noTransitionsRedraw () {
        var transitions = this.options.transitions;

        this._toggleTransitions(false);

        this.redraw();

        this._toggleTransitions(transitions);
    };

    Gauge.prototype.redraw = function redraw () {
        var size = this._surfaceSize();
        var wrapper = new _progress_kendoDrawing.geometry.Rect([ 0, 0 ], [ size.width, size.height ]);

        this._initSurface();

        this.gaugeArea = this._createGaugeArea();

        this._createModel();

        var bbox = unpad$1(wrapper.bbox(), this._gaugeAreaMargin);
        this.reflow(bbox);
    };

    Gauge.prototype.setOptions = function setOptions (options, theme) {
        this._originalOptions = deepExtend(this._originalOptions, options);
        this.options = deepExtend({}, this._originalOptions);

        this._initTheme(theme);

        this.redraw();
    };

    Gauge.prototype.setDirection = function setDirection (rtl) {
        this.contextService.rtl = Boolean(rtl);
        if (this.surface && this.surface.type === 'svg') {
            this.surface.destroy();
            this.surface = null;
        }
    };

    Gauge.prototype.setIntlService = function setIntlService (intl) {
        this.contextService.intl = intl;
    };

    Gauge.prototype._initTheme = function _initTheme (theme) {
        var currentTheme = theme || this.theme || {};
        this.theme = currentTheme;

        this.options = deepExtend({}, currentTheme, this.options);
        var options = this.options;
        var pointer = options.pointer;

        if (isArray(pointer)) {
            var pointers = [];
            for (var i = 0; i < pointer.length; i++) {
                pointers.push(deepExtend({}, currentTheme.pointer, pointer[i]));
            }
            options.pointer = pointers;
        }
    };

    Gauge.prototype._createGaugeArea = function _createGaugeArea () {
        var options = this.options.gaugeArea;
        var size = this.surface.size();
        var border = options.border || {};
        var areaGeometry = new _progress_kendoDrawing.geometry.Rect([ 0, 0 ], [ size.width, size.height ]);

        this._gaugeAreaMargin = options.margin || DEFAULT_MARGIN;

        if (border.width > 0) {
            areaGeometry = unpad$1(areaGeometry, border.width);
        }

        var gaugeArea = Path.fromRect(areaGeometry, {
            stroke: {
                color: border.width ? border.color : "",
                width: border.width,
                dashType: border.dashType,
                lineJoin: "round",
                lineCap: "round"
            },
            fill: {
                color: options.background
            }
        });

        return gaugeArea;
    };

    Gauge.prototype._initSurface = function _initSurface () {
        var ref = this;
        var options = ref.options;
        var surface = ref.surface;
        var element = this._surfaceElement();
        var size = this._surfaceSize();

        elementSize$1(element, size);

        if (!surface || surface.options.type !== options.renderAs) {
            if (surface) {
                surface.destroy();
            }

            this.surface = Surface.create(element, {
                type: options.renderAs
            });
        } else {
            this.surface.clear();
            this.surface.resize();
        }
    };

    Gauge.prototype._surfaceSize = function _surfaceSize () {
        var options = this.options;
        var size = this._getSize();

        if (options.gaugeArea) {
            deepExtend(size, options.gaugeArea);
        }

        return size;
    };

    Gauge.prototype._surfaceElement = function _surfaceElement () {
        if (!this.surfaceElement) {
            this.surfaceElement = document.createElement('div');
            this.element.appendChild(this.surfaceElement);
        }

        return this.surfaceElement;
    };

    Gauge.prototype.getSize = function getSize () {
        return this._getSize();
    };

    Gauge.prototype._getSize = function _getSize () {
        var element = this.element;
        var defaultSize = this._defaultSize();
        var width = element.offsetWidth;
        var height = element.offsetHeight;

        if (!width) {
            width = defaultSize.width;
        }

        if (!height) {
            height = defaultSize.height;
        }

        return { width: width, height: height };
    };

    Gauge.prototype._defaultSize = function _defaultSize () {
        return {
            width: DEFAULT_WIDTH$1,
            height: DEFAULT_HEIGHT$1
        };
    };

    Gauge.prototype._toggleTransitions = function _toggleTransitions (value) {
        var this$1 = this;

        this.options.transitions = value;
        for (var i = 0; i < this.pointers.length; i++) {
            this$1.pointers[i].options.animation.transitions = value;
        }
    };

    return Gauge;
}(_progress_kendoDrawing.Class));

setDefaultOptions(Gauge, {
    plotArea: {},
    theme: "default",
    renderAs: "",
    pointer: {},
    scale: {},
    gaugeArea: {}
});

var Path$2 = _progress_kendoDrawing.drawing.Path;
var Group$2 = _progress_kendoDrawing.drawing.Group;
var Point$2 = _progress_kendoDrawing.geometry.Point;

function renderAxisTick(tickRenderOptions, tickOptions) {
    var position = tickRenderOptions.position;
    var tickX = tickRenderOptions.tickX;
    var tickY = tickRenderOptions.tickY;
    var start, end;

    if (tickRenderOptions.vertical) {
        start = new Point$2(tickX, position);
        end = new Point$2(tickX + tickOptions.size, position);
    } else {
        start = new Point$2(position, tickY);
        end = new Point$2(position, tickY + tickOptions.size);
    }

    var tickPath = new Path$2({
        stroke: {
            color: tickOptions.color,
            width: tickOptions.width
        }
    }).moveTo(start).lineTo(end);

    return tickPath;
}

function renderTicks$1$1(tickGroup, tickPositions, tickRenderOptions, tickOptions) {
    var count = tickPositions.length;

    if (tickOptions.visible) {
        var mirror = tickRenderOptions.mirror;
        var lineBox = tickRenderOptions.lineBox;
        for (var i = tickOptions.skip; i < count; i += tickOptions.step) {
            if (i % tickOptions.skipUnit === 0) {
                continue;
            }

            tickRenderOptions.tickX = mirror ? lineBox.x2 : lineBox.x2 - tickOptions.size;
            tickRenderOptions.tickY = mirror ? lineBox.y1 - tickOptions.size : lineBox.y1;
            tickRenderOptions.position = tickPositions[i];

            tickGroup.append(renderAxisTick(tickRenderOptions, tickOptions));
        }
    }
}

var LinearScale = (function (NumericAxis$$1) {
    function LinearScale(options, service) {
        var scaleOptions = options || {};
        if (!defined(scaleOptions.reverse) && scaleOptions.vertical === false && (service || {}).rtl) {
            scaleOptions = Object.assign({}, scaleOptions, {
                reverse: true
            });
        }

        NumericAxis$$1.call(this, 0, 1, scaleOptions, service);

        this.options.minorUnit = this.options.minorUnit || this.options.majorUnit / 10;
    }

    if ( NumericAxis$$1 ) LinearScale.__proto__ = NumericAxis$$1;
    LinearScale.prototype = Object.create( NumericAxis$$1 && NumericAxis$$1.prototype );
    LinearScale.prototype.constructor = LinearScale;

    LinearScale.prototype.initUserOptions = function initUserOptions (options) {
        var scaleOptions = deepExtend({}, this.options, options);
        scaleOptions = deepExtend({}, scaleOptions , { labels: { mirror: scaleOptions.mirror } });
        scaleOptions.majorUnit = scaleOptions.majorUnit || autoMajorUnit(scaleOptions.min, scaleOptions.max);

        return scaleOptions;
    };

    LinearScale.prototype.initFields = function initFields () {
    };

    LinearScale.prototype.render = function render () {
        var elements = this.elements = new Group$2();
        var labels = this.renderLabels();
        var scaleLine = this.renderLine();
        var scaleTicks = this.renderTicks();
        var ranges = this.renderRanges();

        elements.append(scaleLine, labels, scaleTicks, ranges);

        return elements;
    };

    LinearScale.prototype.renderRanges = function renderRanges () {
        var this$1 = this;

        var options = this.options;
        var min = options.min;
        var max = options.max;
        var vertical = options.vertical;
        var mirror = options.labels.mirror;
        var ranges = options.ranges || [];
        var elements = new Group$2();
        var count = ranges.length;
        var rangeSize = options.rangeSize || options.minorTicks.size / 2;

        for (var i = 0; i < count; i++) {
            var range = getRange(ranges[i], min, max);
            var slot = this$1.getSlot(range.from, range.to);
            var slotX = vertical ? this$1.lineBox() : slot;
            var slotY = vertical ? slot : this$1.lineBox();
            if (vertical) {
                slotX.x1 -= rangeSize * (mirror ? -1 : 1);
            } else {
                slotY.y2 += rangeSize * (mirror ? -1 : 1);
            }

            elements.append(Path$2.fromRect(new _progress_kendoDrawing.geometry.Rect([ slotX.x1, slotY.y1 ], [ slotX.x2 - slotX.x1, slotY.y2 - slotY.y1 ]), {
                fill: { color: range.color, opacity: range.opacity },
                stroke: { }
            }));
        }

        return elements;
    };

    LinearScale.prototype.renderLabels = function renderLabels () {
        var ref = this;
        var labels = ref.labels;
        var options = ref.options;
        var elements = new Group$2();

        for (var i = 0; i < labels.length; i++) {
            elements.append(buildLabelElement(labels[i], options.labels));
        }

        return elements;
    };

    LinearScale.prototype.renderLine = function renderLine () {
        var line = this.options.line;
        var lineBox = this.lineBox();
        var elements = new Group$2();

        if (line.width > 0 && line.visible) {
            var linePath = new Path$2({
                stroke: {
                    color: line.color,
                    dashType: line.dashType,
                    width: line.width
                }
            });

            linePath.moveTo(lineBox.x1, lineBox.y1).lineTo(lineBox.x2, lineBox.y2);
            elements.append(linePath);
        }

        return elements;
    };

    LinearScale.prototype.renderTicks = function renderTicks$1 () {
        var ticks = new Group$2();
        var options = this.options;
        var majorUnit = options.majorTicks.visible ? options.majorUnit : 0;
        var tickRenderOptions = {
            vertical: options.vertical,
            mirror: options.labels.mirror,
            lineBox: this.lineBox()
        };

        renderTicks$1$1(ticks, this.getMajorTickPositions(), tickRenderOptions, options.majorTicks);
        renderTicks$1$1(ticks, this.getMinorTickPositions(), tickRenderOptions, deepExtend({}, {
            skipUnit: majorUnit / options.minorUnit
        }, options.minorTicks));

        return ticks;
    };

    return LinearScale;
}(NumericAxis));

setDefaultOptions(LinearScale, {
    min: 0,
    max: 50,

    majorTicks: {
        size: 15,
        align: INSIDE$1,
        color: BLACK,
        width: DEFAULT_LINE_WIDTH,
        visible: true
    },

    minorTicks: {
        size: 10,
        align: INSIDE$1,
        color: BLACK,
        width: DEFAULT_LINE_WIDTH,
        visible: true
    },

    line: {
        width: DEFAULT_LINE_WIDTH
    },

    labels: {
        position: INSIDE$1,
        padding: 2
    },
    mirror: false,
    _alignLines: false
});

var Pointer = (function (Class$$1) {
    function Pointer(scale, userOptions) {
        Class$$1.call(this);

        var ref = scale.options;
        var min = ref.min;
        var max = ref.max;
        var options = this.options = deepExtend({}, this.options, userOptions);

        options.fill = options.color;

        this.scale = scale;

        if (defined(options.value)) {
            options.value = limitValue(options.value, min, max);
        } else {
            options.value = min;
        }
    }

    if ( Class$$1 ) Pointer.__proto__ = Class$$1;
    Pointer.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Pointer.prototype.constructor = Pointer;

    Pointer.prototype.value = function value (newValue) {
        var options = this.options;
        var value = options.value;

        if (arguments.length === 0) {
            return value;
        }

        var ref = this.scale.options;
        var min = ref.min;
        var max = ref.max;

        options._oldValue = defined(options._oldValue) ? options.value : min;
        options.value = limitValue(newValue, min, max);

        if (this.elements) {
            this.repaint();
        }
    };

    return Pointer;
}(_progress_kendoDrawing.Class));

setDefaultOptions(Pointer, {
    color: BLACK
});

var LinearPointer = (function (Pointer$$1) {
    function LinearPointer(scale, options) {
        Pointer$$1.call(this, scale, options);

        this.options = deepExtend({
            track: {
                visible: defined(options.track)
            }
        }, this.options);
    }

    if ( Pointer$$1 ) LinearPointer.__proto__ = Pointer$$1;
    LinearPointer.prototype = Object.create( Pointer$$1 && Pointer$$1.prototype );
    LinearPointer.prototype.constructor = LinearPointer;

    LinearPointer.prototype.reflow = function reflow () {
        var ref = this;
        var options = ref.options;
        var scale = ref.scale;
        var ref$1 = scale.options;
        var mirror = ref$1.mirror;
        var vertical = ref$1.vertical;
        var scaleLine = scale.lineBox();
        var trackSize = options.track.size || options.size;
        var pointerHalfSize = options.size / 2;
        var margin = getSpacing(options.margin);
        var space = vertical ?
                 margin[mirror ? "left" : "right"] :
                 margin[mirror ? "bottom" : "top"];
        var pointerBox, pointerRangeBox, trackBox;

        space = mirror ? -space : space;

        if (vertical) {
            trackBox = new Box(
                scaleLine.x1 + space, scaleLine.y1,
                scaleLine.x1 + space, scaleLine.y2);

            if (mirror) {
                trackBox.x1 -= trackSize;
            } else {
                trackBox.x2 += trackSize;
            }

            if (options.shape !== BAR_POINTER) {
                pointerRangeBox = new Box(
                    scaleLine.x2 + space, scaleLine.y1 - pointerHalfSize,
                    scaleLine.x2 + space, scaleLine.y2 + pointerHalfSize
                );
                pointerBox = pointerRangeBox;
            }
        } else {
            trackBox = new Box(
                scaleLine.x1, scaleLine.y1 - space,
                scaleLine.x2, scaleLine.y1 - space);

            if (mirror) {
                trackBox.y2 += trackSize;
            } else {
                trackBox.y1 -= trackSize;
            }

            if (options.shape !== BAR_POINTER) {
                pointerRangeBox = new Box(
                    scaleLine.x1 - pointerHalfSize, scaleLine.y1 - space,
                    scaleLine.x2 + pointerHalfSize, scaleLine.y1 - space
                );
                pointerBox = pointerRangeBox;
            }
        }

        this.trackBox = trackBox;
        this.pointerRangeBox = pointerRangeBox;
        this.box = pointerBox || trackBox.clone().pad(options.border.width);
    };

    LinearPointer.prototype.getElementOptions = function getElementOptions () {
        var options = this.options;

        return {
            fill: {
                color: options.color,
                opacity: options.opacity
            },
            stroke: defined(options.border) ? {
                color: options.border.width ? options.border.color || options.color : "",
                width: options.border.width,
                dashType: options.border.dashType,
                opacity: options.opacity
            } : null
        };
    };

    LinearPointer.prototype._margin = function _margin () {
        var ref = this;
        var scale = ref.scale;
        var options = ref.options;
        var ref$1 = scale.options;
        var mirror = ref$1.mirror;
        var vertical = ref$1.vertical;
        var margin = getSpacing(options.margin);

        var space = vertical ?
            margin[mirror ? "left" : "right"] :
            margin[mirror ? "bottom" : "top"];

        return space;
    };

    return LinearPointer;
}(Pointer));

setDefaultOptions(LinearPointer, {
    shape: BAR_POINTER,

    track: {
        border: {
            width: 1
        }
    },

    color: BLACK,
    border: {
        width: 1
    },
    opacity: 1,

    margin: getSpacing(3),
    animation: {
        type: BAR_POINTER
    },
    visible: true
});

var ArrowLinearPointerAnimation = (function (superclass) {
    function ArrowLinearPointerAnimation () {
        superclass.apply(this, arguments);
    }

    if ( superclass ) ArrowLinearPointerAnimation.__proto__ = superclass;
    ArrowLinearPointerAnimation.prototype = Object.create( superclass && superclass.prototype );
    ArrowLinearPointerAnimation.prototype.constructor = ArrowLinearPointerAnimation;

    ArrowLinearPointerAnimation.prototype.setup = function setup () {
        var options = this.options;
        var margin = options.margin;
        var from = options.from;
        var to = options.to;
        var vertical = options.vertical;
        var axis = vertical ? "x1" : "y1";

        if (options.mirror === vertical) {
            from[axis] -= margin; to[axis] -= margin;
        } else {
            from[axis] += margin; to[axis] += margin;
        }

        var fromScale = this.fromScale = new _progress_kendoDrawing.geometry.Point(from.x1, from.y1);
        var toScale = this.toScale = new _progress_kendoDrawing.geometry.Point(to.x1, to.y1);

        if (options.duration !== 0) {
            options.duration = Math.max((fromScale.distanceTo(toScale) / options.duration) * 1000, 1);
        }
    };

    ArrowLinearPointerAnimation.prototype.step = function step (pos) {
        var translateX = interpolateValue(this.fromScale.x, this.toScale.x, pos);
        var translateY = interpolateValue(this.fromScale.y, this.toScale.y, pos);

        this.element.transform(_progress_kendoDrawing.geometry.transform().translate(translateX, translateY));
    };

    return ArrowLinearPointerAnimation;
}(_progress_kendoDrawing.drawing.Animation));

setDefaultOptions(ArrowLinearPointerAnimation, {
    easing: LINEAR$1,
    duration: LINEAR_SPEED
});

_progress_kendoDrawing.drawing.AnimationFactory.current.register(ARROW_POINTER, ArrowLinearPointerAnimation);

var Point$3 = _progress_kendoDrawing.geometry.Point;
var Path$3 = _progress_kendoDrawing.drawing.Path;

var ArrowLinearPointer = (function (LinearPointer$$1) {
    function ArrowLinearPointer(scale, options) {
        LinearPointer$$1.call(this, scale, options);

        if (!defined(this.options.size)) {
            this.options.size = this.scale.options.majorTicks.size * 0.6;
        }
    }

    if ( LinearPointer$$1 ) ArrowLinearPointer.__proto__ = LinearPointer$$1;
    ArrowLinearPointer.prototype = Object.create( LinearPointer$$1 && LinearPointer$$1.prototype );
    ArrowLinearPointer.prototype.constructor = ArrowLinearPointer;

    ArrowLinearPointer.prototype.pointerShape = function pointerShape () {
        var ref = this;
        var scale = ref.scale;
        var size = ref.options.size;
        var halfSize = size / 2;
        var sign = (scale.options.mirror ? -1 : 1);
        var shape;

        if (scale.options.vertical) {
            shape = [
                new Point$3(0, 0 - halfSize), new Point$3(0 - sign * size, 0), new Point$3(0, 0 + halfSize)
            ];
        } else {
            shape = [
                new Point$3(0 - halfSize, 0), new Point$3(0, 0 + sign * size), new Point$3(0 + halfSize, 0)
            ];
        }

        return shape;
    };

    ArrowLinearPointer.prototype.repaint = function repaint () {
        var ref = this;
        var scale = ref.scale;
        var options = ref.options;
        var animation = new ArrowLinearPointerAnimation(this.elements, deepExtend(options.animation, {
            vertical: scale.options.vertical,
            mirror: scale.options.mirror,
            margin: this._margin(options.margin),
            from: scale.getSlot(options._oldValue),
            to: scale.getSlot(options.value)
        }));

        if (options.animation.transitions === false) {
            animation.options.duration = 0;
        }

        animation.setup();
        animation.play();
    };

    ArrowLinearPointer.prototype.render = function render () {
        var ref = this;
        var scale = ref.scale;
        var options = ref.options;
        var elementOptions = this.getElementOptions();
        var shape = this.pointerShape(options.value);

        options.animation.type = ARROW_POINTER;

        var elements = new Path$3({
            stroke: elementOptions.stroke,
            fill: elementOptions.fill
        }).moveTo(shape[0]).lineTo(shape[1]).lineTo(shape[2]).close();

        var slot = scale.getSlot(options.value);
        elements.transform(_progress_kendoDrawing.geometry.transform().translate(slot.x1, slot.y1));

        this.elements = elements;

        return elements;
    };

    return ArrowLinearPointer;
}(LinearPointer));

var BarLinearPointerAnimation = (function (superclass) {
    function BarLinearPointerAnimation () {
        superclass.apply(this, arguments);
    }

    if ( superclass ) BarLinearPointerAnimation.__proto__ = superclass;
    BarLinearPointerAnimation.prototype = Object.create( superclass && superclass.prototype );
    BarLinearPointerAnimation.prototype.constructor = BarLinearPointerAnimation;

    BarLinearPointerAnimation.prototype.setup = function setup () {
        var options = this.options;
        var axis = this.axis = options.vertical ? Y : X;
        var to = this.to = options.newPoints[0][axis];
        var from = this.from = options.oldPoints[0][axis];

        if (options.duration !== 0) {
            options.duration = Math.max((Math.abs(to - from) / options.speed) * 1000, 1);
        }

        this._set(from);
    };

    BarLinearPointerAnimation.prototype.step = function step (pos) {
        var value = interpolateValue(this.from, this.to, pos);
        this._set(value);
    };

    BarLinearPointerAnimation.prototype._set = function _set (value) {
        var setter = "set" + this.axis.toUpperCase();
        var points = this.options.newPoints;

        points[0][setter](value);
        points[1][setter](value);
    };

    return BarLinearPointerAnimation;
}(_progress_kendoDrawing.drawing.Animation));

setDefaultOptions(BarLinearPointerAnimation, {
    easing: LINEAR$1,
    speed: LINEAR_SPEED
});

_progress_kendoDrawing.drawing.AnimationFactory.current.register(BAR_POINTER, BarLinearPointerAnimation);

var Group$3 = _progress_kendoDrawing.drawing.Group;
var Path$4 = _progress_kendoDrawing.drawing.Path;

var BarLinearPointer = (function (LinearPointer$$1) {
    function BarLinearPointer(scale, options) {
        LinearPointer$$1.call(this, scale, options);

        if (!defined(this.options.size)) {
            this.options.size = this.scale.options.majorTicks.size * 0.3;
        }
    }

    if ( LinearPointer$$1 ) BarLinearPointer.__proto__ = LinearPointer$$1;
    BarLinearPointer.prototype = Object.create( LinearPointer$$1 && LinearPointer$$1.prototype );
    BarLinearPointer.prototype.constructor = BarLinearPointer;

    BarLinearPointer.prototype.pointerShape = function pointerShape (value) {
        var ref = this;
        var scale = ref.scale;
        var options = ref.options;
        var ref$1 = scale.options;
        var mirror = ref$1.mirror;
        var vertical = ref$1.vertical;
        var dir = mirror === vertical ? -1 : 1;
        var size = options.size * dir;
        var minSlot = scale.getSlot(scale.options.min);
        var slot = scale.getSlot(value);
        var axis = vertical ? Y : X;
        var sizeAxis = vertical ? X : Y;
        var margin = this._margin() * dir;

        var p1 = new _progress_kendoDrawing.geometry.Point();
        p1[axis] = minSlot[axis + "1"];
        p1[sizeAxis] = minSlot[sizeAxis + "1"];

        var p2 = new _progress_kendoDrawing.geometry.Point();
        p2[axis] = slot[axis + "1"];
        p2[sizeAxis] = slot[sizeAxis + "1"];

        if (vertical) {
            p1.translate(margin, 0);
            p2.translate(margin, 0);
        } else {
            p1.translate(0, margin);
            p2.translate(0, margin);
        }

        var p3 = p2.clone();
        var p4 = p1.clone();

        if (vertical) {
            p3.translate(size, 0);
            p4.translate(size, 0);
        } else {
            p3.translate(0, size);
            p4.translate(0, size);
        }

        return [ p1, p2, p3, p4 ];
    };

    BarLinearPointer.prototype.repaint = function repaint () {
        var ref = this;
        var scale = ref.scale;
        var options = ref.options;
        var shape = this.pointerShape(options.value);
        var pointerPath = this.pointerPath;
        var oldShape = this.pointerShape(options._oldValue);

        pointerPath.moveTo(shape[0]).lineTo(shape[1]).lineTo(shape[2]).lineTo(shape[3]).close();

        var animation = new BarLinearPointerAnimation(pointerPath, deepExtend(options.animation, {
            reverse: scale.options.reverse,
            vertical: scale.options.vertical,
            oldPoints: [ oldShape[1], oldShape[2] ],
            newPoints: [ shape[1], shape[2] ]
        }));

        if (options.animation.transitions === false) {
            animation.options.duration = 0;
        }

        animation.setup();
        animation.play();
    };

    BarLinearPointer.prototype.render = function render () {
        var group = new Group$3();
        var elementOptions = this.getElementOptions();

        if (this.options.track.visible) {
            group.append(this.renderTrack());
        }

        var pointer = this.pointerPath = new Path$4({
            stroke: elementOptions.stroke,
            fill: elementOptions.fill
        });

        group.append(pointer);

        this.elements = group;

        return group;
    };

    BarLinearPointer.prototype.renderTrack = function renderTrack () {
        var trackOptions = this.options.track;
        var border = trackOptions.border || {};
        var trackBox = this.trackBox.clone().pad(border.width || 0);

        return new Path$4.fromRect(trackBox.toRect(), {
            fill: {
                color: trackOptions.color,
                opacity: trackOptions.opacity
            },
            stroke: {
                color: border.width ? border.color || trackOptions.color : "",
                width: border.width,
                dashType: border.dashType
            }
        });
    };

    return BarLinearPointer;
}(LinearPointer));

var DEFAULT_MIN_WIDTH = 60;
var DEFAULT_MIN_HEIGHT = 60;

var Group$1 = _progress_kendoDrawing.drawing.Group;

var LinearGauge = (function (Gauge$$1) {
    function LinearGauge () {
        Gauge$$1.apply(this, arguments);
    }

    if ( Gauge$$1 ) LinearGauge.__proto__ = Gauge$$1;
    LinearGauge.prototype = Object.create( Gauge$$1 && Gauge$$1.prototype );
    LinearGauge.prototype.constructor = LinearGauge;

    LinearGauge.prototype.reflow = function reflow (bbox) {
        var pointers = this.pointers;
        var bboxX = bbox.origin.x;
        var bboxY = bbox.origin.y;

        var box = new Box(bboxX, bboxY, bboxX + bbox.width(), bboxY + bbox.height());

        this.scale.reflow(box);
        this._shrinkScaleWidth(box);

        for (var i = 0; i < pointers.length; i++) {
            pointers[i].reflow();
        }

        this.bbox = this._getBox(box);
        this._alignElements();
        this._shrinkElements();
        this._buildVisual();
        this._draw();
    };

    LinearGauge.prototype._buildVisual = function _buildVisual () {
        var visuals = new Group$1();
        var scaleElements = this.scale.render();
        var pointers = this.pointers;

        visuals.append(this.gaugeArea);
        visuals.append(scaleElements);

        for (var i = 0; i < pointers.length; i++) {
            var current = pointers[i];
            visuals.append(current.render());
            current.value(current.options.value);
        }

        this._visuals = visuals;
    };

    LinearGauge.prototype._createModel = function _createModel () {
        var this$1 = this;

        var options = this.options;
        var scale = this.scale = new LinearScale(options.scale, this.contextService);

        this.pointers = [];

        var pointers = options.pointer;
        pointers = isArray(pointers) ? pointers : [ pointers ];

        for (var i = 0; i < pointers.length; i++) {
            var currentOptions = deepExtend({}, pointers[i], {
                animation: {
                    transitions: options.transitions
                }
            });
            var pointerType = currentOptions.shape === ARROW ? ArrowLinearPointer : BarLinearPointer;

            this$1.pointers.push(new pointerType(scale, currentOptions));
        }
    };

    LinearGauge.prototype._defaultSize = function _defaultSize () {
        var vertical = this.options.scale.vertical;

        return {
            width: vertical ? DEFAULT_MIN_WIDTH : DEFAULT_WIDTH$1,
            height: vertical ? DEFAULT_HEIGHT$1 : DEFAULT_MIN_HEIGHT
        };
    };

    LinearGauge.prototype._getBox = function _getBox (box) {
        var ref = this;
        var scale = ref.scale;
        var pointers = ref.pointers;
        var boxCenter = box.center();
        var plotAreaBox = pointers[0].box.clone().wrap(scale.box);

        for (var i = 0; i < pointers.length; i++) {
            plotAreaBox.wrap(pointers[i].box.clone());
        }

        var size;
        if (scale.options.vertical) {
            size = plotAreaBox.width() / 2;
            plotAreaBox = new Box(
                boxCenter.x - size, box.y1,
                boxCenter.x + size, box.y2
            );
        } else {
            size = plotAreaBox.height() / 2;
            plotAreaBox = new Box(
                box.x1, boxCenter.y - size,
                box.x2, boxCenter.y + size
            );
        }

        return plotAreaBox;
    };

    LinearGauge.prototype._alignElements = function _alignElements () {
        var this$1 = this;

        var ref = this;
        var scale = ref.scale;
        var pointers = ref.pointers;
        var scaleBox = scale.box;
        var box = pointers[0].box.clone().wrap(scale.box);
        var plotAreaBox = this.bbox;

        for (var i = 0; i < pointers.length; i++) {
            box.wrap(pointers[i].box.clone());
        }

        var diff;
        if (scale.options.vertical) {
            diff = plotAreaBox.center().x - box.center().x;
            scale.reflow(new Box(
                scaleBox.x1 + diff, plotAreaBox.y1,
                scaleBox.x2 + diff, plotAreaBox.y2
            ));
        } else {
            diff = plotAreaBox.center().y - box.center().y;
            scale.reflow(new Box(
                scaleBox.x1, scaleBox.y1 + diff,
                scaleBox.x2, scaleBox.y2 + diff
            ));
        }

        for (var i$1 = 0; i$1 < pointers.length; i$1++) {
            pointers[i$1].reflow(this$1.bbox);
        }
    };

    LinearGauge.prototype._shrinkScaleWidth = function _shrinkScaleWidth (bbox) {
        var ref = this;
        var scale = ref.scale;
        if (!scale.options.vertical) {
            var overflow = scale.contentBox().width() - bbox.width();
            if (overflow > 0) {
                scale.box.shrink(overflow, 0);
                scale.box.alignTo(bbox, 'center');
                scale.reflow(scale.box);
            }
        }
    };

    LinearGauge.prototype._shrinkElements = function _shrinkElements () {
        var this$1 = this;

        var ref = this;
        var scale = ref.scale;
        var pointers = ref.pointers;
        var scaleBox = scale.box.clone();
        var pos = scale.options.vertical ? "y" : "x";
        var pointerBox = pointers[0].box;

        for (var i = 0; i < pointers.length; i++) {
            pointerBox.wrap(pointers[i].box.clone());
        }

        scaleBox[pos + 1] += Math.max(scaleBox[pos + 1] - pointerBox[pos + 1], 0);
        scaleBox[pos + 2] -= Math.max(pointerBox[pos + 2] - scaleBox[pos + 2], 0);

        scale.reflow(scaleBox);

        for (var i$1 = 0; i$1 < pointers.length; i$1++) {
            pointers[i$1].reflow(this$1.bbox);
        }
    };

    return LinearGauge;
}(Gauge));

setDefaultOptions(LinearGauge, {
    transitions: true,
    gaugeArea: {
        background: ""
    },
    scale: {
        vertical: true
    }
});

var GEO_ARC_ADJUST_ANGLE = 180;

var Arc = _progress_kendoDrawing.drawing.Arc;
var Path$5 = _progress_kendoDrawing.drawing.Path;
var Group$5 = _progress_kendoDrawing.drawing.Group;

function drawTicks(arc, tickAngles, unit, tickOptions) {
    var ticks = new Group$5();
    var center = arc.center;
    var radius = arc.getRadiusX();

    if (tickOptions.visible) {
        for (var i = 0; i < tickAngles.length; i++) {
            var tickStart = arc.pointAt(tickAngles[i]);
            var tickEnd = new _progress_kendoDrawing.geometry.Point(center.x + radius - tickOptions.size, center.y).rotate(tickAngles[i], center);

            ticks.append(new Path$5({
                stroke: {
                    color: tickOptions.color,
                    width: tickOptions.width
                }
            }).moveTo(tickStart).lineTo(tickEnd));
        }
    }

    return ticks;
}

function rangeSegment(from, to, color, opacity) {
    return { from: from, to: to, color: color, opacity: opacity };
}

var RadialScale = (function (NumericAxis$$1) {
    function RadialScale(options, service) {
        NumericAxis$$1.call(this, 0, 1, options, service);
    }

    if ( NumericAxis$$1 ) RadialScale.__proto__ = NumericAxis$$1;
    RadialScale.prototype = Object.create( NumericAxis$$1 && NumericAxis$$1.prototype );
    RadialScale.prototype.constructor = RadialScale;

    RadialScale.prototype.initUserOptions = function initUserOptions (options) {
        var scaleOptions = deepExtend({}, this.options, options);
        scaleOptions.majorUnit = scaleOptions.majorUnit || autoMajorUnit(scaleOptions.min, scaleOptions.max);
        scaleOptions.minorUnit = scaleOptions.minorUnit || scaleOptions.majorUnit / 10;

        return scaleOptions;
    };

    RadialScale.prototype.initFields = function initFields () {
    };

    RadialScale.prototype.render = function render (center, radius) {
        var arc = this.renderArc(center, radius);

        this.bbox = arc.bbox();
        this.labelElements = this.renderLabels();
        this.ticks = this.renderTicks();
        this.ranges = this.renderRanges();
    };

    RadialScale.prototype.reflow = function reflow (bbox) {
        var center = bbox.center();
        var radius = Math.min(bbox.height(), bbox.width()) / 2;

        if (defined(this.bbox)) {
            this.bbox = this.arc.bbox();
            this.radius(this.arc.getRadiusX());
            this.repositionRanges();
            this.renderLabels();
        } else {
            return this.render(center, radius);
        }
    };

    RadialScale.prototype.slotAngle = function slotAngle (value) {
        var ref = this.options;
        var min = ref.min;
        var max = ref.max;
        var reverse = ref.reverse;
        var startAngle = ref.startAngle;
        var endAngle = ref.endAngle;
        var angle = endAngle - startAngle;
        var result;

        if (reverse) {
            result = endAngle - (value - min) / (max - min) * angle;
        } else {
            result = ((value - min) / (max - min) * angle) + startAngle;
        }

        return result + GEO_ARC_ADJUST_ANGLE;
    };

    RadialScale.prototype.hasRanges = function hasRanges () {
        var ranges = this.options.ranges;

        return ranges && ranges.length;
    };

    RadialScale.prototype.ticksSize = function ticksSize () {
        var ref = this.options;
        var majorTicks = ref.majorTicks;
        var minorTicks = ref.minorTicks;
        var size = 0;
        if (majorTicks.visible) {
            size = majorTicks.size;
        }

        if (minorTicks.visible) {
            size = Math.max(minorTicks.size, size);
        }

        return size;
    };

    RadialScale.prototype.renderLabels = function renderLabels () {
        var this$1 = this;

        var options = this.options;
        var arc = this.arc.clone();
        var radius = arc.getRadiusX();
        var tickAngles = this.tickAngles(arc, options.majorUnit);
        var rangeSize = options.rangeSize = options.rangeSize || radius * 0.1;
        var labelsGroup = new Group$5();

        var rangeDistance = radius * 0.05;
        if (defined(options.rangeDistance)) {
            rangeDistance = options.rangeDistance;
        } else {
            options.rangeDistance = rangeDistance;
        }

        var labelsOptions = options.labels;
        var isInside = labelsOptions.position === INSIDE$1;
        var hasLabelElements = defined(this.labelElements);

        if (isInside) {
            radius -= this.ticksSize();

            if (this.hasRanges() && !hasLabelElements) {
                radius -= rangeSize + rangeDistance;
            }
            arc.setRadiusX(radius).setRadiusY(radius);
        }

        var labels = this.labels;
        var count = labels.length;
        var padding = labelsOptions.padding;

        for (var i = 0; i < count; i++) {
            var label = labels[i];
            var halfWidth = label.box.width() / 2;
            var halfHeight = label.box.height() / 2;
            var angle = tickAngles[i];
            var labelAngle = (angle - GEO_ARC_ADJUST_ANGLE) * DEGREE;

            var lp = arc.pointAt(angle);
            var cx = lp.x + (Math.cos(labelAngle) * (halfWidth + padding) * (isInside ? 1 : -1));
            var cy = lp.y + (Math.sin(labelAngle) * (halfHeight + padding) * (isInside ? 1 : -1));

            label.reflow(new Box(cx - halfWidth, cy - halfHeight, cx + halfWidth, cy + halfHeight));
            var labelPos = new _progress_kendoDrawing.geometry.Point(label.box.x1, label.box.y1);

            var labelElement = (void 0);
            if (!hasLabelElements) {
                labelElement = buildLabelElement(label, options.labels);
                labelsGroup.append(labelElement);
            } else {
                labelElement = this$1.labelElements.children[i];
                var prevLabelPos = labelElement.bbox().origin;

                var labelTransform = labelElement.transform() || _progress_kendoDrawing.geometry.transform();
                labelTransform.translate(labelPos.x - prevLabelPos.x, labelPos.y - prevLabelPos.y);
                labelElement.transform(labelTransform);
            }

            this$1.bbox = _progress_kendoDrawing.geometry.Rect.union(this$1.bbox, labelElement.bbox());
        }

        return labelsGroup;
    };

    RadialScale.prototype.repositionRanges = function repositionRanges () {
        var ranges = this.ranges.children;

        if (ranges.length > 0) {
            var ref = this.options;
            var rangeDistance = ref.rangeDistance;
            var rangeSize = ref.rangeSize;
            var rangeRadius = this.getRangeRadius();

            if (this.options.labels.position === INSIDE$1) {
                rangeRadius += rangeSize + rangeDistance;
            }

            var newRadius = rangeRadius + (rangeSize / 2);

            for (var i = 0; i < ranges.length; i++) {
                ranges[i]._geometry.setRadiusX(newRadius).setRadiusY(newRadius);
            }

            this.bbox = _progress_kendoDrawing.geometry.Rect.union(this.bbox, this.ranges.bbox());
        }
    };

    RadialScale.prototype.renderRanges = function renderRanges () {
        var this$1 = this;

        var segments = this.rangeSegments();
        var segmentsCount = segments.length;
        var result = new Group$5();

        if (segmentsCount) {
            var ref = this.options;
            var rangeSize = ref.rangeSize;
            var reverse = ref.reverse;
            var rangeDistance = ref.rangeDistance;
            var rangeRadius = this.getRangeRadius();

            // move the ticks with a range distance and a range size
            this.radius(this.radius() - rangeSize - rangeDistance);

            for (var i = 0; i < segmentsCount; i++) {
                var segment = segments[i];
                var from = this$1.slotAngle(segment[reverse ? "to" : "from"]);
                var to = this$1.slotAngle(segment[!reverse ? "to" : "from"]);

                if (to - from !== 0) {
                    result.append(this$1.createRange(from, to, rangeRadius, segment));
                }
            }
        }

        return result;
    };

    RadialScale.prototype.createRange = function createRange (startAngle, endAngle, rangeRadius, options) {
        var rangeSize = this.options.rangeSize;
        var rangeGeom = new _progress_kendoDrawing.geometry.Arc(this.arc.center, {
            radiusX: rangeRadius + (rangeSize / 2),
            radiusY: rangeRadius + (rangeSize / 2),
            startAngle: startAngle,
            endAngle: endAngle
        });

        return new Arc(rangeGeom, {
            stroke: {
                width: rangeSize,
                color: options.color,
                opacity: options.opacity,
                lineCap: options.lineCap
            }
        });
    };

    RadialScale.prototype.rangeSegments = function rangeSegments () {
        var options = this.options;
        var ranges = options.ranges || [];
        var count = ranges.length;
        var segments = [];

        if (count) {
            var min = options.min;
            var max = options.max;
            var defaultColor = options.rangePlaceholderColor;
            segments.push(rangeSegment(min, max, defaultColor));

            for (var i = 0; i < count; i++) {
                var range = getRange(ranges[i], min, max);
                var segmentsCount = segments.length;

                for (var j = 0; j < segmentsCount; j++) {
                    var segment = segments[j];

                    if (segment.from <= range.from && range.from <= segment.to) {
                        segments.push(rangeSegment(range.from, range.to, range.color, range.opacity));

                        if (segment.from <= range.to && range.to <= segment.to) {
                            segments.push(rangeSegment(range.to, segment.to, defaultColor, range.opacity));
                        }

                        segment.to = range.from;

                        break;
                    }
                }
            }
        }

        return segments;
    };

    RadialScale.prototype.getRangeRadius = function getRangeRadius () {
        var ref = this;
        var arc = ref.arc;
        var options = ref.options;
        var rangeSize = options.rangeSize;
        var rangeDistance = options.rangeDistance;
        var majorTickSize = options.majorTicks.size;
        var radius;

        if (options.labels.position === OUTSIDE$1) {
            radius = arc.getRadiusX() - majorTickSize - rangeDistance - rangeSize;
        } else {
            radius = arc.getRadiusX() - rangeSize;
        }

        return radius;
    };

    RadialScale.prototype.renderArc = function renderArc (center, radius) {
        var options = this.options;

        var arc = this.arc = new _progress_kendoDrawing.geometry.Arc(center, {
            radiusX: radius,
            radiusY: radius,
            startAngle: options.startAngle + GEO_ARC_ADJUST_ANGLE,
            endAngle: options.endAngle + GEO_ARC_ADJUST_ANGLE
        });

        return arc;
    };

    RadialScale.prototype.renderTicks = function renderTicks () {
        var ref = this;
        var arc = ref.arc;
        var options = ref.options;
        var tickArc = arc.clone();

        this.majorTickAngles = this.tickAngles(arc, options.majorUnit);
        this.majorTicks = drawTicks(tickArc, this.majorTickAngles, options.majorUnit, options.majorTicks);

        var allTicks = new Group$5();
        allTicks.append(this.majorTicks);

        var majorTickSize = options.majorTicks.size;
        var minorTickSize = options.minorTicks.size;

        this._tickDifference = majorTickSize - minorTickSize;

        if (options.labels.position === OUTSIDE$1) {
            var radius = tickArc.getRadiusX();
            tickArc.setRadiusX(radius - majorTickSize + minorTickSize)
                   .setRadiusY(radius - majorTickSize + minorTickSize);
        }

        this.minorTickAngles = this.normalizeTickAngles(this.tickAngles(arc, options.minorUnit));
        this.minorTicks = drawTicks(tickArc, this.minorTickAngles, options.minorUnit, options.minorTicks);
        allTicks.append(this.minorTicks);

        return allTicks;
    };

    RadialScale.prototype.normalizeTickAngles = function normalizeTickAngles (angles) {
        var options = this.options;
        var skip = options.majorUnit / options.minorUnit;

        for (var i = angles.length - 1; i >= 0; i--) {
            if (i % skip === 0) {
                angles.splice(i, 1);
            }
        }

        return angles;
    };

    RadialScale.prototype.tickAngles = function tickAngles (ring, stepValue) {
        var options = this.options;
        var reverse = options.reverse;
        var range = options.max - options.min;
        var angle = ring.endAngle - ring.startAngle;
        var tickCount = range / stepValue;
        var pos = ring.startAngle;
        var step = angle / tickCount;

        if (reverse) {
            pos += angle;
            step = -step;
        }

        var positions = [];
        for (var i = 0; i < tickCount; i++) {
            positions.push(round(pos, COORD_PRECISION));
            pos += step;
        }

        if (round(pos) <= ring.endAngle) {
            positions.push(pos);
        }

        return positions;
    };

    RadialScale.prototype.radius = function radius (value) {
        if (value) {
            this.arc.setRadiusX(value).setRadiusY(value);
            this.repositionTicks(this.majorTicks.children, this.majorTickAngles);
            this.repositionTicks(this.minorTicks.children, this.minorTickAngles, true);
        } else {
            return this.arc.getRadiusX();
        }
    };

    RadialScale.prototype.repositionTicks = function repositionTicks (ticks, tickAngles, minor) {
        var diff = minor ? (this._tickDifference || 0) : 0;
        var tickArc = this.arc;
        var radius = tickArc.getRadiusX();

        if (minor && this.options.labels.position === OUTSIDE$1 && diff !== 0) {
            tickArc = this.arc.clone();
            tickArc.setRadiusX(radius - diff).setRadiusY(radius - diff);
        }

        for (var i = 0; i < ticks.length; i++) {
            var newPoint = tickArc.pointAt(tickAngles[i]);
            var segments = ticks[i].segments;
            var xDiff = newPoint.x - segments[0].anchor().x;
            var yDiff = newPoint.y - segments[0].anchor().y;

            ticks[i].transform(new _progress_kendoDrawing.geometry.transform().translate(xDiff, yDiff));
        }
    };

    return RadialScale;
}(NumericAxis));

setDefaultOptions(RadialScale, {
    min: 0,
    max: 100,

    majorTicks: {
        size: 15,
        align: INSIDE$1,
        color: BLACK,
        width: DEFAULT_LINE_WIDTH,
        visible: true
    },

    minorTicks: {
        size: 10,
        align: INSIDE$1,
        color: BLACK,
        width: DEFAULT_LINE_WIDTH,
        visible: true
    },

    startAngle: -30,
    endAngle: 210,

    labels: {
        position: INSIDE$1,
        padding: 2
    }
});

var RadialPointerAnimation = (function (superclass) {
    function RadialPointerAnimation(element, options) {
        superclass.call(this, element, options);

        var animationOptions = this.options;

        animationOptions.duration = Math.max((Math.abs(animationOptions.newAngle - animationOptions.oldAngle) / animationOptions.duration) * 1000, 1);
    }

    if ( superclass ) RadialPointerAnimation.__proto__ = superclass;
    RadialPointerAnimation.prototype = Object.create( superclass && superclass.prototype );
    RadialPointerAnimation.prototype.constructor = RadialPointerAnimation;

    RadialPointerAnimation.prototype.step = function step (pos) {
        var options = this.options;
        var angle = interpolateValue(options.oldAngle, options.newAngle, pos);

        this.element.transform(_progress_kendoDrawing.geometry.transform().rotate(angle, options.center));
    };

    return RadialPointerAnimation;
}(_progress_kendoDrawing.drawing.Animation));

setDefaultOptions(RadialPointerAnimation, {
    easing: LINEAR$1,
    duration: ANGULAR_SPEED
});

_progress_kendoDrawing.drawing.AnimationFactory.current.register(RADIAL_POINTER, RadialPointerAnimation);

var CAP_SIZE = 0.05;
var Circle = _progress_kendoDrawing.drawing.Circle;
var Group$6 = _progress_kendoDrawing.drawing.Group;
var Path$6 = _progress_kendoDrawing.drawing.Path;

var RadialPointer = (function (Pointer$$1) {
    function RadialPointer () {
        Pointer$$1.apply(this, arguments);
    }

    if ( Pointer$$1 ) RadialPointer.__proto__ = Pointer$$1;
    RadialPointer.prototype = Object.create( Pointer$$1 && Pointer$$1.prototype );
    RadialPointer.prototype.constructor = RadialPointer;

    RadialPointer.prototype.setAngle = function setAngle (angle) {
        this.elements.transform(_progress_kendoDrawing.geometry.transform().rotate(angle, this.center));
    };

    RadialPointer.prototype.repaint = function repaint () {
        var ref = this;
        var scale = ref.scale;
        var options = ref.options;
        var oldAngle = scale.slotAngle(options._oldValue);
        var newAngle = scale.slotAngle(options.value);

        if (options.animation.transitions === false) {
            this.setAngle(newAngle);
        } else {
            new RadialPointerAnimation(this.elements, deepExtend(options.animation, {
                oldAngle: oldAngle,
                newAngle: newAngle
            })).play();
        }
    };

    RadialPointer.prototype.render = function render () {
        var ref = this;
        var scale = ref.scale;
        var options = ref.options;
        var elements = new Group$6();

        if (options.animation !== false) {
            deepExtend(options.animation, {
                startAngle: 0,
                center: scale.arc.center,
                reverse: scale.options.reverse
            });
        }

        elements.append(this._renderNeedle(), this._renderCap());

        this.elements = elements;
        this.setAngle(DEGREE);

        return elements;
    };

    RadialPointer.prototype.reflow = function reflow (arc) {
        var center = this.center = arc.center;
        var length = limitValue(this.options.length || 1, 0.1, 1.5);
        var radius = this.radius = arc.getRadiusX() * length;
        var capSize = this.capSize = Math.round(radius * this.options.cap.size);

        this.bbox = _progress_kendoDrawing.geometry.Rect.fromPoints(new _progress_kendoDrawing.geometry.Point(center.x - capSize, center.y - capSize),
                                    new _progress_kendoDrawing.geometry.Point(center.x + capSize, center.y + capSize));
    };

    RadialPointer.prototype._renderNeedle = function _renderNeedle () {
        var minorTickSize = this.scale.options.minorTicks.size;
        var center = this.center;
        var needleColor = this.options.color;

        var needlePath = new Path$6({
            fill: { color: needleColor },
            stroke: { color: needleColor, width: DEFAULT_LINE_WIDTH }
        });

        needlePath.moveTo(center.x + this.radius - minorTickSize, center.y)
                  .lineTo(center.x, center.y - (this.capSize / 2))
                  .lineTo(center.x, center.y + (this.capSize / 2))
                  .close();

        return needlePath;
    };

    RadialPointer.prototype._renderCap = function _renderCap () {
        var options = this.options;
        var capColor = options.cap.color || options.color;
        var circle = new _progress_kendoDrawing.geometry.Circle(this.center, this.capSize);

        var cap = new Circle(circle, {
            fill: { color: capColor },
            stroke: { color: capColor }
        });

        return cap;
    };

    return RadialPointer;
}(Pointer));

setDefaultOptions(RadialPointer, {
    cap: {
        size: CAP_SIZE
    },
    arrow: {
        width: 16,
        height: 14
    },
    animation: {
        type: RADIAL_POINTER,
        duration: ANGULAR_SPEED
    }
});

var Group$4 = _progress_kendoDrawing.drawing.Group;

var RadialGauge = (function (Gauge$$1) {
    function RadialGauge () {
        Gauge$$1.apply(this, arguments);
    }

    if ( Gauge$$1 ) RadialGauge.__proto__ = Gauge$$1;
    RadialGauge.prototype = Object.create( Gauge$$1 && Gauge$$1.prototype );
    RadialGauge.prototype.constructor = RadialGauge;

    RadialGauge.prototype.reflow = function reflow (bbox) {
        var this$1 = this;

        var pointers = this.pointers;
        this.scale.reflow(bbox);
        this._initialPlotArea = this.scale.bbox;

        for (var i = 0; i < pointers.length; i++) {
            pointers[i].reflow(this$1.scale.arc);
            this$1._initialPlotArea = _progress_kendoDrawing.geometry.Rect.union(this$1._initialPlotArea, pointers[i].bbox);
        }

        this.fitScale(bbox);
        this.alignScale(bbox);
        this._buildVisual(this.gaugeArea, pointers, this.scale);
        this._draw();
    };

    RadialGauge.prototype._buildVisual = function _buildVisual (gaugeArea, pointers, scale) {
        var visuals = this._visuals = new Group$4();

        visuals.append(gaugeArea);
        visuals.append(scale.ticks);
        visuals.append(scale.ranges);
        this._buildPointers(pointers);
        visuals.append(scale.labelElements);
    };

    RadialGauge.prototype._buildPointers = function _buildPointers (pointers) {
        var this$1 = this;

        for (var i = 0; i < pointers.length; i++) {
            var current = pointers[i];
            current.render();
            this$1._visuals.append(current.elements);

            current.value(current.options.value);
        }
    };

    RadialGauge.prototype.fitScale = function fitScale (bbox) {
        var this$1 = this;

        var arc = this.scale.arc;
        var plotAreaBox = this._initialPlotArea;
        var step = Math.abs(this.getDiff(plotAreaBox, bbox));
        var min = round(step, COORD_PRECISION);
        var max = round(-step, COORD_PRECISION);
        var minDiff, midDiff, maxDiff, mid, oldDiff;
        var staleFlag = 0;
        var i = 0;

        while (i++ < 100) {
            staleFlag = (oldDiff === maxDiff) ? (staleFlag + 1) : 0;

            if (staleFlag > 5) {
                break;
            }

            if (min !== mid) {
                minDiff = this$1.getPlotBox(min, bbox, arc);
                if (0 <= minDiff && minDiff <= 2) {
                    break;
                }
            }

            if (max !== mid) {
                maxDiff = this$1.getPlotBox(max, bbox, arc);
                if (0 <= maxDiff && maxDiff <= 2) {
                    break;
                }
            }

            if (minDiff > 0 && maxDiff > 0) {
                mid = min * 2;
            } else if (minDiff < 0 && maxDiff < 0) {
                mid = max * 2;
            } else {
                mid = round(((min + max) / 2) || 1, COORD_PRECISION);
            }

            midDiff = this$1.getPlotBox(mid, bbox, arc);
            if (0 <= midDiff && midDiff <= 2) {
                break;
            }

            oldDiff = maxDiff;

            if (midDiff > 0) {
                max = mid;
                maxDiff = midDiff;
            } else {
                min = mid;
                minDiff = midDiff;
            }
        }
    };

    RadialGauge.prototype.getPlotBox = function getPlotBox (step, bbox, arc) {
        var this$1 = this;

        var scale = this.scale;
        var pointers = this.pointers;
        var radius = arc.getRadiusX();
        var scaleArc = arc.clone();

        scaleArc.setRadiusX(radius + step).setRadiusY(radius + step);

        scale.arc = scaleArc;
        scale.reflow(bbox);
        this.plotBbox = scale.bbox;

        for (var i = 0; i < pointers.length; i++) {
            pointers[i].reflow(scaleArc);
            this$1.plotBbox = _progress_kendoDrawing.geometry.Rect.union(this$1.plotBbox, pointers[i].bbox);
        }

        return this.getDiff(this.plotBbox, bbox);
    };

    RadialGauge.prototype.getDiff = function getDiff (plotBox, box) {
        return Math.min(box.width() - plotBox.width(), box.height() - plotBox.height());
    };

    RadialGauge.prototype.alignScale = function alignScale (bbox) {
        var this$1 = this;

        var plotBoxCenter = this.plotBbox.center();
        var boxCenter = bbox.center();
        var paddingX = plotBoxCenter.x - boxCenter.x;
        var paddingY = plotBoxCenter.y - boxCenter.y;
        var ref = this;
        var scale = ref.scale;
        var pointers = ref.pointers;

        scale.arc.center.x -= paddingX;
        scale.arc.center.y -= paddingY;

        scale.reflow(bbox);

        for (var i = 0; i < pointers.length; i++) {
            pointers[i].reflow(scale.arc);
            this$1.plotBbox = _progress_kendoDrawing.geometry.Rect.union(scale.bbox, pointers[i].bbox);
        }
    };

    RadialGauge.prototype._createModel = function _createModel () {
        var this$1 = this;

        var options = this.options;
        var pointers = options.pointer;
        var scale = this.scale = new RadialScale(options.scale, this.contextService);

        this.pointers = [];

        var pointersArr = isArray(pointers) ? pointers : [ pointers ];
        for (var i = 0; i < pointersArr.length; i++) {
            var current = new RadialPointer(scale, deepExtend({}, pointersArr[i], {
                animation: {
                    transitions: options.transitions
                }
            }));

            this$1.pointers.push(current);
        }
    };

    return RadialGauge;
}(Gauge));

setDefaultOptions(RadialGauge, {
    transitions: true,
    gaugeArea: {
        background: ""
    }
});

var ArcScale = (function (RadialScale$$1) {
    function ArcScale () {
        RadialScale$$1.apply(this, arguments);
    }

    if ( RadialScale$$1 ) ArcScale.__proto__ = RadialScale$$1;
    ArcScale.prototype = Object.create( RadialScale$$1 && RadialScale$$1.prototype );
    ArcScale.prototype.constructor = ArcScale;

    ArcScale.prototype.rangeSegments = function rangeSegments () {
        var ref = this.options;
        var min = ref.min;
        var max = ref.max;
        var rangePlaceholderColor = ref.rangePlaceholderColor;
        var rangeLineCap = ref.rangeLineCap;

        return [ { from: min, to: max, color: rangePlaceholderColor, lineCap: rangeLineCap } ];
    };

    ArcScale.prototype.hasRanges = function hasRanges () {
        return true;
    };

    ArcScale.prototype.placeholderRangeAngle = function placeholderRangeAngle (angle) {
        var geometry$$1 = this.ranges.children[0].geometry();

        if (this.options.reverse) {
            geometry$$1.setEndAngle(angle);
        } else {
            geometry$$1.setStartAngle(angle);
        }
    };

    ArcScale.prototype.addRange = function addRange (from, to, options) {
        var reverse = this.options.reverse;

        var startAngle = this.slotAngle(reverse ? to : from);
        var endAngle = this.slotAngle(reverse ? from : to);

        var range = this.createRange(startAngle, endAngle, this.getRangeRadius(), options);

        this.ranges.append(range);

        return range;
    };

    return ArcScale;
}(RadialScale));

setDefaultOptions(ArcScale, {
    min: 0,
    max: 100,

    majorTicks: {
        visible: false
    },

    minorTicks: {
        visible: false
    },

    labels: {
        visible: false
    },

    startAngle: 0,
    endAngle: 180,
    rangeLineCap: 'round'
});

var MAX_DURATION = 800;

var RangePointerAnimation = (function (superclass) {
    function RangePointerAnimation(element, options) {
        superclass.call(this, element, options);

        var animationOptions = this.options;
        var duration = (Math.abs(animationOptions.newAngle - animationOptions.oldAngle) / animationOptions.duration) * 1000;
        animationOptions.duration = limitValue(duration, ANGULAR_SPEED, MAX_DURATION);

        var startColor = element.elements.options.get("stroke.color");
        var color = element.currentColor();
        if (startColor !== color) {
            this.startColor = new _progress_kendoDrawing.Color(startColor);
            this.color = new _progress_kendoDrawing.Color(color);
        }
    }

    if ( superclass ) RangePointerAnimation.__proto__ = superclass;
    RangePointerAnimation.prototype = Object.create( superclass && superclass.prototype );
    RangePointerAnimation.prototype.constructor = RangePointerAnimation;

    RangePointerAnimation.prototype.step = function step (pos) {
        var ref = this;
        var options = ref.options;
        var startColor = ref.startColor;
        var color = ref.color;
        var angle = interpolateValue(options.oldAngle, options.newAngle, pos);
        this.element.angle(angle);

        if (color) {
            var r = round(interpolateValue(startColor.r, color.r, pos));
            var g = round(interpolateValue(startColor.g, color.g, pos));
            var b = round(interpolateValue(startColor.b, color.b, pos));

            this.element.stroke(new _progress_kendoDrawing.Color(r, g, b).toHex());
        }
    };

    return RangePointerAnimation;
}(_progress_kendoDrawing.drawing.Animation));

setDefaultOptions(RangePointerAnimation, {
    easing: LINEAR$1,
    duration: ANGULAR_SPEED
});

_progress_kendoDrawing.drawing.AnimationFactory.current.register(RADIAL_RANGE_POINTER, RangePointerAnimation);

var RangePointer = (function (Pointer$$1) {
    function RangePointer () {
        Pointer$$1.apply(this, arguments);
    }

    if ( Pointer$$1 ) RangePointer.__proto__ = Pointer$$1;
    RangePointer.prototype = Object.create( Pointer$$1 && Pointer$$1.prototype );
    RangePointer.prototype.constructor = RangePointer;

    RangePointer.prototype.repaint = function repaint () {
        var ref = this;
        var scale = ref.scale;
        var options = ref.options;
        var oldAngle = scale.slotAngle(options._oldValue);
        var newAngle = scale.slotAngle(options.value);

        if (this.animation) {
            this.animation.abort();
        }

        if (options.animation.transitions === false) {
            this.angle(newAngle);
            this.stroke(this.currentColor());
        } else {
            this.animation = new RangePointerAnimation(this, deepExtend(options.animation, {
                oldAngle: oldAngle,
                newAngle: newAngle
            }));

            this.animation.play();
        }
    };

    RangePointer.prototype.angle = function angle (value) {
        var geometry$$1 = this.elements.geometry();
        if (this.scale.options.reverse) {
            geometry$$1.setStartAngle(value);
        } else {
            geometry$$1.setEndAngle(value);
        }
        this.scale.placeholderRangeAngle(value);
    };

    RangePointer.prototype.stroke = function stroke (value) {
        this.elements.stroke(value);
    };

    RangePointer.prototype.render = function render () {
        if (this.elements) {
            return;
        }

        var ref = this;
        var scale = ref.scale;
        var options = ref.options;

        if (options.animation !== false) {
            deepExtend(options.animation, {
                startAngle: 0,
                center: scale.arc.center,
                reverse: scale.options.reverse
            });
        }

        this.elements = scale.addRange(scale.options.min, this.options.value, {
            color: this.currentColor(),
            opacity: options.opacity,
            lineCap: scale.options.rangeLineCap
        });
    };

    RangePointer.prototype.currentColor = function currentColor () {
        var ref = this.scale.options;
        var min = ref.min;
        var max = ref.max;
        var ref$1 = this.options;
        var colors = ref$1.colors;
        var color = ref$1.color;
        var value = ref$1.value;
        var currentValue = isNumber(value) ? value : min;

        if (colors) {
            for (var idx = 0; idx < colors.length; idx++) {
                var ref$2 = colors[idx];
                var rangeColor = ref$2.color;
                var from = ref$2.from; if ( from === void 0 ) from = min;
                var to = ref$2.to; if ( to === void 0 ) to = max;

                if (from <= currentValue && currentValue <= to) {
                    return rangeColor;
                }
            }
        }

        return color;
    };

    RangePointer.prototype.reflow = function reflow () {
        this.render();

        this.bbox = this.elements.bbox();
    };

    return RangePointer;
}(Pointer));

setDefaultOptions(RangePointer, {
    animation: {
        type: RADIAL_RANGE_POINTER,
        duration: ANGULAR_SPEED
    }
});

var ArcGauge = (function (RadialGauge$$1) {
    function ArcGauge () {
        RadialGauge$$1.apply(this, arguments);
    }

    if ( RadialGauge$$1 ) ArcGauge.__proto__ = RadialGauge$$1;
    ArcGauge.prototype = Object.create( RadialGauge$$1 && RadialGauge$$1.prototype );
    ArcGauge.prototype.constructor = ArcGauge;

    ArcGauge.prototype._initTheme = function _initTheme (theme) {
        RadialGauge$$1.prototype._initTheme.call(this, theme);

        this.options.color = this.options.color || (this.theme.pointer || {}).color;
    };

    ArcGauge.prototype._createModel = function _createModel () {
        var options = this.options;
        var scale = this.scale = new ArcScale(options.scale, this.contextService);

        var pointer = new RangePointer(scale, deepExtend({}, {
            colors: options.colors,
            color: options.color,
            value: options.value,
            opacity: options.opacity,
            animation: {
                transitions: options.transitions
            }
        }));

        this.pointers = [ pointer ];
    };

    ArcGauge.prototype._buildPointers = function _buildPointers (pointers) {
        for (var i = 0; i < pointers.length; i++) {
            var current = pointers[i];
            current.render();

            current.value(current.options.value);
        }
    };

    ArcGauge.prototype._setValueOptions = function _setValueOptions (value) {
        this.options.value = value;
    };

    ArcGauge.prototype.currentColor = function currentColor () {
        var pointer = this.pointers[0];
        if (pointer) {
            return pointer.currentColor();
        }
    };

    ArcGauge.prototype.centerLabelPosition = function centerLabelPosition (width, height) {
        var size = this.getSize();
        var center = this.scale.arc.center;

        var left = center.x - width / 2;
        var top = center.y - height / 2;

        if (width < size.width) {
            var right = left + width;

            left = Math.max(left, 0);

            if (right > size.width) {
                left -= right - size.width;
            }
        }

        if (height < size.height) {
            var bbox = this.scale.bbox;
            var yLimit = bbox.bottomRight().y;
            var bottom = top + height;

            top = Math.max(top, bbox.origin.y);

            if (bottom > yLimit) {
                top -= bottom - yLimit;
            }
        }

        return {
            left: left,
            top: top
        };
    };

    return ArcGauge;
}(RadialGauge));

var BAR_GAP = 1.5;
var BAR_SPACING = 0.4;
var BLACK$1 = '#000';
var SANS = 'Arial, Helvetica, sans-serif';
var SANS11 = "11px " + SANS;
var SANS12 = '12px ' + SANS;
var SANS16 = '16px ' + SANS;
var TRANSPARENT = 'transparent';
var WHITE$1 = '#fff';

var notes = function () { return ({
    icon: {
        border: {
            width: 1
        }
    },
    label: {
        font: SANS12,
        padding: 3
    },
    line: {
        length: 10,
        width: 2
    },
    visible: true
}); };

var axisDefaults = function () { return ({
    labels: {
        font: SANS12
    },
    notes: notes(),
    title: {
        font: SANS16,
        margin: 5
    }
}); };

var areaSeries = function () { return ({
    highlight: {
        markers: {
            border: {}
        }
    },
    line: {
        opacity: 1,
        width: 0
    },
    markers: {
        size: 6,
        visible: false
    },
    opacity: 0.4
}); };

var rangeAreaSeries = function () { return ({
    highlight: {
        markers: {
            border: {}
        }
    },
    line: {
        opacity: 1,
        width: 0
    },
    markers: {
        size: 6,
        visible: false
    },
    opacity: 0.4
}); };

var barSeries = function () { return ({
    gap: BAR_GAP,
    spacing: BAR_SPACING
}); };

var boxPlotSeries = function () { return ({
    outliersField: "",
    meanField: "",
    border: {
        _brightness: 0.8,
        width: 1
    },
    downColor: WHITE$1,
    gap: 1,
    highlight: {
        border: {
            opacity: 1,
            width: 2
        },
        whiskers: {
            width: 3
        },
        mean: {
            width: 2
        },
        median: {
            width: 2
        }
    },
    mean: {
        width: 2
    },
    median: {
        width: 2
    },
    spacing: 0.3,
    whiskers: {
        width: 2
    }
}); };

var bubbleSeries = function () { return ({
    border: {
        width: 0
    },
    labels: {
        background: TRANSPARENT
    },
    opacity: 0.6
}); };

var bulletSeries = function () { return ({
    gap: BAR_GAP,
    spacing: BAR_SPACING,
    target: {
        color: "#ff0000"
    }
}); };

var candlestickSeries = function () { return ({
    border: {
        _brightness: 0.8,
        width: 1
    },
    downColor: WHITE$1,
    gap: 1,
    highlight: {
        border: {
            opacity: 1,
            width: 2
        },
        line: {
            width: 2
        }
    },
    line: {
        color: BLACK$1,
        width: 1
    },
    spacing: 0.3
}); };

var columnSeries = function () { return ({
    gap: BAR_GAP,
    spacing: BAR_SPACING
}); };

var donutSeries = function () { return ({
    margin: 1
}); };

var lineSeries = function () { return ({
    width: 2
}); };

var ohlcSeries = function () { return ({
    gap: 1,
    highlight: {
        line: {
            opacity: 1,
            width: 3
        }
    },
    line: {
        width: 1
    },
    spacing: 0.3
}); };

var radarAreaSeries = function () { return ({
    line: {
        opacity: 1,
        width: 0
    },
    markers: {
        size: 6,
        visible: false
    },
    opacity: 0.5
}); };

var radarLineSeries = function () { return ({
    markers: {
        visible: false
    },
    width: 2
}); };

var rangeBarSeries = function () { return ({
    gap: BAR_GAP,
    spacing: BAR_SPACING
}); };

var rangeColumnSeries = function () { return ({
    gap: BAR_GAP,
    spacing: BAR_SPACING
}); };

var scatterLineSeries = function () { return ({
    width: 1
}); };

var waterfallSeries = function () { return ({
    gap: 0.5,
    line: {
        color: BLACK$1,
        width: 1
    },
    spacing: BAR_SPACING
}); };

var pieSeries = function () { return ({
    labels: {
        background: '',
        color: '',
        padding: {
            top: 5,
            bottom: 5,
            left: 7,
            right: 7
        }
    }
}); };

var funnelSeries = function () { return ({
    labels: {
        background: '',
        color: '',
        padding: {
            top: 5,
            bottom: 5,
            left: 7,
            right: 7
        }
    }
}); };

var seriesDefaults = function (options) { return ({
    visible: true,
    labels: {
        font: SANS11
    },
    overlay: options.gradients ? {} : {
        gradient: "none"
    },
    area: areaSeries(),
    rangeArea: rangeAreaSeries(),
    verticalRangeArea: rangeAreaSeries(),
    bar: barSeries(),
    boxPlot: boxPlotSeries(),
    bubble: bubbleSeries(),
    bullet: bulletSeries(),
    candlestick: candlestickSeries(),
    column: columnSeries(),
    pie: pieSeries(),
    donut: donutSeries(),
    funnel: funnelSeries(),
    horizontalWaterfall: waterfallSeries(),
    line: lineSeries(),
    notes: notes(),
    ohlc: ohlcSeries(),
    radarArea: radarAreaSeries(),
    radarLine: radarLineSeries(),
    polarArea: radarAreaSeries(),
    polarLine: radarLineSeries(),
    rangeBar: rangeBarSeries(),
    rangeColumn: rangeColumnSeries(),
    scatterLine: scatterLineSeries(),
    verticalArea: areaSeries(),
    verticalBoxPlot: boxPlotSeries(),
    verticalBullet: bulletSeries(),
    verticalLine: lineSeries(),
    waterfall: waterfallSeries()
}); };

var title = function () { return ({
    font: SANS16
}); };

var legend = function () { return ({
    labels: {
        font: SANS12
    }
}); };

var baseTheme = function (options) {
    if ( options === void 0 ) options = {};

    return ({
    axisDefaults: axisDefaults(),
    categoryAxis: {
        majorGridLines: {
            visible: true
        }
    },
    navigator: {
        pane: {
            height: 90,
            margin: {
                top: 10
            }
        }
    },
    seriesDefaults: seriesDefaults(options),
    title: title(),
    legend: legend()
});
};

exports.chartBaseTheme = baseTheme;
exports.autoMajorUnit = autoMajorUnit;
exports.Point = Point;
exports.Box = Box;
exports.Ring = Ring;
exports.Sector = Sector;
exports.ShapeBuilder = ShapeBuilder;
exports.ShapeElement = ShapeElement;
exports.ChartElement = ChartElement;
exports.BoxElement = BoxElement;
exports.RootElement = RootElement;
exports.FloatElement = FloatElement;
exports.Text = Text;
exports.TextBox = TextBox;
exports.Title = Title;
exports.AxisLabel = AxisLabel;
exports.Axis = Axis;
exports.Note = Note;
exports.CategoryAxis = CategoryAxis;
exports.DateCategoryAxis = DateCategoryAxis;
exports.DateValueAxis = DateValueAxis;
exports.NumericAxis = NumericAxis;
exports.LogarithmicAxis = LogarithmicAxis;
exports.PolarAxis = PolarAxis;
exports.RadarCategoryAxis = RadarCategoryAxis;
exports.RadarNumericAxis = RadarNumericAxis;
exports.RadarLogarithmicAxis = RadarLogarithmicAxis;
exports.CurveProcessor = CurveProcessor;
exports.Gradients = GRADIENTS;
exports.rectToBox = rectToBox;
exports.Aggregates = Aggregates;
exports.AreaChart = AreaChart;
exports.AreaSegment = AreaSegment;
exports.AxisGroupRangeTracker = AxisGroupRangeTracker;
exports.Bar = Bar;
exports.BarChart = BarChart;
exports.BarLabel = BarLabel;
exports.BoxPlotChart = BoxPlotChart;
exports.BoxPlot = BoxPlot;
exports.BubbleChart = BubbleChart;
exports.Bullet = Bullet;
exports.BulletChart = BulletChart;
exports.CandlestickChart = CandlestickChart;
exports.Candlestick = Candlestick;
exports.CategoricalChart = CategoricalChart;
exports.CategoricalErrorBar = CategoricalErrorBar;
exports.CategoricalPlotArea = CategoricalPlotArea;
exports.Chart = Chart;
exports.ChartContainer = ChartContainer;
exports.ClipAnimation = ClipAnimation;
exports.ClusterLayout = ClusterLayout;
exports.Crosshair = Crosshair;
exports.CrosshairTooltip = CrosshairTooltip;
exports.DefaultAggregates = DefaultAggregates;
exports.DonutChart = DonutChart;
exports.DonutPlotArea = DonutPlotArea;
exports.DonutSegment = DonutSegment;
exports.ErrorBarBase = ErrorBarBase;
exports.ErrorRangeCalculator = ErrorRangeCalculator;
exports.Highlight = Highlight;
exports.SharedTooltip = SharedTooltip;
exports.Legend = Legend;
exports.LegendItem = LegendItem;
exports.LegendLayout = LegendLayout;
exports.LineChart = LineChart;
exports.LinePoint = LinePoint;
exports.LineSegment = LineSegment;
exports.Pane = Pane;
exports.PieAnimation = PieAnimation;
exports.PieChart = PieChart;
exports.PieChartMixin = PieChartMixin;
exports.PiePlotArea = PiePlotArea;
exports.PieSegment = PieSegment;
exports.PlotAreaBase = PlotAreaBase;
exports.PlotAreaEventsMixin = PlotAreaEventsMixin;
exports.PlotAreaFactory = PlotAreaFactory;
exports.PointEventsMixin = PointEventsMixin;
exports.RangeBar = RangeBar;
exports.RangeBarChart = RangeBarChart;
exports.RangeAreaPoint = RangeAreaPoint;
exports.RangeAreaChart = RangeAreaChart;
exports.ScatterChart = ScatterChart;
exports.ScatterErrorBar = ScatterErrorBar;
exports.ScatterLineChart = ScatterLineChart;
exports.Selection = Selection;
exports.SeriesAggregator = SeriesAggregator;
exports.SeriesBinder = SeriesBinder;
exports.SplineSegment = SplineSegment;
exports.SplineAreaSegment = SplineAreaSegment;
exports.StackWrap = StackWrap;
exports.Tooltip = Tooltip;
exports.OHLCChart = OHLCChart;
exports.OHLCPoint = OHLCPoint;
exports.WaterfallChart = WaterfallChart;
exports.WaterfallSegment = WaterfallSegment;
exports.XYPlotArea = XYPlotArea;
exports.MousewheelZoom = MousewheelZoom;
exports.ZoomSelection = ZoomSelection;
exports.Pannable = Pannable;
exports.ChartAxis = ChartAxis;
exports.ChartPane = ChartPane;
exports.ChartPlotArea = ChartPlotArea;
exports.findAxisByName = findAxisByName;
exports.anyHasZIndex = anyHasZIndex;
exports.appendIfNotNull = appendIfNotNull;
exports.areNumbers = areNumbers;
exports.bindSegments = bindSegments;
exports.categoriesCount = categoriesCount$1;
exports.countNumbers = countNumbers;
exports.equalsIgnoreCase = equalsIgnoreCase;
exports.evalOptions = evalOptions;
exports.filterSeriesByType = filterSeriesByType;
exports.getDateField = getDateField;
exports.getField = getField;
exports.hasGradientOverlay = hasGradientOverlay;
exports.hasValue = hasValue;
exports.isDateAxis = isDateAxis;
exports.segmentVisible = segmentVisible;
exports.singleItemOrArray = singleItemOrArray;
exports.createOutOfRangePoints = createOutOfRangePoints;
exports.ChartService = ChartService;
exports.DomEventsBuilder = DomEventsBuilder;
exports.FormatService = FormatService;
exports.IntlService = IntlService;
exports.TemplateService = TemplateService;
exports.Sparkline = Sparkline;
exports.constants = constants;
exports.Navigator = Navigator;
exports.NavigatorHint = NavigatorHint;
exports.StockChart = StockChart;
exports.Gauge = Gauge;
exports.LinearGauge = LinearGauge;
exports.LinearPointer = LinearPointer;
exports.ArrowLinearPointer = ArrowLinearPointer;
exports.BarLinearPointer = BarLinearPointer;
exports.LinearScale = LinearScale;
exports.RadialGauge = RadialGauge;
exports.RadialPointer = RadialPointer;
exports.RadialScale = RadialScale;
exports.ArcGauge = ArcGauge;
exports.RangePointer = RangePointer;
exports.ArcScale = ArcScale;
exports.addClass = addClass;
exports.removeClass = removeClass;
exports.alignPathToPixel = alignPathToPixel;
exports.clockwise = clockwise;
exports.convertableToNumber = convertableToNumber;
exports.deepExtend = deepExtend;
exports.elementStyles = elementStyles;
exports.getSpacing = getSpacing;
exports.getTemplate = getTemplate;
exports.getter = getter;
exports.grep = grep;
exports.hasClasses = hasClasses;
exports.HashMap = HashMap;
exports.inArray = inArray;
exports.interpolateValue = interpolateValue;
exports.InstanceObserver = InstanceObserver;
exports.isArray = isArray;
exports.isFunction = isFunction;
exports.isNumber = isNumber;
exports.isObject = isObject;
exports.isString = isString;
exports.map = map;
exports.mousewheelDelta = mousewheelDelta;
exports.FontLoader = FontLoader;
exports.setDefaultOptions = setDefaultOptions;
exports.sparseArrayLimits = sparseArrayLimits;
exports.styleValue = styleValue;
exports.append = append$1;
exports.bindEvents = bindEvents;
exports.Class = _progress_kendoDrawing.Class;
exports.defined = defined;
exports.deg = deg;
exports.elementOffset = elementOffset;
exports.elementSize = elementSize$1;
exports.eventElement = eventElement;
exports.eventCoordinates = eventCoordinates;
exports.last = last;
exports.limitValue = limitValue;
exports.logToConsole = _progress_kendoDrawing.logToConsole;
exports.objectKey = objectKey;
exports.rad = rad;
exports.round = round;
exports.unbindEvents = unbindEvents;
exports.valueOrDefault = valueOrDefault;

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NvbW1vbi9jb25zdGFudHMuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jb21tb24vaXMtYXJyYXkuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jb21tb24vYWRkLWNsYXNzLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY29tbW9uL3JlbW92ZS1jbGFzcy5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NvbW1vbi9hbGlnbi1wYXRoLXRvLXBpeGVsLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY29tbW9uL2Nsb2Nrd2lzZS5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NvbW1vbi9pcy1udW1iZXIuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jb21tb24vaXMtc3RyaW5nLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY29tbW9uL2NvbnZlcnRhYmxlLXRvLW51bWJlci5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NvbW1vbi9pcy1mdW5jdGlvbi5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NvbW1vbi9kZWVwLWV4dGVuZC5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NvbW1vbi9pcy1vYmplY3QuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jb21tb24vc3R5bGUtdmFsdWUuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jb21tb24vZWxlbWVudC1zdHlsZXMuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jb21tb24vZ2V0LXNwYWNpbmcuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9zZXJ2aWNlcy9pbnRsLXNlcnZpY2UuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9zZXJ2aWNlcy9mb3JtYXQtc2VydmljZS5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL3NlcnZpY2VzL2NoYXJ0LXNlcnZpY2UuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9zZXJ2aWNlcy9kb20tZXZlbnRzLWJ1aWxkZXIuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9zZXJ2aWNlcy90ZW1wbGF0ZS1zZXJ2aWNlLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY29tbW9uL2dldC10ZW1wbGF0ZS5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NvbW1vbi9nZXR0ZXIuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jb21tb24vZ3JlcC5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NvbW1vbi9oYXMtY2xhc3Nlcy5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NvbW1vbi9oYXNoLW1hcC5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NvbW1vbi9pbi1hcnJheS5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NvbW1vbi9pbnRlcnBvbGF0ZS12YWx1ZS5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NvbW1vbi9pbnN0YW5jZS1vYnNlcnZlci5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NvbW1vbi9tYXAuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jb21tb24vbW91c2V3aGVlbC1kZWx0YS5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2RyYXdpbmctdXRpbHMuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jb21tb24vZm9udC1sb2FkZXIuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jb21tb24vc2V0LWRlZmF1bHQtb3B0aW9ucy5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NvbW1vbi9zcGFyc2UtYXJyYXktbGltaXRzLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY29yZS91dGlscy9hdXRvLW1ham9yLXVuaXQuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jb3JlL3BvaW50LmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY29yZS9ib3guanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jb3JlL3JpbmcuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jb3JlL3NlY3Rvci5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NvcmUvc2hhcGUtYnVpbGRlci5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NvcmUvY2hhcnQtZWxlbWVudC5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NvcmUvYm94LWVsZW1lbnQuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jb3JlL3NoYXBlLWVsZW1lbnQuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jb3JlL2dyYWRpZW50cy5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NvcmUvdXRpbHMvYm94LWRpZmYuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jb3JlL3Jvb3QtZWxlbWVudC5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NvcmUvZmxvYXQtZWxlbWVudC5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NvcmUvdGV4dC5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NvcmUvdXRpbHMvcmVjdC10by1ib3guanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jb3JlL3RleHQtYm94LmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY29yZS90aXRsZS5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NvcmUvYXhpcy1sYWJlbC5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NvcmUvbm90ZS5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NvcmUvdXRpbHMvY3JlYXRlLWF4aXMtdGljay5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NvcmUvdXRpbHMvY3JlYXRlLWF4aXMtZ3JpZC1saW5lLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY29yZS9heGlzLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvZGF0ZS11dGlscy9jb25zdGFudHMuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9kYXRlLXV0aWxzL2Fic29sdXRlLWRhdGUtZGlmZi5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2RhdGUtdXRpbHMvYWRkLXRpY2tzLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvZGF0ZS11dGlscy90by1kYXRlLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvZGF0ZS11dGlscy9zdGFydC1vZi13ZWVrLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvZGF0ZS11dGlscy9hZGQtZHVyYXRpb24uanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9kYXRlLXV0aWxzL2Zsb29yLWRhdGUuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9kYXRlLXV0aWxzL2NlaWwtZGF0ZS5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2RhdGUtdXRpbHMvZGF0ZS1jb21wYXJlci5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2RhdGUtdXRpbHMvZGF0ZS1kaWZmLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvZGF0ZS11dGlscy90by10aW1lLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvZGF0ZS11dGlscy9kYXRlLWVxdWFscy5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2RhdGUtdXRpbHMvZGF0ZS1pbmRleC5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2RhdGUtdXRpbHMvZHVyYXRpb24uanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9kYXRlLXV0aWxzL3BhcnNlLWRhdGUuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9kYXRlLXV0aWxzL3BhcnNlLWRhdGVzLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY29yZS9jYXRlZ29yeS1heGlzLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY29yZS9jb25zdGFudHMuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jb3JlL2RhdGUtY2F0ZWdvcnktYXhpcy5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NvcmUvdXRpbHMvYXV0by1heGlzLW1pbi5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NvcmUvdXRpbHMvYXV0by1heGlzLW1heC5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NvcmUvdXRpbHMvZmxvb3IuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jb3JlL3V0aWxzL2NlaWwuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jb3JlL3V0aWxzL2xpbWl0LWNvb3JkaW5hdGUuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jb3JlL251bWVyaWMtYXhpcy5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NvcmUvZGF0ZS12YWx1ZS1heGlzLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY29yZS9sb2dhcml0aG1pYy1heGlzLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY29yZS9taXhpbnMvZ3JpZC1saW5lcy1taXhpbi5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NvcmUvcmFkYXItY2F0ZWdvcnktYXhpcy5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NvcmUvcG9sYXItYXhpcy5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NvcmUvbWl4aW5zL3JhZGFyLW51bWVyaWMtYXhpcy1taXhpbi5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NvcmUvcmFkYXItbnVtZXJpYy1heGlzLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY29yZS9yYWRhci1sb2dhcml0aG1pYy1heGlzLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY29yZS9jdXJ2ZS1wcm9jZXNzb3IuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC9hcGktZWxlbWVudHMvY2hhcnQtYXhpcy5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L2FwaS1lbGVtZW50cy9maW5kLWF4aXMtYnktbmFtZS5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L2FwaS1lbGVtZW50cy9jaGFydC1wYW5lLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvYXBpLWVsZW1lbnRzL2NoYXJ0LXBsb3RhcmVhLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvdXRpbHMvY291bnQtbnVtYmVycy5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L2FnZ3JlZ2F0ZXMvYWdncmVnYXRlcy5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L3V0aWxzL2dldC1maWVsZC5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L3Nlcmllcy1iaW5kZXIuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC9lcnJvci1iYXJzL2Vycm9yLXJhbmdlLWNhbGN1bGF0b3IuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC9jb25zdGFudHMuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC9lcnJvci1iYXJzL2Vycm9yLWJhci1iYXNlLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvZXJyb3ItYmFycy9jYXRlZ29yaWNhbC1lcnJvci1iYXIuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC91dGlscy9ldmFsLW9wdGlvbnMuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC91dGlscy9jYXRlZ29yaWVzLWNvdW50LmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvY2F0ZWdvcmljYWwtY2hhcnQuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC9taXhpbnMvcG9pbnQtZXZlbnRzLW1peGluLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvbWl4aW5zL25vdGUtbWl4aW4uanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC9saW5lLWNoYXJ0L2xpbmUtcG9pbnQuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC9saW5lLWNoYXJ0L2xpbmUtc2VnbWVudC5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L2xpbmUtY2hhcnQvc3RlcC1saW5lLW1peGluLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvbGluZS1jaGFydC9zdGVwLWxpbmUtc2VnbWVudC5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L2xpbmUtY2hhcnQvc3BsaW5lLXNlZ21lbnQuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC9taXhpbnMvbGluZS1jaGFydC1taXhpbi5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L2FuaW1hdGlvbnMvY2xpcC1hbmltYXRpb24uanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC91dGlscy9hbnktaGFzLXotaW5kZXguanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC9taXhpbnMvY2xpcC1hbmltYXRpb24tbWl4aW4uanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC9saW5lLWNoYXJ0L2xpbmUtY2hhcnQuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC9hcmVhLWNoYXJ0L2FyZWEtc2VnbWVudC5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L2FyZWEtY2hhcnQvc3RlcC1hcmVhLXNlZ21lbnQuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC9hcmVhLWNoYXJ0L3NwbGluZS1hcmVhLXNlZ21lbnQuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC9hcmVhLWNoYXJ0L2FyZWEtY2hhcnQuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC9heGlzLWdyb3VwLXJhbmdlLXRyYWNrZXIuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC9iYXItY2hhcnQvYmFyLWxhYmVsLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvdXRpbHMvaGFzLWdyYWRpZW50LW92ZXJsYXkuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC9iYXItY2hhcnQvYmFyLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvbGF5b3V0L3V0aWxzLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvbGF5b3V0L2NsdXN0ZXItbGF5b3V0LmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvbGF5b3V0L3N0YWNrLXdyYXAuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC9iYXItY2hhcnQvYmFyLWNoYXJ0LmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvY2FuZGxlc3RpY2stY2hhcnQvY2FuZGxlc3RpY2suanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC91dGlscy9hcmUtbnVtYmVycy5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L2NhbmRsZXN0aWNrLWNoYXJ0L2NhbmRsZXN0aWNrLWNoYXJ0LmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvYm94LXBsb3QtY2hhcnQvYm94LXBsb3QuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC9ib3gtcGxvdC1jaGFydC92ZXJ0aWNhbC1ib3gtcGxvdC5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L2JveC1wbG90LWNoYXJ0L2JveC1wbG90LWNoYXJ0LmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvZXJyb3ItYmFycy9zY2F0dGVyLWVycm9yLWJhci5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L3V0aWxzL2hhcy12YWx1ZS5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L3NjYXR0ZXItY2hhcnRzL3NjYXR0ZXItY2hhcnQuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC9idWJibGUtY2hhcnQvYnViYmxlLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvYnViYmxlLWNoYXJ0L2J1YmJsZS1jaGFydC5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L2J1bGxldC1jaGFydC90YXJnZXQuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC9idWxsZXQtY2hhcnQvYnVsbGV0LmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvYnVsbGV0LWNoYXJ0L2J1bGxldC1jaGFydC5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L3Rvb2x0aXAvYmFzZS10b29sdGlwLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvY3Jvc3NoYWlyL2Nyb3NzaGFpci10b29sdGlwLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvY3Jvc3NoYWlyL2Nyb3NzaGFpci5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L2NoYXJ0LWNvbnRhaW5lci5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L3BhbmUuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC91dGlscy9hcHBlbmQtaWYtbm90LW51bGwuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC91dGlscy9zZWdtZW50LXZpc2libGUuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC91dGlscy9iaW5kLXNlZ21lbnRzLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvdXRpbHMvZXF1YWxzLWlnbm9yZS1jYXNlLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvdXRpbHMvZmlsdGVyLXNlcmllcy1ieS10eXBlLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvdXRpbHMvZ2V0LWRhdGUtZmllbGQuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC91dGlscy9pcy1kYXRlLWF4aXMuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC91dGlscy9zaW5nbGUtaXRlbS1vci1hcnJheS5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L3V0aWxzL2NyZWF0ZS1vdXQtb2YtcmFuZ2UtcG9pbnRzLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvcGxvdGFyZWEvcGxvdGFyZWEtYmFzZS5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L21peGlucy9wbG90YXJlYS1ldmVudHMtbWl4aW4uanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC9hZ2dyZWdhdGVzL3Nlcmllcy1hZ2dyZWdhdG9yLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvYWdncmVnYXRlcy9kZWZhdWx0LWFnZ3JlZ2F0ZXMuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC9yYW5nZS1iYXItY2hhcnQvcmFuZ2UtYmFyLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvcmFuZ2UtYmFyLWNoYXJ0L3JhbmdlLWJhci1jaGFydC5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L3JhbmdlLWFyZWEtY2hhcnQvcmFuZ2UtbGluZS1wb2ludC5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L3JhbmdlLWFyZWEtY2hhcnQvcmFuZ2UtYXJlYS1wb2ludC5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L3JhbmdlLWFyZWEtY2hhcnQvcmFuZ2UtYXJlYS1zZWdtZW50LmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvcmFuZ2UtYXJlYS1jaGFydC9zcGxpbmUtcmFuZ2UtYXJlYS1zZWdtZW50LmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvcmFuZ2UtYXJlYS1jaGFydC9zdGVwLXJhbmdlLWFyZWEtc2VnbWVudC5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L3JhbmdlLWFyZWEtY2hhcnQvcmFuZ2UtYXJlYS1jaGFydC5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L29obGMtY2hhcnQvb2hsYy1wb2ludC5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L29obGMtY2hhcnQvb2hsYy1jaGFydC5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L3dhdGVyZmFsbC1jaGFydC93YXRlcmZhbGwtc2VnbWVudC5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L3dhdGVyZmFsbC1jaGFydC93YXRlcmZhbGwtY2hhcnQuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC9wbG90YXJlYS9jYXRlZ29yaWNhbC1wbG90YXJlYS5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L2hpZ2hsaWdodC5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L3Bhbi1hbmQtem9vbS9hY2NlcHQta2V5LmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvcGFuLWFuZC16b29tL3RvLWNoYXJ0LWF4aXMtcmFuZ2VzLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvcGFuLWFuZC16b29tL3Bhbm5hYmxlLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvcGFuLWFuZC16b29tL3pvb20tc2VsZWN0aW9uLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvcGFuLWFuZC16b29tL21vdXNld2hlZWwtem9vbS5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L2xlZ2VuZC9sZWdlbmQtbGF5b3V0LmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvbGVnZW5kL2xlZ2VuZC1pdGVtLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvbGVnZW5kL2xlZ2VuZC5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L3Bsb3RhcmVhL3Bsb3RhcmVhLWZhY3RvcnkuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC9zZWxlY3Rpb24uanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC90b29sdGlwL3Rvb2x0aXAuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC90b29sdGlwL3NoYXJlZC10b29sdGlwLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvYW5pbWF0aW9ucy9iYXItY2hhcnQtYW5pbWF0aW9uLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvYW5pbWF0aW9ucy9idWJibGUtYW5pbWF0aW9uLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvYW5pbWF0aW9ucy9mYWRlLWluLWFuaW1hdGlvbi5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L2FuaW1hdGlvbnMvcGllLWFuaW1hdGlvbi5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L3NjYXR0ZXItY2hhcnRzL3NjYXR0ZXItbGluZS1jaGFydC5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L3Bsb3RhcmVhL3h5LXBsb3RhcmVhLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvcGllLWNoYXJ0L3BpZS1zZWdtZW50LmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvbWl4aW5zL3BpZS1jaGFydC1taXhpbi5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L3BpZS1jaGFydC9waWUtY2hhcnQuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC9wbG90YXJlYS9waWUtcGxvdGFyZWEuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC9kb251dC1jaGFydC9kb251dC1zZWdtZW50LmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvZG9udXQtY2hhcnQvZG9udXQtY2hhcnQuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC9wbG90YXJlYS9kb251dC1wbG90YXJlYS5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L3Bsb3RhcmVhL3BvbGFyLXBsb3RhcmVhLWJhc2UuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC9wb2xhci1zY2F0dGVyLWNoYXJ0L3BvbGFyLXNjYXR0ZXItY2hhcnQuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC9wb2xhci1saW5lLWNoYXJ0L3BvbGFyLWxpbmUtY2hhcnQuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC9wb2xhci1hcmVhLWNoYXJ0L3NwbGluZS1wb2xhci1hcmVhLXNlZ21lbnQuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC9wb2xhci1hcmVhLWNoYXJ0L3BvbGFyLWFyZWEtc2VnbWVudC5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L3BvbGFyLWFyZWEtY2hhcnQvcG9sYXItYXJlYS1jaGFydC5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L3Bsb3RhcmVhL3BvbGFyLXBsb3RhcmVhLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvcmFkYXItbGluZS1jaGFydC9yYWRhci1saW5lLWNoYXJ0LmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvcmFkYXItYXJlYS1jaGFydC9zcGxpbmUtcmFkYXItYXJlYS1zZWdtZW50LmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvcmFkYXItYXJlYS1jaGFydC9yYWRhci1hcmVhLXNlZ21lbnQuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC9yYWRhci1hcmVhLWNoYXJ0L3JhZGFyLWFyZWEtY2hhcnQuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC9yYWRhci1iYXItY2hhcnQvcmFkYXItc2VnbWVudC5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L2xheW91dC9yYWRhci1jbHVzdGVyLWxheW91dC5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2NoYXJ0L2xheW91dC9yYWRhci1zdGFjay1sYXlvdXQuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC9yYWRhci1iYXItY2hhcnQvcmFkYXItYmFyLWNoYXJ0LmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvcGxvdGFyZWEvcmFkYXItcGxvdGFyZWEuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC9mdW5uZWwtY2hhcnQvZnVubmVsLXNlZ21lbnQuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9jaGFydC9mdW5uZWwtY2hhcnQvZnVubmVsLWNoYXJ0LmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvcGxvdGFyZWEvZnVubmVsLXBsb3RhcmVhLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvcmVnaXN0ZXItY2hhcnRzLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvY2hhcnQuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9zcGFya2xpbmUvc2hhcmVkLXRvb2x0aXAuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9zcGFya2xpbmUvc3BhcmtsaW5lLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvc3RvY2svZmFkZS1vdXQtYW5pbWF0aW9uLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvc3RvY2svbmF2aWdhdG9yLWhpbnQuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9zdG9jay9jb25zdGFudHMuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9zdG9jay9uYXZpZ2F0b3IuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9zdG9jay9zdG9jay1jaGFydC5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2dhdWdlcy9jb25zdGFudHMuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9nYXVnZXMvdXRpbHMvcGFkLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvZ2F1Z2VzL3V0aWxzL2J1aWxkLWxhYmVsLWVsZW1lbnQuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9nYXVnZXMvdXRpbHMvZ2V0LXJhbmdlLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvZ2F1Z2VzL3V0aWxzL3VucGFkLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvZ2F1Z2VzL2dhdWdlLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvZ2F1Z2VzL2xpbmVhci9saW5lYXItc2NhbGUuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9nYXVnZXMvcG9pbnRlci5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2dhdWdlcy9saW5lYXIvbGluZWFyLXBvaW50ZXIuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9nYXVnZXMvbGluZWFyL2Fycm93LWxpbmVhci1wb2ludGVyLWFuaW1hdGlvbi5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2dhdWdlcy9saW5lYXIvYXJyb3ctbGluZWFyLXBvaW50ZXIuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9nYXVnZXMvbGluZWFyL2Jhci1saW5lYXItcG9pbnRlci1hbmltYXRpb24uanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9nYXVnZXMvbGluZWFyL2Jhci1saW5lYXItcG9pbnRlci5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2dhdWdlcy9saW5lYXIvbGluZWFyLWdhdWdlLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvZ2F1Z2VzL3JhZGlhbC9yYWRpYWwtc2NhbGUuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9nYXVnZXMvcmFkaWFsL3JhZGlhbC1wb2ludGVyLWFuaW1hdGlvbi5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2dhdWdlcy9yYWRpYWwvcmFkaWFsLXBvaW50ZXIuanMiLCIvdXNyL2xvY2FsL2plbmtpbnMvd29ya3NwYWNlL2tlbmRvLWNoYXJ0c19yZWxlYXNlL3NyYy9nYXVnZXMvcmFkaWFsL3JhZGlhbC1nYXVnZS5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2dhdWdlcy9hcmMvYXJjLXNjYWxlLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvZ2F1Z2VzL2FyYy9yYW5nZS1wb2ludGVyLWFuaW1hdGlvbi5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2dhdWdlcy9hcmMvcmFuZ2UtcG9pbnRlci5qcyIsIi91c3IvbG9jYWwvamVua2lucy93b3Jrc3BhY2Uva2VuZG8tY2hhcnRzX3JlbGVhc2Uvc3JjL2dhdWdlcy9hcmMvYXJjLWdhdWdlLmpzIiwiL3Vzci9sb2NhbC9qZW5raW5zL3dvcmtzcGFjZS9rZW5kby1jaGFydHNfcmVsZWFzZS9zcmMvY2hhcnQvYmFzZS10aGVtZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgQVJDID0gXCJhcmNcIjtcbmV4cG9ydCBjb25zdCBBWElTX0xBQkVMX0NMSUNLID0gXCJheGlzTGFiZWxDbGlja1wiO1xuZXhwb3J0IGNvbnN0IEJMQUNLID0gXCIjMDAwXCI7XG5leHBvcnQgY29uc3QgQk9UVE9NID0gXCJib3R0b21cIjtcbmV4cG9ydCBjb25zdCBDRU5URVIgPSBcImNlbnRlclwiO1xuZXhwb3J0IGNvbnN0IENJUkNMRSA9IFwiY2lyY2xlXCI7XG5leHBvcnQgY29uc3QgQ09PUkRfUFJFQ0lTSU9OID0gMztcbmV4cG9ydCBjb25zdCBDUk9TUyA9IFwiY3Jvc3NcIjtcbmV4cG9ydCBjb25zdCBEQVRFID0gXCJkYXRlXCI7XG5leHBvcnQgY29uc3QgREVGQVVMVF9GT05UID0gXCIxMnB4IHNhbnMtc2VyaWZcIjtcbmV4cG9ydCBjb25zdCBERUZBVUxUX0hFSUdIVCA9IDQwMDtcbmV4cG9ydCBjb25zdCBERUZBVUxUX1BSRUNJU0lPTiA9IDEwO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfV0lEVEggPSA2MDA7XG5leHBvcnQgY29uc3QgRU5EID0gXCJlbmRcIjtcbmV4cG9ydCBjb25zdCBGT1JNQVRfUkVHRVggPSAvXFx7XFxkKzo/LztcbmV4cG9ydCBjb25zdCBIRUlHSFQgPSBcImhlaWdodFwiO1xuZXhwb3J0IGNvbnN0IEhJR0hMSUdIVF9aSU5ERVggPSAxMDA7XG5leHBvcnQgY29uc3QgSU5TSURFID0gXCJpbnNpZGVcIjtcbmV4cG9ydCBjb25zdCBMRUZUID0gXCJsZWZ0XCI7XG5leHBvcnQgY29uc3QgTUFYX1ZBTFVFID0gTnVtYmVyLk1BWF9WQUxVRTtcbmV4cG9ydCBjb25zdCBNSU5fVkFMVUUgPSAtTnVtYmVyLk1BWF9WQUxVRTtcbmV4cG9ydCBjb25zdCBOT05FID0gXCJub25lXCI7XG5leHBvcnQgY29uc3QgTk9URV9DTElDSyA9IFwibm90ZUNsaWNrXCI7XG5leHBvcnQgY29uc3QgTk9URV9IT1ZFUiA9IFwibm90ZUhvdmVyXCI7XG5leHBvcnQgY29uc3QgTk9URV9MRUFWRSA9IFwibm90ZUxlYXZlXCI7XG5leHBvcnQgY29uc3QgT0JKRUNUID0gXCJvYmplY3RcIjtcbmV4cG9ydCBjb25zdCBPVVRTSURFID0gXCJvdXRzaWRlXCI7XG5leHBvcnQgY29uc3QgUklHSFQgPSBcInJpZ2h0XCI7XG5leHBvcnQgY29uc3QgU1RBUlQgPSBcInN0YXJ0XCI7XG5leHBvcnQgY29uc3QgU1RSSU5HID0gXCJzdHJpbmdcIjtcbmV4cG9ydCBjb25zdCBUT1AgPSBcInRvcFwiO1xuZXhwb3J0IGNvbnN0IFRSSUFOR0xFID0gXCJ0cmlhbmdsZVwiO1xuZXhwb3J0IGNvbnN0IFZBTFVFID0gXCJ2YWx1ZVwiO1xuZXhwb3J0IGNvbnN0IFdISVRFID0gXCIjZmZmXCI7XG5leHBvcnQgY29uc3QgV0lEVEggPSBcIndpZHRoXCI7XG5leHBvcnQgY29uc3QgWCA9IFwieFwiO1xuZXhwb3J0IGNvbnN0IFkgPSBcInlcIjtcblxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNBcnJheSh2YWx1ZSkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKTtcbn0iLCJpbXBvcnQgaXNBcnJheSBmcm9tICcuL2lzLWFycmF5JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRkQ2xhc3MoZWxlbWVudCwgY2xhc3Nlcykge1xuICAgIGNvbnN0IGNsYXNzQXJyYXkgPSBpc0FycmF5KGNsYXNzZXMpID8gY2xhc3NlcyA6IFsgY2xhc3NlcyBdO1xuXG4gICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgY2xhc3NBcnJheS5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgIGNvbnN0IGNsYXNzTmFtZSA9IGNsYXNzQXJyYXlbaWR4XTtcbiAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NOYW1lLmluZGV4T2YoY2xhc3NOYW1lKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lICs9IFwiIFwiICsgY2xhc3NOYW1lO1xuICAgICAgICB9XG4gICAgfVxufSIsImNvbnN0IFNQQUNFX1JFR0VYID0gL1xccysvZztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gICAgaWYgKGVsZW1lbnQgJiYgZWxlbWVudC5jbGFzc05hbWUpIHtcbiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZS5yZXBsYWNlKGNsYXNzTmFtZSwgXCJcIikucmVwbGFjZShTUEFDRV9SRUdFWCwgXCIgXCIpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBkcmF3aW5nIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhbGlnblBhdGhUb1BpeGVsKHBhdGgpIHtcbiAgICBsZXQgb2Zmc2V0ID0gMC41O1xuICAgIGlmIChwYXRoLm9wdGlvbnMuc3Ryb2tlICYmIGRyYXdpbmcudXRpbC5kZWZpbmVkKHBhdGgub3B0aW9ucy5zdHJva2Uud2lkdGgpKSB7XG4gICAgICAgIGlmIChwYXRoLm9wdGlvbnMuc3Ryb2tlLndpZHRoICUgMiA9PT0gMCkge1xuICAgICAgICAgICAgb2Zmc2V0ID0gMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0aC5zZWdtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBwYXRoLnNlZ21lbnRzW2ldLmFuY2hvcigpLnJvdW5kKDApLnRyYW5zbGF0ZShvZmZzZXQsIG9mZnNldCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhdGg7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xvY2t3aXNlKGFuZ2xlMSwgYW5nbGUyKSB7XG4gICAgLy8gVHJ1ZSBpZiBhbmdsZTIgaXMgY2xvY2t3aXNlIG9mIGFuZ2xlMVxuICAgIC8vIGFzc3VtaW5nIGFuZ2xlcyBncm93IGluIGNsb2NrLXdpc2UgZGlyZWN0aW9uXG4gICAgLy8gKGFzIGluIHRoZSBwaWUgYW5kIHJhZGFyIGNoYXJ0cylcbiAgICByZXR1cm4gLWFuZ2xlMS54ICogYW5nbGUyLnkgKyBhbmdsZTEueSAqIGFuZ2xlMi54IDwgMDtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc051bWJlcih2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgJiYgIWlzTmFOKHZhbHVlKTtcbn0iLCJpbXBvcnQgeyBTVFJJTkcgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gU1RSSU5HO1xufSIsImltcG9ydCBpc051bWJlciBmcm9tICcuL2lzLW51bWJlcic7XG5pbXBvcnQgaXNTdHJpbmcgZnJvbSAnLi9pcy1zdHJpbmcnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb252ZXJ0YWJsZVRvTnVtYmVyKHZhbHVlKSB7XG4gICAgcmV0dXJuIGlzTnVtYmVyKHZhbHVlKSB8fCAoaXNTdHJpbmcodmFsdWUpICYmIGlzRmluaXRlKHZhbHVlKSk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNGdW5jdGlvbihmbikge1xuICAgIHJldHVybiB0eXBlb2YgZm4gPT09IFwiZnVuY3Rpb25cIjtcbn0iLCJpbXBvcnQgaXNGdW5jdGlvbiBmcm9tICcuL2lzLWZ1bmN0aW9uJztcblxuY29uc3QgT0JKRUNUID0gXCJvYmplY3RcIjtcbmNvbnN0IFVOREVGSU5FRCA9IFwidW5kZWZpbmVkXCI7XG5cbmZ1bmN0aW9uIGRlZXBFeHRlbmRPbmUoZGVzdGluYXRpb24sIHNvdXJjZSkge1xuXG4gICAgZm9yIChsZXQgcHJvcGVydHkgaW4gc291cmNlKSB7XG4gICAgICAgIGxldCBwcm9wVmFsdWUgPSBzb3VyY2VbcHJvcGVydHldO1xuICAgICAgICBsZXQgcHJvcFR5cGUgPSB0eXBlb2YgcHJvcFZhbHVlO1xuXG4gICAgICAgIGxldCBwcm9wSW5pdDtcbiAgICAgICAgaWYgKHByb3BUeXBlID09PSBPQkpFQ1QgJiYgcHJvcFZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBwcm9wSW5pdCA9IHByb3BWYWx1ZS5jb25zdHJ1Y3RvcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb3BJbml0ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcm9wSW5pdCAmJiBwcm9wSW5pdCAhPT0gQXJyYXkpIHtcblxuICAgICAgICAgICAgaWYgKHByb3BWYWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbltwcm9wZXJ0eV0gPSBuZXcgRGF0ZShwcm9wVmFsdWUuZ2V0VGltZSgpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihwcm9wVmFsdWUuY2xvbmUpKSB7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb25bcHJvcGVydHldID0gcHJvcFZhbHVlLmNsb25lKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBkZXN0UHJvcCA9IGRlc3RpbmF0aW9uW3Byb3BlcnR5XTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIChkZXN0UHJvcCkgPT09IE9CSkVDVCkge1xuICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbltwcm9wZXJ0eV0gPSBkZXN0UHJvcCB8fCB7fTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbltwcm9wZXJ0eV0gPSB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVlcEV4dGVuZE9uZShkZXN0aW5hdGlvbltwcm9wZXJ0eV0sIHByb3BWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocHJvcFR5cGUgIT09IFVOREVGSU5FRCkge1xuICAgICAgICAgICAgZGVzdGluYXRpb25bcHJvcGVydHldID0gcHJvcFZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlc3RpbmF0aW9uO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkZWVwRXh0ZW5kKGRlc3RpbmF0aW9uKSB7XG4gICAgY29uc3QgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcblxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZGVlcEV4dGVuZE9uZShkZXN0aW5hdGlvbiwgYXJndW1lbnRzW2ldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVzdGluYXRpb247XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiO1xufSIsImltcG9ydCBpc051bWJlciBmcm9tICcuL2lzLW51bWJlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHN0eWxlVmFsdWUodmFsdWUpIHtcbiAgICBpZiAoaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSArIFwicHhcIjtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufSIsImltcG9ydCBpc09iamVjdCBmcm9tICcuL2lzLW9iamVjdCc7XG5pbXBvcnQgaXNBcnJheSBmcm9tICcuL2lzLWFycmF5JztcbmltcG9ydCBpc1N0cmluZyBmcm9tICcuL2lzLXN0cmluZyc7XG5pbXBvcnQgc3R5bGVWYWx1ZSBmcm9tICcuL3N0eWxlLXZhbHVlJztcblxuY29uc3QgU0laRV9TVFlMRVNfUkVHRVggPSAvd2lkdGh8aGVpZ2h0fHRvcHxsZWZ0fGJvdHRvbXxyaWdodC9pO1xuXG5mdW5jdGlvbiBpc1NpemVGaWVsZChmaWVsZCkge1xuICAgIHJldHVybiBTSVpFX1NUWUxFU19SRUdFWC50ZXN0KGZpZWxkKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZWxlbWVudFN0eWxlcyhlbGVtZW50LCBzdHlsZXMpIHtcbiAgICBjb25zdCBzdHlsZXNBcnJheSA9IGlzU3RyaW5nKHN0eWxlcykgPyBbIHN0eWxlcyBdIDogc3R5bGVzO1xuXG4gICAgaWYgKGlzQXJyYXkoc3R5bGVzQXJyYXkpKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgICAgICBjb25zdCBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHN0eWxlc0FycmF5Lmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGxldCBmaWVsZCA9IHN0eWxlc0FycmF5W2lkeF07XG4gICAgICAgICAgICByZXN1bHRbZmllbGRdID0gaXNTaXplRmllbGQoZmllbGQpID8gcGFyc2VGbG9hdChzdHlsZVtmaWVsZF0pIDogc3R5bGVbZmllbGRdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHN0eWxlcykpIHtcbiAgICAgICAgZm9yIChsZXQgZmllbGQgaW4gc3R5bGVzKSB7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlW2ZpZWxkXSA9IHN0eWxlVmFsdWUoc3R5bGVzW2ZpZWxkXSk7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHsgVE9QLCBCT1RUT00sIExFRlQsIFJJR0hUIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRTcGFjaW5nKHZhbHVlLCBkZWZhdWx0U3BhY2luZyA9IDApIHtcbiAgICBjb25zdCBzcGFjaW5nID0geyB0b3A6IDAsIHJpZ2h0OiAwLCBib3R0b206IDAsIGxlZnQ6IDAgfTtcblxuICAgIGlmICh0eXBlb2YodmFsdWUpID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHNwYWNpbmdbVE9QXSA9IHNwYWNpbmdbUklHSFRdID0gc3BhY2luZ1tCT1RUT01dID0gc3BhY2luZ1tMRUZUXSA9IHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHNwYWNpbmdbVE9QXSA9IHZhbHVlW1RPUF0gfHwgZGVmYXVsdFNwYWNpbmc7XG4gICAgICAgIHNwYWNpbmdbUklHSFRdID0gdmFsdWVbUklHSFRdIHx8IGRlZmF1bHRTcGFjaW5nO1xuICAgICAgICBzcGFjaW5nW0JPVFRPTV0gPSB2YWx1ZVtCT1RUT01dIHx8IGRlZmF1bHRTcGFjaW5nO1xuICAgICAgICBzcGFjaW5nW0xFRlRdID0gdmFsdWVbTEVGVF0gfHwgZGVmYXVsdFNwYWNpbmc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNwYWNpbmc7XG59IiwiY29uc3QgZGVmYXVsdEltcGxlbWVudGF0aW9uID0ge1xuICAgIGZvcm1hdDogKGZvcm1hdCwgdmFsdWUpID0+IHZhbHVlLFxuXG4gICAgdG9TdHJpbmc6ICh2YWx1ZSkgPT4gdmFsdWUsXG5cbiAgICBwYXJzZURhdGU6ICh2YWx1ZSkgPT4gbmV3IERhdGUodmFsdWUpXG59O1xuXG5sZXQgY3VycmVudCA9IGRlZmF1bHRJbXBsZW1lbnRhdGlvbjtcblxuY2xhc3MgSW50bFNlcnZpY2Uge1xuICAgIHN0YXRpYyByZWdpc3Rlcih1c2VySW1wbGVtZW50YXRpb24pIHtcbiAgICAgICAgY3VycmVudCA9IHVzZXJJbXBsZW1lbnRhdGlvbjtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEludGxTZXJ2aWNlO1xuIiwiaW1wb3J0IEludGxTZXJ2aWNlIGZyb20gJy4vaW50bC1zZXJ2aWNlJztcbmltcG9ydCB7IEZPUk1BVF9SRUdFWCB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgaXNTdHJpbmcgfSBmcm9tICcuLi9jb21tb24nO1xuXG5jb25zdCBGT1JNQVRfUkVQTEFDRV9SRUdFWCA9IC9cXHsoXFxkKykoOlteXFx9XSspP1xcfS9nO1xuXG5jbGFzcyBGb3JtYXRTZXJ2aWNlIHtcbiAgICBjb25zdHJ1Y3RvcihpbnRsU2VydmljZSkge1xuICAgICAgICB0aGlzLl9pbnRsU2VydmljZSA9IGludGxTZXJ2aWNlO1xuICAgIH1cblxuICAgIGdldCBpbnRsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW50bFNlcnZpY2UgfHwgSW50bFNlcnZpY2UuaW1wbGVtZW50YXRpb247XG4gICAgfVxuXG4gICAgc2V0IGludGwodmFsdWUpIHtcbiAgICAgICAgdGhpcy5faW50bFNlcnZpY2UgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBhdXRvKGZvcm1hdFN0cmluZywgLi4udmFsdWVzKSB7XG4gICAgICAgIGNvbnN0IGludGwgPSB0aGlzLmludGw7XG5cbiAgICAgICAgaWYgKGlzU3RyaW5nKGZvcm1hdFN0cmluZykgJiYgZm9ybWF0U3RyaW5nLm1hdGNoKEZPUk1BVF9SRUdFWCkpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnRsLmZvcm1hdChmb3JtYXRTdHJpbmcsIC4uLnZhbHVlcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW50bC50b1N0cmluZyh2YWx1ZXNbMF0sIGZvcm1hdFN0cmluZyk7XG4gICAgfVxuXG4gICAgbG9jYWxlQXV0byhmb3JtYXRTdHJpbmcsIHZhbHVlcywgbG9jYWxlKSB7XG4gICAgICAgIGNvbnN0IGludGwgPSB0aGlzLmludGw7XG4gICAgICAgIGxldCByZXN1bHQ7XG5cbiAgICAgICAgaWYgKGlzU3RyaW5nKGZvcm1hdFN0cmluZykgJiYgZm9ybWF0U3RyaW5nLm1hdGNoKEZPUk1BVF9SRUdFWCkpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZvcm1hdFN0cmluZy5yZXBsYWNlKEZPUk1BVF9SRVBMQUNFX1JFR0VYLCBmdW5jdGlvbihtYXRjaCwgaW5kZXgsIHBsYWNlaG9sZGVyRm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gdmFsdWVzW3BhcnNlSW50KGluZGV4LCAxMCldO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGludGwudG9TdHJpbmcodmFsdWUsIHBsYWNlaG9sZGVyRm9ybWF0ID8gcGxhY2Vob2xkZXJGb3JtYXQuc3Vic3RyaW5nKDEpIDogXCJcIiwgbG9jYWxlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gaW50bC50b1N0cmluZyh2YWx1ZXNbMF0sIGZvcm1hdFN0cmluZywgbG9jYWxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBGb3JtYXRTZXJ2aWNlOyIsImltcG9ydCBJbnRsU2VydmljZSBmcm9tICcuL2ludGwtc2VydmljZSc7XG5pbXBvcnQgRm9ybWF0U2VydmljZSBmcm9tICcuL2Zvcm1hdC1zZXJ2aWNlJztcblxuY2xhc3MgQ2hhcnRTZXJ2aWNlIHtcbiAgICBjb25zdHJ1Y3RvcihjaGFydCwgY29udGV4dCA9IHt9KSB7XG4gICAgICAgIHRoaXMuX2ludGxTZXJ2aWNlID0gY29udGV4dC5pbnRsU2VydmljZTtcbiAgICAgICAgdGhpcy5zZW5kZXIgPSBjb250ZXh0LnNlbmRlciB8fCBjaGFydDtcbiAgICAgICAgdGhpcy5mb3JtYXQgPSBuZXcgRm9ybWF0U2VydmljZShjb250ZXh0LmludGxTZXJ2aWNlKTtcbiAgICAgICAgdGhpcy5jaGFydCA9IGNoYXJ0O1xuICAgICAgICB0aGlzLnJ0bCA9IEJvb2xlYW4oY29udGV4dC5ydGwpO1xuICAgIH1cblxuICAgIGdldCBpbnRsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW50bFNlcnZpY2UgfHwgSW50bFNlcnZpY2UuaW1wbGVtZW50YXRpb247XG4gICAgfVxuXG4gICAgc2V0IGludGwodmFsdWUpIHtcbiAgICAgICAgdGhpcy5faW50bFNlcnZpY2UgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5mb3JtYXQuaW50bCA9IHZhbHVlO1xuICAgIH1cblxuICAgIG5vdGlmeShuYW1lLCBhcmdzKSB7XG4gICAgICAgIGlmICh0aGlzLmNoYXJ0KSB7XG4gICAgICAgICAgICB0aGlzLmNoYXJ0LnRyaWdnZXIobmFtZSwgYXJncyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpc1Bhbm5hYmxlKGF4aXMpIHtcbiAgICAgICAgY29uc3QgcGFubmFibGUgPSAoKHRoaXMuY2hhcnQgfHwge30pLm9wdGlvbnMgfHwge30pLnBhbm5hYmxlO1xuICAgICAgICByZXR1cm4gcGFubmFibGUgJiYgcGFubmFibGUubG9jayAhPT0gYXhpcztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENoYXJ0U2VydmljZTsiLCJsZXQgY3VycmVudDtcblxuY2xhc3MgRG9tRXZlbnRzQnVpbGRlciB7XG4gICAgc3RhdGljIHJlZ2lzdGVyKHVzZXJJbXBsZW1lbnRhdGlvbikge1xuICAgICAgICBjdXJyZW50ID0gdXNlckltcGxlbWVudGF0aW9uO1xuICAgIH1cblxuICAgIHN0YXRpYyBjcmVhdGUoZWxlbWVudCwgZXZlbnRzKSB7XG4gICAgICAgIGlmIChjdXJyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudC5jcmVhdGUoZWxlbWVudCwgZXZlbnRzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRG9tRXZlbnRzQnVpbGRlcjtcbiIsImxldCBjdXJyZW50ID0ge1xuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKHRlbXBsYXRlKSB7XG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgICB9XG59O1xuXG5jbGFzcyBUZW1wbGF0ZVNlcnZpY2Uge1xuICAgIHN0YXRpYyByZWdpc3Rlcih1c2VySW1wbGVtZW50YXRpb24pIHtcbiAgICAgICAgY3VycmVudCA9IHVzZXJJbXBsZW1lbnRhdGlvbjtcbiAgICB9XG5cbiAgICBzdGF0aWMgY29tcGlsZSh0ZW1wbGF0ZSkge1xuICAgICAgICByZXR1cm4gY3VycmVudC5jb21waWxlKHRlbXBsYXRlKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRlbXBsYXRlU2VydmljZTtcbiIsImltcG9ydCB7IFRlbXBsYXRlU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzJztcbmltcG9ydCBpc0Z1bmN0aW9uIGZyb20gJy4vaXMtZnVuY3Rpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRUZW1wbGF0ZShvcHRpb25zID0ge30pIHtcbiAgICBsZXQgdGVtcGxhdGU7XG4gICAgaWYgKG9wdGlvbnMudGVtcGxhdGUpIHtcbiAgICAgICAgb3B0aW9ucy50ZW1wbGF0ZSA9IHRlbXBsYXRlID0gVGVtcGxhdGVTZXJ2aWNlLmNvbXBpbGUob3B0aW9ucy50ZW1wbGF0ZSk7XG4gICAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKG9wdGlvbnMuY29udGVudCkpIHtcbiAgICAgICAgdGVtcGxhdGUgPSBvcHRpb25zLmNvbnRlbnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRlbXBsYXRlO1xufSIsImltcG9ydCB7IGRyYXdpbmcgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmNvbnN0IEZJRUxEX1JFR0VYID0gL1xcWyg/OihcXGQrKXxbJ1wiXSguKj8pWydcIl0pXFxdfCgoPzooPyFcXFsuKj9cXF18XFwuKS4pKykvZztcbmNvbnN0IGdldHRlckNhY2hlID0ge307XG5cbmdldHRlckNhY2hlWyd1bmRlZmluZWQnXSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBvYmo7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXR0ZXIoZmllbGQpIHtcbiAgICBpZiAoZ2V0dGVyQ2FjaGVbZmllbGRdKSB7XG4gICAgICAgIHJldHVybiBnZXR0ZXJDYWNoZVtmaWVsZF07XG4gICAgfVxuXG4gICAgY29uc3QgZmllbGRzID0gW107XG4gICAgZmllbGQucmVwbGFjZShGSUVMRF9SRUdFWCwgZnVuY3Rpb24obWF0Y2gsIGluZGV4LCBpbmRleEFjY2Vzc29yLCBmaWVsZCkge1xuICAgICAgICBmaWVsZHMucHVzaChkcmF3aW5nLnV0aWwuZGVmaW5lZChpbmRleCkgPyBpbmRleCA6IChpbmRleEFjY2Vzc29yIHx8IGZpZWxkKSk7XG4gICAgfSk7XG5cbiAgICBnZXR0ZXJDYWNoZVtmaWVsZF0gPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IG9iajtcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgZmllbGRzLmxlbmd0aCAmJiByZXN1bHQ7IGlkeCsrKSB7XG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHRbZmllbGRzW2lkeF1dO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGdldHRlckNhY2hlW2ZpZWxkXTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBncmVwKGFycmF5LCBjYWxsYmFjaykge1xuICAgIGNvbnN0IGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBsZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgIGlmIChjYWxsYmFjayhhcnJheVtpZHhdKSkge1xuICAgICAgICAgICAgcmVzdWx0IC5wdXNoKGFycmF5W2lkeF0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYXNDbGFzc2VzKGVsZW1lbnQsIGNsYXNzTmFtZXMpIHtcbiAgICBpZiAoZWxlbWVudC5jbGFzc05hbWUpIHtcbiAgICAgICAgY29uc3QgbmFtZXMgPSBjbGFzc05hbWVzLnNwbGl0KFwiIFwiKTtcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgbmFtZXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NOYW1lLmluZGV4T2YobmFtZXNbaWR4XSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwiXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIYXNoTWFwIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fbWFwID0ge307XG4gICAgfVxuXG4gICAgZ2V0KG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcFt0aGlzLl9rZXkobmFtZSldO1xuICAgIH1cblxuICAgIHNldChuYW1lLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLl9tYXBbdGhpcy5fa2V5KG5hbWUpXSA9IHZhbHVlO1xuICAgIH1cblxuICAgIF9rZXkobmFtZSkge1xuICAgICAgICByZXR1cm4gbmFtZSBpbnN0YW5jZW9mIERhdGUgPyBuYW1lLmdldFRpbWUoKSA6IG5hbWU7XG4gICAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluQXJyYXkodmFsdWUsIGFycmF5KSB7XG4gICAgaWYgKGFycmF5KSB7XG4gICAgICAgIHJldHVybiBhcnJheS5pbmRleE9mKHZhbHVlKSAhPT0gLTE7XG4gICAgfVxufSIsImltcG9ydCB7IGRyYXdpbmcgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5pbXBvcnQgeyBDT09SRF9QUkVDSVNJT04gfSBmcm9tICcuL2NvbnN0YW50cyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGludGVycG9sYXRlVmFsdWUoc3RhcnQsIGVuZCwgcHJvZ3Jlc3MpIHtcbiAgICByZXR1cm4gZHJhd2luZy51dGlsLnJvdW5kKHN0YXJ0ICsgKGVuZCAtIHN0YXJ0KSAqIHByb2dyZXNzLCBDT09SRF9QUkVDSVNJT04pO1xufSIsImltcG9ydCBkZWVwRXh0ZW5kIGZyb20gJy4vZGVlcC1leHRlbmQnO1xuXG5jb25zdCBUUklHR0VSID0gJ3RyaWdnZXInO1xuXG5jbGFzcyBJbnN0YW5jZU9ic2VydmVyIHtcbiAgICBjb25zdHJ1Y3RvcihvYnNlcnZlciwgaGFuZGxlcnMpIHtcbiAgICAgICAgdGhpcy5vYnNlcnZlciA9IG9ic2VydmVyO1xuICAgICAgICB0aGlzLmhhbmRsZXJNYXAgPSBkZWVwRXh0ZW5kKHt9LCB0aGlzLmhhbmRsZXJNYXAsIGhhbmRsZXJzKTtcbiAgICB9XG5cbiAgICB0cmlnZ2VyKG5hbWUsIGFyZ3MpIHtcbiAgICAgICAgY29uc3QgeyBvYnNlcnZlciwgaGFuZGxlck1hcCB9ID0gdGhpcztcbiAgICAgICAgbGV0IGlzRGVmYXVsdFByZXZlbnRlZDtcbiAgICAgICAgaWYgKGhhbmRsZXJNYXBbbmFtZV0pIHtcbiAgICAgICAgICAgIGlzRGVmYXVsdFByZXZlbnRlZCA9IHRoaXMuY2FsbE9ic2VydmVyKGhhbmRsZXJNYXBbbmFtZV0sIGFyZ3MpO1xuICAgICAgICB9IGVsc2UgaWYgKG9ic2VydmVyW1RSSUdHRVJdKSB7XG4gICAgICAgICAgICBpc0RlZmF1bHRQcmV2ZW50ZWQgPSB0aGlzLmNhbGxPYnNlcnZlcihUUklHR0VSLCBuYW1lLCBhcmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpc0RlZmF1bHRQcmV2ZW50ZWQ7XG4gICAgfVxuXG4gICAgY2FsbE9ic2VydmVyKGZuTmFtZSwgLi4uYXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5vYnNlcnZlcltmbk5hbWVdLmFwcGx5KHRoaXMub2JzZXJ2ZXIsIGFyZ3MpO1xuICAgIH1cblxuICAgIHJlcXVpcmVzSGFuZGxlcnMobmFtZXMpIHtcbiAgICAgICAgaWYgKHRoaXMub2JzZXJ2ZXIucmVxdWlyZXNIYW5kbGVycykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub2JzZXJ2ZXIucmVxdWlyZXNIYW5kbGVycyhuYW1lcyk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBuYW1lcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5oYW5kbGVyTWFwW25hbWVzW2lkeF1dKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEluc3RhbmNlT2JzZXJ2ZXI7IiwiaW1wb3J0IHsgZHJhd2luZyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWFwKGFycmF5LCBjYWxsYmFjaykge1xuICAgIGNvbnN0IGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBsZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IGNhbGxiYWNrKGFycmF5W2lkeF0pO1xuICAgICAgICBpZiAoZHJhd2luZy51dGlsLmRlZmluZWQodmFsdWUpKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn0iLCJpbXBvcnQgeyBkcmF3aW5nIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtb3VzZXdoZWVsRGVsdGEoZSkge1xuICAgIGxldCBkZWx0YSA9IDA7XG5cbiAgICBpZiAoZS53aGVlbERlbHRhKSB7XG4gICAgICAgIGRlbHRhID0gLWUud2hlZWxEZWx0YSAvIDEyMDtcbiAgICAgICAgZGVsdGEgPSBkZWx0YSA+IDAgPyBNYXRoLmNlaWwoZGVsdGEpIDogTWF0aC5mbG9vcihkZWx0YSk7XG4gICAgfVxuXG4gICAgaWYgKGUuZGV0YWlsKSB7XG4gICAgICAgIGRlbHRhID0gZHJhd2luZy51dGlsLnJvdW5kKGUuZGV0YWlsIC8gMyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlbHRhO1xufSIsImltcG9ydCB7IGRyYXdpbmcsIENsYXNzLCBsb2dUb0NvbnNvbGUgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmNvbnN0IHsgYXBwZW5kLCBiaW5kRXZlbnRzLCBkZWZpbmVkLCBkZWcsIGVsZW1lbnRPZmZzZXQsIGVsZW1lbnRTaXplLCBldmVudEVsZW1lbnQsIGV2ZW50Q29vcmRpbmF0ZXMsIGxhc3QsIGxpbWl0VmFsdWUsIG9iamVjdEtleSwgcmFkLCByb3VuZCwgdW5iaW5kRXZlbnRzLCB2YWx1ZU9yRGVmYXVsdCB9ID0gZHJhd2luZy51dGlsO1xuXG5leHBvcnQgeyBhcHBlbmQsIGJpbmRFdmVudHMsIENsYXNzLCBkZWZpbmVkLCBkZWcsIGVsZW1lbnRPZmZzZXQsIGVsZW1lbnRTaXplLCBldmVudEVsZW1lbnQsIGV2ZW50Q29vcmRpbmF0ZXMsIGxhc3QsIGxpbWl0VmFsdWUsIGxvZ1RvQ29uc29sZSwgb2JqZWN0S2V5LCByYWQsIHJvdW5kLCB1bmJpbmRFdmVudHMsIHZhbHVlT3JEZWZhdWx0IH07IiwiaW1wb3J0IHsgbG9nVG9Db25zb2xlIH0gZnJvbSAnLi4vZHJhd2luZy11dGlscyc7XG5cbmNsYXNzIEZvbnRMb2FkZXIge1xuICAgIHN0YXRpYyBmZXRjaEZvbnRzKG9wdGlvbnMsIGZvbnRzLCBzdGF0ZSA9IHsgZGVwdGg6IDAgfSkge1xuICAgICAgICBjb25zdCBNQVhfREVQVEggPSA1O1xuXG4gICAgICAgIGlmICghb3B0aW9ucyB8fCBzdGF0ZS5kZXB0aCA+IE1BWF9ERVBUSCB8fCAhZG9jdW1lbnQuZm9udHMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIE9iamVjdC5rZXlzKG9wdGlvbnMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IG9wdGlvbnNba2V5XTtcbiAgICAgICAgICAgIGlmIChrZXkgPT09IFwiZGF0YVNvdXJjZVwiIHx8IGtleVswXSA9PT0gXCIkXCIgfHwgIXZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoa2V5ID09PSBcImZvbnRcIikge1xuICAgICAgICAgICAgICAgIGZvbnRzLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5kZXB0aCsrO1xuICAgICAgICAgICAgICAgIEZvbnRMb2FkZXIuZmV0Y2hGb250cyh2YWx1ZSwgZm9udHMsIHN0YXRlKTtcbiAgICAgICAgICAgICAgICBzdGF0ZS5kZXB0aC0tO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbG9hZEZvbnRzKGZvbnRzLCBjYWxsYmFjaykge1xuICAgICAgICBsZXQgcHJvbWlzZXMgPSBbXTtcblxuICAgICAgICBpZiAoZm9udHMubGVuZ3RoID4gMCAmJiBkb2N1bWVudC5mb250cykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBwcm9taXNlcyA9IGZvbnRzLm1hcChmdW5jdGlvbihmb250KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5mb250cy5sb2FkKGZvbnQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIC8vIFNpbGVuY2UgZm9udC1sb2FkaW5nIGVycm9yc1xuICAgICAgICAgICAgICAgIGxvZ1RvQ29uc29sZShlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oY2FsbGJhY2ssIGNhbGxiYWNrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgcHJlbG9hZEZvbnRzKG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IGZvbnRzID0gW107XG4gICAgICAgIEZvbnRMb2FkZXIuZmV0Y2hGb250cyhvcHRpb25zLCBmb250cyk7XG5cbiAgICAgICAgRm9udExvYWRlci5sb2FkRm9udHMoZm9udHMsIGNhbGxiYWNrKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZvbnRMb2FkZXI7IiwiaW1wb3J0IGRlZXBFeHRlbmQgZnJvbSAnLi9kZWVwLWV4dGVuZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldERlZmF1bHRPcHRpb25zKHR5cGUsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBwcm90byA9IHR5cGUucHJvdG90eXBlO1xuICAgIGlmIChwcm90by5vcHRpb25zKSB7XG4gICAgICAgIHByb3RvLm9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCBwcm90by5vcHRpb25zLCBvcHRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBwcm90by5vcHRpb25zID0gb3B0aW9ucztcbiAgICB9XG59IiwiaW1wb3J0IHsgTUlOX1ZBTFVFLCBNQVhfVkFMVUUgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNwYXJzZUFycmF5TGltaXRzKGFycikge1xuICAgIGxldCBtaW4gPSBNQVhfVkFMVUU7XG4gICAgbGV0IG1heCA9IE1JTl9WQUxVRTtcblxuICAgIGZvciAobGV0IGlkeCA9IDAsIGxlbmd0aCA9IGFyci5sZW5ndGg7IGlkeCA8IGxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBhcnJbaWR4XTtcbiAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsICYmIGlzRmluaXRlKHZhbHVlKSkge1xuICAgICAgICAgICAgbWluID0gTWF0aC5taW4obWluLCB2YWx1ZSk7XG4gICAgICAgICAgICBtYXggPSBNYXRoLm1heChtYXgsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIG1pbjogbWluID09PSBNQVhfVkFMVUUgPyB1bmRlZmluZWQgOiBtaW4sXG4gICAgICAgIG1heDogbWF4ID09PSBNSU5fVkFMVUUgPyB1bmRlZmluZWQgOiBtYXhcbiAgICB9O1xufSIsImltcG9ydCB7IERFRkFVTFRfUFJFQ0lTSU9OIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyByb3VuZCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGF1dG9NYWpvclVuaXQobWluLCBtYXgpIHtcbiAgICBsZXQgZGlmZiA9IHJvdW5kKG1heCAtIG1pbiwgREVGQVVMVF9QUkVDSVNJT04gLSAxKTtcblxuICAgIGlmIChkaWZmID09PSAwKSB7XG4gICAgICAgIGlmIChtYXggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAwLjE7XG4gICAgICAgIH1cblxuICAgICAgICBkaWZmID0gTWF0aC5hYnMobWF4KTtcbiAgICB9XG5cbiAgICBjb25zdCBzY2FsZSA9IE1hdGgucG93KDEwLCBNYXRoLmZsb29yKE1hdGgubG9nKGRpZmYpIC8gTWF0aC5sb2coMTApKSk7XG4gICAgY29uc3QgcmVsYXRpdmVWYWx1ZSA9IHJvdW5kKChkaWZmIC8gc2NhbGUpLCBERUZBVUxUX1BSRUNJU0lPTik7XG4gICAgbGV0IHNjYWxlTXVsdGlwbGllciA9IDE7XG5cbiAgICBpZiAocmVsYXRpdmVWYWx1ZSA8IDEuOTA0NzYyKSB7XG4gICAgICAgIHNjYWxlTXVsdGlwbGllciA9IDAuMjtcbiAgICB9IGVsc2UgaWYgKHJlbGF0aXZlVmFsdWUgPCA0Ljc2MTkwNCkge1xuICAgICAgICBzY2FsZU11bHRpcGxpZXIgPSAwLjU7XG4gICAgfSBlbHNlIGlmIChyZWxhdGl2ZVZhbHVlIDwgOS41MjM4MDkpIHtcbiAgICAgICAgc2NhbGVNdWx0aXBsaWVyID0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBzY2FsZU11bHRpcGxpZXIgPSAyO1xuICAgIH1cblxuICAgIHJldHVybiByb3VuZChzY2FsZSAqIHNjYWxlTXVsdGlwbGllciwgREVGQVVMVF9QUkVDSVNJT04pO1xufSIsImltcG9ydCB7IENPT1JEX1BSRUNJU0lPTiB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ2xhc3MsIHJhZCwgcm91bmQgfSBmcm9tICcuLi9jb21tb24nO1xuXG5jbGFzcyBQb2ludCBleHRlbmRzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3Rvcih4LCB5KSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy54ID0geCB8fCAwO1xuICAgICAgICB0aGlzLnkgPSB5IHx8IDA7XG4gICAgfVxuXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy54LCB0aGlzLnkpO1xuICAgIH1cblxuICAgIGVxdWFscyhwb2ludCkge1xuICAgICAgICByZXR1cm4gcG9pbnQgJiYgdGhpcy54ID09PSBwb2ludC54ICYmIHRoaXMueSA9PT0gcG9pbnQueTtcbiAgICB9XG5cbiAgICByb3RhdGUoY2VudGVyLCBkZWdyZWVzKSB7XG4gICAgICAgIGNvbnN0IHRoZXRhID0gcmFkKGRlZ3JlZXMpO1xuICAgICAgICBjb25zdCBjb3NUID0gTWF0aC5jb3ModGhldGEpO1xuICAgICAgICBjb25zdCBzaW5UID0gTWF0aC5zaW4odGhldGEpO1xuICAgICAgICBjb25zdCB7IHg6IGN4LCB5OiBjeSB9ID0gY2VudGVyO1xuICAgICAgICBjb25zdCB7IHgsIHkgfSA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy54ID0gcm91bmQoXG4gICAgICAgICAgICBjeCArICh4IC0gY3gpICogY29zVCArICh5IC0gY3kpICogc2luVCxcbiAgICAgICAgICAgIENPT1JEX1BSRUNJU0lPTlxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMueSA9IHJvdW5kKFxuICAgICAgICAgICAgY3kgKyAoeSAtIGN5KSAqIGNvc1QgLSAoeCAtIGN4KSAqIHNpblQsXG4gICAgICAgICAgICBDT09SRF9QUkVDSVNJT05cbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBtdWx0aXBseShhKSB7XG5cbiAgICAgICAgdGhpcy54ICo9IGE7XG4gICAgICAgIHRoaXMueSAqPSBhO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGRpc3RhbmNlVG8ocG9pbnQpIHtcbiAgICAgICAgY29uc3QgZHggPSB0aGlzLnggLSBwb2ludC54O1xuICAgICAgICBjb25zdCBkeSA9IHRoaXMueSAtIHBvaW50Lnk7XG5cbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgfVxuXG4gICAgc3RhdGljIG9uQ2lyY2xlKGNlbnRlciwgYW5nbGUsIHJhZGl1cykge1xuICAgICAgICBjb25zdCByYWRpYW5zID0gcmFkKGFuZ2xlKTtcblxuICAgICAgICByZXR1cm4gbmV3IFBvaW50KFxuICAgICAgICAgICAgY2VudGVyLnggLSByYWRpdXMgKiBNYXRoLmNvcyhyYWRpYW5zKSxcbiAgICAgICAgICAgIGNlbnRlci55IC0gcmFkaXVzICogTWF0aC5zaW4ocmFkaWFucylcbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgUG9pbnQ7IiwiaW1wb3J0IHsgZ2VvbWV0cnkgYXMgZ2VvbSB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IFBvaW50IGZyb20gJy4vcG9pbnQnO1xuXG5pbXBvcnQgeyBYLCBZLCBUT1AsIEJPVFRPTSwgTEVGVCwgUklHSFQsIENFTlRFUiwgV0lEVEgsIEhFSUdIVCB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ2xhc3MsIGRlZmluZWQsIGdldFNwYWNpbmcsIGluQXJyYXksIGlzQXJyYXksIHJhZCB9IGZyb20gJy4uL2NvbW1vbic7XG5cbmNsYXNzIEJveCBleHRlbmRzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3Rvcih4MSwgeTEsIHgyLCB5Mikge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMueDEgPSB4MSB8fCAwO1xuICAgICAgICB0aGlzLnkxID0geTEgfHwgMDtcbiAgICAgICAgdGhpcy54MiA9IHgyIHx8IDA7XG4gICAgICAgIHRoaXMueTIgPSB5MiB8fCAwO1xuICAgIH1cblxuICAgIGVxdWFscyhib3gpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueDEgPT09IGJveC54MSAmJiB0aGlzLngyID09PSBib3gueDIgJiZcbiAgICAgICAgICAgIHRoaXMueTEgPT09IGJveC55MSAmJiB0aGlzLnkyID09PSBib3gueTI7XG4gICAgfVxuXG4gICAgd2lkdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLngyIC0gdGhpcy54MTtcbiAgICB9XG5cbiAgICBoZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnkyIC0gdGhpcy55MTtcbiAgICB9XG5cbiAgICB0cmFuc2xhdGUoZHgsIGR5KSB7XG4gICAgICAgIHRoaXMueDEgKz0gZHg7XG4gICAgICAgIHRoaXMueDIgKz0gZHg7XG4gICAgICAgIHRoaXMueTEgKz0gZHk7XG4gICAgICAgIHRoaXMueTIgKz0gZHk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgbW92ZSh4LCB5KSB7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuaGVpZ2h0KCk7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy53aWR0aCgpO1xuXG4gICAgICAgIGlmIChkZWZpbmVkKHgpKSB7XG4gICAgICAgICAgICB0aGlzLngxID0geDtcbiAgICAgICAgICAgIHRoaXMueDIgPSB0aGlzLngxICsgd2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVmaW5lZCh5KSkge1xuICAgICAgICAgICAgdGhpcy55MSA9IHk7XG4gICAgICAgICAgICB0aGlzLnkyID0gdGhpcy55MSArIGhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHdyYXAodGFyZ2V0Qm94KSB7XG4gICAgICAgIHRoaXMueDEgPSBNYXRoLm1pbih0aGlzLngxLCB0YXJnZXRCb3gueDEpO1xuICAgICAgICB0aGlzLnkxID0gTWF0aC5taW4odGhpcy55MSwgdGFyZ2V0Qm94LnkxKTtcbiAgICAgICAgdGhpcy54MiA9IE1hdGgubWF4KHRoaXMueDIsIHRhcmdldEJveC54Mik7XG4gICAgICAgIHRoaXMueTIgPSBNYXRoLm1heCh0aGlzLnkyLCB0YXJnZXRCb3gueTIpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHdyYXBQb2ludChwb2ludCkge1xuICAgICAgICBjb25zdCBhcnJheVBvaW50ID0gaXNBcnJheShwb2ludCk7XG4gICAgICAgIGNvbnN0IHggPSBhcnJheVBvaW50ID8gcG9pbnRbMF0gOiBwb2ludC54O1xuICAgICAgICBjb25zdCB5ID0gYXJyYXlQb2ludCA/IHBvaW50WzFdIDogcG9pbnQueTtcbiAgICAgICAgdGhpcy53cmFwKG5ldyBCb3goeCwgeSwgeCwgeSkpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHNuYXBUbyh0YXJnZXRCb3gsIGF4aXMpIHtcblxuICAgICAgICBpZiAoYXhpcyA9PT0gWCB8fCAhYXhpcykge1xuICAgICAgICAgICAgdGhpcy54MSA9IHRhcmdldEJveC54MTtcbiAgICAgICAgICAgIHRoaXMueDIgPSB0YXJnZXRCb3gueDI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXhpcyA9PT0gWSB8fCAhYXhpcykge1xuICAgICAgICAgICAgdGhpcy55MSA9IHRhcmdldEJveC55MTtcbiAgICAgICAgICAgIHRoaXMueTIgPSB0YXJnZXRCb3gueTI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBhbGlnblRvKHRhcmdldEJveCwgYW5jaG9yKSB7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuaGVpZ2h0KCk7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy53aWR0aCgpO1xuICAgICAgICBjb25zdCBheGlzID0gYW5jaG9yID09PSBUT1AgfHwgYW5jaG9yID09PSBCT1RUT00gPyBZIDogWDtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gYXhpcyA9PT0gWSA/IGhlaWdodCA6IHdpZHRoO1xuXG4gICAgICAgIGlmIChhbmNob3IgPT09IENFTlRFUikge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0Q2VudGVyID0gdGFyZ2V0Qm94LmNlbnRlcigpO1xuICAgICAgICAgICAgY29uc3QgY2VudGVyID0gdGhpcy5jZW50ZXIoKTtcblxuICAgICAgICAgICAgdGhpcy54MSArPSB0YXJnZXRDZW50ZXIueCAtIGNlbnRlci54O1xuICAgICAgICAgICAgdGhpcy55MSArPSB0YXJnZXRDZW50ZXIueSAtIGNlbnRlci55O1xuICAgICAgICB9IGVsc2UgaWYgKGFuY2hvciA9PT0gVE9QIHx8IGFuY2hvciA9PT0gTEVGVCkge1xuICAgICAgICAgICAgdGhpc1theGlzICsgMV0gPSB0YXJnZXRCb3hbYXhpcyArIDFdIC0gb2Zmc2V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpc1theGlzICsgMV0gPSB0YXJnZXRCb3hbYXhpcyArIDJdO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy54MiA9IHRoaXMueDEgKyB3aWR0aDtcbiAgICAgICAgdGhpcy55MiA9IHRoaXMueTEgKyBoZWlnaHQ7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc2hyaW5rKGR3LCBkaCkge1xuXG4gICAgICAgIHRoaXMueDIgLT0gZHc7XG4gICAgICAgIHRoaXMueTIgLT0gZGg7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZXhwYW5kKGR3LCBkaCkge1xuICAgICAgICB0aGlzLnNocmluaygtZHcsIC1kaCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHBhZChwYWRkaW5nKSB7XG4gICAgICAgIGNvbnN0IHNwYWNpbmcgPSBnZXRTcGFjaW5nKHBhZGRpbmcpO1xuXG4gICAgICAgIHRoaXMueDEgLT0gc3BhY2luZy5sZWZ0O1xuICAgICAgICB0aGlzLngyICs9IHNwYWNpbmcucmlnaHQ7XG4gICAgICAgIHRoaXMueTEgLT0gc3BhY2luZy50b3A7XG4gICAgICAgIHRoaXMueTIgKz0gc3BhY2luZy5ib3R0b207XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdW5wYWQocGFkZGluZykge1xuICAgICAgICBjb25zdCBzcGFjaW5nID0gZ2V0U3BhY2luZyhwYWRkaW5nKTtcblxuICAgICAgICBzcGFjaW5nLmxlZnQgPSAtc3BhY2luZy5sZWZ0O1xuICAgICAgICBzcGFjaW5nLnRvcCA9IC1zcGFjaW5nLnRvcDtcbiAgICAgICAgc3BhY2luZy5yaWdodCA9IC1zcGFjaW5nLnJpZ2h0O1xuICAgICAgICBzcGFjaW5nLmJvdHRvbSA9IC1zcGFjaW5nLmJvdHRvbTtcblxuICAgICAgICByZXR1cm4gdGhpcy5wYWQoc3BhY2luZyk7XG4gICAgfVxuXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQm94KHRoaXMueDEsIHRoaXMueTEsIHRoaXMueDIsIHRoaXMueTIpO1xuICAgIH1cblxuICAgIGNlbnRlcigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludChcbiAgICAgICAgICAgIHRoaXMueDEgKyB0aGlzLndpZHRoKCkgLyAyLFxuICAgICAgICAgICAgdGhpcy55MSArIHRoaXMuaGVpZ2h0KCkgLyAyXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgY29udGFpbnNQb2ludChwb2ludCkge1xuXG4gICAgICAgIHJldHVybiBwb2ludC54ID49IHRoaXMueDEgJiYgcG9pbnQueCA8PSB0aGlzLngyICYmXG4gICAgICAgICAgICAgICBwb2ludC55ID49IHRoaXMueTEgJiYgcG9pbnQueSA8PSB0aGlzLnkyO1xuICAgIH1cblxuICAgIHBvaW50cygpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIG5ldyBQb2ludCh0aGlzLngxLCB0aGlzLnkxKSxcbiAgICAgICAgICAgIG5ldyBQb2ludCh0aGlzLngyLCB0aGlzLnkxKSxcbiAgICAgICAgICAgIG5ldyBQb2ludCh0aGlzLngyLCB0aGlzLnkyKSxcbiAgICAgICAgICAgIG5ldyBQb2ludCh0aGlzLngxLCB0aGlzLnkyKVxuICAgICAgICBdO1xuICAgIH1cblxuICAgIGdldEhhc2goKSB7XG4gICAgICAgIHJldHVybiBbIHRoaXMueDEsIHRoaXMueTEsIHRoaXMueDIsIHRoaXMueTIgXS5qb2luKFwiLFwiKTtcbiAgICB9XG5cbiAgICBvdmVybGFwcyhib3gpIHtcbiAgICAgICAgcmV0dXJuICEoYm94LnkyIDwgdGhpcy55MSB8fCB0aGlzLnkyIDwgYm94LnkxIHx8IGJveC54MiA8IHRoaXMueDEgfHwgdGhpcy54MiA8IGJveC54MSk7XG4gICAgfVxuXG4gICAgcm90YXRlKHJvdGF0aW9uKSB7XG4gICAgICAgIGxldCB3aWR0aCA9IHRoaXMud2lkdGgoKTtcbiAgICAgICAgbGV0IGhlaWdodCA9IHRoaXMuaGVpZ2h0KCk7XG4gICAgICAgIGNvbnN0IHsgeDogY3gsIHk6IGN5IH0gPSB0aGlzLmNlbnRlcigpO1xuXG4gICAgICAgIGNvbnN0IHIxID0gcm90YXRlUG9pbnQoMCwgMCwgY3gsIGN5LCByb3RhdGlvbik7XG4gICAgICAgIGNvbnN0IHIyID0gcm90YXRlUG9pbnQod2lkdGgsIDAsIGN4LCBjeSwgcm90YXRpb24pO1xuICAgICAgICBjb25zdCByMyA9IHJvdGF0ZVBvaW50KHdpZHRoLCBoZWlnaHQsIGN4LCBjeSwgcm90YXRpb24pO1xuICAgICAgICBjb25zdCByNCA9IHJvdGF0ZVBvaW50KDAsIGhlaWdodCwgY3gsIGN5LCByb3RhdGlvbik7XG5cbiAgICAgICAgd2lkdGggPSBNYXRoLm1heChyMS54LCByMi54LCByMy54LCByNC54KSAtIE1hdGgubWluKHIxLngsIHIyLngsIHIzLngsIHI0LngpO1xuICAgICAgICBoZWlnaHQgPSBNYXRoLm1heChyMS55LCByMi55LCByMy55LCByNC55KSAtIE1hdGgubWluKHIxLnksIHIyLnksIHIzLnksIHI0LnkpO1xuXG4gICAgICAgIHRoaXMueDIgPSB0aGlzLngxICsgd2lkdGg7XG4gICAgICAgIHRoaXMueTIgPSB0aGlzLnkxICsgaGVpZ2h0O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHRvUmVjdCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBnZW9tLlJlY3QoWyB0aGlzLngxLCB0aGlzLnkxIF0sIFsgdGhpcy53aWR0aCgpLCB0aGlzLmhlaWdodCgpIF0pO1xuICAgIH1cblxuICAgIGhhc1NpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpZHRoKCkgIT09IDAgJiYgdGhpcy5oZWlnaHQoKSAhPT0gMDtcbiAgICB9XG5cbiAgICBhbGlnbih0YXJnZXRCb3gsIGF4aXMsIGFsaWdubWVudCkge1xuICAgICAgICBjb25zdCBjMSA9IGF4aXMgKyAxO1xuICAgICAgICBjb25zdCBjMiA9IGF4aXMgKyAyO1xuICAgICAgICBjb25zdCBzaXplRnVuYyA9IGF4aXMgPT09IFggPyBXSURUSCA6IEhFSUdIVDtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXNbc2l6ZUZ1bmNdKCk7XG5cbiAgICAgICAgaWYgKGluQXJyYXkoYWxpZ25tZW50LCBbIExFRlQsIFRPUCBdKSkge1xuICAgICAgICAgICAgdGhpc1tjMV0gPSB0YXJnZXRCb3hbYzFdO1xuICAgICAgICAgICAgdGhpc1tjMl0gPSB0aGlzW2MxXSArIHNpemU7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5BcnJheShhbGlnbm1lbnQsIFsgUklHSFQsIEJPVFRPTSBdKSkge1xuICAgICAgICAgICAgdGhpc1tjMl0gPSB0YXJnZXRCb3hbYzJdO1xuICAgICAgICAgICAgdGhpc1tjMV0gPSB0aGlzW2MyXSAtIHNpemU7XG4gICAgICAgIH0gZWxzZSBpZiAoYWxpZ25tZW50ID09PSBDRU5URVIpIHtcbiAgICAgICAgICAgIHRoaXNbYzFdID0gdGFyZ2V0Qm94W2MxXSArICh0YXJnZXRCb3hbc2l6ZUZ1bmNdKCkgLSBzaXplKSAvIDI7XG4gICAgICAgICAgICB0aGlzW2MyXSA9IHRoaXNbYzFdICsgc2l6ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gcm90YXRlUG9pbnQoeCwgeSwgY3gsIGN5LCBhbmdsZSkge1xuICAgIGNvbnN0IHRoZXRhID0gcmFkKGFuZ2xlKTtcblxuICAgIHJldHVybiBuZXcgUG9pbnQoXG4gICAgICAgIGN4ICsgKHggLSBjeCkgKiBNYXRoLmNvcyh0aGV0YSkgKyAoeSAtIGN5KSAqIE1hdGguc2luKHRoZXRhKSxcbiAgICAgICAgY3kgLSAoeCAtIGN4KSAqIE1hdGguc2luKHRoZXRhKSArICh5IC0gY3kpICogTWF0aC5jb3ModGhldGEpXG4gICAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQm94O1xuIiwiaW1wb3J0IEJveCBmcm9tICcuL2JveCc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnLi9wb2ludCc7XG5pbXBvcnQgeyBDT09SRF9QUkVDSVNJT04sIE1BWF9WQUxVRSwgTUlOX1ZBTFVFIH0gZnJvbSAnLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBDbGFzcywgY2xvY2t3aXNlLCByYWQsIHJvdW5kIH0gZnJvbSAnLi4vY29tbW9uJztcblxuY2xhc3MgUmluZyBleHRlbmRzIENsYXNzIHtcblxuICAgIGNvbnN0cnVjdG9yKGNlbnRlciwgaW5uZXJSYWRpdXMsIHJhZGl1cywgc3RhcnRBbmdsZSwgYW5nbGUpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLmNlbnRlciA9IGNlbnRlcjtcbiAgICAgICAgdGhpcy5pbm5lclJhZGl1cyA9IGlubmVyUmFkaXVzO1xuICAgICAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcbiAgICAgICAgdGhpcy5zdGFydEFuZ2xlID0gc3RhcnRBbmdsZTtcbiAgICAgICAgdGhpcy5hbmdsZSA9IGFuZ2xlO1xuICAgIH1cblxuICAgIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gbmV3IFJpbmcodGhpcy5jZW50ZXIsIHRoaXMuaW5uZXJSYWRpdXMsIHRoaXMucmFkaXVzLCB0aGlzLnN0YXJ0QW5nbGUsIHRoaXMuYW5nbGUpO1xuICAgIH1cblxuICAgIG1pZGRsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnRBbmdsZSArIHRoaXMuYW5nbGUgLyAyO1xuICAgIH1cblxuICAgIHNldFJhZGl1cyhuZXdSYWRpdXMsIGlubmVyUmFkaXVzKSB7XG4gICAgICAgIGlmIChpbm5lclJhZGl1cykge1xuICAgICAgICAgICAgdGhpcy5pbm5lclJhZGl1cyA9IG5ld1JhZGl1cztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmFkaXVzID0gbmV3UmFkaXVzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogUmVtb3ZlIGFuZCByZXBsYWNlIHdpdGggUG9pbnQub25DaXJjbGVcbiAgICBwb2ludChhbmdsZSwgaW5uZXJSYWRpdXMpIHtcbiAgICAgICAgY29uc3QgcmFkaWFuQW5nbGUgPSByYWQoYW5nbGUpO1xuICAgICAgICBjb25zdCBheCA9IE1hdGguY29zKHJhZGlhbkFuZ2xlKTtcbiAgICAgICAgY29uc3QgYXkgPSBNYXRoLnNpbihyYWRpYW5BbmdsZSk7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IGlubmVyUmFkaXVzID8gdGhpcy5pbm5lclJhZGl1cyA6IHRoaXMucmFkaXVzO1xuICAgICAgICBjb25zdCB4ID0gcm91bmQodGhpcy5jZW50ZXIueCAtIChheCAqIHJhZGl1cyksIENPT1JEX1BSRUNJU0lPTik7XG4gICAgICAgIGNvbnN0IHkgPSByb3VuZCh0aGlzLmNlbnRlci55IC0gKGF5ICogcmFkaXVzKSwgQ09PUkRfUFJFQ0lTSU9OKTtcblxuICAgICAgICByZXR1cm4gbmV3IFBvaW50KHgsIHkpO1xuICAgIH1cblxuICAgIGFkamFjZW50Qm94KGRpc3RhbmNlLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGNvbnN0IHNlY3RvciA9IHRoaXMuY2xvbmUoKS5leHBhbmQoZGlzdGFuY2UpO1xuICAgICAgICBjb25zdCBtaWRBbmRsZSA9IHNlY3Rvci5taWRkbGUoKTtcbiAgICAgICAgY29uc3QgbWlkUG9pbnQgPSBzZWN0b3IucG9pbnQobWlkQW5kbGUpO1xuICAgICAgICBjb25zdCBodyA9IHdpZHRoIC8gMjtcbiAgICAgICAgY29uc3QgaGggPSBoZWlnaHQgLyAyO1xuICAgICAgICBjb25zdCBzYSA9IE1hdGguc2luKHJhZChtaWRBbmRsZSkpO1xuICAgICAgICBjb25zdCBjYSA9IE1hdGguY29zKHJhZChtaWRBbmRsZSkpO1xuICAgICAgICBsZXQgeCA9IG1pZFBvaW50LnggLSBodztcbiAgICAgICAgbGV0IHkgPSBtaWRQb2ludC55IC0gaGg7XG5cbiAgICAgICAgaWYgKE1hdGguYWJzKHNhKSA8IDAuOSkge1xuICAgICAgICAgICAgeCArPSBodyAqIC1jYSAvIE1hdGguYWJzKGNhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChNYXRoLmFicyhjYSkgPCAwLjkpIHtcbiAgICAgICAgICAgIHkgKz0gaGggKiAtc2EgLyBNYXRoLmFicyhzYSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IEJveCh4LCB5LCB4ICsgd2lkdGgsIHkgKyBoZWlnaHQpO1xuICAgIH1cblxuICAgIGNvbnRhaW5zUG9pbnQocCkge1xuICAgICAgICBjb25zdCBjZW50ZXIgPSB0aGlzLmNlbnRlcjtcbiAgICAgICAgY29uc3QgaW5uZXJSYWRpdXMgPSB0aGlzLmlubmVyUmFkaXVzO1xuICAgICAgICBjb25zdCByYWRpdXMgPSB0aGlzLnJhZGl1cztcbiAgICAgICAgY29uc3Qgc3RhcnRBbmdsZSA9IHRoaXMuc3RhcnRBbmdsZTtcbiAgICAgICAgY29uc3QgZW5kQW5nbGUgPSB0aGlzLnN0YXJ0QW5nbGUgKyB0aGlzLmFuZ2xlO1xuICAgICAgICBjb25zdCBkeCA9IHAueCAtIGNlbnRlci54O1xuICAgICAgICBjb25zdCBkeSA9IHAueSAtIGNlbnRlci55O1xuICAgICAgICBjb25zdCB2ZWN0b3IgPSBuZXcgUG9pbnQoZHgsIGR5KTtcbiAgICAgICAgY29uc3Qgc3RhcnRQb2ludCA9IHRoaXMucG9pbnQoc3RhcnRBbmdsZSk7XG4gICAgICAgIGNvbnN0IHN0YXJ0VmVjdG9yID0gbmV3IFBvaW50KHN0YXJ0UG9pbnQueCAtIGNlbnRlci54LCBzdGFydFBvaW50LnkgLSBjZW50ZXIueSk7XG4gICAgICAgIGNvbnN0IGVuZFBvaW50ID0gdGhpcy5wb2ludChlbmRBbmdsZSk7XG4gICAgICAgIGNvbnN0IGVuZFZlY3RvciA9IG5ldyBQb2ludChlbmRQb2ludC54IC0gY2VudGVyLngsIGVuZFBvaW50LnkgLSBjZW50ZXIueSk7XG4gICAgICAgIGNvbnN0IGRpc3QgPSByb3VuZChkeCAqIGR4ICsgZHkgKiBkeSwgQ09PUkRfUFJFQ0lTSU9OKTtcblxuICAgICAgICByZXR1cm4gKHN0YXJ0VmVjdG9yLmVxdWFscyh2ZWN0b3IpIHx8IGNsb2Nrd2lzZShzdGFydFZlY3RvciwgdmVjdG9yKSkgJiZcbiAgICAgICAgICAgICAgICFjbG9ja3dpc2UoZW5kVmVjdG9yLCB2ZWN0b3IpICYmXG4gICAgICAgICAgICAgICBkaXN0ID49IGlubmVyUmFkaXVzICogaW5uZXJSYWRpdXMgJiYgZGlzdCA8PSByYWRpdXMgKiByYWRpdXM7XG4gICAgfVxuXG4gICAgZ2V0QkJveCgpIHtcbiAgICAgICAgY29uc3QgYm94ID0gbmV3IEJveChNQVhfVkFMVUUsIE1BWF9WQUxVRSwgTUlOX1ZBTFVFLCBNSU5fVkFMVUUpO1xuICAgICAgICBjb25zdCBzdGFydEFuZ2xlID0gcm91bmQodGhpcy5zdGFydEFuZ2xlICUgMzYwKTtcbiAgICAgICAgY29uc3QgZW5kQW5nbGUgPSByb3VuZCgoc3RhcnRBbmdsZSArIHRoaXMuYW5nbGUpICUgMzYwKTtcbiAgICAgICAgY29uc3QgaW5uZXJSYWRpdXMgPSB0aGlzLmlubmVyUmFkaXVzO1xuICAgICAgICBjb25zdCBhbGxBbmdsZXMgPSBbIDAsIDkwLCAxODAsIDI3MCwgc3RhcnRBbmdsZSwgZW5kQW5nbGUgXS5zb3J0KG51bWVyaWNDb21wYXJlcik7XG4gICAgICAgIGNvbnN0IHN0YXJ0QW5nbGVJbmRleCA9IGFsbEFuZ2xlcy5pbmRleE9mKHN0YXJ0QW5nbGUpO1xuICAgICAgICBjb25zdCBlbmRBbmdsZUluZGV4ID0gYWxsQW5nbGVzLmluZGV4T2YoZW5kQW5nbGUpO1xuICAgICAgICBsZXQgYW5nbGVzO1xuXG4gICAgICAgIGlmIChzdGFydEFuZ2xlID09PSBlbmRBbmdsZSkge1xuICAgICAgICAgICAgYW5nbGVzID0gYWxsQW5nbGVzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHN0YXJ0QW5nbGVJbmRleCA8IGVuZEFuZ2xlSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBhbmdsZXMgPSBhbGxBbmdsZXMuc2xpY2Uoc3RhcnRBbmdsZUluZGV4LCBlbmRBbmdsZUluZGV4ICsgMSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFuZ2xlcyA9IFtdLmNvbmNhdChcbiAgICAgICAgICAgICAgICAgICAgYWxsQW5nbGVzLnNsaWNlKDAsIGVuZEFuZ2xlSW5kZXggKyAxKSxcbiAgICAgICAgICAgICAgICAgICAgYWxsQW5nbGVzLnNsaWNlKHN0YXJ0QW5nbGVJbmRleCwgYWxsQW5nbGVzLmxlbmd0aClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbmdsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBwb2ludCA9IHRoaXMucG9pbnQoYW5nbGVzW2ldKTtcbiAgICAgICAgICAgIGJveC53cmFwUG9pbnQocG9pbnQpO1xuICAgICAgICAgICAgYm94LndyYXBQb2ludChwb2ludCwgaW5uZXJSYWRpdXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpbm5lclJhZGl1cykge1xuICAgICAgICAgICAgYm94LndyYXBQb2ludCh0aGlzLmNlbnRlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYm94O1xuICAgIH1cblxuICAgIGV4cGFuZCh2YWx1ZSkge1xuICAgICAgICB0aGlzLnJhZGl1cyArPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBudW1lcmljQ29tcGFyZXIoYSwgYikge1xuICAgIHJldHVybiBhIC0gYjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgUmluZzsiLCJpbXBvcnQgUmluZyBmcm9tICcuL3JpbmcnO1xuXG5jbGFzcyBTZWN0b3IgZXh0ZW5kcyBSaW5nIHtcbiAgICBjb25zdHJ1Y3RvcihjZW50ZXIsIHJhZGl1cywgc3RhcnRBbmdsZSwgYW5nbGUpIHtcbiAgICAgICAgc3VwZXIoY2VudGVyLCAwLCByYWRpdXMsIHN0YXJ0QW5nbGUsIGFuZ2xlKTtcbiAgICB9XG5cbiAgICBleHBhbmQodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmV4cGFuZCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2VjdG9yKHRoaXMuY2VudGVyLCB0aGlzLnJhZGl1cywgdGhpcy5zdGFydEFuZ2xlLCB0aGlzLmFuZ2xlKTtcbiAgICB9XG5cbiAgICBzZXRSYWRpdXMobmV3UmFkaXVzKSB7XG4gICAgICAgIHRoaXMucmFkaXVzID0gbmV3UmFkaXVzO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2VjdG9yOyIsImltcG9ydCB7IGdlb21ldHJ5IGFzIGdlb20sIGRyYXdpbmcgYXMgZHJhdyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcbmltcG9ydCB7IENsYXNzIH0gZnJvbSAnLi4vY29tbW9uJztcblxuY29uc3QgRElSRUNUSU9OX0FOR0xFID0gMC4wMDE7IC8vYW55IHZhbHVlIHRoYXQgd2lsbCBtYWtlIHRoZSBlbmRBbmdsZSBiaWdnZXIgdGhhbiB0aGUgc3RhcnQgYW5nbGUgd2lsbCB3b3JrIGhlcmUuXG5cbmNsYXNzIFNoYXBlQnVpbGRlciBleHRlbmRzIENsYXNzIHtcbiAgICBjcmVhdGVSaW5nKHNlY3Rvciwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBzdGFydEFuZ2xlID0gc2VjdG9yLnN0YXJ0QW5nbGUgKyAxODA7XG4gICAgICAgIGxldCBlbmRBbmdsZSA9IHNlY3Rvci5hbmdsZSArIHN0YXJ0QW5nbGU7XG5cbiAgICAgICAgLy9yZXF1aXJlZCBpbiBvcmRlciB0byBhdm9pZCByZXZlcnNpbmcgdGhlIGFyYyBkaXJlY3Rpb24gaW4gY2FzZXMgbGlrZSAwLjAwMDAwMDAwMDAwMDAwMSArIDEwMCA9PT0gMTAwXG4gICAgICAgIGlmIChzZWN0b3IuYW5nbGUgPiAwICYmIHN0YXJ0QW5nbGUgPT09IGVuZEFuZ2xlKSB7XG4gICAgICAgICAgICBlbmRBbmdsZSArPSBESVJFQ1RJT05fQU5HTEU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjZW50ZXIgPSBuZXcgZ2VvbS5Qb2ludChzZWN0b3IuY2VudGVyLngsIHNlY3Rvci5jZW50ZXIueSk7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IE1hdGgubWF4KHNlY3Rvci5yYWRpdXMsIDApO1xuICAgICAgICBjb25zdCBpbm5lclJhZGl1cyA9IE1hdGgubWF4KHNlY3Rvci5pbm5lclJhZGl1cywgMCk7XG4gICAgICAgIGNvbnN0IGFyYyA9IG5ldyBnZW9tLkFyYyhjZW50ZXIsIHtcbiAgICAgICAgICAgIHN0YXJ0QW5nbGU6IHN0YXJ0QW5nbGUsXG4gICAgICAgICAgICBlbmRBbmdsZTogZW5kQW5nbGUsXG4gICAgICAgICAgICByYWRpdXNYOiByYWRpdXMsXG4gICAgICAgICAgICByYWRpdXNZOiByYWRpdXNcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHBhdGggPSBkcmF3LlBhdGguZnJvbUFyYyhhcmMsIG9wdGlvbnMpLmNsb3NlKCk7XG5cbiAgICAgICAgaWYgKGlubmVyUmFkaXVzKSB7XG4gICAgICAgICAgICBhcmMucmFkaXVzWCA9IGFyYy5yYWRpdXNZID0gaW5uZXJSYWRpdXM7XG4gICAgICAgICAgICBjb25zdCBpbm5lckVuZCA9IGFyYy5wb2ludEF0KGVuZEFuZ2xlKTtcbiAgICAgICAgICAgIHBhdGgubGluZVRvKGlubmVyRW5kLngsIGlubmVyRW5kLnkpO1xuICAgICAgICAgICAgcGF0aC5hcmMoZW5kQW5nbGUsIHN0YXJ0QW5nbGUsIGlubmVyUmFkaXVzLCBpbm5lclJhZGl1cywgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXRoLmxpbmVUbyhjZW50ZXIueCwgY2VudGVyLnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgfVxufVxuXG5TaGFwZUJ1aWxkZXIuY3VycmVudCA9IG5ldyBTaGFwZUJ1aWxkZXIoKTtcblxuZXhwb3J0IGRlZmF1bHQgU2hhcGVCdWlsZGVyOyIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHsgV0hJVEUgfSBmcm9tICcuLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IENsYXNzLCBkZWVwRXh0ZW5kLCBkZWZpbmVkLCB2YWx1ZU9yRGVmYXVsdCB9IGZyb20gJy4uL2NvbW1vbic7XG5cbmNsYXNzIENoYXJ0RWxlbWVudCBleHRlbmRzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIHRoaXMub3B0aW9ucywgdGhpcy5pbml0VXNlck9wdGlvbnMob3B0aW9ucykpO1xuICAgIH1cblxuICAgIGluaXRVc2VyT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgIH1cblxuICAgIHJlZmxvdyh0YXJnZXRCb3gpIHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuO1xuICAgICAgICBsZXQgYm94O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBjdXJyZW50Q2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGN1cnJlbnRDaGlsZC5yZWZsb3codGFyZ2V0Qm94KTtcblxuICAgICAgICAgICAgYm94ID0gYm94ID8gYm94LndyYXAoY3VycmVudENoaWxkLmJveCkgOiBjdXJyZW50Q2hpbGQuYm94LmNsb25lKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJveCA9IGJveCB8fCB0YXJnZXRCb3g7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuO1xuXG4gICAgICAgIGlmICh0aGlzLmFuaW1hdGlvbikge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb24uZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY2hpbGRyZW5baV0uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0Um9vdCgpIHtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5wYXJlbnQ7XG5cbiAgICAgICAgcmV0dXJuIHBhcmVudCA/IHBhcmVudC5nZXRSb290KCkgOiBudWxsO1xuICAgIH1cblxuICAgIGdldFNlbmRlcigpIHtcbiAgICAgICAgY29uc3Qgc2VydmljZSA9IHRoaXMuZ2V0U2VydmljZSgpO1xuICAgICAgICBpZiAoc2VydmljZSkge1xuICAgICAgICAgICAgcmV0dXJuIHNlcnZpY2Uuc2VuZGVyO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0U2VydmljZSgpIHtcbiAgICAgICAgbGV0IGVsZW1lbnQgPSB0aGlzO1xuICAgICAgICB3aGlsZSAoZWxlbWVudCkge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQuY2hhcnRTZXJ2aWNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuY2hhcnRTZXJ2aWNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdHJhbnNsYXRlQ2hpbGRyZW4oZHgsIGR5KSB7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbjtcbiAgICAgICAgY29uc3QgY2hpbGRyZW5Db3VudCA9IGNoaWxkcmVuLmxlbmd0aDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgY2hpbGRyZW5baV0uYm94LnRyYW5zbGF0ZShkeCwgZHkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXBwZW5kKCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGl0ZW0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goaXRlbSk7XG4gICAgICAgICAgICBpdGVtLnBhcmVudCA9IHRoaXM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXJWaXN1YWwoKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudmlzaWJsZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY3JlYXRlVmlzdWFsKCk7XG5cbiAgICAgICAgdGhpcy5hZGRWaXN1YWwoKTtcblxuICAgICAgICB0aGlzLnJlbmRlckNoaWxkcmVuKCk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVBbmltYXRpb24oKTtcbiAgICAgICAgdGhpcy5yZW5kZXJDb21wbGV0ZSgpO1xuICAgIH1cblxuICAgIGFkZFZpc3VhbCgpIHtcbiAgICAgICAgaWYgKHRoaXMudmlzdWFsKSB7XG4gICAgICAgICAgICB0aGlzLnZpc3VhbC5jaGFydEVsZW1lbnQgPSB0aGlzO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5hcHBlbmRWaXN1YWwodGhpcy52aXN1YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyQ2hpbGRyZW4oKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbjtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjaGlsZHJlbltpXS5yZW5kZXJWaXN1YWwoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZVZpc3VhbCgpIHtcbiAgICAgICAgdGhpcy52aXN1YWwgPSBuZXcgZHJhdy5Hcm91cCh7XG4gICAgICAgICAgICB6SW5kZXg6IHRoaXMub3B0aW9ucy56SW5kZXgsXG4gICAgICAgICAgICB2aXNpYmxlOiB2YWx1ZU9yRGVmYXVsdCh0aGlzLm9wdGlvbnMudmlzaWJsZSwgdHJ1ZSlcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY3JlYXRlQW5pbWF0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy52aXN1YWwgJiYgdGhpcy5vcHRpb25zLmFuaW1hdGlvbikge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb24gPSBkcmF3LkFuaW1hdGlvbi5jcmVhdGUoXG4gICAgICAgICAgICAgICAgdGhpcy52aXN1YWwsIHRoaXMub3B0aW9ucy5hbmltYXRpb25cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhcHBlbmRWaXN1YWwoY2hpbGRWaXN1YWwpIHtcbiAgICAgICAgaWYgKCFjaGlsZFZpc3VhbC5jaGFydEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGNoaWxkVmlzdWFsLmNoYXJ0RWxlbWVudCA9IHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hpbGRWaXN1YWwub3B0aW9ucy5ub2NsaXApIHtcbiAgICAgICAgICAgIHRoaXMuY2xpcFJvb3QoKS52aXN1YWwuYXBwZW5kKGNoaWxkVmlzdWFsKTtcbiAgICAgICAgfSBlbHNlIGlmIChkZWZpbmVkKGNoaWxkVmlzdWFsLm9wdGlvbnMuekluZGV4KSkge1xuICAgICAgICAgICAgdGhpcy5zdGFja1Jvb3QoKS5zdGFja1Zpc3VhbChjaGlsZFZpc3VhbCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc1N0YWNrUm9vdCkge1xuICAgICAgICAgICAgdGhpcy5zdGFja1Zpc3VhbChjaGlsZFZpc3VhbCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy52aXN1YWwpIHtcbiAgICAgICAgICAgIHRoaXMudmlzdWFsLmFwcGVuZChjaGlsZFZpc3VhbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBBbGxvdyBjaGFydCBlbGVtZW50cyB3aXRob3V0IHZpc3VhbHMgdG9cbiAgICAgICAgICAgIC8vIHBhc3MgdGhyb3VnaCBjaGlsZCB2aXN1YWxzXG4gICAgICAgICAgICB0aGlzLnBhcmVudC5hcHBlbmRWaXN1YWwoY2hpbGRWaXN1YWwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xpcFJvb3QoKSB7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50LmNsaXBSb290KCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBzdGFja1Jvb3QoKSB7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50LnN0YWNrUm9vdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc3RhY2tWaXN1YWwoY2hpbGRWaXN1YWwpIHtcbiAgICAgICAgY29uc3QgekluZGV4ID0gY2hpbGRWaXN1YWwub3B0aW9ucy56SW5kZXggfHwgMDtcbiAgICAgICAgY29uc3QgdmlzdWFscyA9IHRoaXMudmlzdWFsLmNoaWxkcmVuO1xuICAgICAgICBjb25zdCBsZW5ndGggPSB2aXN1YWxzLmxlbmd0aDtcbiAgICAgICAgbGV0IHBvcztcblxuICAgICAgICBmb3IgKHBvcyA9IDA7IHBvcyA8IGxlbmd0aDsgcG9zKyspIHtcbiAgICAgICAgICAgIGxldCBzaWJsaW5nID0gdmlzdWFsc1twb3NdO1xuICAgICAgICAgICAgbGV0IGhlcmUgPSB2YWx1ZU9yRGVmYXVsdChzaWJsaW5nLm9wdGlvbnMuekluZGV4LCAwKTtcbiAgICAgICAgICAgIGlmIChoZXJlID4gekluZGV4KSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZpc3VhbC5pbnNlcnQocG9zLCBjaGlsZFZpc3VhbCk7XG4gICAgfVxuXG4gICAgdHJhdmVyc2UoY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuO1xuICAgICAgICBjb25zdCBsZW5ndGggPSBjaGlsZHJlbi5sZW5ndGg7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgIGNhbGxiYWNrKGNoaWxkKTtcbiAgICAgICAgICAgIGlmIChjaGlsZC50cmF2ZXJzZSkge1xuICAgICAgICAgICAgICAgIGNoaWxkLnRyYXZlcnNlKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsb3Nlc3QobWF0Y2gpIHtcbiAgICAgICAgbGV0IGVsZW1lbnQgPSB0aGlzO1xuICAgICAgICBsZXQgbWF0Y2hlZCA9IGZhbHNlO1xuXG4gICAgICAgIHdoaWxlIChlbGVtZW50ICYmICFtYXRjaGVkKSB7XG4gICAgICAgICAgICBtYXRjaGVkID0gbWF0Y2goZWxlbWVudCk7XG5cbiAgICAgICAgICAgIGlmICghbWF0Y2hlZCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtYXRjaGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlckNvbXBsZXRlKCkge31cblxuICAgIGhhc0hpZ2hsaWdodCgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9ICh0aGlzLm9wdGlvbnMgfHwge30pLmhpZ2hsaWdodDtcbiAgICAgICAgcmV0dXJuICEoIXRoaXMuY3JlYXRlSGlnaGxpZ2h0IHx8IChvcHRpb25zICYmIG9wdGlvbnMudmlzaWJsZSA9PT0gZmFsc2UpKTtcbiAgICB9XG5cbiAgICB0b2dnbGVIaWdobGlnaHQoc2hvdykge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gKHRoaXMub3B0aW9ucyB8fCB7fSkuaGlnaGxpZ2h0IHx8IHt9O1xuICAgICAgICBjb25zdCBjdXN0b21WaXN1YWwgPSBvcHRpb25zLnZpc3VhbDtcbiAgICAgICAgbGV0IGhpZ2hsaWdodCA9IHRoaXMuX2hpZ2hsaWdodDtcblxuICAgICAgICBpZiAoIWhpZ2hsaWdodCkge1xuICAgICAgICAgICAgY29uc3QgaGlnaGxpZ2h0T3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBmaWxsOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBXSElURSxcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMC4yXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdHJva2U6IHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFdISVRFLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogMSxcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMC4yXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKGN1c3RvbVZpc3VhbCkge1xuICAgICAgICAgICAgICAgIGhpZ2hsaWdodCA9IHRoaXMuX2hpZ2hsaWdodCA9IGN1c3RvbVZpc3VhbChcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmhpZ2hsaWdodFZpc3VhbEFyZ3MoKSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlVmlzdWFsOiAoKSA9PiB0aGlzLmNyZWF0ZUhpZ2hsaWdodChoaWdobGlnaHRPcHRpb25zKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRlcjogdGhpcy5nZXRTZW5kZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcmllczogdGhpcy5zZXJpZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhSXRlbTogdGhpcy5kYXRhSXRlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiB0aGlzLmNhdGVnb3J5LFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJjZW50YWdlOiB0aGlzLnBlcmNlbnRhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBydW5uaW5nVG90YWw6IHRoaXMucnVubmluZ1RvdGFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWw6IHRoaXMudG90YWxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICkpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFoaWdobGlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaGlnaGxpZ2h0ID0gdGhpcy5faGlnaGxpZ2h0ID0gdGhpcy5jcmVhdGVIaWdobGlnaHQoaGlnaGxpZ2h0T3B0aW9ucyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghZGVmaW5lZChoaWdobGlnaHQub3B0aW9ucy56SW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgaGlnaGxpZ2h0Lm9wdGlvbnMuekluZGV4ID0gdmFsdWVPckRlZmF1bHQob3B0aW9ucy56SW5kZXgsIHRoaXMub3B0aW9ucy56SW5kZXgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmFwcGVuZFZpc3VhbChoaWdobGlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaGlnaGxpZ2h0LnZpc2libGUoc2hvdyk7XG4gICAgfVxuXG4gICAgY3JlYXRlR3JhZGllbnRPdmVybGF5KGVsZW1lbnQsIG9wdGlvbnMsIGdyYWRpZW50T3B0aW9ucykge1xuICAgICAgICBjb25zdCBvdmVybGF5ID0gbmV3IGRyYXcuUGF0aChPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBcIm5vbmVcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpbGw6IHRoaXMuY3JlYXRlR3JhZGllbnQoZ3JhZGllbnRPcHRpb25zKSxcbiAgICAgICAgICAgIGNsb3NlZDogZWxlbWVudC5vcHRpb25zLmNsb3NlZFxuICAgICAgICB9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgb3ZlcmxheS5zZWdtZW50cy5lbGVtZW50cyhlbGVtZW50LnNlZ21lbnRzLmVsZW1lbnRzKCkpO1xuXG4gICAgICAgIHJldHVybiBvdmVybGF5O1xuICAgIH1cblxuICAgIGNyZWF0ZUdyYWRpZW50KG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQuY3JlYXRlR3JhZGllbnQob3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbkNoYXJ0RWxlbWVudC5wcm90b3R5cGUub3B0aW9ucyA9IHsgfTtcblxuZXhwb3J0IGRlZmF1bHQgQ2hhcnRFbGVtZW50OyIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IENoYXJ0RWxlbWVudCBmcm9tICcuL2NoYXJ0LWVsZW1lbnQnO1xuaW1wb3J0IEJveCBmcm9tICcuL2JveCc7XG5cbmltcG9ydCB7IEJMQUNLLCBMRUZULCBUT1AsIFgsIFkgfSBmcm9tICcuLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGdldFNwYWNpbmcsIHNldERlZmF1bHRPcHRpb25zLCB2YWx1ZU9yRGVmYXVsdCB9IGZyb20gJy4uL2NvbW1vbic7XG5cbmNsYXNzIEJveEVsZW1lbnQgZXh0ZW5kcyBDaGFydEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zLm1hcmdpbiA9IGdldFNwYWNpbmcodGhpcy5vcHRpb25zLm1hcmdpbik7XG4gICAgICAgIHRoaXMub3B0aW9ucy5wYWRkaW5nID0gZ2V0U3BhY2luZyh0aGlzLm9wdGlvbnMucGFkZGluZyk7XG4gICAgfVxuXG4gICAgcmVmbG93KHRhcmdldEJveCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIHNocmlua1RvRml0IH0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCBoYXNTZXRTaXplID0gd2lkdGggJiYgaGVpZ2h0O1xuICAgICAgICBjb25zdCBtYXJnaW4gPSBvcHRpb25zLm1hcmdpbjtcbiAgICAgICAgY29uc3QgcGFkZGluZyA9IG9wdGlvbnMucGFkZGluZztcbiAgICAgICAgY29uc3QgYm9yZGVyV2lkdGggPSBvcHRpb25zLmJvcmRlci53aWR0aDtcbiAgICAgICAgbGV0IGJveDtcblxuICAgICAgICBjb25zdCByZWZsb3dQYWRkaW5nQm94ID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hbGlnbih0YXJnZXRCb3gsIFgsIG9wdGlvbnMuYWxpZ24pO1xuICAgICAgICAgICAgdGhpcy5hbGlnbih0YXJnZXRCb3gsIFksIG9wdGlvbnMudkFsaWduKTtcbiAgICAgICAgICAgIHRoaXMucGFkZGluZ0JveCA9IGJveC5jbG9uZSgpLnVucGFkKG1hcmdpbikudW5wYWQoYm9yZGVyV2lkdGgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGxldCBjb250ZW50Qm94ID0gdGFyZ2V0Qm94LmNsb25lKCk7XG4gICAgICAgIGlmIChoYXNTZXRTaXplKSB7XG4gICAgICAgICAgICBjb250ZW50Qm94LngyID0gY29udGVudEJveC54MSArIHdpZHRoO1xuICAgICAgICAgICAgY29udGVudEJveC55MiA9IGNvbnRlbnRCb3gueTEgKyBoZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2hyaW5rVG9GaXQpIHtcbiAgICAgICAgICAgIGNvbnRlbnRCb3gudW5wYWQobWFyZ2luKS51bnBhZChib3JkZXJXaWR0aCkudW5wYWQocGFkZGluZyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5yZWZsb3coY29udGVudEJveCk7XG5cbiAgICAgICAgaWYgKGhhc1NldFNpemUpIHtcbiAgICAgICAgICAgIGJveCA9IHRoaXMuYm94ID0gbmV3IEJveCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJveCA9IHRoaXMuYm94O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNocmlua1RvRml0ICYmIGhhc1NldFNpemUpIHtcbiAgICAgICAgICAgIHJlZmxvd1BhZGRpbmdCb3goKTtcbiAgICAgICAgICAgIGNvbnRlbnRCb3ggPSB0aGlzLmNvbnRlbnRCb3ggPSB0aGlzLnBhZGRpbmdCb3guY2xvbmUoKS51bnBhZChwYWRkaW5nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRlbnRCb3ggPSB0aGlzLmNvbnRlbnRCb3ggPSBib3guY2xvbmUoKTtcbiAgICAgICAgICAgIGJveC5wYWQocGFkZGluZykucGFkKGJvcmRlcldpZHRoKS5wYWQobWFyZ2luKTtcbiAgICAgICAgICAgIHJlZmxvd1BhZGRpbmdCb3goKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudHJhbnNsYXRlQ2hpbGRyZW4oXG4gICAgICAgICAgICBib3gueDEgLSBjb250ZW50Qm94LngxICsgbWFyZ2luLmxlZnQgKyBib3JkZXJXaWR0aCArIHBhZGRpbmcubGVmdCxcbiAgICAgICAgICAgIGJveC55MSAtIGNvbnRlbnRCb3gueTEgKyBtYXJnaW4udG9wICsgYm9yZGVyV2lkdGggKyBwYWRkaW5nLnRvcFxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGl0ZW0gPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGl0ZW0ucmVmbG93KGl0ZW0uYm94KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFsaWduKHRhcmdldEJveCwgYXhpcywgYWxpZ25tZW50KSB7XG4gICAgICAgIHRoaXMuYm94LmFsaWduKHRhcmdldEJveCwgYXhpcywgYWxpZ25tZW50KTtcbiAgICB9XG5cbiAgICBoYXNCb3goKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHJldHVybiBvcHRpb25zLmJvcmRlci53aWR0aCB8fCBvcHRpb25zLmJhY2tncm91bmQ7XG4gICAgfVxuXG4gICAgY3JlYXRlVmlzdWFsKCkge1xuICAgICAgICBzdXBlci5jcmVhdGVWaXN1YWwoKTtcblxuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBpZiAob3B0aW9ucy52aXNpYmxlICYmIHRoaXMuaGFzQm94KCkpIHtcbiAgICAgICAgICAgIHRoaXMudmlzdWFsLmFwcGVuZChkcmF3LlBhdGguZnJvbVJlY3QoXG4gICAgICAgICAgICAgICAgdGhpcy5wYWRkaW5nQm94LnRvUmVjdCgpLFxuICAgICAgICAgICAgICAgIHRoaXMudmlzdWFsU3R5bGUoKVxuICAgICAgICAgICAgKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2aXN1YWxTdHlsZSgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgYm9yZGVyID0gb3B0aW9ucy5ib3JkZXIgfHwge307XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBib3JkZXIud2lkdGgsXG4gICAgICAgICAgICAgICAgY29sb3I6IGJvcmRlci5jb2xvcixcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiB2YWx1ZU9yRGVmYXVsdChib3JkZXIub3BhY2l0eSwgb3B0aW9ucy5vcGFjaXR5KSxcbiAgICAgICAgICAgICAgICBkYXNoVHlwZTogYm9yZGVyLmRhc2hUeXBlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmlsbDoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBvcHRpb25zLmJhY2tncm91bmQsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogb3B0aW9ucy5vcGFjaXR5XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY3Vyc29yOiBvcHRpb25zLmN1cnNvclxuICAgICAgICB9O1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoQm94RWxlbWVudCwge1xuICAgIGFsaWduOiBMRUZULFxuICAgIHZBbGlnbjogVE9QLFxuICAgIG1hcmdpbjoge30sXG4gICAgcGFkZGluZzoge30sXG4gICAgYm9yZGVyOiB7XG4gICAgICAgIGNvbG9yOiBCTEFDSyxcbiAgICAgICAgd2lkdGg6IDBcbiAgICB9LFxuICAgIGJhY2tncm91bmQ6IFwiXCIsXG4gICAgc2hyaW5rVG9GaXQ6IGZhbHNlLFxuICAgIHdpZHRoOiAwLFxuICAgIGhlaWdodDogMCxcbiAgICB2aXNpYmxlOiB0cnVlXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgQm94RWxlbWVudDsiLCJpbXBvcnQgeyBkcmF3aW5nIGFzIGRyYXcsIGdlb21ldHJ5IGFzIGdlb20gfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCBCb3hFbGVtZW50IGZyb20gJy4vYm94LWVsZW1lbnQnO1xuXG5pbXBvcnQgeyBDSVJDTEUsIFRSSUFOR0xFLCBDUk9TUywgQ0VOVEVSLCBDT09SRF9QUkVDSVNJT04gfSBmcm9tICcuLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IHJvdW5kLCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uL2NvbW1vbic7XG5cbmNsYXNzIFNoYXBlRWxlbWVudCBleHRlbmRzIEJveEVsZW1lbnQge1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucywgcG9pbnREYXRhKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMucG9pbnREYXRhID0gcG9pbnREYXRhO1xuICAgIH1cblxuICAgIGdldEVsZW1lbnQoKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgcGFkZGluZ0JveDogYm94IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB7IHR5cGUsIHJvdGF0aW9uIH0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSBib3guY2VudGVyKCk7XG4gICAgICAgIGNvbnN0IGhhbGZXaWR0aCA9IGJveC53aWR0aCgpIC8gMjtcblxuICAgICAgICBpZiAoIW9wdGlvbnMudmlzaWJsZSB8fCAhdGhpcy5oYXNCb3goKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMudmlzdWFsU3R5bGUoKTtcbiAgICAgICAgbGV0IGVsZW1lbnQ7XG5cbiAgICAgICAgaWYgKHR5cGUgPT09IENJUkNMRSkge1xuICAgICAgICAgICAgZWxlbWVudCA9IG5ldyBkcmF3LkNpcmNsZShcbiAgICAgICAgICAgICAgICBuZXcgZ2VvbS5DaXJjbGUoW1xuICAgICAgICAgICAgICAgICAgICByb3VuZChib3gueDEgKyBoYWxmV2lkdGgsIENPT1JEX1BSRUNJU0lPTiksXG4gICAgICAgICAgICAgICAgICAgIHJvdW5kKGJveC55MSArIGJveC5oZWlnaHQoKSAvIDIsIENPT1JEX1BSRUNJU0lPTilcbiAgICAgICAgICAgICAgICBdLCBoYWxmV2lkdGgpLFxuICAgICAgICAgICAgICAgIHN0eWxlXG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFRSSUFOR0xFKSB7XG4gICAgICAgICAgICBlbGVtZW50ID0gZHJhdy5QYXRoLmZyb21Qb2ludHMoW1xuICAgICAgICAgICAgICAgIFsgYm94LngxICsgaGFsZldpZHRoLCBib3gueTEgXSxcbiAgICAgICAgICAgICAgICBbIGJveC54MSwgYm94LnkyIF0sXG4gICAgICAgICAgICAgICAgWyBib3gueDIsIGJveC55MiBdXG4gICAgICAgICAgICBdLCBzdHlsZSkuY2xvc2UoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBDUk9TUykge1xuICAgICAgICAgICAgZWxlbWVudCA9IG5ldyBkcmF3Lk11bHRpUGF0aChzdHlsZSk7XG5cbiAgICAgICAgICAgIGVsZW1lbnQubW92ZVRvKGJveC54MSwgYm94LnkxKS5saW5lVG8oYm94LngyLCBib3gueTIpO1xuICAgICAgICAgICAgZWxlbWVudC5tb3ZlVG8oYm94LngxLCBib3gueTIpLmxpbmVUbyhib3gueDIsIGJveC55MSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50ID0gZHJhdy5QYXRoLmZyb21SZWN0KGJveC50b1JlY3QoKSwgc3R5bGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJvdGF0aW9uKSB7XG4gICAgICAgICAgICBlbGVtZW50LnRyYW5zZm9ybShnZW9tLnRyYW5zZm9ybSgpXG4gICAgICAgICAgICAgICAgLnJvdGF0ZSgtcm90YXRpb24sIFsgY2VudGVyLngsIGNlbnRlci55IF0pXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxlbWVudC5vcHRpb25zLnpJbmRleCA9IG9wdGlvbnMuekluZGV4O1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG5cbiAgICBjcmVhdGVFbGVtZW50KCkge1xuICAgICAgICBjb25zdCBjdXN0b21WaXN1YWwgPSB0aGlzLm9wdGlvbnMudmlzdWFsO1xuICAgICAgICBjb25zdCBwb2ludERhdGEgPSB0aGlzLnBvaW50RGF0YSB8fCB7fTtcbiAgICAgICAgbGV0IHZpc3VhbDtcblxuICAgICAgICBpZiAoY3VzdG9tVmlzdWFsKSB7XG4gICAgICAgICAgICB2aXN1YWwgPSBjdXN0b21WaXN1YWwoe1xuICAgICAgICAgICAgICAgIHZhbHVlOiBwb2ludERhdGEudmFsdWUsXG4gICAgICAgICAgICAgICAgZGF0YUl0ZW06IHBvaW50RGF0YS5kYXRhSXRlbSxcbiAgICAgICAgICAgICAgICBzZW5kZXI6IHRoaXMuZ2V0U2VuZGVyKCksXG4gICAgICAgICAgICAgICAgc2VyaWVzOiBwb2ludERhdGEuc2VyaWVzLFxuICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBwb2ludERhdGEuY2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgcmVjdDogdGhpcy5wYWRkaW5nQm94LnRvUmVjdCgpLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHRoaXMudmlzdWFsT3B0aW9ucygpLFxuICAgICAgICAgICAgICAgIGNyZWF0ZVZpc3VhbDogKCkgPT4gdGhpcy5nZXRFbGVtZW50KClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmlzdWFsID0gdGhpcy5nZXRFbGVtZW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmlzdWFsO1xuICAgIH1cblxuICAgIHZpc3VhbE9wdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBvcHRpb25zLmJhY2tncm91bmQsXG4gICAgICAgICAgICBib3JkZXI6IG9wdGlvbnMuYm9yZGVyLFxuICAgICAgICAgICAgbWFyZ2luOiBvcHRpb25zLm1hcmdpbixcbiAgICAgICAgICAgIHBhZGRpbmc6IG9wdGlvbnMucGFkZGluZyxcbiAgICAgICAgICAgIHR5cGU6IG9wdGlvbnMudHlwZSxcbiAgICAgICAgICAgIHNpemU6IG9wdGlvbnMud2lkdGgsXG4gICAgICAgICAgICB2aXNpYmxlOiBvcHRpb25zLnZpc2libGVcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBjcmVhdGVWaXN1YWwoKSB7XG4gICAgICAgIHRoaXMudmlzdWFsID0gdGhpcy5jcmVhdGVFbGVtZW50KCk7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhTaGFwZUVsZW1lbnQsIHtcbiAgICB0eXBlOiBDSVJDTEUsXG4gICAgYWxpZ246IENFTlRFUixcbiAgICB2QWxpZ246IENFTlRFUlxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFNoYXBlRWxlbWVudDsiLCJpbXBvcnQgeyBXSElURSB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuXG5jb25zdCBMSU5FQVIgPSBcImxpbmVhclwiO1xuY29uc3QgUkFESUFMID0gXCJyYWRpYWxcIjtcblxuY29uc3QgR1JBRElFTlRTID0ge1xuICAgIGdsYXNzOiB7XG4gICAgICAgIHR5cGU6IExJTkVBUixcbiAgICAgICAgcm90YXRpb246IDAsXG4gICAgICAgIHN0b3BzOiBbIHtcbiAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgIGNvbG9yOiBXSElURSxcbiAgICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgb2Zmc2V0OiAwLjI1LFxuICAgICAgICAgICAgY29sb3I6IFdISVRFLFxuICAgICAgICAgICAgb3BhY2l0eTogMC4zXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG9mZnNldDogMSxcbiAgICAgICAgICAgIGNvbG9yOiBXSElURSxcbiAgICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgfSBdXG4gICAgfSxcbiAgICBzaGFycEJldmVsOiB7XG4gICAgICAgIHR5cGU6IFJBRElBTCxcbiAgICAgICAgc3RvcHM6IFsge1xuICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgY29sb3I6IFdISVRFLFxuICAgICAgICAgICAgb3BhY2l0eTogMC41NVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBvZmZzZXQ6IDAuNjUsXG4gICAgICAgICAgICBjb2xvcjogV0hJVEUsXG4gICAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG9mZnNldDogMC45NSxcbiAgICAgICAgICAgIGNvbG9yOiBXSElURSxcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuMjVcbiAgICAgICAgfSBdXG4gICAgfSxcbiAgICByb3VuZGVkQmV2ZWw6IHtcbiAgICAgICAgdHlwZTogUkFESUFMLFxuICAgICAgICBzdG9wczogWyB7XG4gICAgICAgICAgICBvZmZzZXQ6IDAuMzMsXG4gICAgICAgICAgICBjb2xvcjogV0hJVEUsXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjA2XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG9mZnNldDogMC44MyxcbiAgICAgICAgICAgIGNvbG9yOiBXSElURSxcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuMlxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBvZmZzZXQ6IDAuOTUsXG4gICAgICAgICAgICBjb2xvcjogV0hJVEUsXG4gICAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgIH0gXVxuICAgIH0sXG4gICAgcm91bmRlZEdsYXNzOiB7XG4gICAgICAgIHR5cGU6IFJBRElBTCxcbiAgICAgICAgc3VwcG9ydFZNTDogZmFsc2UsXG4gICAgICAgIHN0b3BzOiBbIHtcbiAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgIGNvbG9yOiBXSElURSxcbiAgICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgb2Zmc2V0OiAwLjUsXG4gICAgICAgICAgICBjb2xvcjogV0hJVEUsXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjNcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgb2Zmc2V0OiAwLjk5LFxuICAgICAgICAgICAgY29sb3I6IFdISVRFLFxuICAgICAgICAgICAgb3BhY2l0eTogMFxuICAgICAgICB9IF1cbiAgICB9LFxuICAgIHNoYXJwR2xhc3M6IHtcbiAgICAgICAgdHlwZTogUkFESUFMLFxuICAgICAgICBzdXBwb3J0Vk1MOiBmYWxzZSxcbiAgICAgICAgc3RvcHM6IFsge1xuICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgY29sb3I6IFdISVRFLFxuICAgICAgICAgICAgb3BhY2l0eTogMC4yXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG9mZnNldDogMC4xNSxcbiAgICAgICAgICAgIGNvbG9yOiBXSElURSxcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuMTVcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgb2Zmc2V0OiAwLjE3LFxuICAgICAgICAgICAgY29sb3I6IFdISVRFLFxuICAgICAgICAgICAgb3BhY2l0eTogMC4zNVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBvZmZzZXQ6IDAuODUsXG4gICAgICAgICAgICBjb2xvcjogV0hJVEUsXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjA1XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG9mZnNldDogMC44NyxcbiAgICAgICAgICAgIGNvbG9yOiBXSElURSxcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuMTVcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgb2Zmc2V0OiAwLjk5LFxuICAgICAgICAgICAgY29sb3I6IFdISVRFLFxuICAgICAgICAgICAgb3BhY2l0eTogMFxuICAgICAgICB9IF1cbiAgICB9LFxuICAgIGJ1YmJsZVNoYWRvdzoge1xuICAgICAgICB0eXBlOiBSQURJQUwsXG4gICAgICAgIGNlbnRlcjogWyAwLjUsIDAuNSBdLFxuICAgICAgICByYWRpdXM6IDAuNVxuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEdSQURJRU5UUzsiLCJpbXBvcnQgQm94IGZyb20gJy4uL2JveCc7XG5pbXBvcnQgeyBncmVwIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYm94RGlmZihyLCBzKSB7XG4gICAgaWYgKHIueDEgPT09IHMueDEgJiYgci55MSA9PT0gcy55MSAmJiByLngyID09PSBzLngyICYmIHIueTIgPT09IHMueTIpIHtcbiAgICAgICAgcmV0dXJuIHM7XG4gICAgfVxuXG4gICAgY29uc3QgYSA9IE1hdGgubWluKHIueDEsIHMueDEpO1xuICAgIGNvbnN0IGIgPSBNYXRoLm1heChyLngxLCBzLngxKTtcbiAgICBjb25zdCBjID0gTWF0aC5taW4oci54Miwgcy54Mik7XG4gICAgY29uc3QgZCA9IE1hdGgubWF4KHIueDIsIHMueDIpO1xuICAgIGNvbnN0IGUgPSBNYXRoLm1pbihyLnkxLCBzLnkxKTtcbiAgICBjb25zdCBmID0gTWF0aC5tYXgoci55MSwgcy55MSk7XG4gICAgY29uc3QgZyA9IE1hdGgubWluKHIueTIsIHMueTIpO1xuICAgIGNvbnN0IGggPSBNYXRoLm1heChyLnkyLCBzLnkyKTtcbiAgICBjb25zdCBib3hlcyA9IFtdO1xuXG4gICAgLy8gWCA9IGludGVyc2VjdGlvbiwgMC03ID0gcG9zc2libGUgZGlmZmVyZW5jZSBhcmVhc1xuICAgIC8vIGggKy0rLSstK1xuICAgIC8vIC4gfDV8Nnw3fFxuICAgIC8vIGcgKy0rLSstK1xuICAgIC8vIC4gfDN8WHw0fFxuICAgIC8vIGYgKy0rLSstK1xuICAgIC8vIC4gfDB8MXwyfFxuICAgIC8vIGUgKy0rLSstK1xuICAgIC8vIC4gYSBiIGMgZFxuXG4gICAgLy8gd2UnbGwgYWx3YXlzIGhhdmUgcmVjdGFuZ2xlcyAxLCAzLCA0IGFuZCA2XG4gICAgYm94ZXNbMF0gPSBuZXcgQm94KGIsIGUsIGMsIGYpO1xuICAgIGJveGVzWzFdID0gbmV3IEJveChhLCBmLCBiLCBnKTtcbiAgICBib3hlc1syXSA9IG5ldyBCb3goYywgZiwgZCwgZyk7XG4gICAgYm94ZXNbM10gPSBuZXcgQm94KGIsIGcsIGMsIGgpO1xuXG4gICAgLy8gZGVjaWRlIHdoaWNoIGNvcm5lcnNcbiAgICBpZiAoci54MSA9PT0gYSAmJiByLnkxID09PSBlIHx8IHMueDEgPT09IGEgJiYgcy55MSA9PT0gZSkgeyAvLyBjb3JuZXJzIDAgYW5kIDdcbiAgICAgICAgYm94ZXNbNF0gPSBuZXcgQm94KGEsIGUsIGIsIGYpO1xuICAgICAgICBib3hlc1s1XSA9IG5ldyBCb3goYywgZywgZCwgaCk7XG4gICAgfSBlbHNlIHsgLy8gY29ybmVycyAyIGFuZCA1XG4gICAgICAgIGJveGVzWzRdID0gbmV3IEJveChjLCBlLCBkLCBmKTtcbiAgICAgICAgYm94ZXNbNV0gPSBuZXcgQm94KGEsIGcsIGIsIGgpO1xuICAgIH1cblxuICAgIHJldHVybiBncmVwKGJveGVzLCBmdW5jdGlvbihib3gpIHtcbiAgICAgICAgcmV0dXJuIGJveC5oZWlnaHQoKSA+IDAgJiYgYm94LndpZHRoKCkgPiAwO1xuICAgIH0pWzBdO1xufSIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IENoYXJ0RWxlbWVudCBmcm9tICcuL2NoYXJ0LWVsZW1lbnQnO1xuaW1wb3J0IEdSQURJRU5UUyBmcm9tICcuL2dyYWRpZW50cyc7XG5pbXBvcnQgQm94IGZyb20gJy4vYm94JztcblxuaW1wb3J0IGJveERpZmYgZnJvbSAnLi91dGlscy9ib3gtZGlmZic7XG5cbmltcG9ydCB7IERFRkFVTFRfV0lEVEgsIERFRkFVTFRfSEVJR0hULCBXSElURSwgQkxBQ0sgfSBmcm9tICcuLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGdldFNwYWNpbmcsIG9iamVjdEtleSwgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi9jb21tb24nO1xuXG5jbGFzcyBSb290RWxlbWVudCBleHRlbmRzIENoYXJ0RWxlbWVudCB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcblxuICAgICAgICBjb25zdCByb290T3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgcm9vdE9wdGlvbnMud2lkdGggPSBwYXJzZUludChyb290T3B0aW9ucy53aWR0aCwgMTApO1xuICAgICAgICByb290T3B0aW9ucy5oZWlnaHQgPSBwYXJzZUludChyb290T3B0aW9ucy5oZWlnaHQsIDEwKTtcblxuICAgICAgICB0aGlzLmdyYWRpZW50cyA9IHt9O1xuICAgIH1cblxuICAgIHJlZmxvdygpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBjaGlsZHJlbiB9ID0gdGhpcztcbiAgICAgICAgbGV0IGN1cnJlbnRCb3ggPSBuZXcgQm94KDAsIDAsIG9wdGlvbnMud2lkdGgsIG9wdGlvbnMuaGVpZ2h0KTtcblxuICAgICAgICB0aGlzLmJveCA9IGN1cnJlbnRCb3gudW5wYWQob3B0aW9ucy5tYXJnaW4pO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNoaWxkcmVuW2ldLnJlZmxvdyhjdXJyZW50Qm94KTtcbiAgICAgICAgICAgIGN1cnJlbnRCb3ggPSBib3hEaWZmKGN1cnJlbnRCb3gsIGNoaWxkcmVuW2ldLmJveCkgfHwgbmV3IEJveCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlVmlzdWFsKCkge1xuICAgICAgICB0aGlzLnZpc3VhbCA9IG5ldyBkcmF3Lkdyb3VwKCk7XG4gICAgICAgIHRoaXMuY3JlYXRlQmFja2dyb3VuZCgpO1xuICAgIH1cblxuICAgIGNyZWF0ZUJhY2tncm91bmQoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGJvcmRlciA9IG9wdGlvbnMuYm9yZGVyIHx8IHt9O1xuICAgICAgICBjb25zdCBib3ggPSB0aGlzLmJveC5jbG9uZSgpLnBhZChvcHRpb25zLm1hcmdpbikudW5wYWQoYm9yZGVyLndpZHRoKTtcblxuICAgICAgICBjb25zdCBiYWNrZ3JvdW5kID0gZHJhdy5QYXRoLmZyb21SZWN0KGJveC50b1JlY3QoKSwge1xuICAgICAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IGJvcmRlci53aWR0aCA/IGJvcmRlci5jb2xvciA6IFwiXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IGJvcmRlci53aWR0aCxcbiAgICAgICAgICAgICAgICBkYXNoVHlwZTogYm9yZGVyLmRhc2hUeXBlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmlsbDoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBvcHRpb25zLmJhY2tncm91bmQsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogb3B0aW9ucy5vcGFjaXR5XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgekluZGV4OiAtMTBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy52aXN1YWwuYXBwZW5kKGJhY2tncm91bmQpO1xuICAgIH1cblxuICAgIGdldFJvb3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGNyZWF0ZUdyYWRpZW50KG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgZ3JhZGllbnRzID0gdGhpcy5ncmFkaWVudHM7XG4gICAgICAgIGNvbnN0IGhhc2hDb2RlID0gb2JqZWN0S2V5KG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBncmFkaWVudCA9IEdSQURJRU5UU1tvcHRpb25zLmdyYWRpZW50XTtcbiAgICAgICAgbGV0IGRyYXdpbmdHcmFkaWVudDtcblxuICAgICAgICBpZiAoZ3JhZGllbnRzW2hhc2hDb2RlXSkge1xuICAgICAgICAgICAgZHJhd2luZ0dyYWRpZW50ID0gZ3JhZGllbnRzW2hhc2hDb2RlXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGdyYWRpZW50T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIGdyYWRpZW50LCBvcHRpb25zKTtcbiAgICAgICAgICAgIGlmIChncmFkaWVudC50eXBlID09PSBcImxpbmVhclwiKSB7XG4gICAgICAgICAgICAgICAgZHJhd2luZ0dyYWRpZW50ID0gbmV3IGRyYXcuTGluZWFyR3JhZGllbnQoZ3JhZGllbnRPcHRpb25zKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuaW5uZXJSYWRpdXMpIHtcbiAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnRPcHRpb25zLnN0b3BzID0gaW5uZXJSYWRpYWxTdG9wcyhncmFkaWVudE9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkcmF3aW5nR3JhZGllbnQgPSBuZXcgZHJhdy5SYWRpYWxHcmFkaWVudChncmFkaWVudE9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGRyYXdpbmdHcmFkaWVudC5zdXBwb3J0Vk1MID0gZ3JhZGllbnQuc3VwcG9ydFZNTCAhPT0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBncmFkaWVudHNbaGFzaENvZGVdID0gZHJhd2luZ0dyYWRpZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRyYXdpbmdHcmFkaWVudDtcbiAgICB9XG5cbiAgICBjbGVhbkdyYWRpZW50cygpIHtcbiAgICAgICAgY29uc3QgZ3JhZGllbnRzID0gdGhpcy5ncmFkaWVudHM7XG4gICAgICAgIGZvciAobGV0IGhhc2hDb2RlIGluIGdyYWRpZW50cykge1xuICAgICAgICAgICAgZ3JhZGllbnRzW2hhc2hDb2RlXS5fb2JzZXJ2ZXJzID0gW107Ly9hZGQgY2xlYXIgb2JzZXJ2ZXJzIG1ldGhvZCBpbiBkcmF3aW5nIE9ic2VydmVyc01peGluXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzaXplKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICByZXR1cm4gbmV3IEJveCgwLCAwLCBvcHRpb25zLndpZHRoLCBvcHRpb25zLmhlaWdodCk7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhSb290RWxlbWVudCwge1xuICAgIHdpZHRoOiBERUZBVUxUX1dJRFRILFxuICAgIGhlaWdodDogREVGQVVMVF9IRUlHSFQsXG4gICAgYmFja2dyb3VuZDogV0hJVEUsXG4gICAgYm9yZGVyOiB7XG4gICAgICAgIGNvbG9yOiBCTEFDSyxcbiAgICAgICAgd2lkdGg6IDBcbiAgICB9LFxuICAgIG1hcmdpbjogZ2V0U3BhY2luZyg1KSxcbiAgICB6SW5kZXg6IC0yXG59KTtcblxuZnVuY3Rpb24gaW5uZXJSYWRpYWxTdG9wcyhvcHRpb25zKSB7XG4gICAgY29uc3Qgc3RvcHMgPSBvcHRpb25zLnN0b3BzO1xuICAgIGNvbnN0IHVzZWRTcGFjZSA9ICgob3B0aW9ucy5pbm5lclJhZGl1cyAvIG9wdGlvbnMucmFkaXVzKSAqIDEwMCk7XG4gICAgY29uc3QgbGVuZ3RoID0gc3RvcHMubGVuZ3RoO1xuICAgIGNvbnN0IGN1cnJlbnRTdG9wcyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgY3VycmVudFN0b3AgPSBPYmplY3QuYXNzaWduKHt9LCBzdG9wc1tpXSk7XG4gICAgICAgIGN1cnJlbnRTdG9wLm9mZnNldCA9IChjdXJyZW50U3RvcC5vZmZzZXQgKiAoMTAwIC0gdXNlZFNwYWNlKSArIHVzZWRTcGFjZSkgLyAxMDA7XG4gICAgICAgIGN1cnJlbnRTdG9wcy5wdXNoKGN1cnJlbnRTdG9wKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY3VycmVudFN0b3BzO1xufVxuXG5leHBvcnQgZGVmYXVsdCBSb290RWxlbWVudDsiLCJpbXBvcnQgQ2hhcnRFbGVtZW50IGZyb20gJy4vY2hhcnQtZWxlbWVudCc7XG5pbXBvcnQgQm94IGZyb20gJy4vYm94JztcblxuaW1wb3J0IHsgWCwgWSwgV0lEVEgsIEhFSUdIVCwgUklHSFQsIEJPVFRPTSwgQ0VOVEVSIH0gZnJvbSAnLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyByb3VuZCwgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi9jb21tb24nO1xuXG5jbGFzcyBGbG9hdEVsZW1lbnQgZXh0ZW5kcyBDaGFydEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX2luaXREaXJlY3Rpb24oKTtcbiAgICB9XG5cbiAgICBfaW5pdERpcmVjdGlvbigpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgaWYgKG9wdGlvbnMudmVydGljYWwpIHtcbiAgICAgICAgICAgIHRoaXMuZ3JvdXBBeGlzID0gWDtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudEF4aXMgPSBZO1xuICAgICAgICAgICAgdGhpcy5ncm91cFNpemVGaWVsZCA9IFdJRFRIO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50U2l6ZUZpZWxkID0gSEVJR0hUO1xuICAgICAgICAgICAgdGhpcy5ncm91cFNwYWNpbmcgPSBvcHRpb25zLnNwYWNpbmc7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRTcGFjaW5nID0gb3B0aW9ucy52U3BhY2luZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZ3JvdXBBeGlzID0gWTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudEF4aXMgPSBYO1xuICAgICAgICAgICAgdGhpcy5ncm91cFNpemVGaWVsZCA9IEhFSUdIVDtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudFNpemVGaWVsZCA9IFdJRFRIO1xuICAgICAgICAgICAgdGhpcy5ncm91cFNwYWNpbmcgPSBvcHRpb25zLnZTcGFjaW5nO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50U3BhY2luZyA9IG9wdGlvbnMuc3BhY2luZztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlZmxvdyh0YXJnZXRCb3gpIHtcbiAgICAgICAgdGhpcy5ib3ggPSB0YXJnZXRCb3guY2xvbmUoKTtcbiAgICAgICAgdGhpcy5yZWZsb3dDaGlsZHJlbigpO1xuICAgIH1cblxuICAgIHJlZmxvd0NoaWxkcmVuKCkge1xuICAgICAgICBjb25zdCB7IGJveCwgZWxlbWVudEF4aXMsIGdyb3VwQXhpcywgZWxlbWVudFNpemVGaWVsZCwgZ3JvdXBTaXplRmllbGQgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHsgZ3JvdXBzLCBncm91cHNTaXplLCBtYXhHcm91cEVsZW1lbnRzU2l6ZSB9ID0gdGhpcy5ncm91cE9wdGlvbnMoKTtcbiAgICAgICAgY29uc3QgZ3JvdXBzQ291bnQgPSBncm91cHMubGVuZ3RoO1xuICAgICAgICBjb25zdCBncm91cHNTdGFydCA9IGJveFtncm91cEF4aXMgKyAxXSArIHRoaXMuYWxpZ25TdGFydChncm91cHNTaXplLCBib3hbZ3JvdXBTaXplRmllbGRdKCkpO1xuXG4gICAgICAgIGlmIChncm91cHNDb3VudCkge1xuICAgICAgICAgICAgbGV0IGdyb3VwU3RhcnQgPSBncm91cHNTdGFydDtcblxuICAgICAgICAgICAgZm9yIChsZXQgZ3JvdXBJZHggPSAwOyBncm91cElkeCA8IGdyb3Vwc0NvdW50OyBncm91cElkeCsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGdyb3VwID0gZ3JvdXBzW2dyb3VwSWR4XTtcbiAgICAgICAgICAgICAgICBsZXQgZ3JvdXBFbGVtZW50cyA9IGdyb3VwLmdyb3VwRWxlbWVudHM7XG4gICAgICAgICAgICAgICAgbGV0IGVsZW1lbnRTdGFydCA9IGJveFtlbGVtZW50QXhpcyArIDFdO1xuICAgICAgICAgICAgICAgIGxldCBncm91cEVsZW1lbnRzQ291bnQgPSBncm91cEVsZW1lbnRzLmxlbmd0aDtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGdyb3VwRWxlbWVudHNDb3VudDsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSBncm91cEVsZW1lbnRzW2lkeF07XG4gICAgICAgICAgICAgICAgICAgIGxldCBlbGVtZW50U2l6ZSA9IHRoaXMuZWxlbWVudFNpemUoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBncm91cEVsZW1lbnRTdGFydCA9IGdyb3VwU3RhcnQgKyB0aGlzLmFsaWduU3RhcnQoZWxlbWVudFNpemVbZ3JvdXBTaXplRmllbGRdLCBncm91cC5ncm91cFNpemUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCBlbGVtZW50Qm94ID0gbmV3IEJveCgpO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50Qm94W2dyb3VwQXhpcyArIDFdID0gZ3JvdXBFbGVtZW50U3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRCb3hbZ3JvdXBBeGlzICsgMl0gPSBncm91cEVsZW1lbnRTdGFydCArIGVsZW1lbnRTaXplW2dyb3VwU2l6ZUZpZWxkXTtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudEJveFtlbGVtZW50QXhpcyArIDFdID0gZWxlbWVudFN0YXJ0O1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50Qm94W2VsZW1lbnRBeGlzICsgMl0gPSBlbGVtZW50U3RhcnQgKyBlbGVtZW50U2l6ZVtlbGVtZW50U2l6ZUZpZWxkXTtcblxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnJlZmxvdyhlbGVtZW50Qm94KTtcblxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50U3RhcnQgKz0gZWxlbWVudFNpemVbZWxlbWVudFNpemVGaWVsZF0gKyB0aGlzLmVsZW1lbnRTcGFjaW5nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBncm91cFN0YXJ0ICs9IGdyb3VwLmdyb3VwU2l6ZSArIHRoaXMuZ3JvdXBTcGFjaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYm94W2dyb3VwQXhpcyArIDFdID0gZ3JvdXBzU3RhcnQ7XG4gICAgICAgICAgICBib3hbZ3JvdXBBeGlzICsgMl0gPSBncm91cHNTdGFydCArIGdyb3Vwc1NpemU7XG4gICAgICAgICAgICBib3hbZWxlbWVudEF4aXMgKyAyXSA9IGJveFtlbGVtZW50QXhpcyArIDFdICsgbWF4R3JvdXBFbGVtZW50c1NpemU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhbGlnblN0YXJ0KHNpemUsIG1heFNpemUpIHtcbiAgICAgICAgbGV0IHN0YXJ0ID0gMDtcbiAgICAgICAgY29uc3QgYWxpZ24gPSB0aGlzLm9wdGlvbnMuYWxpZ247XG4gICAgICAgIGlmIChhbGlnbiA9PT0gUklHSFQgfHwgYWxpZ24gPT09IEJPVFRPTSkge1xuICAgICAgICAgICAgc3RhcnQgPSBtYXhTaXplIC0gc2l6ZTtcbiAgICAgICAgfSBlbHNlIGlmIChhbGlnbiA9PT0gQ0VOVEVSKSB7XG4gICAgICAgICAgICBzdGFydCA9IChtYXhTaXplIC0gc2l6ZSkgLyAyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGFydDtcbiAgICB9XG5cbiAgICBncm91cE9wdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IHsgYm94LCBjaGlsZHJlbiwgZWxlbWVudFNpemVGaWVsZCwgZ3JvdXBTaXplRmllbGQsIGVsZW1lbnRTcGFjaW5nLCBncm91cFNwYWNpbmcgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IG1heFNpemUgPSByb3VuZChib3hbZWxlbWVudFNpemVGaWVsZF0oKSk7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuQ291bnQgPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGdyb3VwcyA9IFtdO1xuXG4gICAgICAgIGxldCBncm91cFNpemUgPSAwO1xuICAgICAgICBsZXQgZ3JvdXBFbGVtZW50c1NpemUgPSAwO1xuICAgICAgICBsZXQgZ3JvdXBzU2l6ZSA9IDA7XG4gICAgICAgIGxldCBtYXhHcm91cEVsZW1lbnRzU2l6ZSA9IDA7XG4gICAgICAgIGxldCBncm91cEVsZW1lbnRzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgY2hpbGRyZW5Db3VudDsgaWR4KyspIHtcbiAgICAgICAgICAgIGxldCBlbGVtZW50ID0gY2hpbGRyZW5baWR4XTtcbiAgICAgICAgICAgIGlmICghZWxlbWVudC5ib3gpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnJlZmxvdyhib3gpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgZWxlbWVudFNpemUgPSB0aGlzLmVsZW1lbnRTaXplKGVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy53cmFwICYmIHJvdW5kKGdyb3VwRWxlbWVudHNTaXplICsgZWxlbWVudFNwYWNpbmcgKyBlbGVtZW50U2l6ZVtlbGVtZW50U2l6ZUZpZWxkXSkgPiBtYXhTaXplKSB7XG4gICAgICAgICAgICAgICAgZ3JvdXBzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBncm91cEVsZW1lbnRzOiBncm91cEVsZW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICBncm91cFNpemU6IGdyb3VwU2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBFbGVtZW50c1NpemU6IGdyb3VwRWxlbWVudHNTaXplXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbWF4R3JvdXBFbGVtZW50c1NpemUgPSBNYXRoLm1heChtYXhHcm91cEVsZW1lbnRzU2l6ZSwgZ3JvdXBFbGVtZW50c1NpemUpO1xuICAgICAgICAgICAgICAgIGdyb3Vwc1NpemUgKz0gZ3JvdXBTcGFjaW5nICsgZ3JvdXBTaXplO1xuICAgICAgICAgICAgICAgIGdyb3VwU2l6ZSA9IDA7XG4gICAgICAgICAgICAgICAgZ3JvdXBFbGVtZW50c1NpemUgPSAwO1xuICAgICAgICAgICAgICAgIGdyb3VwRWxlbWVudHMgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdyb3VwU2l6ZSA9IE1hdGgubWF4KGdyb3VwU2l6ZSwgZWxlbWVudFNpemVbZ3JvdXBTaXplRmllbGRdKTtcbiAgICAgICAgICAgIGlmIChncm91cEVsZW1lbnRzU2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICBncm91cEVsZW1lbnRzU2l6ZSArPSBlbGVtZW50U3BhY2luZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdyb3VwRWxlbWVudHNTaXplICs9IGVsZW1lbnRTaXplW2VsZW1lbnRTaXplRmllbGRdO1xuICAgICAgICAgICAgZ3JvdXBFbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ3JvdXBzLnB1c2goe1xuICAgICAgICAgICAgZ3JvdXBFbGVtZW50czogZ3JvdXBFbGVtZW50cyxcbiAgICAgICAgICAgIGdyb3VwU2l6ZTogZ3JvdXBTaXplLFxuICAgICAgICAgICAgZ3JvdXBFbGVtZW50c1NpemU6IGdyb3VwRWxlbWVudHNTaXplXG4gICAgICAgIH0pO1xuICAgICAgICBtYXhHcm91cEVsZW1lbnRzU2l6ZSA9IE1hdGgubWF4KG1heEdyb3VwRWxlbWVudHNTaXplLCBncm91cEVsZW1lbnRzU2l6ZSk7XG4gICAgICAgIGdyb3Vwc1NpemUgKz0gZ3JvdXBTaXplO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBncm91cHM6IGdyb3VwcyxcbiAgICAgICAgICAgIGdyb3Vwc1NpemU6IGdyb3Vwc1NpemUsXG4gICAgICAgICAgICBtYXhHcm91cEVsZW1lbnRzU2l6ZTogbWF4R3JvdXBFbGVtZW50c1NpemVcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBlbGVtZW50U2l6ZShlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aWR0aDogZWxlbWVudC5ib3gud2lkdGgoKSxcbiAgICAgICAgICAgIGhlaWdodDogZWxlbWVudC5ib3guaGVpZ2h0KClcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBjcmVhdGVWaXN1YWwoKSB7fVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhGbG9hdEVsZW1lbnQsIHtcbiAgICB2ZXJ0aWNhbDogdHJ1ZSxcbiAgICB3cmFwOiB0cnVlLFxuICAgIHZTcGFjaW5nOiAwLFxuICAgIHNwYWNpbmc6IDBcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBGbG9hdEVsZW1lbnQ7IiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgQ2hhcnRFbGVtZW50IGZyb20gJy4vY2hhcnQtZWxlbWVudCc7XG5pbXBvcnQgQm94IGZyb20gJy4vYm94JztcblxuaW1wb3J0IHsgREVGQVVMVF9GT05ULCBCTEFDSyB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi9jb21tb24nO1xuXG5jb25zdCBEcmF3aW5nVGV4dCA9IGRyYXcuVGV4dDtcblxuY2xhc3MgVGV4dCBleHRlbmRzIENoYXJ0RWxlbWVudCB7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZW50LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIHNpemVcbiAgICAgICAgdGhpcy5yZWZsb3cobmV3IEJveCgpKTtcbiAgICB9XG5cbiAgICByZWZsb3codGFyZ2V0Qm94KSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHNpemUgPSBvcHRpb25zLnNpemUgPSBkcmF3LnV0aWwubWVhc3VyZVRleHQodGhpcy5jb250ZW50LCB7IGZvbnQ6IG9wdGlvbnMuZm9udCB9KTtcblxuICAgICAgICB0aGlzLmJhc2VsaW5lID0gc2l6ZS5iYXNlbGluZTtcblxuICAgICAgICB0aGlzLmJveCA9IG5ldyBCb3godGFyZ2V0Qm94LngxLCB0YXJnZXRCb3gueTEsXG4gICAgICAgICAgICAgICAgdGFyZ2V0Qm94LngxICsgc2l6ZS53aWR0aCwgdGFyZ2V0Qm94LnkxICsgc2l6ZS5oZWlnaHQpO1xuICAgIH1cblxuICAgIGNyZWF0ZVZpc3VhbCgpIHtcbiAgICAgICAgY29uc3QgeyBmb250LCBjb2xvciwgb3BhY2l0eSwgY3Vyc29yIH0gPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgdGhpcy52aXN1YWwgPSBuZXcgRHJhd2luZ1RleHQodGhpcy5jb250ZW50LCB0aGlzLmJveC50b1JlY3QoKS50b3BMZWZ0KCksIHtcbiAgICAgICAgICAgIGZvbnQ6IGZvbnQsXG4gICAgICAgICAgICBmaWxsOiB7IGNvbG9yOiBjb2xvciwgb3BhY2l0eTogb3BhY2l0eSB9LFxuICAgICAgICAgICAgY3Vyc29yOiBjdXJzb3JcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhUZXh0LCB7XG4gICAgZm9udDogREVGQVVMVF9GT05ULFxuICAgIGNvbG9yOiBCTEFDS1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFRleHQ7XG4iLCJpbXBvcnQgQm94IGZyb20gJy4uL2JveCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlY3RUb0JveChyZWN0KSB7XG4gICAgY29uc3Qgb3JpZ2luID0gcmVjdC5vcmlnaW47XG4gICAgY29uc3QgYm90dG9tUmlnaHQgPSByZWN0LmJvdHRvbVJpZ2h0KCk7XG5cbiAgICByZXR1cm4gbmV3IEJveChvcmlnaW4ueCwgb3JpZ2luLnksIGJvdHRvbVJpZ2h0LngsIGJvdHRvbVJpZ2h0LnkpO1xufSIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdywgZ2VvbWV0cnkgYXMgZ2VvbSB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IEJveEVsZW1lbnQgZnJvbSAnLi9ib3gtZWxlbWVudCc7XG5pbXBvcnQgRmxvYXRFbGVtZW50IGZyb20gJy4vZmxvYXQtZWxlbWVudCc7XG5pbXBvcnQgVGV4dCBmcm9tICcuL3RleHQnO1xuaW1wb3J0IEJveCBmcm9tICcuL2JveCc7XG5cbmltcG9ydCByZWN0VG9Cb3ggZnJvbSAnLi91dGlscy9yZWN0LXRvLWJveCc7XG5cbmltcG9ydCB7IGdldFNwYWNpbmcsIGRlZXBFeHRlbmQsIGRlZmluZWQgfSBmcm9tICcuLi9jb21tb24nO1xuaW1wb3J0IHsgWCwgWSB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuXG5jb25zdCBST1dTX1NQTElUX1JFR0VYID0gL1xcbi9tO1xuXG5jbGFzcyBUZXh0Qm94IGV4dGVuZHMgQm94RWxlbWVudCB7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZW50LCBvcHRpb25zLCBkYXRhKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmNvbnRlbnQgPSBjb250ZW50O1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuXG4gICAgICAgIHRoaXMuX2luaXRDb250YWluZXIoKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5fYXV0b1JlZmxvdyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMucmVmbG93KG5ldyBCb3goKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfaW5pdENvbnRhaW5lcigpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3Qgcm93cyA9IFN0cmluZyh0aGlzLmNvbnRlbnQpLnNwbGl0KFJPV1NfU1BMSVRfUkVHRVgpO1xuICAgICAgICBjb25zdCBmbG9hdEVsZW1lbnQgPSBuZXcgRmxvYXRFbGVtZW50KHsgdmVydGljYWw6IHRydWUsIGFsaWduOiBvcHRpb25zLmFsaWduLCB3cmFwOiBmYWxzZSB9KTtcbiAgICAgICAgY29uc3QgdGV4dE9wdGlvbnMgPSBkZWVwRXh0ZW5kKHsgfSwgb3B0aW9ucywgeyBvcGFjaXR5OiAxLCBhbmltYXRpb246IG51bGwgfSk7XG5cbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBmbG9hdEVsZW1lbnQ7XG4gICAgICAgIHRoaXMuYXBwZW5kKGZsb2F0RWxlbWVudCk7XG5cbiAgICAgICAgZm9yIChsZXQgcm93SWR4ID0gMDsgcm93SWR4IDwgcm93cy5sZW5ndGg7IHJvd0lkeCsrKSB7XG4gICAgICAgICAgICBsZXQgdGV4dCA9IG5ldyBUZXh0KHJvd3Nbcm93SWR4XS50cmltKCksIHRleHRPcHRpb25zKTtcbiAgICAgICAgICAgIGZsb2F0RWxlbWVudC5hcHBlbmQodGV4dCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWZsb3codGFyZ2V0Qm94KSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHZpc3VhbEZuID0gb3B0aW9ucy52aXN1YWw7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLm9wdGlvbnMuYWxpZ24gPSBvcHRpb25zLmFsaWduO1xuXG4gICAgICAgIGlmICh2aXN1YWxGbiAmJiAhdGhpcy5fYm94UmVmbG93KSB7XG4gICAgICAgICAgICBsZXQgdmlzdWFsQm94ID0gdGFyZ2V0Qm94O1xuICAgICAgICAgICAgaWYgKCF2aXN1YWxCb3guaGFzU2l6ZSgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm94UmVmbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZmxvdyh2aXN1YWxCb3gpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2JveFJlZmxvdyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZpc3VhbEJveCA9IHRoaXMuYm94O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdmlzdWFsID0gdGhpcy52aXN1YWwgPSB2aXN1YWxGbih0aGlzLnZpc3VhbENvbnRleHQodmlzdWFsQm94KSk7XG5cbiAgICAgICAgICAgIGlmICh2aXN1YWwpIHtcbiAgICAgICAgICAgICAgICB2aXN1YWxCb3ggPSByZWN0VG9Cb3godmlzdWFsLmNsaXBwZWRCQm94KCkgfHwgbmV3IGdlb20uUmVjdCgpKTtcblxuICAgICAgICAgICAgICAgIHZpc3VhbC5vcHRpb25zLnpJbmRleCA9IG9wdGlvbnMuekluZGV4O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmJveCA9IHRoaXMuY29udGVudEJveCA9IHRoaXMucGFkZGluZ0JveCA9IHZpc3VhbEJveDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN1cGVyLnJlZmxvdyh0YXJnZXRCb3gpO1xuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5yb3RhdGlvbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hcmdpbiA9IGdldFNwYWNpbmcob3B0aW9ucy5tYXJnaW4pO1xuICAgICAgICAgICAgICAgIGxldCBib3ggPSB0aGlzLmJveC51bnBhZChtYXJnaW4pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXRCb3ggPSB0YXJnZXRCb3g7XG4gICAgICAgICAgICAgICAgdGhpcy5ub3JtYWxCb3ggPSBib3guY2xvbmUoKTtcblxuICAgICAgICAgICAgICAgIGJveCA9IHRoaXMucm90YXRlKCk7XG4gICAgICAgICAgICAgICAgYm94LnRyYW5zbGF0ZShtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodCwgbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b20pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5yb3RhdGVkQm94ID0gYm94LmNsb25lKCk7XG5cbiAgICAgICAgICAgICAgICBib3gucGFkKG1hcmdpbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVWaXN1YWwoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgdGhpcy52aXN1YWwgPSBuZXcgZHJhdy5Hcm91cCh7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRoaXMucm90YXRpb25UcmFuc2Zvcm0oKSxcbiAgICAgICAgICAgIHpJbmRleDogb3B0aW9ucy56SW5kZXgsXG4gICAgICAgICAgICBub2NsaXA6IG9wdGlvbnMubm9jbGlwXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLmhhc0JveCgpKSB7XG4gICAgICAgICAgICBjb25zdCBib3ggPSBkcmF3LlBhdGguZnJvbVJlY3QodGhpcy5wYWRkaW5nQm94LnRvUmVjdCgpLCB0aGlzLnZpc3VhbFN0eWxlKCkpO1xuICAgICAgICAgICAgdGhpcy52aXN1YWwuYXBwZW5kKGJveCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXJWaXN1YWwoKSB7XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLnZpc2libGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudmlzdWFsKSB7XG4gICAgICAgICAgICBjb25zdCB2aXN1YWwgPSB0aGlzLnZpc3VhbDtcbiAgICAgICAgICAgIGlmICh2aXN1YWwgJiYgIWRlZmluZWQodmlzdWFsLm9wdGlvbnMubm9jbGlwKSkge1xuICAgICAgICAgICAgICAgIHZpc3VhbC5vcHRpb25zLm5vY2xpcCA9IHRoaXMub3B0aW9ucy5ub2NsaXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmFkZFZpc3VhbCgpO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVBbmltYXRpb24oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN1cGVyLnJlbmRlclZpc3VhbCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmlzdWFsQ29udGV4dCh0YXJnZXRCb3gpIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHtcbiAgICAgICAgICAgIHRleHQ6IHRoaXMuY29udGVudCxcbiAgICAgICAgICAgIHJlY3Q6IHRhcmdldEJveC50b1JlY3QoKSxcbiAgICAgICAgICAgIHNlbmRlcjogdGhpcy5nZXRTZW5kZXIoKSxcbiAgICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICAgIGNyZWF0ZVZpc3VhbDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JveFJlZmxvdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZsb3codGFyZ2V0Qm94KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3hSZWZsb3cgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXREZWZhdWx0VmlzdWFsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLmRhdGEpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY29udGV4dCwgdGhpcy5kYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb250ZXh0O1xuICAgIH1cblxuICAgIGdldERlZmF1bHRWaXN1YWwoKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlVmlzdWFsKCk7XG4gICAgICAgIHRoaXMucmVuZGVyQ2hpbGRyZW4oKTtcbiAgICAgICAgY29uc3QgdmlzdWFsID0gdGhpcy52aXN1YWw7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnZpc3VhbDtcbiAgICAgICAgcmV0dXJuIHZpc3VhbDtcbiAgICB9XG5cbiAgICByb3RhdGUoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHRoaXMuYm94LnJvdGF0ZShvcHRpb25zLnJvdGF0aW9uKTtcbiAgICAgICAgdGhpcy5hbGlnbih0aGlzLnRhcmdldEJveCwgWCwgb3B0aW9ucy5hbGlnbik7XG4gICAgICAgIHRoaXMuYWxpZ24odGhpcy50YXJnZXRCb3gsIFksIG9wdGlvbnMudkFsaWduKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYm94O1xuICAgIH1cblxuICAgIHJvdGF0aW9uVHJhbnNmb3JtKCkge1xuICAgICAgICBjb25zdCByb3RhdGlvbiA9IHRoaXMub3B0aW9ucy5yb3RhdGlvbjtcbiAgICAgICAgaWYgKCFyb3RhdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IHg6IGN4LCB5OiBjeSB9ID0gdGhpcy5ub3JtYWxCb3guY2VudGVyKCk7XG4gICAgICAgIGNvbnN0IGJveENlbnRlciA9IHRoaXMucm90YXRlZEJveC5jZW50ZXIoKTtcblxuICAgICAgICByZXR1cm4gZ2VvbS50cmFuc2Zvcm0oKVxuICAgICAgICAgICAgICAgICAgIC50cmFuc2xhdGUoYm94Q2VudGVyLnggLSBjeCwgYm94Q2VudGVyLnkgLSBjeSlcbiAgICAgICAgICAgICAgICAgICAucm90YXRlKHJvdGF0aW9uLCBbIGN4LCBjeSBdKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRleHRCb3g7IiwiaW1wb3J0IENoYXJ0RWxlbWVudCBmcm9tICcuL2NoYXJ0LWVsZW1lbnQnO1xuaW1wb3J0IFRleHRCb3ggZnJvbSAnLi90ZXh0LWJveCc7XG5cbmltcG9ydCB7IFgsIEJMQUNLLCBUT1AsIENFTlRFUiB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZ2V0U3BhY2luZywgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi9jb21tb24nO1xuXG5jbGFzcyBUaXRsZSBleHRlbmRzIENoYXJ0RWxlbWVudCB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcblxuICAgICAgICB0aGlzLmFwcGVuZChcbiAgICAgICAgICAgIG5ldyBUZXh0Qm94KHRoaXMub3B0aW9ucy50ZXh0LCBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wdGlvbnMsIHtcbiAgICAgICAgICAgICAgICB2QWxpZ246IHRoaXMub3B0aW9ucy5wb3NpdGlvblxuICAgICAgICAgICAgfSkpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcmVmbG93KHRhcmdldEJveCkge1xuICAgICAgICBzdXBlci5yZWZsb3codGFyZ2V0Qm94KTtcbiAgICAgICAgdGhpcy5ib3guc25hcFRvKHRhcmdldEJveCwgWCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGJ1aWxkVGl0bGUob3B0aW9ucywgcGFyZW50LCBkZWZhdWx0T3B0aW9ucykge1xuICAgICAgICBsZXQgdGl0bGVPcHRpb25zID0gb3B0aW9ucztcblxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHRpdGxlT3B0aW9ucyA9IHsgdGV4dDogb3B0aW9ucyB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdGl0bGVPcHRpb25zID0gT2JqZWN0LmFzc2lnbih7IHZpc2libGU6IHRydWUgfSwgZGVmYXVsdE9wdGlvbnMsIHRpdGxlT3B0aW9ucyk7XG5cbiAgICAgICAgbGV0IHRpdGxlO1xuICAgICAgICBpZiAodGl0bGVPcHRpb25zICYmIHRpdGxlT3B0aW9ucy52aXNpYmxlICYmIHRpdGxlT3B0aW9ucy50ZXh0KSB7XG4gICAgICAgICAgICB0aXRsZSA9IG5ldyBUaXRsZSh0aXRsZU9wdGlvbnMpO1xuICAgICAgICAgICAgcGFyZW50LmFwcGVuZCh0aXRsZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGl0bGU7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhUaXRsZSwge1xuICAgIGNvbG9yOiBCTEFDSyxcbiAgICBwb3NpdGlvbjogVE9QLFxuICAgIGFsaWduOiBDRU5URVIsXG4gICAgbWFyZ2luOiBnZXRTcGFjaW5nKDUpLFxuICAgIHBhZGRpbmc6IGdldFNwYWNpbmcoNSlcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBUaXRsZTsiLCJpbXBvcnQgeyBnZW9tZXRyeSBhcyBnZW9tIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgVGV4dEJveCBmcm9tICcuL3RleHQtYm94JztcbmltcG9ydCBCb3ggZnJvbSAnLi9ib3gnO1xuXG5pbXBvcnQgcmVjdFRvQm94IGZyb20gJy4vdXRpbHMvcmVjdC10by1ib3gnO1xuXG5pbXBvcnQgeyBBWElTX0xBQkVMX0NMSUNLLCBDRU5URVIsIFRPUCwgQk9UVE9NLCBMRUZULCBERUZBVUxUX1BSRUNJU0lPTiwgWCwgWSB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuXG5pbXBvcnQgeyBldmVudEVsZW1lbnQsIHJvdW5kLCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uL2NvbW1vbic7XG5cbmNsYXNzIEF4aXNMYWJlbCBleHRlbmRzIFRleHRCb3gge1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlLCB0ZXh0LCBpbmRleCwgZGF0YUl0ZW0sIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIodGV4dCwgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHRoaXMuZGF0YUl0ZW0gPSBkYXRhSXRlbTtcbiAgICAgICAgdGhpcy5yZWZsb3cobmV3IEJveCgpKTtcbiAgICB9XG5cbiAgICB2aXN1YWxDb250ZXh0KHRhcmdldEJveCkge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gc3VwZXIudmlzdWFsQ29udGV4dCh0YXJnZXRCb3gpO1xuXG4gICAgICAgIGNvbnRleHQudmFsdWUgPSB0aGlzLnZhbHVlO1xuICAgICAgICBjb250ZXh0LmRhdGFJdGVtID0gdGhpcy5kYXRhSXRlbTtcbiAgICAgICAgY29udGV4dC5mb3JtYXQgPSB0aGlzLm9wdGlvbnMuZm9ybWF0O1xuICAgICAgICBjb250ZXh0LmN1bHR1cmUgPSB0aGlzLm9wdGlvbnMuY3VsdHVyZTtcblxuICAgICAgICByZXR1cm4gY29udGV4dDtcbiAgICB9XG5cbiAgICBjbGljayh3aWRnZXQsIGUpIHtcblxuICAgICAgICB3aWRnZXQudHJpZ2dlcihBWElTX0xBQkVMX0NMSUNLLCB7XG4gICAgICAgICAgICBlbGVtZW50OiBldmVudEVsZW1lbnQoZSksXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy52YWx1ZSxcbiAgICAgICAgICAgIHRleHQ6IHRoaXMudGV4dCxcbiAgICAgICAgICAgIGluZGV4OiB0aGlzLmluZGV4LFxuICAgICAgICAgICAgZGF0YUl0ZW06IHRoaXMuZGF0YUl0ZW0sXG4gICAgICAgICAgICBheGlzOiB0aGlzLnBhcmVudC5vcHRpb25zXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJvdGF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hbGlnblJvdGF0aW9uICE9PSBDRU5URVIpIHtcbiAgICAgICAgICAgIGNvbnN0IGJveCA9IHRoaXMubm9ybWFsQm94LnRvUmVjdCgpO1xuICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gdGhpcy5yb3RhdGlvblRyYW5zZm9ybSgpO1xuXG4gICAgICAgICAgICB0aGlzLmJveCA9IHJlY3RUb0JveChib3guYmJveCh0cmFuc2Zvcm0ubWF0cml4KCkpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN1cGVyLnJvdGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuYm94O1xuICAgIH1cblxuICAgIHJvdGF0aW9uVHJhbnNmb3JtKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCByb3RhdGlvbiA9IG9wdGlvbnMucm90YXRpb247XG4gICAgICAgIGlmICghcm90YXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYWxpZ25Sb3RhdGlvbiA9PT0gQ0VOVEVSKSB7XG4gICAgICAgICAgICByZXR1cm4gc3VwZXIucm90YXRpb25UcmFuc2Zvcm0oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJvdGF0aW9uTWF0cml4ID0gZ2VvbS50cmFuc2Zvcm0oKS5yb3RhdGUocm90YXRpb24pLm1hdHJpeCgpO1xuICAgICAgICBjb25zdCBib3ggPSB0aGlzLm5vcm1hbEJveC50b1JlY3QoKTtcbiAgICAgICAgY29uc3QgcmVjdCA9IHRoaXMudGFyZ2V0Qm94LnRvUmVjdCgpO1xuXG4gICAgICAgIGNvbnN0IHJvdGF0aW9uT3JpZ2luID0gb3B0aW9ucy5yb3RhdGlvbk9yaWdpbiB8fCBUT1A7XG4gICAgICAgIGNvbnN0IGFsaWduQXhpcyA9IHJvdGF0aW9uT3JpZ2luID09PSBUT1AgfHwgcm90YXRpb25PcmlnaW4gPT09IEJPVFRPTSA/IFggOiBZO1xuICAgICAgICBjb25zdCBkaXN0YW5jZUF4aXMgPSByb3RhdGlvbk9yaWdpbiA9PT0gVE9QIHx8IHJvdGF0aW9uT3JpZ2luID09PSBCT1RUT00gPyBZIDogWDtcbiAgICAgICAgY29uc3QgYXhpc0FuY2hvciA9IHJvdGF0aW9uT3JpZ2luID09PSBUT1AgfHwgcm90YXRpb25PcmlnaW4gPT09IExFRlQgPyByZWN0Lm9yaWdpbiA6IHJlY3QuYm90dG9tUmlnaHQoKTtcblxuICAgICAgICBjb25zdCB0b3BMZWZ0ID0gYm94LnRvcExlZnQoKS50cmFuc2Zvcm1Db3B5KHJvdGF0aW9uTWF0cml4KTtcbiAgICAgICAgY29uc3QgdG9wUmlnaHQgPSBib3gudG9wUmlnaHQoKS50cmFuc2Zvcm1Db3B5KHJvdGF0aW9uTWF0cml4KTtcbiAgICAgICAgY29uc3QgYm90dG9tUmlnaHQgPSBib3guYm90dG9tUmlnaHQoKS50cmFuc2Zvcm1Db3B5KHJvdGF0aW9uTWF0cml4KTtcbiAgICAgICAgY29uc3QgYm90dG9tTGVmdCA9IGJveC5ib3R0b21MZWZ0KCkudHJhbnNmb3JtQ29weShyb3RhdGlvbk1hdHJpeCk7XG4gICAgICAgIGNvbnN0IHJvdGF0ZWRCb3ggPSBnZW9tLlJlY3QuZnJvbVBvaW50cyh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tUmlnaHQsIGJvdHRvbUxlZnQpO1xuXG4gICAgICAgIGNvbnN0IHRyYW5zbGF0ZSA9IHtcbiAgICAgICAgICAgIFtkaXN0YW5jZUF4aXNdOiByZWN0Lm9yaWdpbltkaXN0YW5jZUF4aXNdIC0gcm90YXRlZEJveC5vcmlnaW5bZGlzdGFuY2VBeGlzXVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlTGVmdCA9IE1hdGguYWJzKHRvcExlZnRbZGlzdGFuY2VBeGlzXSArIHRyYW5zbGF0ZVtkaXN0YW5jZUF4aXNdIC0gYXhpc0FuY2hvcltkaXN0YW5jZUF4aXNdKTtcbiAgICAgICAgY29uc3QgZGlzdGFuY2VSaWdodCA9IE1hdGguYWJzKHRvcFJpZ2h0W2Rpc3RhbmNlQXhpc10gKyB0cmFuc2xhdGVbZGlzdGFuY2VBeGlzXSAtIGF4aXNBbmNob3JbZGlzdGFuY2VBeGlzXSk7XG5cbiAgICAgICAgbGV0IGFsaWduU3RhcnQsIGFsaWduRW5kO1xuXG4gICAgICAgIGlmIChyb3VuZChkaXN0YW5jZUxlZnQsIERFRkFVTFRfUFJFQ0lTSU9OKSA9PT0gcm91bmQoZGlzdGFuY2VSaWdodCwgREVGQVVMVF9QUkVDSVNJT04pKSB7XG4gICAgICAgICAgICBhbGlnblN0YXJ0ID0gdG9wTGVmdDtcbiAgICAgICAgICAgIGFsaWduRW5kID0gdG9wUmlnaHQ7XG4gICAgICAgIH0gZWxzZSBpZiAoZGlzdGFuY2VSaWdodCA8IGRpc3RhbmNlTGVmdCkge1xuICAgICAgICAgICAgYWxpZ25TdGFydCA9IHRvcFJpZ2h0O1xuICAgICAgICAgICAgYWxpZ25FbmQgPSBib3R0b21SaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFsaWduU3RhcnQgPSB0b3BMZWZ0O1xuICAgICAgICAgICAgYWxpZ25FbmQgPSBib3R0b21MZWZ0O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYWxpZ25DZW50ZXIgPSBhbGlnblN0YXJ0W2FsaWduQXhpc10gKyAoYWxpZ25FbmRbYWxpZ25BeGlzXSAtIGFsaWduU3RhcnRbYWxpZ25BeGlzXSkgLyAyO1xuICAgICAgICB0cmFuc2xhdGVbYWxpZ25BeGlzXSA9IHJlY3QuY2VudGVyKClbYWxpZ25BeGlzXSAtIGFsaWduQ2VudGVyO1xuXG4gICAgICAgIHJldHVybiBnZW9tLnRyYW5zZm9ybSgpXG4gICAgICAgICAgICAudHJhbnNsYXRlKHRyYW5zbGF0ZS54LCB0cmFuc2xhdGUueSlcbiAgICAgICAgICAgIC5yb3RhdGUocm90YXRpb24pO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoQXhpc0xhYmVsLCB7XG4gICAgX2F1dG9SZWZsb3c6IGZhbHNlXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgQXhpc0xhYmVsO1xuIiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgQm94RWxlbWVudCBmcm9tICcuL2JveC1lbGVtZW50JztcbmltcG9ydCBUZXh0Qm94IGZyb20gJy4vdGV4dC1ib3gnO1xuaW1wb3J0IFNoYXBlRWxlbWVudCBmcm9tICcuL3NoYXBlLWVsZW1lbnQnO1xuaW1wb3J0IEJveCBmcm9tICcuL2JveCc7XG5cbmltcG9ydCB7IENJUkNMRSwgVE9QLCBCT1RUT00sIExFRlQsIFJJR0hULCBDRU5URVIsIElOU0lERSwgT1VUU0lERSwgTk9URV9DTElDSywgTk9URV9IT1ZFUiwgTk9URV9MRUFWRSB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgYWxpZ25QYXRoVG9QaXhlbCwgZGVmaW5lZCwgZGVlcEV4dGVuZCwgZXZlbnRFbGVtZW50LCBnZXRUZW1wbGF0ZSwgaW5BcnJheSwgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi9jb21tb24nO1xuXG5jb25zdCBERUZBVUxUX0lDT05fU0laRSA9IDc7XG5jb25zdCBERUZBVUxUX0xBQkVMX0NPTE9SID0gXCIjZmZmXCI7XG5cbmNsYXNzIE5vdGUgZXh0ZW5kcyBCb3hFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMsIG9wdGlvbnMsIGNoYXJ0U2VydmljZSkge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcblxuICAgICAgICB0aGlzLmZpZWxkcyA9IGZpZWxkcztcbiAgICAgICAgdGhpcy5jaGFydFNlcnZpY2UgPSBjaGFydFNlcnZpY2U7XG5cbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICBoaWRlKCkge1xuICAgICAgICB0aGlzLm9wdGlvbnMudmlzaWJsZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHNob3coKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy52aXNpYmxlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMudmlzaWJsZSkge1xuICAgICAgICAgICAgY29uc3QgeyBsYWJlbCwgaWNvbiB9ID0gb3B0aW9ucztcbiAgICAgICAgICAgIGNvbnN0IGJveCA9IG5ldyBCb3goKTtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkQWxpYXMgPSAoKSA9PiB0aGlzO1xuICAgICAgICAgICAgbGV0IHNpemUgPSBpY29uLnNpemU7XG4gICAgICAgICAgICBsZXQgdGV4dCA9IHRoaXMuZmllbGRzLnRleHQ7XG4gICAgICAgICAgICBsZXQgd2lkdGgsIGhlaWdodDtcblxuICAgICAgICAgICAgaWYgKGRlZmluZWQobGFiZWwpICYmIGxhYmVsLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBub3RlVGVtcGxhdGUgPSBnZXRUZW1wbGF0ZShsYWJlbCk7XG4gICAgICAgICAgICAgICAgaWYgKG5vdGVUZW1wbGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gbm90ZVRlbXBsYXRlKHRoaXMuZmllbGRzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxhYmVsLmZvcm1hdCkge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gdGhpcy5jaGFydFNlcnZpY2UuZm9ybWF0LmF1dG8obGFiZWwuZm9ybWF0LCB0ZXh0KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIWxhYmVsLmNvbG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLmNvbG9yID0gbGFiZWwucG9zaXRpb24gPT09IElOU0lERSA/IERFRkFVTFRfTEFCRUxfQ09MT1IgOiBpY29uLmJhY2tncm91bmQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5sYWJlbCA9IG5ldyBUZXh0Qm94KHRleHQsIGRlZXBFeHRlbmQoe30sIGxhYmVsKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5sYWJlbC5hbGlhc0ZvciA9IGNoaWxkQWxpYXM7XG5cbiAgICAgICAgICAgICAgICBpZiAobGFiZWwucG9zaXRpb24gPT09IElOU0lERSAmJiAhZGVmaW5lZChzaXplKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaWNvbi50eXBlID09PSBDSVJDTEUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemUgPSBNYXRoLm1heCh0aGlzLmxhYmVsLmJveC53aWR0aCgpLCB0aGlzLmxhYmVsLmJveC5oZWlnaHQoKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IHRoaXMubGFiZWwuYm94LndpZHRoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSB0aGlzLmxhYmVsLmJveC5oZWlnaHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBib3gud3JhcCh0aGlzLmxhYmVsLmJveCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpY29uLndpZHRoID0gd2lkdGggfHwgc2l6ZSB8fCBERUZBVUxUX0lDT05fU0laRTtcbiAgICAgICAgICAgIGljb24uaGVpZ2h0ID0gaGVpZ2h0IHx8IHNpemUgfHwgREVGQVVMVF9JQ09OX1NJWkU7XG5cbiAgICAgICAgICAgIGNvbnN0IG1hcmtlciA9IG5ldyBTaGFwZUVsZW1lbnQoZGVlcEV4dGVuZCh7fSwgaWNvbikpO1xuICAgICAgICAgICAgbWFya2VyLmFsaWFzRm9yID0gY2hpbGRBbGlhcztcblxuICAgICAgICAgICAgdGhpcy5tYXJrZXIgPSBtYXJrZXI7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZChtYXJrZXIpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5sYWJlbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kKHRoaXMubGFiZWwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtYXJrZXIucmVmbG93KG5ldyBCb3goKSk7XG4gICAgICAgICAgICB0aGlzLndyYXBwZXJCb3ggPSBib3gud3JhcChtYXJrZXIuYm94KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlZmxvdyh0YXJnZXRCb3gpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBsYWJlbCwgbWFya2VyLCB3cmFwcGVyQm94IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSB0YXJnZXRCb3guY2VudGVyKCk7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IG9wdGlvbnMubGluZS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gb3B0aW9ucy5wb3NpdGlvbjtcblxuICAgICAgICAvLyBUT0RPOiBSZXZpZXdcbiAgICAgICAgaWYgKG9wdGlvbnMudmlzaWJsZSkge1xuICAgICAgICAgICAgbGV0IGxpbmVTdGFydCwgYm94LCBjb250ZW50Qm94O1xuXG4gICAgICAgICAgICBpZiAoaW5BcnJheShwb3NpdGlvbiwgWyBMRUZULCBSSUdIVCBdKSkge1xuICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbiA9PT0gTEVGVCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50Qm94ID0gd3JhcHBlckJveC5hbGlnblRvKHRhcmdldEJveCwgcG9zaXRpb24pLnRyYW5zbGF0ZSgtbGVuZ3RoLCB0YXJnZXRCb3guY2VudGVyKCkueSAtIHdyYXBwZXJCb3guY2VudGVyKCkueSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMubGluZS52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lU3RhcnQgPSBbIHRhcmdldEJveC54MSwgY2VudGVyLnkgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGluZVBvaW50cyA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lU3RhcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgWyBjb250ZW50Qm94LngyLCBjZW50ZXIueSBdXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYm94ID0gY29udGVudEJveC5jbG9uZSgpLndyYXBQb2ludChsaW5lU3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudEJveCA9IHdyYXBwZXJCb3guYWxpZ25Ubyh0YXJnZXRCb3gsIHBvc2l0aW9uKS50cmFuc2xhdGUobGVuZ3RoLCB0YXJnZXRCb3guY2VudGVyKCkueSAtIHdyYXBwZXJCb3guY2VudGVyKCkueSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMubGluZS52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lU3RhcnQgPSBbIHRhcmdldEJveC54MiwgY2VudGVyLnkgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGluZVBvaW50cyA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lU3RhcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgWyBjb250ZW50Qm94LngxLCBjZW50ZXIueSBdXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYm94ID0gY29udGVudEJveC5jbG9uZSgpLndyYXBQb2ludChsaW5lU3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24gPT09IEJPVFRPTSkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50Qm94ID0gd3JhcHBlckJveC5hbGlnblRvKHRhcmdldEJveCwgcG9zaXRpb24pLnRyYW5zbGF0ZSh0YXJnZXRCb3guY2VudGVyKCkueCAtIHdyYXBwZXJCb3guY2VudGVyKCkueCwgbGVuZ3RoKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5saW5lLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVTdGFydCA9IFsgY2VudGVyLngsIHRhcmdldEJveC55MiBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5lUG9pbnRzID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVTdGFydCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbIGNlbnRlci54LCBjb250ZW50Qm94LnkxIF1cbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICBib3ggPSBjb250ZW50Qm94LmNsb25lKCkud3JhcFBvaW50KGxpbmVTdGFydCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50Qm94ID0gd3JhcHBlckJveC5hbGlnblRvKHRhcmdldEJveCwgcG9zaXRpb24pLnRyYW5zbGF0ZSh0YXJnZXRCb3guY2VudGVyKCkueCAtIHdyYXBwZXJCb3guY2VudGVyKCkueCwgLWxlbmd0aCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMubGluZS52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lU3RhcnQgPSBbIGNlbnRlci54LCB0YXJnZXRCb3gueTEgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGluZVBvaW50cyA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lU3RhcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgWyBjZW50ZXIueCwgY29udGVudEJveC55MiBdXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYm94ID0gY29udGVudEJveC5jbG9uZSgpLndyYXBQb2ludChsaW5lU3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobWFya2VyKSB7XG4gICAgICAgICAgICAgICAgbWFya2VyLnJlZmxvdyhjb250ZW50Qm94KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGxhYmVsKSB7XG4gICAgICAgICAgICAgICAgbGFiZWwucmVmbG93KGNvbnRlbnRCb3gpO1xuICAgICAgICAgICAgICAgIGlmIChtYXJrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMubGFiZWwucG9zaXRpb24gPT09IE9VVFNJREUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsLmJveC5hbGlnblRvKG1hcmtlci5ib3gsIHBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsYWJlbC5yZWZsb3cobGFiZWwuYm94KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY29udGVudEJveCA9IGNvbnRlbnRCb3g7XG4gICAgICAgICAgICB0aGlzLnRhcmdldEJveCA9IHRhcmdldEJveDtcbiAgICAgICAgICAgIHRoaXMuYm94ID0gYm94IHx8IGNvbnRlbnRCb3g7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVWaXN1YWwoKSB7XG4gICAgICAgIHN1cGVyLmNyZWF0ZVZpc3VhbCgpO1xuICAgICAgICB0aGlzLnZpc3VhbC5vcHRpb25zLm5vY2xpcCA9IHRoaXMub3B0aW9ucy5ub2NsaXA7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy52aXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUxpbmUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlclZpc3VhbCgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgY3VzdG9tVmlzdWFsID0gb3B0aW9ucy52aXN1YWw7XG4gICAgICAgIGlmIChvcHRpb25zLnZpc2libGUgJiYgY3VzdG9tVmlzdWFsKSB7XG4gICAgICAgICAgICB0aGlzLnZpc3VhbCA9IGN1c3RvbVZpc3VhbChPYmplY3QuYXNzaWduKHRoaXMuZmllbGRzLCB7XG4gICAgICAgICAgICAgICAgc2VuZGVyOiB0aGlzLmdldFNlbmRlcigpLFxuICAgICAgICAgICAgICAgIHJlY3Q6IHRoaXMudGFyZ2V0Qm94LnRvUmVjdCgpLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogb3B0aW9ucy5iYWNrZ3JvdW5kLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXI6IG9wdGlvbnMuYmFja2dyb3VuZCxcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogb3B0aW9ucy5pY29uLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogb3B0aW9ucy5sYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgbGluZTogb3B0aW9ucy5saW5lLFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogb3B0aW9ucy5wb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogb3B0aW9ucy52aXNpYmxlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjcmVhdGVWaXN1YWw6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVWaXN1YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJDaGlsZHJlbigpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0VmlzdWFsID0gdGhpcy52aXN1YWw7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnZpc3VhbDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWaXN1YWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgdGhpcy5hZGRWaXN1YWwoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN1cGVyLnJlbmRlclZpc3VhbCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlTGluZSgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucy5saW5lO1xuXG4gICAgICAgIGlmICh0aGlzLmxpbmVQb2ludHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGggPSBkcmF3LlBhdGguZnJvbVBvaW50cyh0aGlzLmxpbmVQb2ludHMsIHtcbiAgICAgICAgICAgICAgICBzdHJva2U6IHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IG9wdGlvbnMuY29sb3IsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBvcHRpb25zLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICBkYXNoVHlwZTogb3B0aW9ucy5kYXNoVHlwZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBhbGlnblBhdGhUb1BpeGVsKHBhdGgpO1xuICAgICAgICAgICAgdGhpcy52aXN1YWwuYXBwZW5kKHBhdGgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xpY2sod2lkZ2V0LCBlKSB7XG4gICAgICAgIGNvbnN0IGFyZ3MgPSB0aGlzLmV2ZW50QXJncyhlKTtcblxuICAgICAgICBpZiAoIXdpZGdldC50cmlnZ2VyKE5PVEVfQ0xJQ0ssIGFyZ3MpKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvdmVyKHdpZGdldCwgZSkge1xuICAgICAgICBjb25zdCBhcmdzID0gdGhpcy5ldmVudEFyZ3MoZSk7XG5cbiAgICAgICAgaWYgKCF3aWRnZXQudHJpZ2dlcihOT1RFX0hPVkVSLCBhcmdzKSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb3V0KHdpZGdldCwgZSkge1xuICAgICAgICBjb25zdCBhcmdzID0gdGhpcy5ldmVudEFyZ3MoZSk7XG5cbiAgICAgICAgd2lkZ2V0LnRyaWdnZXIoTk9URV9MRUFWRSwgYXJncyk7XG4gICAgfVxuXG4gICAgZXZlbnRBcmdzKGUpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih0aGlzLmZpZWxkcywge1xuICAgICAgICAgICAgZWxlbWVudDogZXZlbnRFbGVtZW50KGUpLFxuICAgICAgICAgICAgdGV4dDogZGVmaW5lZChvcHRpb25zLmxhYmVsKSA/IG9wdGlvbnMubGFiZWwudGV4dCA6IFwiXCIsXG4gICAgICAgICAgICB2aXN1YWw6IHRoaXMudmlzdWFsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoTm90ZSwge1xuICAgIGljb246IHtcbiAgICAgICAgdmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgdHlwZTogQ0lSQ0xFXG4gICAgfSxcbiAgICBsYWJlbDoge1xuICAgICAgICBwb3NpdGlvbjogSU5TSURFLFxuICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICBhbGlnbjogQ0VOVEVSLFxuICAgICAgICB2QWxpZ246IENFTlRFUlxuICAgIH0sXG4gICAgbGluZToge1xuICAgICAgICB2aXNpYmxlOiB0cnVlXG4gICAgfSxcbiAgICB2aXNpYmxlOiB0cnVlLFxuICAgIHBvc2l0aW9uOiBUT1AsXG4gICAgekluZGV4OiAyXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgTm90ZTsiLCJpbXBvcnQgeyBkcmF3aW5nIGFzIGRyYXcgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCB7IGFsaWduUGF0aFRvUGl4ZWwgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVBeGlzVGljayhvcHRpb25zLCB0aWNrT3B0aW9ucykge1xuICAgIGNvbnN0IHsgdGlja1gsIHRpY2tZLCBwb3NpdGlvbiB9ID0gb3B0aW9ucztcblxuICAgIGNvbnN0IHRpY2sgPSBuZXcgZHJhdy5QYXRoKHtcbiAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICB3aWR0aDogdGlja09wdGlvbnMud2lkdGgsXG4gICAgICAgICAgICBjb2xvcjogdGlja09wdGlvbnMuY29sb3JcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKG9wdGlvbnMudmVydGljYWwpIHtcbiAgICAgICAgdGljay5tb3ZlVG8odGlja1gsIHBvc2l0aW9uKVxuICAgICAgICAgICAgLmxpbmVUbyh0aWNrWCArIHRpY2tPcHRpb25zLnNpemUsIHBvc2l0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aWNrLm1vdmVUbyhwb3NpdGlvbiwgdGlja1kpXG4gICAgICAgICAgICAubGluZVRvKHBvc2l0aW9uLCB0aWNrWSArIHRpY2tPcHRpb25zLnNpemUpO1xuICAgIH1cblxuICAgIGFsaWduUGF0aFRvUGl4ZWwodGljayk7XG5cbiAgICByZXR1cm4gdGljaztcbn0iLCJpbXBvcnQgeyBkcmF3aW5nIGFzIGRyYXcgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCB7IGFsaWduUGF0aFRvUGl4ZWwgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVBeGlzR3JpZExpbmUob3B0aW9ucywgZ3JpZExpbmUpIHtcbiAgICBjb25zdCB7IGxpbmVTdGFydCwgbGluZUVuZCwgcG9zaXRpb24gfSA9IG9wdGlvbnM7XG5cbiAgICBjb25zdCBsaW5lID0gbmV3IGRyYXcuUGF0aCh7XG4gICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgd2lkdGg6IGdyaWRMaW5lLndpZHRoLFxuICAgICAgICAgICAgY29sb3I6IGdyaWRMaW5lLmNvbG9yLFxuICAgICAgICAgICAgZGFzaFR5cGU6IGdyaWRMaW5lLmRhc2hUeXBlXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChvcHRpb25zLnZlcnRpY2FsKSB7XG4gICAgICAgIGxpbmUubW92ZVRvKGxpbmVTdGFydCwgcG9zaXRpb24pXG4gICAgICAgICAgICAubGluZVRvKGxpbmVFbmQsIHBvc2l0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBsaW5lLm1vdmVUbyhwb3NpdGlvbiwgbGluZVN0YXJ0KVxuICAgICAgICAgICAgLmxpbmVUbyhwb3NpdGlvbiwgbGluZUVuZCk7XG4gICAgfVxuXG4gICAgYWxpZ25QYXRoVG9QaXhlbChsaW5lKTtcblxuICAgIHJldHVybiBsaW5lO1xufSIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdywgZ2VvbWV0cnkgYXMgZ2VvbSB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IENoYXJ0RWxlbWVudCBmcm9tICcuL2NoYXJ0LWVsZW1lbnQnO1xuaW1wb3J0IFRleHRCb3ggZnJvbSAnLi90ZXh0LWJveCc7XG5pbXBvcnQgQXhpc0xhYmVsIGZyb20gJy4vYXhpcy1sYWJlbCc7XG5pbXBvcnQgTm90ZSBmcm9tICcuL25vdGUnO1xuaW1wb3J0IEJveCBmcm9tICcuL2JveCc7XG5pbXBvcnQgeyBDaGFydFNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcyc7XG5cbmltcG9ydCBjcmVhdGVBeGlzVGljayBmcm9tICcuL3V0aWxzL2NyZWF0ZS1heGlzLXRpY2snO1xuaW1wb3J0IGNyZWF0ZUF4aXNHcmlkTGluZSBmcm9tICcuL3V0aWxzL2NyZWF0ZS1heGlzLWdyaWQtbGluZSc7XG5cbmltcG9ydCB7IE5PTkUsIEJMQUNLLCBDRU5URVIsIFRPUCwgQk9UVE9NLCBMRUZULCBSSUdIVCwgT1VUU0lERSwgWCwgWSwgV0lEVEgsIEhFSUdIVCB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgYWxpZ25QYXRoVG9QaXhlbCwgZGVlcEV4dGVuZCwgZ2V0VGVtcGxhdGUsIGdyZXAsIGRlZmluZWQsIGlzT2JqZWN0LCBpbkFycmF5LCBsaW1pdFZhbHVlLCByb3VuZCwgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi9jb21tb24nO1xuXG5jbGFzcyBBeGlzIGV4dGVuZHMgQ2hhcnRFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zLCBjaGFydFNlcnZpY2UgPSBuZXcgQ2hhcnRTZXJ2aWNlKCkpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5jaGFydFNlcnZpY2UgPSBjaGFydFNlcnZpY2U7XG5cbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMudmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCB7XG4gICAgICAgICAgICAgICAgbGFiZWxzOiB7XG4gICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBsaW5lOiB7XG4gICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtYXJnaW46IDAsXG4gICAgICAgICAgICAgICAgbWFqb3JUaWNrU2l6ZTogMCxcbiAgICAgICAgICAgICAgICBtaW5vclRpY2tTaXplOiAwXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub3B0aW9ucy5taW5vclRpY2tzID0gZGVlcEV4dGVuZCh7fSwge1xuICAgICAgICAgICAgY29sb3I6IHRoaXMub3B0aW9ucy5saW5lLmNvbG9yLFxuICAgICAgICAgICAgd2lkdGg6IHRoaXMub3B0aW9ucy5saW5lLndpZHRoLFxuICAgICAgICAgICAgdmlzaWJsZTogdGhpcy5vcHRpb25zLm1pbm9yVGlja1R5cGUgIT09IE5PTkVcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zLm1pbm9yVGlja3MsIHtcbiAgICAgICAgICAgIHNpemU6IHRoaXMub3B0aW9ucy5taW5vclRpY2tTaXplLFxuICAgICAgICAgICAgYWxpZ246IHRoaXMub3B0aW9ucy5taW5vclRpY2tUeXBlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMub3B0aW9ucy5tYWpvclRpY2tzID0gZGVlcEV4dGVuZCh7fSwge1xuICAgICAgICAgICAgY29sb3I6IHRoaXMub3B0aW9ucy5saW5lLmNvbG9yLFxuICAgICAgICAgICAgd2lkdGg6IHRoaXMub3B0aW9ucy5saW5lLndpZHRoLFxuICAgICAgICAgICAgdmlzaWJsZTogdGhpcy5vcHRpb25zLm1ham9yVGlja1R5cGUgIT09IE5PTkVcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zLm1ham9yVGlja3MsIHtcbiAgICAgICAgICAgIHNpemU6IHRoaXMub3B0aW9ucy5tYWpvclRpY2tTaXplLFxuICAgICAgICAgICAgYWxpZ246IHRoaXMub3B0aW9ucy5tYWpvclRpY2tUeXBlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuaW5pdEZpZWxkcygpO1xuXG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLl9kZWZlckxhYmVscykge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVMYWJlbHMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY3JlYXRlVGl0bGUoKTtcbiAgICAgICAgdGhpcy5jcmVhdGVOb3RlcygpO1xuICAgIH1cblxuICAgIGluaXRGaWVsZHMoKSB7XG4gICAgfVxuXG4gICAgLy8gYWJzdHJhY3QgbGFiZWxzQ291bnQoKTogTnVtYmVyXG4gICAgLy8gYWJzdHJhY3QgY3JlYXRlQXhpc0xhYmVsKGluZGV4LCBvcHRpb25zKTogQXhpc0xhYmVsXG5cbiAgICBsYWJlbHNSYW5nZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbjogdGhpcy5vcHRpb25zLmxhYmVscy5za2lwLFxuICAgICAgICAgICAgbWF4OiB0aGlzLmxhYmVsc0NvdW50KClcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBjcmVhdGVMYWJlbHMoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGFsaWduID0gb3B0aW9ucy52ZXJ0aWNhbCA/IFJJR0hUIDogQ0VOVEVSO1xuICAgICAgICBjb25zdCBsYWJlbE9wdGlvbnMgPSBkZWVwRXh0ZW5kKHsgfSwgb3B0aW9ucy5sYWJlbHMsIHtcbiAgICAgICAgICAgIGFsaWduOiBhbGlnbixcbiAgICAgICAgICAgIHpJbmRleDogb3B0aW9ucy56SW5kZXhcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHN0ZXAgPSBNYXRoLm1heCgxLCBsYWJlbE9wdGlvbnMuc3RlcCk7XG5cbiAgICAgICAgdGhpcy5jbGVhckxhYmVscygpO1xuXG4gICAgICAgIGlmIChsYWJlbE9wdGlvbnMudmlzaWJsZSkge1xuICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSB0aGlzLmxhYmVsc1JhbmdlKCk7XG4gICAgICAgICAgICBjb25zdCByb3RhdGlvbiA9IGxhYmVsT3B0aW9ucy5yb3RhdGlvbjtcblxuICAgICAgICAgICAgaWYgKGlzT2JqZWN0KHJvdGF0aW9uKSkge1xuICAgICAgICAgICAgICAgIGxhYmVsT3B0aW9ucy5hbGlnblJvdGF0aW9uID0gcm90YXRpb24uYWxpZ247XG4gICAgICAgICAgICAgICAgbGFiZWxPcHRpb25zLnJvdGF0aW9uID0gcm90YXRpb24uYW5nbGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChsYWJlbE9wdGlvbnMucm90YXRpb24gPT09IFwiYXV0b1wiKSB7XG4gICAgICAgICAgICAgICAgbGFiZWxPcHRpb25zLnJvdGF0aW9uID0gMDtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmF1dG9Sb3RhdGVMYWJlbHMgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBpZHggPSByYW5nZS5taW47IGlkeCA8IHJhbmdlLm1heDsgaWR4ICs9IHN0ZXApIHtcbiAgICAgICAgICAgICAgICBsZXQgbGFiZWwgPSB0aGlzLmNyZWF0ZUF4aXNMYWJlbChpZHgsIGxhYmVsT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgaWYgKGxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kKGxhYmVsKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYWJlbHMucHVzaChsYWJlbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xlYXJMYWJlbHMoKSB7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBncmVwKHRoaXMuY2hpbGRyZW4sIGNoaWxkID0+ICEoY2hpbGQgaW5zdGFuY2VvZiBBeGlzTGFiZWwpKTtcbiAgICAgICAgdGhpcy5sYWJlbHMgPSBbXTtcbiAgICB9XG5cbiAgICBjbGVhclRpdGxlKCkge1xuICAgICAgICBpZiAodGhpcy50aXRsZSkge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbiA9IGdyZXAodGhpcy5jaGlsZHJlbiwgY2hpbGQgPT4gY2hpbGQgIT09IHRoaXMudGl0bGUpO1xuICAgICAgICAgICAgdGhpcy50aXRsZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLmNsZWFyTGFiZWxzKCk7XG4gICAgICAgIHRoaXMuY2xlYXJUaXRsZSgpO1xuICAgIH1cblxuICAgIGxpbmVCb3goKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgYm94IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB2ZXJ0aWNhbCA9IG9wdGlvbnMudmVydGljYWw7XG4gICAgICAgIGNvbnN0IG1pcnJvciA9IG9wdGlvbnMubGFiZWxzLm1pcnJvcjtcbiAgICAgICAgY29uc3QgYXhpc1ggPSBtaXJyb3IgPyBib3gueDEgOiBib3gueDI7XG4gICAgICAgIGNvbnN0IGF4aXNZID0gbWlycm9yID8gYm94LnkyIDogYm94LnkxO1xuICAgICAgICBjb25zdCBsaW5lV2lkdGggPSBvcHRpb25zLmxpbmUud2lkdGggfHwgMDtcblxuICAgICAgICByZXR1cm4gdmVydGljYWwgP1xuICAgICAgICAgICAgbmV3IEJveChheGlzWCwgYm94LnkxLCBheGlzWCwgYm94LnkyIC0gbGluZVdpZHRoKSA6XG4gICAgICAgICAgICBuZXcgQm94KGJveC54MSwgYXhpc1ksIGJveC54MiAtIGxpbmVXaWR0aCwgYXhpc1kpO1xuICAgIH1cblxuICAgIGNyZWF0ZVRpdGxlKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB0aXRsZU9wdGlvbnMgPSBkZWVwRXh0ZW5kKHtcbiAgICAgICAgICAgIHJvdGF0aW9uOiBvcHRpb25zLnZlcnRpY2FsID8gLTkwIDogMCxcbiAgICAgICAgICAgIHRleHQ6IFwiXCIsXG4gICAgICAgICAgICB6SW5kZXg6IDEsXG4gICAgICAgICAgICB2aXN1YWxTaXplOiB0cnVlXG4gICAgICAgIH0sIG9wdGlvbnMudGl0bGUpO1xuXG4gICAgICAgIGlmICh0aXRsZU9wdGlvbnMudmlzaWJsZSAmJiB0aXRsZU9wdGlvbnMudGV4dCkge1xuICAgICAgICAgICAgY29uc3QgdGl0bGUgPSBuZXcgVGV4dEJveCh0aXRsZU9wdGlvbnMudGV4dCwgdGl0bGVPcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kKHRpdGxlKTtcbiAgICAgICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZU5vdGVzKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBub3RlcyA9IG9wdGlvbnMubm90ZXM7XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gbm90ZXMuZGF0YSB8fCBbXTtcblxuICAgICAgICB0aGlzLm5vdGVzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IGRlZXBFeHRlbmQoe30sIG5vdGVzLCBpdGVtc1tpXSk7XG4gICAgICAgICAgICBpdGVtLnZhbHVlID0gdGhpcy5wYXJzZU5vdGVWYWx1ZShpdGVtLnZhbHVlKTtcblxuICAgICAgICAgICAgY29uc3Qgbm90ZSA9IG5ldyBOb3RlKHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogaXRlbS52YWx1ZSxcbiAgICAgICAgICAgICAgICB0ZXh0OiBpdGVtLmxhYmVsLnRleHQsXG4gICAgICAgICAgICAgICAgZGF0YUl0ZW06IGl0ZW1cbiAgICAgICAgICAgIH0sIGl0ZW0sIHRoaXMuY2hhcnRTZXJ2aWNlKTtcblxuICAgICAgICAgICAgaWYgKG5vdGUub3B0aW9ucy52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRlZmluZWQobm90ZS5vcHRpb25zLnBvc2l0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy52ZXJ0aWNhbCAmJiAhaW5BcnJheShub3RlLm9wdGlvbnMucG9zaXRpb24sIFsgTEVGVCwgUklHSFQgXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGUub3B0aW9ucy5wb3NpdGlvbiA9IG9wdGlvbnMucmV2ZXJzZSA/IExFRlQgOiBSSUdIVDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghb3B0aW9ucy52ZXJ0aWNhbCAmJiAhaW5BcnJheShub3RlLm9wdGlvbnMucG9zaXRpb24sIFsgVE9QLCBCT1RUT00gXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGUub3B0aW9ucy5wb3NpdGlvbiA9IG9wdGlvbnMucmV2ZXJzZSA/IEJPVFRPTSA6IFRPUDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub3RlLm9wdGlvbnMucG9zaXRpb24gPSBvcHRpb25zLnJldmVyc2UgPyBMRUZUIDogUklHSFQ7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub3RlLm9wdGlvbnMucG9zaXRpb24gPSBvcHRpb25zLnJldmVyc2UgPyBCT1RUT00gOiBUT1A7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBlbmQobm90ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5ub3Rlcy5wdXNoKG5vdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcGFyc2VOb3RlVmFsdWUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIHJlbmRlclZpc3VhbCgpIHtcbiAgICAgICAgc3VwZXIucmVuZGVyVmlzdWFsKCk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVQbG90QmFuZHMoKTtcbiAgICB9XG5cbiAgICBjcmVhdGVWaXN1YWwoKSB7XG4gICAgICAgIHN1cGVyLmNyZWF0ZVZpc3VhbCgpO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlQmFja2dyb3VuZCgpO1xuICAgICAgICB0aGlzLmNyZWF0ZUxpbmUoKTtcbiAgICB9XG5cbiAgICBncmlkTGluZXNWaXN1YWwoKSB7XG4gICAgICAgIGxldCBncmlkTGluZXMgPSB0aGlzLl9ncmlkTGluZXM7XG4gICAgICAgIGlmICghZ3JpZExpbmVzKSB7XG4gICAgICAgICAgICBncmlkTGluZXMgPSB0aGlzLl9ncmlkTGluZXMgPSBuZXcgZHJhdy5Hcm91cCh7XG4gICAgICAgICAgICAgICAgekluZGV4OiAtMlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZFZpc3VhbCh0aGlzLl9ncmlkTGluZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdyaWRMaW5lcztcbiAgICB9XG5cbiAgICBjcmVhdGVUaWNrcyhsaW5lR3JvdXApIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgbGluZUJveCA9IHRoaXMubGluZUJveCgpO1xuICAgICAgICBjb25zdCBtaXJyb3IgPSBvcHRpb25zLmxhYmVscy5taXJyb3I7XG4gICAgICAgIGNvbnN0IG1ham9yVW5pdCA9IG9wdGlvbnMubWFqb3JUaWNrcy52aXNpYmxlID8gb3B0aW9ucy5tYWpvclVuaXQgOiAwO1xuICAgICAgICBjb25zdCB0aWNrTGluZU9wdGlvbnMgPSB7XG4gICAgICAgICAgICAvLyBUT0RPXG4gICAgICAgICAgICAvLyBfYWxpZ25MaW5lczogb3B0aW9ucy5fYWxpZ25MaW5lcyxcbiAgICAgICAgICAgIHZlcnRpY2FsOiBvcHRpb25zLnZlcnRpY2FsXG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gcmVuZGVyKHRpY2tQb3NpdGlvbnMsIHRpY2tPcHRpb25zLCBza2lwVW5pdCkge1xuICAgICAgICAgICAgY29uc3QgY291bnQgPSB0aWNrUG9zaXRpb25zLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IHN0ZXAgPSBNYXRoLm1heCgxLCB0aWNrT3B0aW9ucy5zdGVwKTtcblxuICAgICAgICAgICAgaWYgKHRpY2tPcHRpb25zLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gdGlja09wdGlvbnMuc2tpcDsgaSA8IGNvdW50OyBpICs9IHN0ZXApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlZmluZWQoc2tpcFVuaXQpICYmIChpICUgc2tpcFVuaXQgPT09IDApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRpY2tMaW5lT3B0aW9ucy50aWNrWCA9IG1pcnJvciA/IGxpbmVCb3gueDIgOiBsaW5lQm94LngyIC0gdGlja09wdGlvbnMuc2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgdGlja0xpbmVPcHRpb25zLnRpY2tZID0gbWlycm9yID8gbGluZUJveC55MSAtIHRpY2tPcHRpb25zLnNpemUgOiBsaW5lQm94LnkxO1xuICAgICAgICAgICAgICAgICAgICB0aWNrTGluZU9wdGlvbnMucG9zaXRpb24gPSB0aWNrUG9zaXRpb25zW2ldO1xuXG4gICAgICAgICAgICAgICAgICAgIGxpbmVHcm91cC5hcHBlbmQoY3JlYXRlQXhpc1RpY2sodGlja0xpbmVPcHRpb25zLCB0aWNrT3B0aW9ucykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcih0aGlzLmdldE1ham9yVGlja1Bvc2l0aW9ucygpLCBvcHRpb25zLm1ham9yVGlja3MpO1xuICAgICAgICByZW5kZXIodGhpcy5nZXRNaW5vclRpY2tQb3NpdGlvbnMoKSwgb3B0aW9ucy5taW5vclRpY2tzLCBtYWpvclVuaXQgLyBvcHRpb25zLm1pbm9yVW5pdCk7XG4gICAgfVxuXG4gICAgY3JlYXRlTGluZSgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgbGluZSA9IG9wdGlvbnMubGluZTtcbiAgICAgICAgY29uc3QgbGluZUJveCA9IHRoaXMubGluZUJveCgpO1xuXG4gICAgICAgIGlmIChsaW5lLndpZHRoID4gMCAmJiBsaW5lLnZpc2libGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGggPSBuZXcgZHJhdy5QYXRoKHtcbiAgICAgICAgICAgICAgICBzdHJva2U6IHtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGxpbmUud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBsaW5lLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICBkYXNoVHlwZTogbGluZS5kYXNoVHlwZVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8qIFRPRE9cbiAgICAgICAgICAgICAgICB6SW5kZXg6IGxpbmUuekluZGV4LFxuICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcGF0aC5tb3ZlVG8obGluZUJveC54MSwgbGluZUJveC55MSlcbiAgICAgICAgICAgICAgICAubGluZVRvKGxpbmVCb3gueDIsIGxpbmVCb3gueTIpO1xuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5fYWxpZ25MaW5lcykge1xuICAgICAgICAgICAgICAgIGFsaWduUGF0aFRvUGl4ZWwocGF0aCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gdGhpcy5fbGluZUdyb3VwID0gbmV3IGRyYXcuR3JvdXAoKTtcbiAgICAgICAgICAgIGdyb3VwLmFwcGVuZChwYXRoKTtcblxuICAgICAgICAgICAgdGhpcy52aXN1YWwuYXBwZW5kKGdyb3VwKTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlVGlja3MoZ3JvdXApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0QWN0dWFsVGlja1NpemUoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGxldCB0aWNrU2l6ZSA9IDA7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMubWFqb3JUaWNrcy52aXNpYmxlICYmIG9wdGlvbnMubWlub3JUaWNrcy52aXNpYmxlKSB7XG4gICAgICAgICAgICB0aWNrU2l6ZSA9IE1hdGgubWF4KG9wdGlvbnMubWFqb3JUaWNrcy5zaXplLCBvcHRpb25zLm1pbm9yVGlja3Muc2l6ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5tYWpvclRpY2tzLnZpc2libGUpIHtcbiAgICAgICAgICAgIHRpY2tTaXplID0gb3B0aW9ucy5tYWpvclRpY2tzLnNpemU7XG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5taW5vclRpY2tzLnZpc2libGUpIHtcbiAgICAgICAgICAgIHRpY2tTaXplID0gb3B0aW9ucy5taW5vclRpY2tzLnNpemU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGlja1NpemU7XG4gICAgfVxuXG4gICAgY3JlYXRlQmFja2dyb3VuZCgpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBib3ggfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGJhY2tncm91bmQgPSBvcHRpb25zLmJhY2tncm91bmQ7XG5cbiAgICAgICAgaWYgKGJhY2tncm91bmQpIHtcbiAgICAgICAgICAgIHRoaXMuX2JhY2tncm91bmRQYXRoID0gZHJhdy5QYXRoLmZyb21SZWN0KGJveC50b1JlY3QoKSwge1xuICAgICAgICAgICAgICAgIGZpbGw6IHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IGJhY2tncm91bmRcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN0cm9rZTogbnVsbFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMudmlzdWFsLmFwcGVuZCh0aGlzLl9iYWNrZ3JvdW5kUGF0aCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVQbG90QmFuZHMoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHBsb3RCYW5kcyA9IG9wdGlvbnMucGxvdEJhbmRzIHx8IFtdO1xuICAgICAgICBjb25zdCB2ZXJ0aWNhbCA9IG9wdGlvbnMudmVydGljYWw7XG4gICAgICAgIGNvbnN0IHBsb3RBcmVhID0gdGhpcy5wbG90QXJlYTtcblxuICAgICAgICBpZiAocGxvdEJhbmRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZ3JvdXAgPSB0aGlzLl9wbG90YmFuZEdyb3VwID0gbmV3IGRyYXcuR3JvdXAoe1xuICAgICAgICAgICAgekluZGV4OiAtMVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBhbHRBeGlzID0gZ3JlcCh0aGlzLnBhbmUuYXhlcywgYXhpcyA9PiBheGlzLm9wdGlvbnMudmVydGljYWwgIT09IHRoaXMub3B0aW9ucy52ZXJ0aWNhbClbMF07XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgcGxvdEJhbmRzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGxldCBpdGVtID0gcGxvdEJhbmRzW2lkeF07XG4gICAgICAgICAgICBsZXQgc2xvdFgsIHNsb3RZO1xuXG4gICAgICAgICAgICBpZiAodmVydGljYWwpIHtcbiAgICAgICAgICAgICAgICBzbG90WCA9IChhbHRBeGlzIHx8IHBsb3RBcmVhLmF4aXNYKS5saW5lQm94KCk7XG4gICAgICAgICAgICAgICAgc2xvdFkgPSB0aGlzLmdldFNsb3QoaXRlbS5mcm9tLCBpdGVtLnRvLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2xvdFggPSB0aGlzLmdldFNsb3QoaXRlbS5mcm9tLCBpdGVtLnRvLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBzbG90WSA9IChhbHRBeGlzIHx8IHBsb3RBcmVhLmF4aXNZKS5saW5lQm94KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzbG90WC53aWR0aCgpICE9PSAwICYmIHNsb3RZLmhlaWdodCgpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmFuZFJlY3QgPSBuZXcgZ2VvbS5SZWN0KFxuICAgICAgICAgICAgICAgICAgICBbIHNsb3RYLngxLCBzbG90WS55MSBdLFxuICAgICAgICAgICAgICAgICAgICBbIHNsb3RYLndpZHRoKCksIHNsb3RZLmhlaWdodCgpIF1cbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IGRyYXcuUGF0aC5mcm9tUmVjdChiYW5kUmVjdCwge1xuICAgICAgICAgICAgICAgICAgICBmaWxsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogaXRlbS5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IGl0ZW0ub3BhY2l0eVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzdHJva2U6IG51bGxcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGdyb3VwLmFwcGVuZChwYXRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYXBwZW5kVmlzdWFsKGdyb3VwKTtcbiAgICB9XG5cbiAgICBjcmVhdGVHcmlkTGluZXMoYWx0QXhpcykge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB7IG1pbm9yR3JpZExpbmVzLCBtYWpvckdyaWRMaW5lcywgbWlub3JVbml0LCB2ZXJ0aWNhbCB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgYXhpc0xpbmVWaXNpYmxlID0gYWx0QXhpcy5vcHRpb25zLmxpbmUudmlzaWJsZTtcbiAgICAgICAgY29uc3QgbWFqb3JVbml0ID0gbWFqb3JHcmlkTGluZXMudmlzaWJsZSA/IG9wdGlvbnMubWFqb3JVbml0IDogMDtcbiAgICAgICAgY29uc3QgbGluZUJveCA9IGFsdEF4aXMubGluZUJveCgpO1xuICAgICAgICBjb25zdCBsaW5lUG9zID0gbGluZUJveFt2ZXJ0aWNhbCA/IFwieTFcIiA6IFwieDFcIl07XG4gICAgICAgIGNvbnN0IGxpbmVPcHRpb25zID0ge1xuICAgICAgICAgICAgbGluZVN0YXJ0OiBsaW5lQm94W3ZlcnRpY2FsID8gXCJ4MVwiIDogXCJ5MVwiXSxcbiAgICAgICAgICAgIGxpbmVFbmQ6IGxpbmVCb3hbdmVydGljYWwgPyBcIngyXCIgOiBcInkyXCJdLFxuICAgICAgICAgICAgdmVydGljYWw6IHZlcnRpY2FsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG1ham9yVGlja3MgPSBbXTtcblxuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmdyaWRMaW5lc1Zpc3VhbCgpO1xuXG4gICAgICAgIGZ1bmN0aW9uIHJlbmRlcih0aWNrUG9zaXRpb25zLCBncmlkTGluZSwgc2tpcFVuaXQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvdW50ID0gdGlja1Bvc2l0aW9ucy5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCBzdGVwID0gTWF0aC5tYXgoMSwgZ3JpZExpbmUuc3RlcCk7XG5cbiAgICAgICAgICAgIGlmIChncmlkTGluZS52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IGdyaWRMaW5lLnNraXA7IGkgPCBjb3VudDsgaSArPSBzdGVwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwb3MgPSByb3VuZCh0aWNrUG9zaXRpb25zW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpbkFycmF5KHBvcywgbWFqb3JUaWNrcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpICUgc2tpcFVuaXQgIT09IDAgJiYgKCFheGlzTGluZVZpc2libGUgfHwgbGluZVBvcyAhPT0gcG9zKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVPcHRpb25zLnBvc2l0aW9uID0gcG9zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmQoY3JlYXRlQXhpc0dyaWRMaW5lKGxpbmVPcHRpb25zLCBncmlkTGluZSkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFqb3JUaWNrcy5wdXNoKHBvcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXIodGhpcy5nZXRNYWpvclRpY2tQb3NpdGlvbnMoKSwgbWFqb3JHcmlkTGluZXMpO1xuICAgICAgICByZW5kZXIodGhpcy5nZXRNaW5vclRpY2tQb3NpdGlvbnMoKSwgbWlub3JHcmlkTGluZXMsIG1ham9yVW5pdCAvIG1pbm9yVW5pdCk7XG5cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lci5jaGlsZHJlbjtcbiAgICB9XG5cbiAgICByZWZsb3coYm94KSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgbGFiZWxzLCB0aXRsZSB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgdmVydGljYWwgPSBvcHRpb25zLnZlcnRpY2FsO1xuICAgICAgICBjb25zdCBjb3VudCA9IGxhYmVscy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHNpemVGbiA9IHZlcnRpY2FsID8gV0lEVEggOiBIRUlHSFQ7XG4gICAgICAgIGNvbnN0IHRpdGxlU2l6ZSA9IHRpdGxlID8gdGl0bGUuYm94W3NpemVGbl0oKSA6IDA7XG4gICAgICAgIGNvbnN0IHNwYWNlID0gdGhpcy5nZXRBY3R1YWxUaWNrU2l6ZSgpICsgb3B0aW9ucy5tYXJnaW4gKyB0aXRsZVNpemU7XG4gICAgICAgIGNvbnN0IHJvb3RCb3ggPSAodGhpcy5nZXRSb290KCkgfHwge30pLmJveCB8fCBib3g7XG4gICAgICAgIGNvbnN0IGJveFNpemUgPSByb290Qm94W3NpemVGbl0oKTtcbiAgICAgICAgbGV0IG1heExhYmVsU2l6ZSA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbGFiZWxTaXplID0gbGFiZWxzW2ldLmJveFtzaXplRm5dKCk7XG4gICAgICAgICAgICBpZiAobGFiZWxTaXplICsgc3BhY2UgPD0gYm94U2l6ZSkge1xuICAgICAgICAgICAgICAgIG1heExhYmVsU2l6ZSA9IE1hdGgubWF4KG1heExhYmVsU2l6ZSwgbGFiZWxTaXplKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2ZXJ0aWNhbCkge1xuICAgICAgICAgICAgdGhpcy5ib3ggPSBuZXcgQm94KFxuICAgICAgICAgICAgICAgIGJveC54MSwgYm94LnkxLFxuICAgICAgICAgICAgICAgIGJveC54MSArIG1heExhYmVsU2l6ZSArIHNwYWNlLCBib3gueTJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJveCA9IG5ldyBCb3goXG4gICAgICAgICAgICAgICAgYm94LngxLCBib3gueTEsXG4gICAgICAgICAgICAgICAgYm94LngyLCBib3gueTEgKyBtYXhMYWJlbFNpemUgKyBzcGFjZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYXJyYW5nZVRpdGxlKCk7XG4gICAgICAgIHRoaXMuYXJyYW5nZUxhYmVscygpO1xuICAgICAgICB0aGlzLmFycmFuZ2VOb3RlcygpO1xuICAgIH1cblxuICAgIGdldExhYmVsc1RpY2tQb3NpdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1ham9yVGlja1Bvc2l0aW9ucygpO1xuICAgIH1cblxuICAgIGxhYmVsVGlja0luZGV4KGxhYmVsKSB7XG4gICAgICAgIHJldHVybiBsYWJlbC5pbmRleDtcbiAgICB9XG5cbiAgICBhcnJhbmdlTGFiZWxzKCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIGxhYmVscyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgbGFiZWxzQmV0d2VlblRpY2tzID0gdGhpcy5sYWJlbHNCZXR3ZWVuVGlja3MoKTtcbiAgICAgICAgY29uc3QgdmVydGljYWwgPSBvcHRpb25zLnZlcnRpY2FsO1xuICAgICAgICBjb25zdCBsaW5lQm94ID0gdGhpcy5saW5lQm94KCk7XG4gICAgICAgIGNvbnN0IG1pcnJvciA9IG9wdGlvbnMubGFiZWxzLm1pcnJvcjtcbiAgICAgICAgY29uc3QgdGlja1Bvc2l0aW9ucyA9IHRoaXMuZ2V0TGFiZWxzVGlja1Bvc2l0aW9ucygpO1xuICAgICAgICBjb25zdCBsYWJlbE9mZnNldCA9IHRoaXMuZ2V0QWN0dWFsVGlja1NpemUoKSArIG9wdGlvbnMubWFyZ2luO1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGxhYmVscy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBsYWJlbCA9IGxhYmVsc1tpZHhdO1xuICAgICAgICAgICAgY29uc3QgdGlja0l4ID0gdGhpcy5sYWJlbFRpY2tJbmRleChsYWJlbCk7XG4gICAgICAgICAgICBjb25zdCBsYWJlbFNpemUgPSB2ZXJ0aWNhbCA/IGxhYmVsLmJveC5oZWlnaHQoKSA6IGxhYmVsLmJveC53aWR0aCgpO1xuICAgICAgICAgICAgbGV0IGxhYmVsUG9zID0gdGlja1Bvc2l0aW9uc1t0aWNrSXhdIC0gKGxhYmVsU2l6ZSAvIDIpO1xuICAgICAgICAgICAgbGV0IGxhYmVsQm94LCBmaXJzdFRpY2tQb3NpdGlvbiwgbmV4dFRpY2tQb3NpdGlvbjtcblxuICAgICAgICAgICAgaWYgKHZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxhYmVsc0JldHdlZW5UaWNrcykge1xuICAgICAgICAgICAgICAgICAgICBmaXJzdFRpY2tQb3NpdGlvbiA9IHRpY2tQb3NpdGlvbnNbdGlja0l4XTtcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRpY2tQb3NpdGlvbiA9IHRpY2tQb3NpdGlvbnNbdGlja0l4ICsgMV07XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IG1pZGRsZSA9IGZpcnN0VGlja1Bvc2l0aW9uICsgKG5leHRUaWNrUG9zaXRpb24gLSBmaXJzdFRpY2tQb3NpdGlvbikgLyAyO1xuICAgICAgICAgICAgICAgICAgICBsYWJlbFBvcyA9IG1pZGRsZSAtIChsYWJlbFNpemUgLyAyKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgbGFiZWxYID0gbGluZUJveC54MjtcblxuICAgICAgICAgICAgICAgIGlmIChtaXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxYICs9IGxhYmVsT2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICBsYWJlbC5vcHRpb25zLnJvdGF0aW9uT3JpZ2luID0gTEVGVDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbFggLT0gbGFiZWxPZmZzZXQgKyBsYWJlbC5ib3gud2lkdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwub3B0aW9ucy5yb3RhdGlvbk9yaWdpbiA9IFJJR0hUO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxhYmVsQm94ID0gbGFiZWwuYm94Lm1vdmUobGFiZWxYLCBsYWJlbFBvcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChsYWJlbHNCZXR3ZWVuVGlja3MpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlyc3RUaWNrUG9zaXRpb24gPSB0aWNrUG9zaXRpb25zW3RpY2tJeF07XG4gICAgICAgICAgICAgICAgICAgIG5leHRUaWNrUG9zaXRpb24gPSB0aWNrUG9zaXRpb25zW3RpY2tJeCArIDFdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0VGlja1Bvc2l0aW9uID0gbGFiZWxQb3M7XG4gICAgICAgICAgICAgICAgICAgIG5leHRUaWNrUG9zaXRpb24gPSBsYWJlbFBvcyArIGxhYmVsU2l6ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgbGFiZWxZID0gbGluZUJveC55MTtcblxuICAgICAgICAgICAgICAgIGlmIChtaXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxZIC09IGxhYmVsT2Zmc2V0ICsgbGFiZWwuYm94LmhlaWdodCgpO1xuICAgICAgICAgICAgICAgICAgICBsYWJlbC5vcHRpb25zLnJvdGF0aW9uT3JpZ2luID0gQk9UVE9NO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsWSArPSBsYWJlbE9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwub3B0aW9ucy5yb3RhdGlvbk9yaWdpbiA9IFRPUDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsYWJlbEJveCA9IG5ldyBCb3goZmlyc3RUaWNrUG9zaXRpb24sIGxhYmVsWSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFRpY2tQb3NpdGlvbiwgbGFiZWxZICsgbGFiZWwuYm94LmhlaWdodCgpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGFiZWwucmVmbG93KGxhYmVsQm94KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGF1dG9Sb3RhdGVMYWJlbHMoKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYXV0b1JvdGF0ZUxhYmVscyAmJiAhdGhpcy5vcHRpb25zLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICBjb25zdCB0aWNrUG9zaXRpb25zID0gdGhpcy5nZXRNYWpvclRpY2tQb3NpdGlvbnMoKTtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVscyA9IHRoaXMubGFiZWxzO1xuICAgICAgICAgICAgbGV0IGFuZ2xlO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBsYWJlbHMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gTWF0aC5hYnModGlja1Bvc2l0aW9uc1tpZHggKyAxXSAtIHRpY2tQb3NpdGlvbnNbaWR4XSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbGFiZWxCb3ggPSBsYWJlbHNbaWR4XS5ib3g7XG5cbiAgICAgICAgICAgICAgICBpZiAobGFiZWxCb3gud2lkdGgoKSA+IHdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsYWJlbEJveC5oZWlnaHQoKSA+IHdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmdsZSA9IC05MDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGFuZ2xlID0gLTQ1O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGFuZ2xlKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgbGFiZWxzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxzW2lkeF0ub3B0aW9ucy5yb3RhdGlvbiA9IGFuZ2xlO1xuICAgICAgICAgICAgICAgICAgICBsYWJlbHNbaWR4XS5yZWZsb3cobmV3IEJveCgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhcnJhbmdlVGl0bGUoKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgdGl0bGUgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IG1pcnJvciA9IG9wdGlvbnMubGFiZWxzLm1pcnJvcjtcbiAgICAgICAgY29uc3QgdmVydGljYWwgPSBvcHRpb25zLnZlcnRpY2FsO1xuXG4gICAgICAgIGlmICh0aXRsZSkge1xuICAgICAgICAgICAgaWYgKHZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgICAgdGl0bGUub3B0aW9ucy5hbGlnbiA9IG1pcnJvciA/IFJJR0hUIDogTEVGVDtcbiAgICAgICAgICAgICAgICB0aXRsZS5vcHRpb25zLnZBbGlnbiA9IHRpdGxlLm9wdGlvbnMucG9zaXRpb247XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRpdGxlLm9wdGlvbnMuYWxpZ24gPSB0aXRsZS5vcHRpb25zLnBvc2l0aW9uO1xuICAgICAgICAgICAgICAgIHRpdGxlLm9wdGlvbnMudkFsaWduID0gbWlycm9yID8gVE9QIDogQk9UVE9NO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aXRsZS5yZWZsb3codGhpcy5ib3gpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXJyYW5nZU5vdGVzKCkge1xuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCB0aGlzLm5vdGVzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLm5vdGVzW2lkeF07XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGl0ZW0ub3B0aW9ucy52YWx1ZTtcbiAgICAgICAgICAgIGxldCBzbG90O1xuXG4gICAgICAgICAgICBpZiAoZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zaG91bGRSZW5kZXJOb3RlKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBpdGVtLnNob3coKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpdGVtLmhpZGUoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzbG90ID0gdGhpcy5ub3RlU2xvdCh2YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGl0ZW0uaGlkZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpdGVtLnJlZmxvdyhzbG90IHx8IHRoaXMubGluZUJveCgpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5vdGVTbG90KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFNsb3QodmFsdWUpO1xuICAgIH1cblxuICAgIGFsaWduVG8oc2Vjb25kQXhpcykge1xuICAgICAgICBjb25zdCBsaW5lQm94ID0gc2Vjb25kQXhpcy5saW5lQm94KCk7XG4gICAgICAgIGNvbnN0IHZlcnRpY2FsID0gdGhpcy5vcHRpb25zLnZlcnRpY2FsO1xuICAgICAgICBjb25zdCBwb3MgPSB2ZXJ0aWNhbCA/IFkgOiBYO1xuXG4gICAgICAgIHRoaXMuYm94LnNuYXBUbyhsaW5lQm94LCBwb3MpO1xuICAgICAgICBpZiAodmVydGljYWwpIHtcbiAgICAgICAgICAgIHRoaXMuYm94LnNocmluaygwLCB0aGlzLmxpbmVCb3goKS5oZWlnaHQoKSAtIGxpbmVCb3guaGVpZ2h0KCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5ib3guc2hyaW5rKHRoaXMubGluZUJveCgpLndpZHRoKCkgLSBsaW5lQm94LndpZHRoKCksIDApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYm94W3BvcyArIDFdIC09IHRoaXMubGluZUJveCgpW3BvcyArIDFdIC0gbGluZUJveFtwb3MgKyAxXTtcbiAgICAgICAgdGhpcy5ib3hbcG9zICsgMl0gLT0gdGhpcy5saW5lQm94KClbcG9zICsgMl0gLSBsaW5lQm94W3BvcyArIDJdO1xuICAgIH1cblxuICAgIGF4aXNMYWJlbFRleHQodmFsdWUsIGRhdGFJdGVtLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHRtcGwgPSBnZXRUZW1wbGF0ZShvcHRpb25zKTtcbiAgICAgICAgbGV0IHRleHQgPSB2YWx1ZTtcblxuICAgICAgICBpZiAodG1wbCkge1xuICAgICAgICAgICAgdGV4dCA9IHRtcGwoeyB2YWx1ZTogdmFsdWUsIGRhdGFJdGVtOiBkYXRhSXRlbSwgZm9ybWF0OiBvcHRpb25zLmZvcm1hdCwgY3VsdHVyZTogb3B0aW9ucy5jdWx0dXJlIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuZm9ybWF0KSB7XG4gICAgICAgICAgICB0ZXh0ID0gdGhpcy5jaGFydFNlcnZpY2UuZm9ybWF0LmxvY2FsZUF1dG8ob3B0aW9ucy5mb3JtYXQsIFsgdmFsdWUgXSwgb3B0aW9ucy5jdWx0dXJlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH1cblxuICAgIHNsb3QoZnJvbSAsIHRvLCBsaW1pdCkge1xuICAgICAgICBjb25zdCBzbG90ID0gdGhpcy5nZXRTbG90KGZyb20sIHRvLCBsaW1pdCk7XG4gICAgICAgIGlmIChzbG90KSB7XG4gICAgICAgICAgICByZXR1cm4gc2xvdC50b1JlY3QoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnRlbnRCb3goKSB7XG4gICAgICAgIGNvbnN0IGJveCA9IHRoaXMuYm94LmNsb25lKCk7XG4gICAgICAgIGNvbnN0IGxhYmVscyA9IHRoaXMubGFiZWxzO1xuICAgICAgICBpZiAobGFiZWxzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgYXhpcyA9IHRoaXMub3B0aW9ucy52ZXJ0aWNhbCA/IFkgOiBYO1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hhcnRTZXJ2aWNlLmlzUGFubmFibGUoYXhpcykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSB0aGlzLm1heExhYmVsT2Zmc2V0KCk7XG4gICAgICAgICAgICAgICAgYm94W2F4aXMgKyAxXSAtPSBvZmZzZXQuc3RhcnQ7XG4gICAgICAgICAgICAgICAgYm94W2F4aXMgKyAyXSArPSBvZmZzZXQuZW5kO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAobGFiZWxzWzBdLm9wdGlvbnMudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICBib3gud3JhcChsYWJlbHNbMF0uYm94KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdExhYmVsID0gbGFiZWxzW2xhYmVscy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICBpZiAobGFzdExhYmVsLm9wdGlvbnMudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICBib3gud3JhcChsYXN0TGFiZWwuYm94KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYm94O1xuICAgIH1cblxuICAgIG1heExhYmVsT2Zmc2V0KCkge1xuICAgICAgICBjb25zdCB7IHZlcnRpY2FsLCByZXZlcnNlIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGxhYmVsc0JldHdlZW5UaWNrcyA9IHRoaXMubGFiZWxzQmV0d2VlblRpY2tzKCk7XG4gICAgICAgIGNvbnN0IHRpY2tQb3NpdGlvbnMgPSB0aGlzLmdldExhYmVsc1RpY2tQb3NpdGlvbnMoKTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0RmllbGQgPSB2ZXJ0aWNhbCA/IFkgOiBYO1xuICAgICAgICBjb25zdCBsYWJlbHMgPSB0aGlzLmxhYmVscztcbiAgICAgICAgY29uc3Qgc3RhcnRQb3NpdGlvbiA9IHJldmVyc2UgPyAxIDogMDtcbiAgICAgICAgY29uc3QgZW5kUG9zaXRpb24gPSByZXZlcnNlID8gMCA6IDE7XG4gICAgICAgIGxldCBtYXhTdGFydE9mZnNldCA9IDA7XG4gICAgICAgIGxldCBtYXhFbmRPZmZzZXQgPSAwO1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGxhYmVscy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBsYWJlbCA9IGxhYmVsc1tpZHhdO1xuICAgICAgICAgICAgY29uc3QgdGlja0l4ID0gdGhpcy5sYWJlbFRpY2tJbmRleChsYWJlbCk7XG4gICAgICAgICAgICBsZXQgc3RhcnRUaWNrLCBlbmRUaWNrO1xuXG4gICAgICAgICAgICBpZiAobGFiZWxzQmV0d2VlblRpY2tzKSB7XG4gICAgICAgICAgICAgICAgc3RhcnRUaWNrID0gdGlja1Bvc2l0aW9uc1t0aWNrSXggKyBzdGFydFBvc2l0aW9uXTtcbiAgICAgICAgICAgICAgICBlbmRUaWNrID0gdGlja1Bvc2l0aW9uc1t0aWNrSXggKyBlbmRQb3NpdGlvbl07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0YXJ0VGljayA9IGVuZFRpY2sgPSB0aWNrUG9zaXRpb25zW3RpY2tJeF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1heFN0YXJ0T2Zmc2V0ID0gTWF0aC5tYXgobWF4U3RhcnRPZmZzZXQsIHN0YXJ0VGljayAtIGxhYmVsLmJveFtvZmZzZXRGaWVsZCArIDFdKTtcbiAgICAgICAgICAgIG1heEVuZE9mZnNldCA9IE1hdGgubWF4KG1heEVuZE9mZnNldCwgbGFiZWwuYm94W29mZnNldEZpZWxkICsgMl0gLSBlbmRUaWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGFydDogbWF4U3RhcnRPZmZzZXQsXG4gICAgICAgICAgICBlbmQ6IG1heEVuZE9mZnNldFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGxpbWl0UmFuZ2UoZnJvbSwgdG8sIG1pbiwgbWF4LCBvZmZzZXQpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICBpZiAoKGZyb20gPCBtaW4gJiYgb2Zmc2V0IDwgMCAmJiAoIWRlZmluZWQob3B0aW9ucy5taW4pIHx8IG9wdGlvbnMubWluIDw9IG1pbikpIHx8IChtYXggPCB0byAmJiBvZmZzZXQgPiAwICYmICghZGVmaW5lZChvcHRpb25zLm1heCkgfHwgbWF4IDw9IG9wdGlvbnMubWF4KSkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCh0byA8IG1pbiAmJiBvZmZzZXQgPiAwKSB8fCAobWF4IDwgZnJvbSAmJiBvZmZzZXQgPCAwKSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtaW46IGZyb20sXG4gICAgICAgICAgICAgICAgbWF4OiB0b1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJhbmdlU2l6ZSA9IHRvIC0gZnJvbTtcbiAgICAgICAgbGV0IG1pblZhbHVlID0gZnJvbTtcbiAgICAgICAgbGV0IG1heFZhbHVlID0gdG87XG5cbiAgICAgICAgaWYgKGZyb20gPCBtaW4gJiYgb2Zmc2V0IDwgMCkge1xuICAgICAgICAgICAgbWluVmFsdWUgPSBsaW1pdFZhbHVlKGZyb20sIG1pbiwgbWF4KTtcbiAgICAgICAgICAgIG1heFZhbHVlID0gbGltaXRWYWx1ZShmcm9tICsgcmFuZ2VTaXplLCBtaW4gKyByYW5nZVNpemUsIG1heCk7XG4gICAgICAgIH0gZWxzZSBpZiAodG8gPiBtYXggJiYgb2Zmc2V0ID4gMCkge1xuICAgICAgICAgICAgbWF4VmFsdWUgPSBsaW1pdFZhbHVlKHRvLCBtaW4sIG1heCk7XG4gICAgICAgICAgICBtaW5WYWx1ZSA9IGxpbWl0VmFsdWUodG8gLSByYW5nZVNpemUsIG1pbiwgbWF4IC0gcmFuZ2VTaXplKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtaW46IG1pblZhbHVlLFxuICAgICAgICAgICAgbWF4OiBtYXhWYWx1ZVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhbHVlUmFuZ2UoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtaW46IHRoaXMuc2VyaWVzTWluLFxuICAgICAgICAgICAgbWF4OiB0aGlzLnNlcmllc01heFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGxhYmVsc0JldHdlZW5UaWNrcygpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLm9wdGlvbnMuanVzdGlmaWVkO1xuICAgIH1cblxuICAgIC8vYWRkIGxlZ2FjeSBmaWVsZHMgdG8gdGhlIG9wdGlvbnMgdGhhdCBhcmUgbm8gbG9uZ2VyIGdlbmVyYXRlZCBieSBkZWZhdWx0XG4gICAgcHJlcGFyZVVzZXJPcHRpb25zKCkge1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoQXhpcywge1xuICAgIGxhYmVsczoge1xuICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICByb3RhdGlvbjogMCxcbiAgICAgICAgbWlycm9yOiBmYWxzZSxcbiAgICAgICAgc3RlcDogMSxcbiAgICAgICAgc2tpcDogMFxuICAgIH0sXG4gICAgbGluZToge1xuICAgICAgICB3aWR0aDogMSxcbiAgICAgICAgY29sb3I6IEJMQUNLLFxuICAgICAgICB2aXNpYmxlOiB0cnVlXG4gICAgfSxcbiAgICB0aXRsZToge1xuICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICBwb3NpdGlvbjogQ0VOVEVSXG4gICAgfSxcbiAgICBtYWpvclRpY2tzOiB7XG4gICAgICAgIGFsaWduOiBPVVRTSURFLFxuICAgICAgICBzaXplOiA0LFxuICAgICAgICBza2lwOiAwLFxuICAgICAgICBzdGVwOiAxXG4gICAgfSxcbiAgICBtaW5vclRpY2tzOiB7XG4gICAgICAgIGFsaWduOiBPVVRTSURFLFxuICAgICAgICBzaXplOiAzLFxuICAgICAgICBza2lwOiAwLFxuICAgICAgICBzdGVwOiAxXG4gICAgfSxcbiAgICBheGlzQ3Jvc3NpbmdWYWx1ZTogMCxcbiAgICBtYWpvclRpY2tUeXBlOiBPVVRTSURFLFxuICAgIG1pbm9yVGlja1R5cGU6IE5PTkUsXG4gICAgbWFqb3JHcmlkTGluZXM6IHtcbiAgICAgICAgc2tpcDogMCxcbiAgICAgICAgc3RlcDogMVxuICAgIH0sXG4gICAgbWlub3JHcmlkTGluZXM6IHtcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIHdpZHRoOiAxLFxuICAgICAgICBjb2xvcjogQkxBQ0ssXG4gICAgICAgIHNraXA6IDAsXG4gICAgICAgIHN0ZXA6IDFcbiAgICB9LFxuICAgIC8vIFRPRE86IE1vdmUgdG8gbGluZSBvciBsYWJlbHMgb3B0aW9uc1xuICAgIG1hcmdpbjogNSxcbiAgICB2aXNpYmxlOiB0cnVlLFxuICAgIHJldmVyc2U6IGZhbHNlLFxuICAgIGp1c3RpZmllZDogdHJ1ZSxcbiAgICBub3Rlczoge1xuICAgICAgICBsYWJlbDoge1xuICAgICAgICAgICAgdGV4dDogXCJcIlxuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9hbGlnbkxpbmVzOiB0cnVlLFxuICAgIF9kZWZlckxhYmVsczogZmFsc2Vcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBBeGlzO1xuIiwiZXhwb3J0IGNvbnN0IE1JTExJU0VDT05EUyA9IFwibWlsbGlzZWNvbmRzXCI7XG5leHBvcnQgY29uc3QgU0VDT05EUyA9IFwic2Vjb25kc1wiO1xuZXhwb3J0IGNvbnN0IE1JTlVURVMgPSBcIm1pbnV0ZXNcIjtcbmV4cG9ydCBjb25zdCBIT1VSUyA9IFwiaG91cnNcIjtcbmV4cG9ydCBjb25zdCBEQVlTID0gXCJkYXlzXCI7XG5leHBvcnQgY29uc3QgV0VFS1MgPSBcIndlZWtzXCI7XG5leHBvcnQgY29uc3QgTU9OVEhTID0gXCJtb250aHNcIjtcbmV4cG9ydCBjb25zdCBZRUFSUyA9IFwieWVhcnNcIjtcblxuZXhwb3J0IGNvbnN0IFRJTUVfUEVSX01JTExJU0VDT05EID0gMTtcbmV4cG9ydCBjb25zdCBUSU1FX1BFUl9TRUNPTkQgPSAxMDAwO1xuZXhwb3J0IGNvbnN0IFRJTUVfUEVSX01JTlVURSA9IDYwICogVElNRV9QRVJfU0VDT05EO1xuZXhwb3J0IGNvbnN0IFRJTUVfUEVSX0hPVVIgPSA2MCAqIFRJTUVfUEVSX01JTlVURTtcbmV4cG9ydCBjb25zdCBUSU1FX1BFUl9EQVkgPSAyNCAqIFRJTUVfUEVSX0hPVVI7XG5leHBvcnQgY29uc3QgVElNRV9QRVJfV0VFSyA9IDcgKiBUSU1FX1BFUl9EQVk7XG5leHBvcnQgY29uc3QgVElNRV9QRVJfTU9OVEggPSAzMSAqIFRJTUVfUEVSX0RBWTtcbmV4cG9ydCBjb25zdCBUSU1FX1BFUl9ZRUFSID0gMzY1ICogVElNRV9QRVJfREFZO1xuZXhwb3J0IGNvbnN0IFRJTUVfUEVSX1VOSVQgPSB7XG4gICAgXCJ5ZWFyc1wiOiBUSU1FX1BFUl9ZRUFSLFxuICAgIFwibW9udGhzXCI6IFRJTUVfUEVSX01PTlRILFxuICAgIFwid2Vla3NcIjogVElNRV9QRVJfV0VFSyxcbiAgICBcImRheXNcIjogVElNRV9QRVJfREFZLFxuICAgIFwiaG91cnNcIjogVElNRV9QRVJfSE9VUixcbiAgICBcIm1pbnV0ZXNcIjogVElNRV9QRVJfTUlOVVRFLFxuICAgIFwic2Vjb25kc1wiOiBUSU1FX1BFUl9TRUNPTkQsXG4gICAgXCJtaWxsaXNlY29uZHNcIjogVElNRV9QRVJfTUlMTElTRUNPTkRcbn07XG5cbiIsImltcG9ydCB7IFRJTUVfUEVSX01JTlVURSB9IGZyb20gJy4vY29uc3RhbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWJzb2x1dGVEYXRlRGlmZihhLCBiKSB7XG4gICAgY29uc3QgZGlmZiA9IGEuZ2V0VGltZSgpIC0gYjtcbiAgICBjb25zdCBvZmZzZXREaWZmID0gYS5nZXRUaW1lem9uZU9mZnNldCgpIC0gYi5nZXRUaW1lem9uZU9mZnNldCgpO1xuXG4gICAgcmV0dXJuIGRpZmYgLSAob2Zmc2V0RGlmZiAqIFRJTUVfUEVSX01JTlVURSk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRkVGlja3MoZGF0ZSwgdGlja3MpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkgKyB0aWNrcyk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdG9EYXRlKHZhbHVlKSB7XG4gICAgbGV0IHJlc3VsdDtcblxuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSkge1xuICAgICAgICByZXN1bHQgPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn0iLCJpbXBvcnQgeyBUSU1FX1BFUl9EQVkgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgYWRkVGlja3MgZnJvbSAnLi9hZGQtdGlja3MnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzdGFydE9mV2VlayhkYXRlLCB3ZWVrU3RhcnREYXkgPSAwKSB7XG4gICAgbGV0IGRheXNUb1N1YnRyYWN0ID0gMDtcbiAgICBsZXQgZGF5ID0gZGF0ZS5nZXREYXkoKTtcblxuICAgIGlmICghaXNOYU4oZGF5KSkge1xuICAgICAgICB3aGlsZSAoZGF5ICE9PSB3ZWVrU3RhcnREYXkpIHtcbiAgICAgICAgICAgIGlmIChkYXkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBkYXkgPSA2O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXktLTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGF5c1RvU3VidHJhY3QrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBhZGRUaWNrcyhkYXRlLCAtZGF5c1RvU3VidHJhY3QgKiBUSU1FX1BFUl9EQVkpO1xufSIsImltcG9ydCB7IE1JTExJU0VDT05EUywgU0VDT05EUywgTUlOVVRFUywgSE9VUlMsIERBWVMsIFdFRUtTLCBNT05USFMsIFlFQVJTLFxuICAgIFRJTUVfUEVSX1NFQ09ORCwgVElNRV9QRVJfTUlOVVRFLCBUSU1FX1BFUl9IT1VSIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IGFkZFRpY2tzIGZyb20gJy4vYWRkLXRpY2tzJztcbmltcG9ydCB0b0RhdGUgZnJvbSAnLi90by1kYXRlJztcbmltcG9ydCBzdGFydE9mV2VlayBmcm9tICcuL3N0YXJ0LW9mLXdlZWsnO1xuXG5mdW5jdGlvbiBhZGp1c3REU1QoZGF0ZSwgaG91cnMpIHtcbiAgICBpZiAoaG91cnMgPT09IDAgJiYgZGF0ZS5nZXRIb3VycygpID09PSAyMykge1xuICAgICAgICBkYXRlLnNldEhvdXJzKGRhdGUuZ2V0SG91cnMoKSArIDIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGFkZEhvdXJzKGRhdGUsIGhvdXJzKSB7XG4gICAgY29uc3Qgcm91bmRlZERhdGUgPSBuZXcgRGF0ZShkYXRlKTtcblxuICAgIHJvdW5kZWREYXRlLnNldE1pbnV0ZXMoMCwgMCwgMCk7XG5cbiAgICBjb25zdCB0ekRpZmYgPSAoZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpIC0gcm91bmRlZERhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSkgKiBUSU1FX1BFUl9NSU5VVEU7XG5cbiAgICByZXR1cm4gYWRkVGlja3Mocm91bmRlZERhdGUsIHR6RGlmZiArIGhvdXJzICogVElNRV9QRVJfSE9VUik7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFkZER1cmF0aW9uKGRhdGVWYWx1ZSwgdmFsdWUsIHVuaXQsIHdlZWtTdGFydERheSkge1xuICAgIGxldCByZXN1bHQgPSBkYXRlVmFsdWU7XG5cbiAgICBpZiAoZGF0ZVZhbHVlKSB7XG4gICAgICAgIGxldCBkYXRlID0gdG9EYXRlKGRhdGVWYWx1ZSk7XG4gICAgICAgIGNvbnN0IGhvdXJzID0gZGF0ZS5nZXRIb3VycygpO1xuXG4gICAgICAgIGlmICh1bml0ID09PSBZRUFSUykge1xuICAgICAgICAgICAgcmVzdWx0ID0gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpICsgdmFsdWUsIDAsIDEpO1xuICAgICAgICAgICAgYWRqdXN0RFNUKHJlc3VsdCwgMCk7XG4gICAgICAgIH0gZWxzZSBpZiAodW5pdCA9PT0gTU9OVEhTKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSArIHZhbHVlLCAxKTtcbiAgICAgICAgICAgIGFkanVzdERTVChyZXN1bHQsIGhvdXJzKTtcbiAgICAgICAgfSBlbHNlIGlmICh1bml0ID09PSBXRUVLUykge1xuICAgICAgICAgICAgcmVzdWx0ID0gYWRkRHVyYXRpb24oc3RhcnRPZldlZWsoZGF0ZSwgd2Vla1N0YXJ0RGF5KSwgdmFsdWUgKiA3LCBEQVlTKTtcbiAgICAgICAgICAgIGFkanVzdERTVChyZXN1bHQsIGhvdXJzKTtcbiAgICAgICAgfSBlbHNlIGlmICh1bml0ID09PSBEQVlTKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgZGF0ZS5nZXREYXRlKCkgKyB2YWx1ZSk7XG4gICAgICAgICAgICBhZGp1c3REU1QocmVzdWx0LCBob3Vycyk7XG4gICAgICAgIH0gZWxzZSBpZiAodW5pdCA9PT0gSE9VUlMpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGFkZEhvdXJzKGRhdGUsIHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmICh1bml0ID09PSBNSU5VVEVTKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBhZGRUaWNrcyhkYXRlLCB2YWx1ZSAqIFRJTUVfUEVSX01JTlVURSk7XG5cbiAgICAgICAgICAgIGlmIChyZXN1bHQuZ2V0U2Vjb25kcygpID4gMCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5zZXRTZWNvbmRzKDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHVuaXQgPT09IFNFQ09ORFMpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGFkZFRpY2tzKGRhdGUsIHZhbHVlICogVElNRV9QRVJfU0VDT05EKTtcbiAgICAgICAgfSBlbHNlIGlmICh1bml0ID09PSBNSUxMSVNFQ09ORFMpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGFkZFRpY2tzKGRhdGUsIHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1bml0ICE9PSBNSUxMSVNFQ09ORFMgJiYgcmVzdWx0LmdldE1pbGxpc2Vjb25kcygpID4gMCkge1xuICAgICAgICAgICAgcmVzdWx0LnNldE1pbGxpc2Vjb25kcygwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59IiwiaW1wb3J0IGFkZER1cmF0aW9uIGZyb20gJy4vYWRkLWR1cmF0aW9uJztcbmltcG9ydCB0b0RhdGUgZnJvbSAnLi90by1kYXRlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZmxvb3JEYXRlKGRhdGUsIHVuaXQsIHdlZWtTdGFydERheSkge1xuICAgIHJldHVybiBhZGREdXJhdGlvbih0b0RhdGUoZGF0ZSksIDAsIHVuaXQsIHdlZWtTdGFydERheSk7XG59IiwiaW1wb3J0IGZsb29yRGF0ZSBmcm9tICcuL2Zsb29yLWRhdGUnO1xuaW1wb3J0IGFkZER1cmF0aW9uIGZyb20gJy4vYWRkLWR1cmF0aW9uJztcbmltcG9ydCB0b0RhdGUgZnJvbSAnLi90by1kYXRlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2VpbERhdGUoZGF0ZVZhbHVlLCB1bml0LCB3ZWVrU3RhcnREYXkpIHtcbiAgICBjb25zdCBkYXRlID0gdG9EYXRlKGRhdGVWYWx1ZSk7XG5cbiAgICBpZiAoZGF0ZSAmJiBmbG9vckRhdGUoZGF0ZSwgdW5pdCwgd2Vla1N0YXJ0RGF5KS5nZXRUaW1lKCkgPT09IGRhdGUuZ2V0VGltZSgpKSB7XG4gICAgICAgIHJldHVybiBkYXRlO1xuICAgIH1cblxuICAgIHJldHVybiBhZGREdXJhdGlvbihkYXRlLCAxLCB1bml0LCB3ZWVrU3RhcnREYXkpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRhdGVDb21wYXJlcihhLCBiKSB7XG4gICAgaWYgKGEgJiYgYikge1xuICAgICAgICByZXR1cm4gYS5nZXRUaW1lKCkgLSBiLmdldFRpbWUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gLTE7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGF0ZURpZmYoYSwgYikge1xuICAgIHJldHVybiBhLmdldFRpbWUoKSAtIGI7XG59IiwiaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4uL2NvbW1vbic7XG5pbXBvcnQgdG9EYXRlIGZyb20gJy4vdG8tZGF0ZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvVGltZSh2YWx1ZSkge1xuICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHZhbHVlLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRvVGltZSh2YWx1ZVtpZHhdKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gZWxzZSBpZiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRvRGF0ZSh2YWx1ZSkuZ2V0VGltZSgpO1xuICAgIH1cbn0iLCJpbXBvcnQgdG9UaW1lIGZyb20gJy4vdG8tdGltZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRhdGVFcXVhbHMoYSwgYikge1xuICAgIGlmIChhICYmIGIpIHtcbiAgICAgICAgcmV0dXJuIHRvVGltZShhKSA9PT0gdG9UaW1lKGIpO1xuICAgIH1cblxuICAgIHJldHVybiBhID09PSBiO1xufSIsImltcG9ydCB7IERBWVMsIFdFRUtTLCBNT05USFMsIFlFQVJTLCBUSU1FX1BFUl9VTklUIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IGRhdGVEaWZmIGZyb20gJy4vZGF0ZS1kaWZmJztcbmltcG9ydCBhYnNvbHV0ZURhdGVEaWZmIGZyb20gJy4vYWJzb2x1dGUtZGF0ZS1kaWZmJztcbmltcG9ydCB0b0RhdGUgZnJvbSAnLi90by1kYXRlJztcblxuZnVuY3Rpb24gdGltZUluZGV4KGRhdGUsIHN0YXJ0LCBiYXNlVW5pdCkge1xuICAgIHJldHVybiBhYnNvbHV0ZURhdGVEaWZmKGRhdGUsIHN0YXJ0KSAvIFRJTUVfUEVSX1VOSVRbYmFzZVVuaXRdO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkYXRlSW5kZXgodmFsdWUsIHN0YXJ0LCBiYXNlVW5pdCwgYmFzZVVuaXRTdGVwKSB7XG4gICAgY29uc3QgZGF0ZSA9IHRvRGF0ZSh2YWx1ZSk7XG4gICAgY29uc3Qgc3RhcnREYXRlID0gdG9EYXRlKHN0YXJ0KTtcbiAgICBsZXQgaW5kZXg7XG5cbiAgICBpZiAoYmFzZVVuaXQgPT09IE1PTlRIUykge1xuICAgICAgICBpbmRleCA9IChkYXRlLmdldE1vbnRoKCkgLSBzdGFydERhdGUuZ2V0TW9udGgoKSArIChkYXRlLmdldEZ1bGxZZWFyKCkgLSBzdGFydERhdGUuZ2V0RnVsbFllYXIoKSkgKiAxMikgK1xuICAgICAgICAgICAgdGltZUluZGV4KGRhdGUsIG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpKSwgREFZUykgLyBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSArIDEsIDApLmdldERhdGUoKTtcbiAgICB9IGVsc2UgaWYgKGJhc2VVbml0ID09PSBZRUFSUykge1xuICAgICAgICBpbmRleCA9IGRhdGUuZ2V0RnVsbFllYXIoKSAtIHN0YXJ0RGF0ZS5nZXRGdWxsWWVhcigpICsgZGF0ZUluZGV4KGRhdGUsIG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgMCksIE1PTlRIUywgMSkgLyAxMjtcbiAgICB9IGVsc2UgaWYgKGJhc2VVbml0ID09PSBEQVlTIHx8IGJhc2VVbml0ID09PSBXRUVLUykge1xuICAgICAgICBpbmRleCA9IHRpbWVJbmRleChkYXRlLCBzdGFydERhdGUsIGJhc2VVbml0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpbmRleCA9IGRhdGVEaWZmKGRhdGUsIHN0YXJ0KSAvIFRJTUVfUEVSX1VOSVRbYmFzZVVuaXRdO1xuICAgIH1cblxuICAgIHJldHVybiBpbmRleCAvIGJhc2VVbml0U3RlcDtcbn1cblxuIiwiaW1wb3J0IHsgREFZUywgTU9OVEhTLCBZRUFSUywgVElNRV9QRVJfREFZLCBUSU1FX1BFUl9VTklUIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IGRhdGVEaWZmIGZyb20gJy4vZGF0ZS1kaWZmJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZHVyYXRpb24oYSwgYiwgdW5pdCkge1xuICAgIGxldCBkaWZmO1xuXG4gICAgaWYgKHVuaXQgPT09IFlFQVJTKSB7XG4gICAgICAgIGRpZmYgPSBiLmdldEZ1bGxZZWFyKCkgLSBhLmdldEZ1bGxZZWFyKCk7XG4gICAgfSBlbHNlIGlmICh1bml0ID09PSBNT05USFMpIHtcbiAgICAgICAgZGlmZiA9IGR1cmF0aW9uKGEsIGIsIFlFQVJTKSAqIDEyICsgYi5nZXRNb250aCgpIC0gYS5nZXRNb250aCgpO1xuICAgIH0gZWxzZSBpZiAodW5pdCA9PT0gREFZUykge1xuICAgICAgICBkaWZmID0gTWF0aC5mbG9vcihkYXRlRGlmZihiLCBhKSAvIFRJTUVfUEVSX0RBWSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZGlmZiA9IE1hdGguZmxvb3IoZGF0ZURpZmYoYiwgYSkgLyBUSU1FX1BFUl9VTklUW3VuaXRdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGlmZjtcbn0iLCJpbXBvcnQgeyBpc1N0cmluZyB9IGZyb20gJy4uL2NvbW1vbic7XG5pbXBvcnQgdG9EYXRlIGZyb20gJy4vdG8tZGF0ZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBhcnNlRGF0ZShpbnRsU2VydmljZSwgZGF0ZSkge1xuICAgIGxldCByZXN1bHQ7XG4gICAgaWYgKGlzU3RyaW5nKGRhdGUpKSB7XG4gICAgICAgIHJlc3VsdCA9IGludGxTZXJ2aWNlLnBhcnNlRGF0ZShkYXRlKSB8fCB0b0RhdGUoZGF0ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gdG9EYXRlKGRhdGUpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuIiwiaW1wb3J0IHBhcnNlRGF0ZSBmcm9tICcuL3BhcnNlLWRhdGUnO1xuXG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vY29tbW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcGFyc2VEYXRlcyhpbnRsU2VydmljZSwgZGF0ZXMpIHtcbiAgICBpZiAoaXNBcnJheShkYXRlcykpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGRhdGVzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHBhcnNlRGF0ZShpbnRsU2VydmljZSwgZGF0ZXNbaWR4XSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VEYXRlKGludGxTZXJ2aWNlLCBkYXRlcyk7XG59IiwiaW1wb3J0IEF4aXMgZnJvbSAnLi9heGlzJztcbmltcG9ydCBBeGlzTGFiZWwgZnJvbSAnLi9heGlzLWxhYmVsJztcblxuaW1wb3J0IHsgQkxBQ0ssIENPT1JEX1BSRUNJU0lPTiwgREVGQVVMVF9QUkVDSVNJT04sIFgsIFkgfSBmcm9tICcuLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGRlZmluZWQsIGlzTnVtYmVyLCBsYXN0LCBsaW1pdFZhbHVlLCByb3VuZCwgc2V0RGVmYXVsdE9wdGlvbnMsIHZhbHVlT3JEZWZhdWx0LCBIYXNoTWFwIH0gZnJvbSAnLi4vY29tbW9uJztcbmltcG9ydCB7IGRhdGVFcXVhbHMgfSBmcm9tICcuLi9kYXRlLXV0aWxzJztcblxuY29uc3QgTUlOX0NBVEVHT1JZX1BPSU5UU19SQU5HRSA9IDAuMDE7XG5cbmZ1bmN0aW9uIGluZGV4T2YodmFsdWUsIGFycikge1xuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gYXJyLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgbGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgaWYgKGRhdGVFcXVhbHMoYXJyW2lkeF0sIHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpZHg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFyci5pbmRleE9mKHZhbHVlKTtcbn1cblxuY2xhc3MgQ2F0ZWdvcnlBeGlzIGV4dGVuZHMgQXhpcyB7XG4gICAgaW5pdEZpZWxkcygpIHtcbiAgICAgICAgdGhpcy5fdGlja3MgPSB7fTtcbiAgICB9XG5cbiAgICBjYXRlZ29yaWVzSGFzaCgpIHtcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIGNvbnN0IGNvcHkgPSBuZXcgQ2F0ZWdvcnlBeGlzKE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3B0aW9ucywge1xuICAgICAgICAgICAgY2F0ZWdvcmllczogdGhpcy5vcHRpb25zLnNyY0NhdGVnb3JpZXNcbiAgICAgICAgfSksIHRoaXMuY2hhcnRTZXJ2aWNlKTtcbiAgICAgICAgY29weS5jcmVhdGVMYWJlbHMoKTtcblxuICAgICAgICByZXR1cm4gY29weTtcbiAgICB9XG5cbiAgICBpbml0VXNlck9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICBjb25zdCBjYXRlZ29yaWVzID0gb3B0aW9ucy5jYXRlZ29yaWVzIHx8IFtdO1xuICAgICAgICBjb25zdCBkZWZpbmVkTWluID0gZGVmaW5lZChvcHRpb25zLm1pbik7XG4gICAgICAgIGNvbnN0IGRlZmluZWRNYXggPSBkZWZpbmVkKG9wdGlvbnMubWF4KTtcbiAgICAgICAgb3B0aW9ucy5zcmNDYXRlZ29yaWVzID0gb3B0aW9ucy5jYXRlZ29yaWVzID0gY2F0ZWdvcmllcztcblxuICAgICAgICBpZiAoKGRlZmluZWRNaW4gfHwgZGVmaW5lZE1heCkgJiYgY2F0ZWdvcmllcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IG1pbiA9IGRlZmluZWRNaW4gPyBNYXRoLmZsb29yKG9wdGlvbnMubWluKSA6IDA7XG4gICAgICAgICAgICBsZXQgbWF4O1xuXG4gICAgICAgICAgICBpZiAoZGVmaW5lZE1heCkge1xuICAgICAgICAgICAgICAgIG1heCA9IG9wdGlvbnMuanVzdGlmaWVkID8gTWF0aC5mbG9vcihvcHRpb25zLm1heCkgKyAxIDogTWF0aC5jZWlsKG9wdGlvbnMubWF4KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbWF4ID0gY2F0ZWdvcmllcy5sZW5ndGg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9wdGlvbnMuY2F0ZWdvcmllcyA9IG9wdGlvbnMuY2F0ZWdvcmllcy5zbGljZShtaW4sIG1heCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9XG5cbiAgICByYW5nZUluZGljZXMoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IG9wdGlvbnMuY2F0ZWdvcmllcy5sZW5ndGggfHwgMTtcbiAgICAgICAgY29uc3QgbWluID0gaXNOdW1iZXIob3B0aW9ucy5taW4pID8gb3B0aW9ucy5taW4gJSAxIDogMDtcbiAgICAgICAgbGV0IG1heDtcblxuICAgICAgICBpZiAoaXNOdW1iZXIob3B0aW9ucy5tYXgpICYmIG9wdGlvbnMubWF4ICUgMSAhPT0gMCAmJiBvcHRpb25zLm1heCA8IHRoaXMudG90YWxSYW5nZSgpLm1heCkge1xuICAgICAgICAgICAgbWF4ID0gbGVuZ3RoIC0gKDEgLSBvcHRpb25zLm1heCAlIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWF4ID0gbGVuZ3RoIC0gKG9wdGlvbnMuanVzdGlmaWVkID8gMSA6IDApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbjogbWluLFxuICAgICAgICAgICAgbWF4OiBtYXhcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB0b3RhbFJhbmdlSW5kaWNlcyhsaW1pdCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBsZXQgbWluID0gaXNOdW1iZXIob3B0aW9ucy5taW4pID8gb3B0aW9ucy5taW4gOiAwO1xuICAgICAgICBsZXQgbWF4O1xuXG4gICAgICAgIGlmIChpc051bWJlcihvcHRpb25zLm1heCkpIHtcbiAgICAgICAgICAgIG1heCA9IG9wdGlvbnMubWF4O1xuICAgICAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKG9wdGlvbnMubWluKSkge1xuICAgICAgICAgICAgbWF4ID0gbWluICsgb3B0aW9ucy5jYXRlZ29yaWVzLmxlbmd0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1heCA9IHRoaXMudG90YWxSYW5nZSgpLm1heCB8fCAxO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxpbWl0KSB7XG4gICAgICAgICAgICBjb25zdCB0b3RhbFJhbmdlID0gdGhpcy50b3RhbFJhbmdlKCk7XG4gICAgICAgICAgICBtaW4gPSBsaW1pdFZhbHVlKG1pbiwgMCwgdG90YWxSYW5nZS5tYXgpO1xuICAgICAgICAgICAgbWF4ID0gbGltaXRWYWx1ZShtYXgsIDAsIHRvdGFsUmFuZ2UubWF4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtaW46IG1pbixcbiAgICAgICAgICAgIG1heDogbWF4XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcmFuZ2UoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IG1pbiA9IGlzTnVtYmVyKG9wdGlvbnMubWluKSA/IG9wdGlvbnMubWluIDogMDtcbiAgICAgICAgY29uc3QgbWF4ID0gaXNOdW1iZXIob3B0aW9ucy5tYXgpID8gb3B0aW9ucy5tYXggOiB0aGlzLnRvdGFsUmFuZ2UoKS5tYXg7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbjogbWluLFxuICAgICAgICAgICAgbWF4OiBtYXhcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByb3VuZGVkUmFuZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhbmdlKCk7XG4gICAgfVxuXG4gICAgdG90YWxSYW5nZSgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgcmV0dXJuIHsgbWluOiAwLCBtYXg6IE1hdGgubWF4KHRoaXMuX3Nlcmllc01heCB8fCAwLCBvcHRpb25zLnNyY0NhdGVnb3JpZXMubGVuZ3RoKSAtIChvcHRpb25zLmp1c3RpZmllZCA/IDEgOiAwKSB9O1xuICAgIH1cblxuICAgIHNjYWxlT3B0aW9ucygpIHtcbiAgICAgICAgY29uc3QgeyBtaW4sIG1heCB9ID0gdGhpcy5yYW5nZUluZGljZXMoKTtcbiAgICAgICAgY29uc3QgbGluZUJveCA9IHRoaXMubGluZUJveCgpO1xuICAgICAgICBjb25zdCBzaXplID0gdGhpcy5vcHRpb25zLnZlcnRpY2FsID8gbGluZUJveC5oZWlnaHQoKSA6IGxpbmVCb3gud2lkdGgoKTtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBzaXplIC8gKChtYXggLSBtaW4pIHx8IDEpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzY2FsZTogc2NhbGUgKiAodGhpcy5vcHRpb25zLnJldmVyc2UgPyAtMSA6IDEpLFxuICAgICAgICAgICAgYm94OiBsaW5lQm94LFxuICAgICAgICAgICAgbWluOiBtaW4sXG4gICAgICAgICAgICBtYXg6IG1heFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGFycmFuZ2VMYWJlbHMoKSB7XG4gICAgICAgIHN1cGVyLmFycmFuZ2VMYWJlbHMoKTtcbiAgICAgICAgdGhpcy5oaWRlT3V0T2ZSYW5nZUxhYmVscygpO1xuICAgIH1cblxuICAgIGhpZGVPdXRPZlJhbmdlTGFiZWxzKCkge1xuICAgICAgICBjb25zdCB7IGJveCwgbGFiZWxzIH0gPSB0aGlzO1xuXG4gICAgICAgIGlmIChsYWJlbHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZUF4aXMgPSB0aGlzLm9wdGlvbnMudmVydGljYWwgPyBZIDogWDtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gYm94W3ZhbHVlQXhpcyArIDFdO1xuICAgICAgICAgICAgY29uc3QgZW5kID0gYm94W3ZhbHVlQXhpcyArIDJdO1xuICAgICAgICAgICAgY29uc3QgZmlyc3RMYWJlbCA9IGxhYmVsc1swXTtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RMYWJlbCA9IGxhc3QobGFiZWxzKTtcblxuICAgICAgICAgICAgaWYgKGZpcnN0TGFiZWwuYm94W3ZhbHVlQXhpcyArIDFdID4gZW5kIHx8IGZpcnN0TGFiZWwuYm94W3ZhbHVlQXhpcyArIDJdIDwgc3RhcnQpIHtcbiAgICAgICAgICAgICAgICBmaXJzdExhYmVsLm9wdGlvbnMudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxhc3RMYWJlbC5ib3hbdmFsdWVBeGlzICsgMV0gPiBlbmQgfHwgbGFzdExhYmVsLmJveFt2YWx1ZUF4aXMgKyAyXSA8IHN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgbGFzdExhYmVsLm9wdGlvbnMudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0TWFqb3JUaWNrUG9zaXRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRUaWNrcygpLm1ham9yVGlja3M7XG4gICAgfVxuXG4gICAgZ2V0TWlub3JUaWNrUG9zaXRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRUaWNrcygpLm1pbm9yVGlja3M7XG4gICAgfVxuXG4gICAgZ2V0TGFiZWxzVGlja1Bvc2l0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGlja3MoKS5sYWJlbFRpY2tzO1xuICAgIH1cblxuICAgIHRpY2tJbmRpY2VzKHN0ZXBTaXplKSB7XG4gICAgICAgIGNvbnN0IHsgbWluLCBtYXggfSA9IHRoaXMucmFuZ2VJbmRpY2VzKCk7XG4gICAgICAgIGNvbnN0IGxpbWl0ID0gTWF0aC5jZWlsKG1heCk7XG4gICAgICAgIGxldCBjdXJyZW50ID0gTWF0aC5mbG9vcihtaW4pO1xuICAgICAgICBjb25zdCBpbmRpY2VzID0gW107XG5cbiAgICAgICAgd2hpbGUgKGN1cnJlbnQgPD0gbGltaXQpIHtcbiAgICAgICAgICAgIGluZGljZXMucHVzaChjdXJyZW50KTtcbiAgICAgICAgICAgIGN1cnJlbnQgKz0gc3RlcFNpemU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW5kaWNlcztcbiAgICB9XG5cbiAgICBnZXRUaWNrUG9zaXRpb25zKHN0ZXBTaXplKSB7XG4gICAgICAgIGNvbnN0IHsgdmVydGljYWwsIHJldmVyc2UgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgeyBzY2FsZSwgYm94LCBtaW4gfSA9IHRoaXMuc2NhbGVPcHRpb25zKCk7XG4gICAgICAgIGNvbnN0IHBvcyA9IGJveFsodmVydGljYWwgPyBZIDogWCkgKyAocmV2ZXJzZSA/IDIgOiAxKV07XG4gICAgICAgIGNvbnN0IGluZGljZXMgPSB0aGlzLnRpY2tJbmRpY2VzKHN0ZXBTaXplKTtcbiAgICAgICAgY29uc3QgcG9zaXRpb25zID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgaW5kaWNlcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBwb3NpdGlvbnMucHVzaChwb3MgKyByb3VuZChzY2FsZSAqIChpbmRpY2VzW2lkeF0gLSBtaW4pLCBDT09SRF9QUkVDSVNJT04pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwb3NpdGlvbnM7XG4gICAgfVxuXG4gICAgZ2V0VGlja3MoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5fdGlja3M7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gdGhpcy5yYW5nZUluZGljZXMoKTtcbiAgICAgICAgY29uc3QgbGluZUJveCA9IHRoaXMubGluZUJveCgpO1xuICAgICAgICBjb25zdCBoYXNoID0gbGluZUJveC5nZXRIYXNoKCkgKyByYW5nZS5taW4gKyBcIixcIiArIHJhbmdlLm1heCArIG9wdGlvbnMucmV2ZXJzZSArIG9wdGlvbnMuanVzdGlmaWVkO1xuXG4gICAgICAgIGlmIChjYWNoZS5faGFzaCAhPT0gaGFzaCkge1xuICAgICAgICAgICAgY29uc3QgaGFzTWlub3IgPSBvcHRpb25zLm1pbm9yVGlja3MudmlzaWJsZSB8fCBvcHRpb25zLm1pbm9yR3JpZExpbmVzLnZpc2libGU7XG4gICAgICAgICAgICBjYWNoZS5faGFzaCA9IGhhc2g7XG4gICAgICAgICAgICBjYWNoZS5sYWJlbFRpY2tzID0gdGhpcy5nZXRUaWNrUG9zaXRpb25zKDEpO1xuICAgICAgICAgICAgY2FjaGUubWFqb3JUaWNrcyA9IHRoaXMuZmlsdGVyT3V0T2ZSYW5nZVBvc2l0aW9ucyhjYWNoZS5sYWJlbFRpY2tzLCBsaW5lQm94KTtcbiAgICAgICAgICAgIGNhY2hlLm1pbm9yVGlja3MgPSBoYXNNaW5vciA/IHRoaXMuZmlsdGVyT3V0T2ZSYW5nZVBvc2l0aW9ucyh0aGlzLmdldFRpY2tQb3NpdGlvbnMoMC41KSwgbGluZUJveCkgOiBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjYWNoZTtcbiAgICB9XG5cbiAgICBmaWx0ZXJPdXRPZlJhbmdlUG9zaXRpb25zKHBvc2l0aW9ucywgbGluZUJveCkge1xuICAgICAgICBpZiAoIXBvc2l0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBwb3NpdGlvbnM7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBheGlzID0gdGhpcy5vcHRpb25zLnZlcnRpY2FsID8gWSA6IFg7XG4gICAgICAgIGNvbnN0IGluUmFuZ2UgPSAocG9zaXRpb24pID0+IGxpbmVCb3hbYXhpcyArIDFdIDw9IHBvc2l0aW9uICYmIHBvc2l0aW9uIDw9IGxpbmVCb3hbYXhpcyArIDJdO1xuXG4gICAgICAgIGNvbnN0IGVuZCA9IHBvc2l0aW9ucy5sZW5ndGggLSAxO1xuICAgICAgICBsZXQgc3RhcnRJbmRleCA9IDA7XG4gICAgICAgIHdoaWxlICghaW5SYW5nZShwb3NpdGlvbnNbc3RhcnRJbmRleF0pICYmIHN0YXJ0SW5kZXggPD0gZW5kKSB7XG4gICAgICAgICAgICBzdGFydEluZGV4Kys7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZW5kSW5kZXggPSBlbmQ7XG5cbiAgICAgICAgd2hpbGUgKCFpblJhbmdlKHBvc2l0aW9uc1tlbmRJbmRleF0pICYmIGVuZEluZGV4ID49IDApIHtcbiAgICAgICAgICAgIGVuZEluZGV4LS07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcG9zaXRpb25zLnNsaWNlKHN0YXJ0SW5kZXgsIGVuZEluZGV4ICsgMSk7XG4gICAgfVxuXG4gICAgZ2V0U2xvdChmcm9tLCB0bywgbGltaXQpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgeyByZXZlcnNlLCBqdXN0aWZpZWQsIHZlcnRpY2FsIH0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCB7IHNjYWxlLCBib3gsIG1pbiB9ID0gdGhpcy5zY2FsZU9wdGlvbnMoKTtcbiAgICAgICAgY29uc3QgdmFsdWVBeGlzID0gdmVydGljYWwgPyBZIDogWDtcbiAgICAgICAgY29uc3QgbGluZVN0YXJ0ID0gYm94W3ZhbHVlQXhpcyArIChyZXZlcnNlID8gMiA6IDEpXTtcbiAgICAgICAgY29uc3Qgc2xvdEJveCA9IGJveC5jbG9uZSgpO1xuICAgICAgICBjb25zdCBzaW5nbGVTbG90ID0gIWRlZmluZWQodG8pO1xuXG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gdmFsdWVPckRlZmF1bHQoZnJvbSwgMCk7XG4gICAgICAgIGxldCBlbmQgPSB2YWx1ZU9yRGVmYXVsdCh0bywgc3RhcnQpO1xuICAgICAgICBlbmQgPSBNYXRoLm1heChlbmQgLSAxLCBzdGFydCk7XG5cbiAgICAgICAgLy8gRml4ZXMgdHJhbnNpZW50IGJ1ZyBjYXVzZWQgYnkgaU9TIDYuMCBKSVRcbiAgICAgICAgLy8gKG9uZSBjYW4gbmV2ZXIgYmUgdG9vIHN1cmUpXG4gICAgICAgIGVuZCA9IE1hdGgubWF4KHN0YXJ0LCBlbmQpO1xuXG4gICAgICAgIGxldCBwMSA9IGxpbmVTdGFydCArIChzdGFydCAtIG1pbikgKiBzY2FsZTtcbiAgICAgICAgbGV0IHAyID0gbGluZVN0YXJ0ICsgKGVuZCArIDEgLSBtaW4pICogc2NhbGU7XG5cbiAgICAgICAgaWYgKHNpbmdsZVNsb3QgJiYganVzdGlmaWVkKSB7XG4gICAgICAgICAgICBwMiA9IHAxO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxpbWl0KSB7XG4gICAgICAgICAgICBwMSA9IGxpbWl0VmFsdWUocDEsIGJveFt2YWx1ZUF4aXMgKyAxXSwgYm94W3ZhbHVlQXhpcyArIDJdKTtcbiAgICAgICAgICAgIHAyID0gbGltaXRWYWx1ZShwMiwgYm94W3ZhbHVlQXhpcyArIDFdLCBib3hbdmFsdWVBeGlzICsgMl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgc2xvdEJveFt2YWx1ZUF4aXMgKyAxXSA9IHJldmVyc2UgPyBwMiA6IHAxO1xuICAgICAgICBzbG90Qm94W3ZhbHVlQXhpcyArIDJdID0gcmV2ZXJzZSA/IHAxIDogcDI7XG5cbiAgICAgICAgcmV0dXJuIHNsb3RCb3g7XG4gICAgfVxuXG4gICAgbGltaXRTbG90KHNsb3QpIHtcbiAgICAgICAgY29uc3QgdmVydGljYWwgPSB0aGlzLm9wdGlvbnMudmVydGljYWw7XG4gICAgICAgIGNvbnN0IHZhbHVlQXhpcyA9IHZlcnRpY2FsID8gWSA6IFg7XG4gICAgICAgIGNvbnN0IGxpbmVCb3ggPSB0aGlzLmxpbmVCb3goKTtcbiAgICAgICAgY29uc3QgbGltaXR0ZWRTbG90ID0gc2xvdC5jbG9uZSgpO1xuXG4gICAgICAgIGxpbWl0dGVkU2xvdFt2YWx1ZUF4aXMgKyAxXSA9IGxpbWl0VmFsdWUoc2xvdFt2YWx1ZUF4aXMgKyAxXSwgbGluZUJveFt2YWx1ZUF4aXMgKyAxXSwgbGluZUJveFt2YWx1ZUF4aXMgKyAyXSk7XG4gICAgICAgIGxpbWl0dGVkU2xvdFt2YWx1ZUF4aXMgKyAyXSA9IGxpbWl0VmFsdWUoc2xvdFt2YWx1ZUF4aXMgKyAyXSwgbGluZUJveFt2YWx1ZUF4aXMgKyAxXSwgbGluZUJveFt2YWx1ZUF4aXMgKyAyXSk7XG5cbiAgICAgICAgcmV0dXJuIGxpbWl0dGVkU2xvdDtcbiAgICB9XG5cbiAgICBzbG90KGZyb20sIHRvLCBsaW1pdCkge1xuICAgICAgICBjb25zdCBtaW4gPSBNYXRoLmZsb29yKHRoaXMub3B0aW9ucy5taW4gfHwgMCk7XG4gICAgICAgIGxldCBzdGFydCA9IGZyb207XG4gICAgICAgIGxldCBlbmQgPSB0bztcblxuICAgICAgICBpZiAodHlwZW9mIHN0YXJ0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBzdGFydCA9IHRoaXMuY2F0ZWdvcnlJbmRleChzdGFydCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNOdW1iZXIoc3RhcnQpKSB7XG4gICAgICAgICAgICBzdGFydCAtPSBtaW47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGVuZCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgZW5kID0gdGhpcy5jYXRlZ29yeUluZGV4KGVuZCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNOdW1iZXIoZW5kKSkge1xuICAgICAgICAgICAgZW5kIC09IG1pbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdXBlci5zbG90KHN0YXJ0LCBlbmQsIGxpbWl0KTtcbiAgICB9XG5cbiAgICBwb2ludENhdGVnb3J5SW5kZXgocG9pbnQpIHtcbiAgICAgICAgY29uc3QgeyByZXZlcnNlLCBqdXN0aWZpZWQsIHZlcnRpY2FsIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHZhbHVlQXhpcyA9IHZlcnRpY2FsID8gWSA6IFg7XG4gICAgICAgIGNvbnN0IHsgc2NhbGUsIGJveCwgbWluLCBtYXggfSA9IHRoaXMuc2NhbGVPcHRpb25zKCk7XG4gICAgICAgIGNvbnN0IHN0YXJ0VmFsdWUgPSByZXZlcnNlID8gbWF4IDogbWluO1xuICAgICAgICBjb25zdCBsaW5lU3RhcnQgPSBib3hbdmFsdWVBeGlzICsgMV07XG4gICAgICAgIGNvbnN0IGxpbmVFbmQgPSBib3hbdmFsdWVBeGlzICsgMl07XG4gICAgICAgIGNvbnN0IHBvcyA9IHBvaW50W3ZhbHVlQXhpc107XG5cbiAgICAgICAgaWYgKHBvcyA8IGxpbmVTdGFydCB8fCBwb3MgPiBsaW5lRW5kKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB2YWx1ZSA9IHN0YXJ0VmFsdWUgKyAocG9zIC0gbGluZVN0YXJ0KSAvIHNjYWxlO1xuICAgICAgICBjb25zdCBkaWZmID0gdmFsdWUgJSAxO1xuXG4gICAgICAgIGlmIChqdXN0aWZpZWQpIHtcbiAgICAgICAgICAgIHZhbHVlID0gTWF0aC5yb3VuZCh2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZGlmZiA9PT0gMCAmJiB2YWx1ZSA+IDApIHtcbiAgICAgICAgICAgIHZhbHVlLS07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcih2YWx1ZSk7XG4gICAgfVxuXG4gICAgZ2V0Q2F0ZWdvcnkocG9pbnQpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnBvaW50Q2F0ZWdvcnlJbmRleChwb2ludCk7XG5cbiAgICAgICAgaWYgKGluZGV4ID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuY2F0ZWdvcmllc1tpbmRleF07XG4gICAgfVxuXG4gICAgY2F0ZWdvcnlJbmRleCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy50b3RhbEluZGV4KHZhbHVlKSAtIE1hdGguZmxvb3IodGhpcy5vcHRpb25zLm1pbiB8fCAwKTtcbiAgICB9XG5cbiAgICBjYXRlZ29yeUF0KGluZGV4LCB0b3RhbCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIHJldHVybiAodG90YWwgPyBvcHRpb25zLnNyY0NhdGVnb3JpZXMgOiBvcHRpb25zLmNhdGVnb3JpZXMpW2luZGV4XTtcbiAgICB9XG5cbiAgICBjYXRlZ29yaWVzQ291bnQoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5vcHRpb25zLmNhdGVnb3JpZXMgfHwgW10pLmxlbmd0aDtcbiAgICB9XG5cbiAgICB0cmFuc2xhdGVSYW5nZShkZWx0YSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBsaW5lQm94ID0gdGhpcy5saW5lQm94KCk7XG4gICAgICAgIGNvbnN0IHNpemUgPSBvcHRpb25zLnZlcnRpY2FsID8gbGluZUJveC5oZWlnaHQoKSA6IGxpbmVCb3gud2lkdGgoKTtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBvcHRpb25zLmNhdGVnb3JpZXMubGVuZ3RoO1xuICAgICAgICBjb25zdCBzY2FsZSA9IHNpemUgLyByYW5nZTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gcm91bmQoZGVsdGEgLyBzY2FsZSwgREVGQVVMVF9QUkVDSVNJT04pO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtaW46IG9mZnNldCxcbiAgICAgICAgICAgIG1heDogcmFuZ2UgKyBvZmZzZXRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB6b29tUmFuZ2UocmF0ZSkge1xuICAgICAgICBjb25zdCByYW5nZUluZGljZXMgPSB0aGlzLnRvdGFsUmFuZ2VJbmRpY2VzKCk7XG4gICAgICAgIGNvbnN0IHsgbWluOiB0b3RhbE1pbiwgbWF4OiB0b3RhbE1heCB9ID0gdGhpcy50b3RhbFJhbmdlKCk7XG4gICAgICAgIGNvbnN0IG1pbiA9IGxpbWl0VmFsdWUocmFuZ2VJbmRpY2VzLm1pbiArIHJhdGUsIHRvdGFsTWluLCB0b3RhbE1heCk7XG4gICAgICAgIGNvbnN0IG1heCA9IGxpbWl0VmFsdWUocmFuZ2VJbmRpY2VzLm1heCAtIHJhdGUsIHRvdGFsTWluLCB0b3RhbE1heCk7XG5cbiAgICAgICAgaWYgKG1heCAtIG1pbiA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbWluOiBtaW4sXG4gICAgICAgICAgICAgICAgbWF4OiBtYXhcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzY2FsZVJhbmdlKHNjYWxlKSB7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gdGhpcy5vcHRpb25zLmNhdGVnb3JpZXMubGVuZ3RoO1xuICAgICAgICBjb25zdCBkZWx0YSA9IHNjYWxlICogcmFuZ2U7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbjogLWRlbHRhLFxuICAgICAgICAgICAgbWF4OiByYW5nZSArIGRlbHRhXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgbGFiZWxzQ291bnQoKSB7XG4gICAgICAgIGNvbnN0IGxhYmVsc1JhbmdlID0gdGhpcy5sYWJlbHNSYW5nZSgpO1xuXG4gICAgICAgIHJldHVybiBsYWJlbHNSYW5nZS5tYXggLSBsYWJlbHNSYW5nZS5taW47XG4gICAgfVxuXG4gICAgbGFiZWxzUmFuZ2UoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHsganVzdGlmaWVkLCBsYWJlbHM6IGxhYmVsT3B0aW9ucyB9ID0gb3B0aW9ucztcbiAgICAgICAgbGV0IHsgbWluLCBtYXggfSA9IHRoaXMudG90YWxSYW5nZUluZGljZXModHJ1ZSk7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gTWF0aC5mbG9vcihtaW4pO1xuXG4gICAgICAgIGlmICghanVzdGlmaWVkKSB7XG4gICAgICAgICAgICBtaW4gPSBNYXRoLmZsb29yKG1pbik7XG4gICAgICAgICAgICBtYXggPSBNYXRoLmNlaWwobWF4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1pbiA9IE1hdGguY2VpbChtaW4pO1xuICAgICAgICAgICAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNraXA7XG5cbiAgICAgICAgaWYgKG1pbiA+IGxhYmVsT3B0aW9ucy5za2lwKSB7XG4gICAgICAgICAgICBza2lwID0gbGFiZWxPcHRpb25zLnNraXAgKyBsYWJlbE9wdGlvbnMuc3RlcCAqIE1hdGguY2VpbCgobWluIC0gbGFiZWxPcHRpb25zLnNraXApIC8gbGFiZWxPcHRpb25zLnN0ZXApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2tpcCA9IGxhYmVsT3B0aW9ucy5za2lwO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbjogc2tpcCAtIHN0YXJ0LFxuICAgICAgICAgICAgbWF4OiAob3B0aW9ucy5jYXRlZ29yaWVzLmxlbmd0aCA/IG1heCArIChqdXN0aWZpZWQgPyAxIDogMCkgOiAwKSAtIHN0YXJ0XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgY3JlYXRlQXhpc0xhYmVsKGluZGV4LCBsYWJlbE9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgZGF0YUl0ZW0gPSBvcHRpb25zLmRhdGFJdGVtcyA/IG9wdGlvbnMuZGF0YUl0ZW1zW2luZGV4XSA6IG51bGw7XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gdmFsdWVPckRlZmF1bHQob3B0aW9ucy5jYXRlZ29yaWVzW2luZGV4XSwgXCJcIik7XG4gICAgICAgIGNvbnN0IHRleHQgPSB0aGlzLmF4aXNMYWJlbFRleHQoY2F0ZWdvcnksIGRhdGFJdGVtLCBsYWJlbE9wdGlvbnMpO1xuXG4gICAgICAgIHJldHVybiBuZXcgQXhpc0xhYmVsKGNhdGVnb3J5LCB0ZXh0LCBpbmRleCwgZGF0YUl0ZW0sIGxhYmVsT3B0aW9ucyk7XG4gICAgfVxuXG4gICAgc2hvdWxkUmVuZGVyTm90ZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCByYW5nZSA9IHRoaXMudG90YWxSYW5nZUluZGljZXMoKTtcblxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihyYW5nZS5taW4pIDw9IHZhbHVlICYmIHZhbHVlIDw9IE1hdGguY2VpbChyYW5nZS5tYXgpO1xuICAgIH1cblxuICAgIG5vdGVTbG90KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdmFsdWUgLSBNYXRoLmZsb29yKG9wdGlvbnMubWluIHx8IDApO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTbG90KGluZGV4KTtcbiAgICB9XG5cbiAgICBhcnJhbmdlTm90ZXMoKSB7XG4gICAgICAgIHN1cGVyLmFycmFuZ2VOb3RlcygpO1xuICAgICAgICB0aGlzLmhpZGVPdXRPZlJhbmdlTm90ZXMoKTtcbiAgICB9XG5cbiAgICBoaWRlT3V0T2ZSYW5nZU5vdGVzKCkge1xuICAgICAgICBjb25zdCB7IG5vdGVzLCBib3ggfSA9IHRoaXM7XG4gICAgICAgIGlmIChub3RlcyAmJiBub3Rlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlQXhpcyA9IHRoaXMub3B0aW9ucy52ZXJ0aWNhbCA/IFkgOiBYO1xuICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBib3hbdmFsdWVBeGlzICsgMV07XG4gICAgICAgICAgICBjb25zdCBlbmQgPSBib3hbdmFsdWVBeGlzICsgMl07XG5cbiAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IG5vdGVzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBub3RlID0gbm90ZXNbaWR4XTtcbiAgICAgICAgICAgICAgICBpZiAobm90ZS5ib3ggJiYgKGVuZCA8IG5vdGUuYm94W3ZhbHVlQXhpcyArIDFdIHx8IG5vdGUuYm94W3ZhbHVlQXhpcyArIDJdIDwgc3RhcnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vdGUuaGlkZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBhbihkZWx0YSkge1xuICAgICAgICBjb25zdCByYW5nZSA9IHRoaXMudG90YWxSYW5nZUluZGljZXModHJ1ZSk7XG4gICAgICAgIGNvbnN0IHsgc2NhbGUgfSA9IHRoaXMuc2NhbGVPcHRpb25zKCk7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHJvdW5kKGRlbHRhIC8gc2NhbGUsIERFRkFVTFRfUFJFQ0lTSU9OKTtcbiAgICAgICAgY29uc3QgdG90YWxSYW5nZSA9IHRoaXMudG90YWxSYW5nZSgpO1xuICAgICAgICBjb25zdCBtaW4gPSByYW5nZS5taW4gKyBvZmZzZXQ7XG4gICAgICAgIGNvbnN0IG1heCA9IHJhbmdlLm1heCArIG9mZnNldDtcblxuICAgICAgICByZXR1cm4gdGhpcy5saW1pdFJhbmdlKG1pbiwgbWF4LCAwLCB0b3RhbFJhbmdlLm1heCwgb2Zmc2V0KTtcbiAgICB9XG5cbiAgICBwb2ludHNSYW5nZShzdGFydCwgZW5kKSB7XG4gICAgICAgIGNvbnN0IHsgcmV2ZXJzZSwgdmVydGljYWwgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgdmFsdWVBeGlzID0gdmVydGljYWwgPyBZIDogWDtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSB0aGlzLnRvdGFsUmFuZ2VJbmRpY2VzKHRydWUpO1xuICAgICAgICBjb25zdCB7IHNjYWxlLCBib3ggfSA9IHRoaXMuc2NhbGVPcHRpb25zKCk7XG4gICAgICAgIGNvbnN0IGxpbmVTdGFydCA9IGJveFt2YWx1ZUF4aXMgKyAocmV2ZXJzZSA/IDIgOiAxKV07XG5cbiAgICAgICAgY29uc3QgZGlmZlN0YXJ0ID0gc3RhcnRbdmFsdWVBeGlzXSAtIGxpbmVTdGFydDtcbiAgICAgICAgY29uc3QgZGlmZkVuZCA9IGVuZFt2YWx1ZUF4aXNdIC0gbGluZVN0YXJ0O1xuXG4gICAgICAgIGNvbnN0IG1pbiA9IHJhbmdlLm1pbiArIGRpZmZTdGFydCAvIHNjYWxlO1xuICAgICAgICBjb25zdCBtYXggPSByYW5nZS5taW4gKyBkaWZmRW5kIC8gc2NhbGU7XG4gICAgICAgIGNvbnN0IHJhbmdlTWluID0gTWF0aC5taW4obWluLCBtYXgpO1xuICAgICAgICBjb25zdCByYW5nZU1heCA9IE1hdGgubWF4KG1pbiwgbWF4KTtcblxuICAgICAgICBpZiAocmFuZ2VNYXggLSByYW5nZU1pbiA+PSBNSU5fQ0FURUdPUllfUE9JTlRTX1JBTkdFKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1pbjogcmFuZ2VNaW4sXG4gICAgICAgICAgICAgICAgbWF4OiByYW5nZU1heFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhbHVlUmFuZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhbmdlKCk7XG4gICAgfVxuXG4gICAgdG90YWxJbmRleCh2YWx1ZSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuX2NhdGVnb3JpZXNNYXAgP1xuICAgICAgICAgICAgdGhpcy5fY2F0ZWdvcmllc01hcC5nZXQodmFsdWUpIDogaW5kZXhPZih2YWx1ZSwgb3B0aW9ucy5zcmNDYXRlZ29yaWVzKTtcblxuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgfVxuXG4gICAgY3VycmVudFJhbmdlSW5kaWNlcygpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgbGV0IG1pbiA9IDA7XG5cbiAgICAgICAgaWYgKGlzTnVtYmVyKG9wdGlvbnMubWluKSkge1xuICAgICAgICAgICAgbWluID0gTWF0aC5mbG9vcihvcHRpb25zLm1pbik7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbWF4O1xuICAgICAgICBpZiAoaXNOdW1iZXIob3B0aW9ucy5tYXgpKSB7XG4gICAgICAgICAgICBtYXggPSBvcHRpb25zLmp1c3RpZmllZCA/IE1hdGguZmxvb3Iob3B0aW9ucy5tYXgpIDogTWF0aC5jZWlsKG9wdGlvbnMubWF4KSAtIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtYXggPSB0aGlzLnRvdGFsQ291bnQoKSAtIDE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWluOiBtaW4sXG4gICAgICAgICAgICBtYXg6IG1heFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIG1hcENhdGVnb3JpZXMoKSB7XG4gICAgICAgIGlmICghdGhpcy5fY2F0ZWdvcmllc01hcCkge1xuICAgICAgICAgICAgY29uc3QgbWFwID0gdGhpcy5fY2F0ZWdvcmllc01hcCA9IG5ldyBIYXNoTWFwKCk7XG4gICAgICAgICAgICBjb25zdCBzcmNDYXRlZ29yaWVzID0gdGhpcy5vcHRpb25zLnNyY0NhdGVnb3JpZXM7XG4gICAgICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBzcmNDYXRlZ29yaWVzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICBtYXAuc2V0KHNyY0NhdGVnb3JpZXNbaWR4XSwgaWR4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRvdGFsQ291bnQoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heCh0aGlzLm9wdGlvbnMuc3JjQ2F0ZWdvcmllcy5sZW5ndGgsIHRoaXMuX3Nlcmllc01heCB8fCAwKTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKENhdGVnb3J5QXhpcywge1xuICAgIHR5cGU6IFwiY2F0ZWdvcnlcIixcbiAgICB2ZXJ0aWNhbDogZmFsc2UsXG4gICAgbWFqb3JHcmlkTGluZXM6IHtcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIHdpZHRoOiAxLFxuICAgICAgICBjb2xvcjogQkxBQ0tcbiAgICB9LFxuICAgIGxhYmVsczoge1xuICAgICAgICB6SW5kZXg6IDFcbiAgICB9LFxuICAgIGp1c3RpZmllZDogZmFsc2UsXG4gICAgX2RlZmVyTGFiZWxzOiB0cnVlXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgQ2F0ZWdvcnlBeGlzO1xuIiwiY29uc3QgQ09PUkRJTkFURV9MSU1JVCA9IDMwMDAwMDtcblxuY29uc3QgRGF0ZUxhYmVsRm9ybWF0cyA9IHtcbiAgICBtaWxsaXNlY29uZHM6IFwiSEg6bW06c3MuZmZmXCIsXG4gICAgc2Vjb25kczogXCJISDptbTpzc1wiLFxuICAgIG1pbnV0ZXM6IFwiSEg6bW1cIixcbiAgICBob3VyczogXCJISDptbVwiLFxuICAgIGRheXM6IFwiTS9kXCIsXG4gICAgd2Vla3M6IFwiTS9kXCIsXG4gICAgbW9udGhzOiBcIk1NTSAneXlcIixcbiAgICB5ZWFyczogXCJ5eXl5XCJcbn07XG5cbmNvbnN0IFpFUk9fVEhSRVNIT0xEID0gMC4yO1xuXG5leHBvcnQge1xuICAgIENPT1JESU5BVEVfTElNSVQsIERhdGVMYWJlbEZvcm1hdHMsIFpFUk9fVEhSRVNIT0xEXG59OyIsImltcG9ydCBDYXRlZ29yeUF4aXMgZnJvbSAnLi9jYXRlZ29yeS1heGlzJztcbmltcG9ydCBBeGlzTGFiZWwgZnJvbSAnLi9heGlzLWxhYmVsJztcblxuaW1wb3J0IHsgREVGQVVMVF9QUkVDSVNJT04sIE1BWF9WQUxVRSwgT0JKRUNULCBEQVRFLCBYLCBZIH0gZnJvbSAnLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBkZWVwRXh0ZW5kLCBkZWZpbmVkLCBpbkFycmF5LCBsYXN0LCBsaW1pdFZhbHVlLCByb3VuZCwgc2V0RGVmYXVsdE9wdGlvbnMsIHNwYXJzZUFycmF5TGltaXRzIH0gZnJvbSAnLi4vY29tbW9uJztcblxuaW1wb3J0IHsgTUlMTElTRUNPTkRTLCBTRUNPTkRTLCBNSU5VVEVTLCBIT1VSUywgREFZUywgV0VFS1MsIE1PTlRIUywgWUVBUlMsXG4gICAgVElNRV9QRVJfTUlOVVRFLCBUSU1FX1BFUl9IT1VSLCBUSU1FX1BFUl9EQVksIFRJTUVfUEVSX1dFRUssXG4gICAgVElNRV9QRVJfTU9OVEgsIFRJTUVfUEVSX1lFQVIsIFRJTUVfUEVSX1VOSVQgfSBmcm9tICcuLi9kYXRlLXV0aWxzL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBkYXRlQ29tcGFyZXIsIHRvRGF0ZSwgYWRkVGlja3MsIGFkZER1cmF0aW9uLCBkYXRlRGlmZiwgYWJzb2x1dGVEYXRlRGlmZixcbiAgICBkYXRlSW5kZXgsIGRhdGVFcXVhbHMsIHRvVGltZSwgcGFyc2VEYXRlLCBwYXJzZURhdGVzIH0gZnJvbSAnLi4vZGF0ZS11dGlscyc7XG5cbmltcG9ydCB7IERhdGVMYWJlbEZvcm1hdHMgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5cbmNvbnN0IEFVVE8gPSBcImF1dG9cIjtcbmNvbnN0IEJBU0VfVU5JVFMgPSBbXG4gICAgTUlMTElTRUNPTkRTLCBTRUNPTkRTLCBNSU5VVEVTLCBIT1VSUywgREFZUywgV0VFS1MsIE1PTlRIUywgWUVBUlNcbl07XG5jb25zdCBGSVQgPSBcImZpdFwiO1xuXG5cbmZ1bmN0aW9uIGNhdGVnb3J5UmFuZ2UoY2F0ZWdvcmllcykge1xuICAgIGxldCByYW5nZSA9IGNhdGVnb3JpZXMuX3JhbmdlO1xuICAgIGlmICghcmFuZ2UpIHtcbiAgICAgICAgcmFuZ2UgPSBjYXRlZ29yaWVzLl9yYW5nZSA9IHNwYXJzZUFycmF5TGltaXRzKGNhdGVnb3JpZXMpO1xuICAgICAgICByYW5nZS5taW4gPSB0b0RhdGUocmFuZ2UubWluKTtcbiAgICAgICAgcmFuZ2UubWF4ID0gdG9EYXRlKHJhbmdlLm1heCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJhbmdlO1xufVxuXG5jbGFzcyBFbXB0eURhdGVSYW5nZSB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cblxuICAgIGRpc3BsYXlJbmRpY2VzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgbWF4OiAxXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZGlzcGxheVJhbmdlKCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgdG90YWwoKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICB2YWx1ZVJhbmdlKCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgdmFsdWVJbmRleCgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIHZhbHVlcygpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIHRvdGFsSW5kZXgoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICB2YWx1ZXNDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgdG90YWxDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgZGF0ZUF0KCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5cbmNsYXNzIERhdGVSYW5nZSB7XG4gICAgY29uc3RydWN0b3Ioc3RhcnQsIGVuZCwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICBvcHRpb25zLmJhc2VVbml0U3RlcCA9IG9wdGlvbnMuYmFzZVVuaXRTdGVwIHx8IDE7XG5cbiAgICAgICAgY29uc3QgeyByb3VuZFRvQmFzZVVuaXQsIGp1c3RpZmllZCB9ID0gb3B0aW9ucztcblxuICAgICAgICB0aGlzLnN0YXJ0ID0gYWRkRHVyYXRpb24oc3RhcnQsIDAsIG9wdGlvbnMuYmFzZVVuaXQsIG9wdGlvbnMud2Vla1N0YXJ0RGF5KTtcbiAgICAgICAgY29uc3QgbG93ZXJFbmQgPSB0aGlzLnJvdW5kVG9Ub3RhbFN0ZXAoZW5kKTtcbiAgICAgICAgY29uc3QgZXhwYW5kRW5kID0gIWp1c3RpZmllZCAmJiBkYXRlRXF1YWxzKGVuZCwgbG93ZXJFbmQpICYmICFvcHRpb25zLmp1c3RpZnlFbmQ7XG5cbiAgICAgICAgdGhpcy5lbmQgPSB0aGlzLnJvdW5kVG9Ub3RhbFN0ZXAoZW5kLCAhanVzdGlmaWVkLCBleHBhbmRFbmQgPyAxIDogMCk7XG5cbiAgICAgICAgY29uc3QgbWluID0gb3B0aW9ucy5taW4gfHwgc3RhcnQ7XG4gICAgICAgIHRoaXMudmFsdWVTdGFydCA9IHRoaXMucm91bmRUb1RvdGFsU3RlcChtaW4pO1xuICAgICAgICB0aGlzLmRpc3BsYXlTdGFydCA9IHJvdW5kVG9CYXNlVW5pdCA/IHRoaXMudmFsdWVTdGFydCA6IG1pbjtcblxuICAgICAgICBjb25zdCBtYXggPSBvcHRpb25zLm1heDtcbiAgICAgICAgaWYgKCFtYXgpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWVFbmQgPSBsb3dlckVuZDtcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheUVuZCA9IHJvdW5kVG9CYXNlVW5pdCB8fCBleHBhbmRFbmQgPyB0aGlzLmVuZCA6IGVuZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWVFbmQgPSB0aGlzLnJvdW5kVG9Ub3RhbFN0ZXAobWF4LCBmYWxzZSwgIWp1c3RpZmllZCAmJiBkYXRlRXF1YWxzKG1heCwgdGhpcy5yb3VuZFRvVG90YWxTdGVwKG1heCkpID8gLTEgOiAwKTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheUVuZCA9IHJvdW5kVG9CYXNlVW5pdCA/IHRoaXMucm91bmRUb1RvdGFsU3RlcChtYXgsICFqdXN0aWZpZWQpIDogb3B0aW9ucy5tYXg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy52YWx1ZUVuZCA8IHRoaXMudmFsdWVTdGFydCkge1xuICAgICAgICAgICAgdGhpcy52YWx1ZUVuZCA9IHRoaXMudmFsdWVTdGFydDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kaXNwbGF5RW5kIDw9IHRoaXMuZGlzcGxheVN0YXJ0KSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlFbmQgPSB0aGlzLnJvdW5kVG9Ub3RhbFN0ZXAodGhpcy5kaXNwbGF5U3RhcnQsIGZhbHNlLCAxKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRpc3BsYXlSYW5nZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbjogdGhpcy5kaXNwbGF5U3RhcnQsXG4gICAgICAgICAgICBtYXg6IHRoaXMuZGlzcGxheUVuZFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGRpc3BsYXlJbmRpY2VzKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2luZGljZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgICAgIGNvbnN0IHsgYmFzZVVuaXQsIGJhc2VVbml0U3RlcCB9ID0gb3B0aW9ucztcblxuICAgICAgICAgICAgY29uc3QgbWluSWR4ID0gZGF0ZUluZGV4KHRoaXMuZGlzcGxheVN0YXJ0LCB0aGlzLnZhbHVlU3RhcnQsIGJhc2VVbml0LCBiYXNlVW5pdFN0ZXApO1xuICAgICAgICAgICAgY29uc3QgbWF4SWR4ID0gZGF0ZUluZGV4KHRoaXMuZGlzcGxheUVuZCwgdGhpcy52YWx1ZVN0YXJ0LCBiYXNlVW5pdCwgYmFzZVVuaXRTdGVwKTtcblxuICAgICAgICAgICAgdGhpcy5faW5kaWNlcyA9IHsgbWluOiBtaW5JZHgsIG1heDogbWF4SWR4IH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5faW5kaWNlcztcbiAgICB9XG5cbiAgICB0b3RhbCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbjogdGhpcy5zdGFydCxcbiAgICAgICAgICAgIG1heDogdGhpcy5lbmRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB0b3RhbENvdW50KCkge1xuICAgICAgICBjb25zdCBsYXN0ID0gdGhpcy50b3RhbEluZGV4KHRoaXMuZW5kKTtcblxuICAgICAgICByZXR1cm4gbGFzdCArICh0aGlzLm9wdGlvbnMuanVzdGlmaWVkID8gMSA6IDApO1xuICAgIH1cblxuICAgIHZhbHVlUmFuZ2UoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtaW46IHRoaXMudmFsdWVTdGFydCxcbiAgICAgICAgICAgIG1heDogdGhpcy52YWx1ZUVuZFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhbHVlSW5kZXgodmFsdWUpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoZGF0ZUluZGV4KHZhbHVlLCB0aGlzLnZhbHVlU3RhcnQsIG9wdGlvbnMuYmFzZVVuaXQsIG9wdGlvbnMuYmFzZVVuaXRTdGVwKSk7XG4gICAgfVxuXG4gICAgdG90YWxJbmRleCh2YWx1ZSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihkYXRlSW5kZXgodmFsdWUsIHRoaXMuc3RhcnQsIG9wdGlvbnMuYmFzZVVuaXQsIG9wdGlvbnMuYmFzZVVuaXRTdGVwKSk7XG4gICAgfVxuXG4gICAgZGF0ZUluZGV4KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHJldHVybiBkYXRlSW5kZXgodmFsdWUsIHRoaXMudmFsdWVTdGFydCwgb3B0aW9ucy5iYXNlVW5pdCwgb3B0aW9ucy5iYXNlVW5pdFN0ZXApO1xuICAgIH1cblxuICAgIHZhbHVlc0NvdW50KCkge1xuICAgICAgICBjb25zdCBtYXhJZHggPSB0aGlzLnZhbHVlSW5kZXgodGhpcy52YWx1ZUVuZCk7XG5cbiAgICAgICAgcmV0dXJuIG1heElkeCArIDE7XG4gICAgfVxuXG4gICAgdmFsdWVzKCkge1xuICAgICAgICBsZXQgdmFsdWVzID0gdGhpcy5fdmFsdWVzO1xuICAgICAgICBpZiAoIXZhbHVlcykge1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gdGhpcy52YWx1ZVJhbmdlKCk7XG4gICAgICAgICAgICB0aGlzLl92YWx1ZXMgPSB2YWx1ZXMgPSBbXTtcblxuICAgICAgICAgICAgZm9yIChsZXQgZGF0ZSA9IHJhbmdlLm1pbjsgZGF0ZSA8PSByYW5nZS5tYXg7KSB7XG4gICAgICAgICAgICAgICAgdmFsdWVzLnB1c2goZGF0ZSk7XG4gICAgICAgICAgICAgICAgZGF0ZSA9IGFkZER1cmF0aW9uKGRhdGUsIG9wdGlvbnMuYmFzZVVuaXRTdGVwLCBvcHRpb25zLmJhc2VVbml0LCBvcHRpb25zLndlZWtTdGFydERheSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH1cblxuICAgIGRhdGVBdChpbmRleCwgdG90YWwpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICByZXR1cm4gYWRkRHVyYXRpb24odG90YWwgPyB0aGlzLnN0YXJ0IDogdGhpcy52YWx1ZVN0YXJ0LCBvcHRpb25zLmJhc2VVbml0U3RlcCAqIGluZGV4LCBvcHRpb25zLmJhc2VVbml0LCBvcHRpb25zLndlZWtTdGFydERheSk7XG4gICAgfVxuXG4gICAgcm91bmRUb1RvdGFsU3RlcCh2YWx1ZSwgdXBwZXIsIG5leHQpIHtcbiAgICAgICAgY29uc3QgeyBiYXNlVW5pdCwgYmFzZVVuaXRTdGVwLCB3ZWVrU3RhcnREYXkgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLnN0YXJ0O1xuXG4gICAgICAgIGNvbnN0IHN0ZXAgPSBkYXRlSW5kZXgodmFsdWUsIHN0YXJ0LCBiYXNlVW5pdCwgYmFzZVVuaXRTdGVwKTtcbiAgICAgICAgbGV0IHJvdW5kZWRTdGVwID0gdXBwZXIgPyBNYXRoLmNlaWwoc3RlcCkgOiBNYXRoLmZsb29yKHN0ZXApO1xuXG4gICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgICByb3VuZGVkU3RlcCArPSBuZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFkZER1cmF0aW9uKHN0YXJ0LCByb3VuZGVkU3RlcCAqIGJhc2VVbml0U3RlcCwgYmFzZVVuaXQsIHdlZWtTdGFydERheSk7XG4gICAgfVxuXG59XG5cbmZ1bmN0aW9uIGF1dG9CYXNlVW5pdChvcHRpb25zLCBzdGFydFVuaXQsIHN0YXJ0U3RlcCkge1xuICAgIGNvbnN0IGNhdGVnb3J5TGltaXRzID0gY2F0ZWdvcnlSYW5nZShvcHRpb25zLmNhdGVnb3JpZXMpO1xuICAgIGNvbnN0IHNwYW4gPSAob3B0aW9ucy5tYXggfHwgY2F0ZWdvcnlMaW1pdHMubWF4KSAtIChvcHRpb25zLm1pbiB8fCBjYXRlZ29yeUxpbWl0cy5taW4pO1xuICAgIGNvbnN0IHsgYXV0b0Jhc2VVbml0U3RlcHMsIG1heERhdGVHcm91cHMgfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgYXV0b1VuaXQgPSBvcHRpb25zLmJhc2VVbml0ID09PSBGSVQ7XG4gICAgbGV0IGF1dG9Vbml0SXggPSBzdGFydFVuaXQgPyBCQVNFX1VOSVRTLmluZGV4T2Yoc3RhcnRVbml0KSA6IDA7XG4gICAgbGV0IGJhc2VVbml0ID0gYXV0b1VuaXQgPyBCQVNFX1VOSVRTW2F1dG9Vbml0SXgrK10gOiBvcHRpb25zLmJhc2VVbml0O1xuICAgIGxldCB1bml0cyA9IHNwYW4gLyBUSU1FX1BFUl9VTklUW2Jhc2VVbml0XTtcbiAgICBsZXQgdG90YWxVbml0cyA9IHVuaXRzO1xuICAgIGxldCB1bml0U3RlcHMsIHN0ZXAsIG5leHRTdGVwO1xuXG4gICAgd2hpbGUgKCFzdGVwIHx8IHVuaXRzID49IG1heERhdGVHcm91cHMpIHtcbiAgICAgICAgdW5pdFN0ZXBzID0gdW5pdFN0ZXBzIHx8IGF1dG9CYXNlVW5pdFN0ZXBzW2Jhc2VVbml0XS5zbGljZSgwKTtcblxuICAgICAgICBkbyB7XG4gICAgICAgICAgICBuZXh0U3RlcCA9IHVuaXRTdGVwcy5zaGlmdCgpO1xuICAgICAgICB9IHdoaWxlIChuZXh0U3RlcCAmJiBzdGFydFVuaXQgPT09IGJhc2VVbml0ICYmIG5leHRTdGVwIDwgc3RhcnRTdGVwKTtcblxuICAgICAgICBpZiAobmV4dFN0ZXApIHtcbiAgICAgICAgICAgIHN0ZXAgPSBuZXh0U3RlcDtcbiAgICAgICAgICAgIHVuaXRzID0gdG90YWxVbml0cyAvIHN0ZXA7XG4gICAgICAgIH0gZWxzZSBpZiAoYmFzZVVuaXQgPT09IGxhc3QoQkFTRV9VTklUUykpIHtcbiAgICAgICAgICAgIHN0ZXAgPSBNYXRoLmNlaWwodG90YWxVbml0cyAvIG1heERhdGVHcm91cHMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH0gZWxzZSBpZiAoYXV0b1VuaXQpIHtcbiAgICAgICAgICAgIGJhc2VVbml0ID0gQkFTRV9VTklUU1thdXRvVW5pdEl4KytdIHx8IGxhc3QoQkFTRV9VTklUUyk7XG4gICAgICAgICAgICB0b3RhbFVuaXRzID0gc3BhbiAvIFRJTUVfUEVSX1VOSVRbYmFzZVVuaXRdO1xuICAgICAgICAgICAgdW5pdFN0ZXBzID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh1bml0cyA+IG1heERhdGVHcm91cHMpIHtcbiAgICAgICAgICAgICAgICBzdGVwID0gTWF0aC5jZWlsKHRvdGFsVW5pdHMgLyBtYXhEYXRlR3JvdXBzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb3B0aW9ucy5iYXNlVW5pdFN0ZXAgPSBzdGVwO1xuICAgIG9wdGlvbnMuYmFzZVVuaXQgPSBiYXNlVW5pdDtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdEJhc2VVbml0KG9wdGlvbnMpIHtcbiAgICBjb25zdCBjYXRlZ29yaWVzID0gb3B0aW9ucy5jYXRlZ29yaWVzO1xuICAgIGNvbnN0IGNvdW50ID0gZGVmaW5lZChjYXRlZ29yaWVzKSA/IGNhdGVnb3JpZXMubGVuZ3RoIDogMDtcbiAgICBsZXQgbWluRGlmZiA9IE1BWF9WQUxVRTtcbiAgICBsZXQgbGFzdENhdGVnb3J5LCB1bml0O1xuXG4gICAgZm9yIChsZXQgY2F0ZWdvcnlJeCA9IDA7IGNhdGVnb3J5SXggPCBjb3VudDsgY2F0ZWdvcnlJeCsrKSB7XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gY2F0ZWdvcmllc1tjYXRlZ29yeUl4XTtcblxuICAgICAgICBpZiAoY2F0ZWdvcnkgJiYgbGFzdENhdGVnb3J5KSB7XG4gICAgICAgICAgICBjb25zdCBkaWZmID0gYWJzb2x1dGVEYXRlRGlmZihjYXRlZ29yeSwgbGFzdENhdGVnb3J5KTtcbiAgICAgICAgICAgIGlmIChkaWZmID4gMCkge1xuICAgICAgICAgICAgICAgIG1pbkRpZmYgPSBNYXRoLm1pbihtaW5EaWZmLCBkaWZmKTtcblxuICAgICAgICAgICAgICAgIGlmIChtaW5EaWZmID49IFRJTUVfUEVSX1lFQVIpIHtcbiAgICAgICAgICAgICAgICAgICAgdW5pdCA9IFlFQVJTO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWluRGlmZiA+PSBUSU1FX1BFUl9NT05USCAtIFRJTUVfUEVSX0RBWSAqIDMpIHtcbiAgICAgICAgICAgICAgICAgICAgdW5pdCA9IE1PTlRIUztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1pbkRpZmYgPj0gVElNRV9QRVJfV0VFSykge1xuICAgICAgICAgICAgICAgICAgICB1bml0ID0gV0VFS1M7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtaW5EaWZmID49IFRJTUVfUEVSX0RBWSkge1xuICAgICAgICAgICAgICAgICAgICB1bml0ID0gREFZUztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1pbkRpZmYgPj0gVElNRV9QRVJfSE9VUikge1xuICAgICAgICAgICAgICAgICAgICB1bml0ID0gSE9VUlM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtaW5EaWZmID49IFRJTUVfUEVSX01JTlVURSkge1xuICAgICAgICAgICAgICAgICAgICB1bml0ID0gTUlOVVRFUztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB1bml0ID0gU0VDT05EUztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsYXN0Q2F0ZWdvcnkgPSBjYXRlZ29yeTtcbiAgICB9XG5cbiAgICBvcHRpb25zLmJhc2VVbml0ID0gdW5pdCB8fCBEQVlTO1xufVxuXG5mdW5jdGlvbiBpbml0VW5pdChvcHRpb25zKSB7XG4gICAgY29uc3QgYmFzZVVuaXQgPSAob3B0aW9ucy5iYXNlVW5pdCB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IHVzZURlZmF1bHQgPSBiYXNlVW5pdCAhPT0gRklUICYmICFpbkFycmF5KGJhc2VVbml0LCBCQVNFX1VOSVRTKTtcblxuICAgIGlmICh1c2VEZWZhdWx0KSB7XG4gICAgICAgIGRlZmF1bHRCYXNlVW5pdChvcHRpb25zKTtcbiAgICB9XG5cbiAgICBpZiAoYmFzZVVuaXQgPT09IEZJVCB8fCBvcHRpb25zLmJhc2VVbml0U3RlcCA9PT0gQVVUTykge1xuICAgICAgICBhdXRvQmFzZVVuaXQob3B0aW9ucyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9wdGlvbnM7XG59XG5cbmNsYXNzIERhdGVDYXRlZ29yeUF4aXMgZXh0ZW5kcyBDYXRlZ29yeUF4aXMge1xuXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIGNvbnN0IGNvcHkgPSBuZXcgRGF0ZUNhdGVnb3J5QXhpcyhPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wdGlvbnMpLCB0aGlzLmNoYXJ0U2VydmljZSk7XG4gICAgICAgIGNvcHkuY3JlYXRlTGFiZWxzKCk7XG5cbiAgICAgICAgcmV0dXJuIGNvcHk7XG4gICAgfVxuXG4gICAgY2F0ZWdvcmllc0hhc2goKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5kYXRhUmFuZ2UudG90YWwoKS5taW47XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuYmFzZVVuaXQgKyB0aGlzLm9wdGlvbnMuYmFzZVVuaXRTdGVwICsgc3RhcnQ7XG4gICAgfVxuXG4gICAgaW5pdFVzZXJPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfVxuXG4gICAgaW5pdEZpZWxkcygpIHtcbiAgICAgICAgc3VwZXIuaW5pdEZpZWxkcygpO1xuXG4gICAgICAgIGNvbnN0IGNoYXJ0U2VydmljZSA9IHRoaXMuY2hhcnRTZXJ2aWNlO1xuICAgICAgICBjb25zdCBpbnRsU2VydmljZSA9IGNoYXJ0U2VydmljZS5pbnRsO1xuICAgICAgICBsZXQgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICBsZXQgY2F0ZWdvcmllcyA9IG9wdGlvbnMuY2F0ZWdvcmllcyB8fCBbXTtcbiAgICAgICAgaWYgKCFjYXRlZ29yaWVzLl9wYXJzZWQpIHtcbiAgICAgICAgICAgIGNhdGVnb3JpZXMgPSBwYXJzZURhdGVzKGludGxTZXJ2aWNlLCBjYXRlZ29yaWVzKTtcbiAgICAgICAgICAgIGNhdGVnb3JpZXMuX3BhcnNlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBvcHRpb25zID0gZGVlcEV4dGVuZCh7XG4gICAgICAgICAgICByb3VuZFRvQmFzZVVuaXQ6IHRydWVcbiAgICAgICAgfSwgb3B0aW9ucywge1xuICAgICAgICAgICAgY2F0ZWdvcmllczogY2F0ZWdvcmllcyxcbiAgICAgICAgICAgIG1pbjogcGFyc2VEYXRlKGludGxTZXJ2aWNlLCBvcHRpb25zLm1pbiksXG4gICAgICAgICAgICBtYXg6IHBhcnNlRGF0ZShpbnRsU2VydmljZSwgb3B0aW9ucy5tYXgpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChjaGFydFNlcnZpY2UucGFubmluZyAmJiBjaGFydFNlcnZpY2UuaXNQYW5uYWJsZShvcHRpb25zLnZlcnRpY2FsID8gWSA6IFgpKSB7XG4gICAgICAgICAgICBvcHRpb25zLnJvdW5kVG9CYXNlVW5pdCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0aW9ucy51c2VyU2V0QmFzZVVuaXQgPSBvcHRpb25zLnVzZXJTZXRCYXNlVW5pdCB8fCBvcHRpb25zLmJhc2VVbml0O1xuICAgICAgICBvcHRpb25zLnVzZXJTZXRCYXNlVW5pdFN0ZXAgPSBvcHRpb25zLnVzZXJTZXRCYXNlVW5pdFN0ZXAgfHwgb3B0aW9ucy5iYXNlVW5pdFN0ZXA7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgb3B0aW9ucy5zcmNDYXRlZ29yaWVzID0gY2F0ZWdvcmllcztcblxuICAgICAgICBpZiAoY2F0ZWdvcmllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCByYW5nZSA9IGNhdGVnb3J5UmFuZ2UoY2F0ZWdvcmllcyk7XG4gICAgICAgICAgICBjb25zdCBtYXhEaXZpc2lvbnMgPSBvcHRpb25zLm1heERpdmlzaW9ucztcblxuICAgICAgICAgICAgdGhpcy5kYXRhUmFuZ2UgPSBuZXcgRGF0ZVJhbmdlKHJhbmdlLm1pbiwgcmFuZ2UubWF4LCBpbml0VW5pdChvcHRpb25zKSk7XG5cbiAgICAgICAgICAgIGlmIChtYXhEaXZpc2lvbnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhUmFuZ2UgPSB0aGlzLmRhdGFSYW5nZS5kaXNwbGF5UmFuZ2UoKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGRpdmlzaW9uT3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMsIHtcbiAgICAgICAgICAgICAgICAgICAganVzdGlmaWVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICByb3VuZFRvQmFzZVVuaXQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBiYXNlVW5pdDogJ2ZpdCcsXG4gICAgICAgICAgICAgICAgICAgIG1pbjogZGF0YVJhbmdlLm1pbixcbiAgICAgICAgICAgICAgICAgICAgbWF4OiBkYXRhUmFuZ2UubWF4LFxuICAgICAgICAgICAgICAgICAgICBtYXhEYXRlR3JvdXBzOiBtYXhEaXZpc2lvbnNcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFSYW5nZU9wdGlvbnMgPSB0aGlzLmRhdGFSYW5nZS5vcHRpb25zO1xuXG4gICAgICAgICAgICAgICAgYXV0b0Jhc2VVbml0KGRpdmlzaW9uT3B0aW9ucywgZGF0YVJhbmdlT3B0aW9ucy5iYXNlVW5pdCwgZGF0YVJhbmdlT3B0aW9ucy5iYXNlVW5pdFN0ZXApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kaXZpc2lvblJhbmdlID0gbmV3IERhdGVSYW5nZShyYW5nZS5taW4sIHJhbmdlLm1heCwgZGl2aXNpb25PcHRpb25zKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXZpc2lvblJhbmdlID0gdGhpcy5kYXRhUmFuZ2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbnMuYmFzZVVuaXQgPSBvcHRpb25zLmJhc2VVbml0IHx8IERBWVM7XG4gICAgICAgICAgICB0aGlzLmRhdGFSYW5nZSA9IHRoaXMuZGl2aXNpb25SYW5nZSA9IG5ldyBFbXB0eURhdGVSYW5nZShvcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRpY2tJbmRpY2VzKHN0ZXBTaXplKSB7XG4gICAgICAgIGNvbnN0IHsgZGF0YVJhbmdlLCBkaXZpc2lvblJhbmdlIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB2YWx1ZXNDb3VudCA9IGRpdmlzaW9uUmFuZ2UudmFsdWVzQ291bnQoKTtcblxuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5tYXhEaXZpc2lvbnMgfHwgIXZhbHVlc0NvdW50KSB7XG4gICAgICAgICAgICByZXR1cm4gc3VwZXIudGlja0luZGljZXMoc3RlcFNpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaW5kaWNlcyA9IFtdO1xuICAgICAgICBsZXQgdmFsdWVzID0gZGl2aXNpb25SYW5nZS52YWx1ZXMoKTtcbiAgICAgICAgbGV0IG9mZnNldCA9IDA7XG5cbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuanVzdGlmaWVkKSB7XG4gICAgICAgICAgICB2YWx1ZXMgPSB2YWx1ZXMuY29uY2F0KGRpdmlzaW9uUmFuZ2UuZGF0ZUF0KHZhbHVlc0NvdW50KSk7XG4gICAgICAgICAgICBvZmZzZXQgPSAwLjU7Ly9hbGlnbiB0aWNrcyB0byB0aGUgY2VudGVyIG9mIG5vdCBqdXN0aWZpZWQgY2F0ZWdvcmllc1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgdmFsdWVzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGluZGljZXMucHVzaChkYXRhUmFuZ2UuZGF0ZUluZGV4KHZhbHVlc1tpZHhdKSArIG9mZnNldCk7XG4gICAgICAgICAgICBpZiAoc3RlcFNpemUgIT09IDEgJiYgaWR4ID49IDEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0ID0gaW5kaWNlcy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIGluZGljZXMuc3BsaWNlKGlkeCwgMCwgaW5kaWNlc1tsYXN0IC0gMV0gKyAoaW5kaWNlc1tsYXN0XSAtIGluZGljZXNbbGFzdCAtIDFdKSAqIHN0ZXBTaXplKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbmRpY2VzO1xuICAgIH1cblxuICAgIHNob3VsZFJlbmRlck5vdGUodmFsdWUpIHtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSB0aGlzLnJhbmdlKCk7XG4gICAgICAgIGNvbnN0IGNhdGVnb3JpZXMgPSB0aGlzLm9wdGlvbnMuY2F0ZWdvcmllcyB8fCBbXTtcblxuICAgICAgICByZXR1cm4gZGF0ZUNvbXBhcmVyKHZhbHVlLCByYW5nZS5taW4pID49IDAgJiYgZGF0ZUNvbXBhcmVyKHZhbHVlLCByYW5nZS5tYXgpIDw9IDAgJiYgY2F0ZWdvcmllcy5sZW5ndGg7XG4gICAgfVxuXG4gICAgcGFyc2VOb3RlVmFsdWUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlRGF0ZSh0aGlzLmNoYXJ0U2VydmljZS5pbnRsLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgbm90ZVNsb3QodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2xvdCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgdHJhbnNsYXRlUmFuZ2UoZGVsdGEpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgeyBiYXNlVW5pdCwgd2Vla1N0YXJ0RGF5LCB2ZXJ0aWNhbCB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgbGluZUJveCA9IHRoaXMubGluZUJveCgpO1xuICAgICAgICBjb25zdCBzaXplID0gdmVydGljYWwgPyBsaW5lQm94LmhlaWdodCgpIDogbGluZUJveC53aWR0aCgpO1xuICAgICAgICBsZXQgcmFuZ2UgPSB0aGlzLnJhbmdlKCk7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gc2l6ZSAvIChyYW5nZS5tYXggLSByYW5nZS5taW4pO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSByb3VuZChkZWx0YSAvIHNjYWxlLCBERUZBVUxUX1BSRUNJU0lPTik7XG5cbiAgICAgICAgaWYgKHJhbmdlLm1pbiAmJiByYW5nZS5tYXgpIHtcbiAgICAgICAgICAgIGNvbnN0IGZyb20gPSBhZGRUaWNrcyhvcHRpb25zLm1pbiB8fCByYW5nZS5taW4sIG9mZnNldCk7XG4gICAgICAgICAgICBjb25zdCB0byA9IGFkZFRpY2tzKG9wdGlvbnMubWF4IHx8IHJhbmdlLm1heCwgb2Zmc2V0KTtcblxuICAgICAgICAgICAgcmFuZ2UgPSB7XG4gICAgICAgICAgICAgICAgbWluOiBhZGREdXJhdGlvbihmcm9tLCAwLCBiYXNlVW5pdCwgd2Vla1N0YXJ0RGF5KSxcbiAgICAgICAgICAgICAgICBtYXg6IGFkZER1cmF0aW9uKHRvLCAwLCBiYXNlVW5pdCwgd2Vla1N0YXJ0RGF5KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByYW5nZTtcbiAgICB9XG5cbiAgICBzY2FsZVJhbmdlKGRlbHRhKSB7XG4gICAgICAgIGxldCByb3VuZHMgPSBNYXRoLmFicyhkZWx0YSk7XG4gICAgICAgIGxldCByZXN1bHQgPSB0aGlzLnJhbmdlKCk7XG4gICAgICAgIGxldCB7IG1pbjogZnJvbSwgbWF4OiB0byB9ID0gcmVzdWx0O1xuXG4gICAgICAgIGlmIChmcm9tICYmIHRvKSB7XG4gICAgICAgICAgICB3aGlsZSAocm91bmRzLS0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCByYW5nZSA9IGRhdGVEaWZmKGZyb20sIHRvKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGVwID0gTWF0aC5yb3VuZChyYW5nZSAqIDAuMSk7XG4gICAgICAgICAgICAgICAgaWYgKGRlbHRhIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBmcm9tID0gYWRkVGlja3MoZnJvbSwgc3RlcCk7XG4gICAgICAgICAgICAgICAgICAgIHRvID0gYWRkVGlja3ModG8sIC1zdGVwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmcm9tID0gYWRkVGlja3MoZnJvbSwgLXN0ZXApO1xuICAgICAgICAgICAgICAgICAgICB0byA9IGFkZFRpY2tzKHRvLCBzdGVwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlc3VsdCA9IHsgbWluOiBmcm9tLCBtYXg6IHRvIH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGxhYmVsc1JhbmdlKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWluOiB0aGlzLm9wdGlvbnMubGFiZWxzLnNraXAsXG4gICAgICAgICAgICBtYXg6IHRoaXMuZGl2aXNpb25SYW5nZS52YWx1ZXNDb3VudCgpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcGFuKGRlbHRhKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBsaW5lQm94ID0gdGhpcy5saW5lQm94KCk7XG4gICAgICAgIGNvbnN0IHNpemUgPSBvcHRpb25zLnZlcnRpY2FsID8gbGluZUJveC5oZWlnaHQoKSA6IGxpbmVCb3gud2lkdGgoKTtcbiAgICAgICAgY29uc3QgeyBtaW4sIG1heCB9ID0gdGhpcy5kYXRhUmFuZ2UuZGlzcGxheVJhbmdlKCk7XG4gICAgICAgIGNvbnN0IHRvdGFsTGltaXRzID0gdGhpcy5kYXRhUmFuZ2UudG90YWwoKTtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBzaXplIC8gKG1heCAtIG1pbik7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHJvdW5kKGRlbHRhIC8gc2NhbGUsIERFRkFVTFRfUFJFQ0lTSU9OKSAqIChvcHRpb25zLnJldmVyc2UgPyAtMSA6IDEpO1xuICAgICAgICBjb25zdCBmcm9tID0gYWRkVGlja3MobWluLCBvZmZzZXQpO1xuICAgICAgICBjb25zdCB0byA9IGFkZFRpY2tzKG1heCwgb2Zmc2V0KTtcblxuICAgICAgICBjb25zdCBwYW5SYW5nZSA9IHRoaXMubGltaXRSYW5nZSh0b1RpbWUoZnJvbSksIHRvVGltZSh0byksIHRvVGltZSh0b3RhbExpbWl0cy5taW4pLCB0b1RpbWUodG90YWxMaW1pdHMubWF4KSwgb2Zmc2V0KTtcblxuICAgICAgICBpZiAocGFuUmFuZ2UpIHtcbiAgICAgICAgICAgIHBhblJhbmdlLm1pbiA9IHRvRGF0ZShwYW5SYW5nZS5taW4pO1xuICAgICAgICAgICAgcGFuUmFuZ2UubWF4ID0gdG9EYXRlKHBhblJhbmdlLm1heCk7XG4gICAgICAgICAgICBwYW5SYW5nZS5iYXNlVW5pdCA9IG9wdGlvbnMuYmFzZVVuaXQ7XG4gICAgICAgICAgICBwYW5SYW5nZS5iYXNlVW5pdFN0ZXAgPSBvcHRpb25zLmJhc2VVbml0U3RlcCB8fCAxO1xuICAgICAgICAgICAgcGFuUmFuZ2UudXNlclNldEJhc2VVbml0ID0gb3B0aW9ucy51c2VyU2V0QmFzZVVuaXQ7XG4gICAgICAgICAgICBwYW5SYW5nZS51c2VyU2V0QmFzZVVuaXRTdGVwID0gb3B0aW9ucy51c2VyU2V0QmFzZVVuaXRTdGVwO1xuXG4gICAgICAgICAgICByZXR1cm4gcGFuUmFuZ2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwb2ludHNSYW5nZShzdGFydCwgZW5kKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwb2ludHNSYW5nZSA9IHN1cGVyLnBvaW50c1JhbmdlKHN0YXJ0LCBlbmQpO1xuICAgICAgICBjb25zdCBkYXRlc1JhbmdlID0gdGhpcy5kYXRhUmFuZ2UuZGlzcGxheVJhbmdlKCk7XG4gICAgICAgIGNvbnN0IGluZGljZXNSYW5nZSA9IHRoaXMuZGF0YVJhbmdlLmRpc3BsYXlJbmRpY2VzKCk7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gZGF0ZURpZmYoZGF0ZXNSYW5nZS5tYXgsIGRhdGVzUmFuZ2UubWluKSAvIChpbmRpY2VzUmFuZ2UubWF4IC0gaW5kaWNlc1JhbmdlLm1pbik7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgY29uc3QgbWluID0gYWRkVGlja3MoZGF0ZXNSYW5nZS5taW4sIHBvaW50c1JhbmdlLm1pbiAqIHNjYWxlKTtcbiAgICAgICAgY29uc3QgbWF4ID0gYWRkVGlja3MoZGF0ZXNSYW5nZS5taW4sIHBvaW50c1JhbmdlLm1heCAqIHNjYWxlKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWluOiBtaW4sXG4gICAgICAgICAgICBtYXg6IG1heCxcbiAgICAgICAgICAgIGJhc2VVbml0OiBvcHRpb25zLnVzZXJTZXRCYXNlVW5pdCB8fCBvcHRpb25zLmJhc2VVbml0LFxuICAgICAgICAgICAgYmFzZVVuaXRTdGVwOiBvcHRpb25zLnVzZXJTZXRCYXNlVW5pdFN0ZXAgfHwgb3B0aW9ucy5iYXNlVW5pdFN0ZXBcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB6b29tUmFuZ2UoZGVsdGEpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGZpdCA9IG9wdGlvbnMudXNlclNldEJhc2VVbml0ID09PSBGSVQ7XG4gICAgICAgIGNvbnN0IHRvdGFsTGltaXRzID0gdGhpcy5kYXRhUmFuZ2UudG90YWwoKTtcbiAgICAgICAgY29uc3QgeyBtaW46IHJhbmdlTWluLCBtYXg6IHJhbmdlTWF4IH0gPSB0aGlzLmRhdGFSYW5nZS5kaXNwbGF5UmFuZ2UoKTtcbiAgICAgICAgbGV0IHsgd2Vla1N0YXJ0RGF5LCBiYXNlVW5pdCwgYmFzZVVuaXRTdGVwIH0gPSB0aGlzLmRhdGFSYW5nZS5vcHRpb25zO1xuICAgICAgICBsZXQgbWluID0gYWRkRHVyYXRpb24ocmFuZ2VNaW4sIGRlbHRhICogYmFzZVVuaXRTdGVwLCBiYXNlVW5pdCwgd2Vla1N0YXJ0RGF5KTtcbiAgICAgICAgbGV0IG1heCA9IGFkZER1cmF0aW9uKHJhbmdlTWF4LCAtZGVsdGEgKiBiYXNlVW5pdFN0ZXAsIGJhc2VVbml0LCB3ZWVrU3RhcnREYXkpO1xuXG4gICAgICAgIGlmIChmaXQpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgYXV0b0Jhc2VVbml0U3RlcHMsIG1heERhdGVHcm91cHMgfSA9IG9wdGlvbnM7XG5cbiAgICAgICAgICAgIGNvbnN0IG1heERpZmYgPSBsYXN0KGF1dG9CYXNlVW5pdFN0ZXBzW2Jhc2VVbml0XSkgKiBtYXhEYXRlR3JvdXBzICogVElNRV9QRVJfVU5JVFtiYXNlVW5pdF07XG4gICAgICAgICAgICBjb25zdCByYW5nZURpZmYgPSBkYXRlRGlmZihyYW5nZU1heCwgcmFuZ2VNaW4pO1xuICAgICAgICAgICAgY29uc3QgZGlmZiA9IGRhdGVEaWZmKG1heCwgbWluKTtcbiAgICAgICAgICAgIGxldCBiYXNlVW5pdEluZGV4ID0gQkFTRV9VTklUUy5pbmRleE9mKGJhc2VVbml0KTtcbiAgICAgICAgICAgIGxldCBhdXRvQmFzZVVuaXRTdGVwLCB0aWNrcztcblxuICAgICAgICAgICAgaWYgKGRpZmYgPCBUSU1FX1BFUl9VTklUW2Jhc2VVbml0XSAmJiBiYXNlVW5pdCAhPT0gTUlMTElTRUNPTkRTKSB7XG4gICAgICAgICAgICAgICAgYmFzZVVuaXQgPSBCQVNFX1VOSVRTW2Jhc2VVbml0SW5kZXggLSAxXTtcbiAgICAgICAgICAgICAgICBhdXRvQmFzZVVuaXRTdGVwID0gbGFzdChhdXRvQmFzZVVuaXRTdGVwc1tiYXNlVW5pdF0pO1xuICAgICAgICAgICAgICAgIHRpY2tzID0gKHJhbmdlRGlmZiAtIChtYXhEYXRlR3JvdXBzIC0gMSkgKiBhdXRvQmFzZVVuaXRTdGVwICogVElNRV9QRVJfVU5JVFtiYXNlVW5pdF0pIC8gMjtcbiAgICAgICAgICAgICAgICBtaW4gPSBhZGRUaWNrcyhyYW5nZU1pbiwgdGlja3MpO1xuICAgICAgICAgICAgICAgIG1heCA9IGFkZFRpY2tzKHJhbmdlTWF4LCAtdGlja3MpO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRpZmYgPiBtYXhEaWZmICYmIGJhc2VVbml0ICE9PSBZRUFSUykge1xuICAgICAgICAgICAgICAgIGxldCBzdGVwSW5kZXggPSAwO1xuXG4gICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVW5pdEluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVbml0ID0gQkFTRV9VTklUU1tiYXNlVW5pdEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgc3RlcEluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGlja3MgPSAyICogVElNRV9QRVJfVU5JVFtiYXNlVW5pdF07XG4gICAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9CYXNlVW5pdFN0ZXAgPSBhdXRvQmFzZVVuaXRTdGVwc1tiYXNlVW5pdF1bc3RlcEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXBJbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICB9IHdoaWxlIChzdGVwSW5kZXggPCBhdXRvQmFzZVVuaXRTdGVwc1tiYXNlVW5pdF0ubGVuZ3RoICYmIHRpY2tzICogYXV0b0Jhc2VVbml0U3RlcCA8IHJhbmdlRGlmZik7XG4gICAgICAgICAgICAgICAgfSB3aGlsZSAoYmFzZVVuaXQgIT09IFlFQVJTICYmIHRpY2tzICogYXV0b0Jhc2VVbml0U3RlcCA8IHJhbmdlRGlmZik7XG5cbiAgICAgICAgICAgICAgICB0aWNrcyA9ICh0aWNrcyAqIGF1dG9CYXNlVW5pdFN0ZXAgLSByYW5nZURpZmYpIC8gMjtcbiAgICAgICAgICAgICAgICBpZiAodGlja3MgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IGFkZFRpY2tzKHJhbmdlTWluLCAtdGlja3MpO1xuICAgICAgICAgICAgICAgICAgICBtYXggPSBhZGRUaWNrcyhyYW5nZU1heCwgdGlja3MpO1xuICAgICAgICAgICAgICAgICAgICBtaW4gPSBhZGRUaWNrcyhtaW4sIGxpbWl0VmFsdWUobWF4LCB0b3RhbExpbWl0cy5taW4sIHRvdGFsTGltaXRzLm1heCkgLSBtYXgpO1xuICAgICAgICAgICAgICAgICAgICBtYXggPSBhZGRUaWNrcyhtYXgsIGxpbWl0VmFsdWUobWluLCB0b3RhbExpbWl0cy5taW4sIHRvdGFsTGltaXRzLm1heCkgLSBtaW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtaW4gPCB0b3RhbExpbWl0cy5taW4pIHtcbiAgICAgICAgICAgIG1pbiA9IHRvdGFsTGltaXRzLm1pbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWF4ID4gdG90YWxMaW1pdHMubWF4KSB7XG4gICAgICAgICAgICBtYXggPSB0b3RhbExpbWl0cy5tYXg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWluICYmIG1heCAmJiBkYXRlRGlmZihtYXgsIG1pbikgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1pbjogbWluLFxuICAgICAgICAgICAgICAgIG1heDogbWF4LFxuICAgICAgICAgICAgICAgIGJhc2VVbml0OiBvcHRpb25zLnVzZXJTZXRCYXNlVW5pdCB8fCBvcHRpb25zLmJhc2VVbml0LFxuICAgICAgICAgICAgICAgIGJhc2VVbml0U3RlcDogb3B0aW9ucy51c2VyU2V0QmFzZVVuaXRTdGVwIHx8IG9wdGlvbnMuYmFzZVVuaXRTdGVwXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmFuZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFSYW5nZS5kaXNwbGF5UmFuZ2UoKTtcbiAgICB9XG5cbiAgICBjcmVhdGVBeGlzTGFiZWwoaW5kZXgsIGxhYmVsT3B0aW9ucykge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBkYXRhSXRlbSA9IG9wdGlvbnMuZGF0YUl0ZW1zICYmICFvcHRpb25zLm1heERpdmlzaW9ucyA/IG9wdGlvbnMuZGF0YUl0ZW1zW2luZGV4XSA6IG51bGw7XG4gICAgICAgIGNvbnN0IGRhdGUgPSB0aGlzLmRpdmlzaW9uUmFuZ2UuZGF0ZUF0KGluZGV4KTtcbiAgICAgICAgY29uc3QgdW5pdEZvcm1hdCA9IGxhYmVsT3B0aW9ucy5kYXRlRm9ybWF0c1t0aGlzLmRpdmlzaW9uUmFuZ2Uub3B0aW9ucy5iYXNlVW5pdF07XG5cbiAgICAgICAgbGFiZWxPcHRpb25zLmZvcm1hdCA9IGxhYmVsT3B0aW9ucy5mb3JtYXQgfHwgdW5pdEZvcm1hdDtcbiAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMuYXhpc0xhYmVsVGV4dChkYXRlLCBkYXRhSXRlbSwgbGFiZWxPcHRpb25zKTtcbiAgICAgICAgaWYgKHRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQXhpc0xhYmVsKGRhdGUsIHRleHQsIGluZGV4LCBkYXRhSXRlbSwgbGFiZWxPcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNhdGVnb3J5SW5kZXgodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVJhbmdlLnZhbHVlSW5kZXgodmFsdWUpO1xuICAgIH1cblxuICAgIHNsb3QoZnJvbSwgdG8sIGxpbWl0KSB7XG4gICAgICAgIGNvbnN0IGRhdGVSYW5nZSA9IHRoaXMuZGF0YVJhbmdlO1xuICAgICAgICBsZXQgc3RhcnQgPSBmcm9tO1xuICAgICAgICBsZXQgZW5kID0gdG87XG5cbiAgICAgICAgaWYgKHN0YXJ0IGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgc3RhcnQgPSBkYXRlUmFuZ2UuZGF0ZUluZGV4KHN0YXJ0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbmQgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgICAgICBlbmQgPSBkYXRlUmFuZ2UuZGF0ZUluZGV4KGVuZCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzbG90ID0gdGhpcy5nZXRTbG90KHN0YXJ0LCBlbmQsIGxpbWl0KTtcbiAgICAgICAgaWYgKHNsb3QpIHtcbiAgICAgICAgICAgIHJldHVybiBzbG90LnRvUmVjdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0U2xvdChhLCBiLCBsaW1pdCkge1xuICAgICAgICBsZXQgc3RhcnQgPSBhO1xuICAgICAgICBsZXQgZW5kID0gYjtcblxuICAgICAgICBpZiAodHlwZW9mIHN0YXJ0ID09PSBPQkpFQ1QpIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gdGhpcy5jYXRlZ29yeUluZGV4KHN0YXJ0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgZW5kID09PSBPQkpFQ1QpIHtcbiAgICAgICAgICAgIGVuZCA9IHRoaXMuY2F0ZWdvcnlJbmRleChlbmQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1cGVyLmdldFNsb3Qoc3RhcnQsIGVuZCwgbGltaXQpO1xuICAgIH1cblxuICAgIHZhbHVlUmFuZ2UoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gY2F0ZWdvcnlSYW5nZShvcHRpb25zLnNyY0NhdGVnb3JpZXMpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtaW46IHRvRGF0ZShyYW5nZS5taW4pLFxuICAgICAgICAgICAgbWF4OiB0b0RhdGUocmFuZ2UubWF4KVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGNhdGVnb3J5QXQoaW5kZXgsIHRvdGFsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFSYW5nZS5kYXRlQXQoaW5kZXgsIHRvdGFsKTtcbiAgICB9XG5cbiAgICBjYXRlZ29yaWVzQ291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFSYW5nZS52YWx1ZXNDb3VudCgpO1xuICAgIH1cblxuICAgIHJhbmdlSW5kaWNlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVJhbmdlLmRpc3BsYXlJbmRpY2VzKCk7XG4gICAgfVxuXG4gICAgbGFiZWxzQmV0d2VlblRpY2tzKCkge1xuICAgICAgICByZXR1cm4gIXRoaXMuZGl2aXNpb25SYW5nZS5vcHRpb25zLmp1c3RpZmllZDtcbiAgICB9XG5cbiAgICBwcmVwYXJlVXNlck9wdGlvbnMoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vcHRpb25zLmNhdGVnb3JpZXMgPSB0aGlzLmRhdGFSYW5nZS52YWx1ZXMoKTtcbiAgICB9XG5cbiAgICBnZXRDYXRlZ29yeShwb2ludCkge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMucG9pbnRDYXRlZ29yeUluZGV4KHBvaW50KTtcblxuICAgICAgICBpZiAoaW5kZXggPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVJhbmdlLmRhdGVBdChpbmRleCk7XG4gICAgfVxuXG4gICAgdG90YWxJbmRleCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhUmFuZ2UudG90YWxJbmRleCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgY3VycmVudFJhbmdlSW5kaWNlcygpIHtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSB0aGlzLmRhdGFSYW5nZS52YWx1ZVJhbmdlKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtaW46IHRoaXMuZGF0YVJhbmdlLnRvdGFsSW5kZXgocmFuZ2UubWluKSxcbiAgICAgICAgICAgIG1heDogdGhpcy5kYXRhUmFuZ2UudG90YWxJbmRleChyYW5nZS5tYXgpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdG90YWxSYW5nZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVJhbmdlLnRvdGFsKCk7XG4gICAgfVxuXG4gICAgdG90YWxDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVJhbmdlLnRvdGFsQ291bnQoKTtcbiAgICB9XG5cbiAgICBpc0VtcHR5KCkge1xuICAgICAgICByZXR1cm4gIXRoaXMub3B0aW9ucy5zcmNDYXRlZ29yaWVzLmxlbmd0aDtcbiAgICB9XG5cbiAgICByb3VuZGVkUmFuZ2UoKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucm91bmRUb0Jhc2VVbml0ICE9PSBmYWxzZSB8fCB0aGlzLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmFuZ2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGRhdGVzUmFuZ2UgPSBjYXRlZ29yeVJhbmdlKG9wdGlvbnMuc3JjQ2F0ZWdvcmllcyk7XG5cbiAgICAgICAgY29uc3QgZGF0ZVJhbmdlID0gbmV3IERhdGVSYW5nZShkYXRlc1JhbmdlLm1pbiwgZGF0ZXNSYW5nZS5tYXgsIE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMsIHtcbiAgICAgICAgICAgIGp1c3RpZmllZDogZmFsc2UsXG4gICAgICAgICAgICByb3VuZFRvQmFzZVVuaXQ6IHRydWUsXG4gICAgICAgICAgICBqdXN0aWZ5RW5kOiBvcHRpb25zLmp1c3RpZmllZFxuICAgICAgICB9KSk7XG5cbiAgICAgICAgcmV0dXJuIGRhdGVSYW5nZS5kaXNwbGF5UmFuZ2UoKTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKERhdGVDYXRlZ29yeUF4aXMsIHtcbiAgICB0eXBlOiBEQVRFLFxuICAgIGxhYmVsczoge1xuICAgICAgICBkYXRlRm9ybWF0czogRGF0ZUxhYmVsRm9ybWF0c1xuICAgIH0sXG4gICAgYXV0b0Jhc2VVbml0U3RlcHM6IHtcbiAgICAgICAgbWlsbGlzZWNvbmRzOiBbIDEsIDEwLCAxMDAgXSxcbiAgICAgICAgc2Vjb25kczogWyAxLCAyLCA1LCAxNSwgMzAgXSxcbiAgICAgICAgbWludXRlczogWyAxLCAyLCA1LCAxNSwgMzAgXSxcbiAgICAgICAgaG91cnM6IFsgMSwgMiwgMyBdLFxuICAgICAgICBkYXlzOiBbIDEsIDIsIDMgXSxcbiAgICAgICAgd2Vla3M6IFsgMSwgMiBdLFxuICAgICAgICBtb250aHM6IFsgMSwgMiwgMywgNiBdLFxuICAgICAgICB5ZWFyczogWyAxLCAyLCAzLCA1LCAxMCwgMjUsIDUwIF1cbiAgICB9LFxuICAgIG1heERhdGVHcm91cHM6IDEwXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgRGF0ZUNhdGVnb3J5QXhpcztcbiIsImltcG9ydCB7IFpFUk9fVEhSRVNIT0xEIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXV0b0F4aXNNaW4obWluLCBtYXgsIG5hcnJvdykge1xuICAgIGlmICghbWluICYmICFtYXgpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgbGV0IGF4aXNNaW47XG5cbiAgICBpZiAobWluID49IDAgJiYgbWF4ID49IDApIHtcbiAgICAgICAgY29uc3QgbWluVmFsdWUgPSBtaW4gPT09IG1heCA/IDAgOiBtaW47XG5cbiAgICAgICAgbGV0IGRpZmYgPSAobWF4IC0gbWluVmFsdWUpIC8gbWF4O1xuICAgICAgICBpZiAobmFycm93ID09PSBmYWxzZSB8fCAoIW5hcnJvdyAmJiBkaWZmID4gWkVST19USFJFU0hPTEQpKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGF4aXNNaW4gPSBNYXRoLm1heCgwLCBtaW5WYWx1ZSAtICgobWF4IC0gbWluVmFsdWUpIC8gMikpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGF4aXNNaW4gPSBtaW47XG4gICAgfVxuXG4gICAgcmV0dXJuIGF4aXNNaW47XG59XG4iLCJpbXBvcnQgeyBaRVJPX1RIUkVTSE9MRCB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGF1dG9BeGlzTWF4KG1pbiwgbWF4LCBuYXJyb3cpIHtcbiAgICBpZiAoIW1pbiAmJiAhbWF4KSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cblxuICAgIGxldCBheGlzTWF4O1xuXG4gICAgaWYgKG1pbiA8PSAwICYmIG1heCA8PSAwKSB7XG4gICAgICAgIGNvbnN0IG1heFZhbHVlID0gbWluID09PSBtYXggPyAwIDogbWF4O1xuXG4gICAgICAgIGxldCBkaWZmID0gTWF0aC5hYnMoKG1heFZhbHVlIC0gbWluKSAvIG1heFZhbHVlKTtcbiAgICAgICAgaWYgKG5hcnJvdyA9PT0gZmFsc2UgfHwgKCFuYXJyb3cgJiYgZGlmZiA+IFpFUk9fVEhSRVNIT0xEKSkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cblxuICAgICAgICBheGlzTWF4ID0gTWF0aC5taW4oMCwgbWF4VmFsdWUgLSAoKG1pbiAtIG1heFZhbHVlKSAvIDIpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBheGlzTWF4ID0gbWF4O1xuICAgIH1cblxuICAgIHJldHVybiBheGlzTWF4O1xufSIsImltcG9ydCB7IERFRkFVTFRfUFJFQ0lTSU9OIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyByb3VuZCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZsb29yKHZhbHVlLCBzdGVwKSB7XG4gICAgcmV0dXJuIHJvdW5kKE1hdGguZmxvb3IodmFsdWUgLyBzdGVwKSAqIHN0ZXAsIERFRkFVTFRfUFJFQ0lTSU9OKTtcbn1cbiIsImltcG9ydCB7IERFRkFVTFRfUFJFQ0lTSU9OIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyByb3VuZCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNlaWwodmFsdWUsIHN0ZXApIHtcbiAgICByZXR1cm4gcm91bmQoTWF0aC5jZWlsKHZhbHVlIC8gc3RlcCkgKiBzdGVwLCBERUZBVUxUX1BSRUNJU0lPTik7XG59IiwiaW1wb3J0IHsgQ09PUkRJTkFURV9MSU1JVCB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGxpbWl0Q29vcmRpbmF0ZSh2YWx1ZSkge1xuICAgIHJldHVybiBNYXRoLm1heChNYXRoLm1pbih2YWx1ZSwgQ09PUkRJTkFURV9MSU1JVCksIC1DT09SRElOQVRFX0xJTUlUKTtcbn0iLCJcbmltcG9ydCBBeGlzIGZyb20gJy4vYXhpcyc7XG5pbXBvcnQgQXhpc0xhYmVsIGZyb20gJy4vYXhpcy1sYWJlbCc7XG5pbXBvcnQgQm94IGZyb20gJy4vYm94JztcblxuaW1wb3J0IHsgQkxBQ0ssIERFRkFVTFRfUFJFQ0lTSU9OLCBDT09SRF9QUkVDSVNJT04sIFgsIFkgfSBmcm9tICcuLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGRlZXBFeHRlbmQsIGRlZmluZWQsIGxpbWl0VmFsdWUsIHJvdW5kLCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uL2NvbW1vbic7XG5cbmltcG9ydCBhdXRvTWFqb3JVbml0IGZyb20gJy4vdXRpbHMvYXV0by1tYWpvci11bml0JztcbmltcG9ydCBhdXRvQXhpc01pbiBmcm9tICcuL3V0aWxzL2F1dG8tYXhpcy1taW4nO1xuaW1wb3J0IGF1dG9BeGlzTWF4IGZyb20gJy4vdXRpbHMvYXV0by1heGlzLW1heCc7XG5pbXBvcnQgZmxvb3IgZnJvbSAnLi91dGlscy9mbG9vcic7XG5pbXBvcnQgY2VpbCBmcm9tICcuL3V0aWxzL2NlaWwnO1xuaW1wb3J0IGxpbWl0Q29vcmRpbmF0ZSBmcm9tICcuL3V0aWxzL2xpbWl0LWNvb3JkaW5hdGUnO1xuXG5jb25zdCBNSU5fVkFMVUVfUkFOR0UgPSBNYXRoLnBvdygxMCwgLURFRkFVTFRfUFJFQ0lTSU9OICsgMSk7XG5cbmNsYXNzIE51bWVyaWNBeGlzIGV4dGVuZHMgQXhpcyB7XG5cbiAgICBjb25zdHJ1Y3RvcihzZXJpZXNNaW4sIHNlcmllc01heCwgb3B0aW9ucywgY2hhcnRTZXJ2aWNlKSB7XG4gICAgICAgIHN1cGVyKE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMsIHtcbiAgICAgICAgICAgIHNlcmllc01pbjogc2VyaWVzTWluLFxuICAgICAgICAgICAgc2VyaWVzTWF4OiBzZXJpZXNNYXhcbiAgICAgICAgfSksIGNoYXJ0U2VydmljZSk7XG4gICAgfVxuXG4gICAgaW5pdFVzZXJPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgYXV0b09wdGlvbnMgPSBhdXRvQXhpc09wdGlvbnMob3B0aW9ucy5zZXJpZXNNaW4sIG9wdGlvbnMuc2VyaWVzTWF4LCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy50b3RhbE9wdGlvbnMgPSB0b3RhbEF4aXNPcHRpb25zKGF1dG9PcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICByZXR1cm4gYXhpc09wdGlvbnMoYXV0b09wdGlvbnMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIGluaXRGaWVsZHMoKSB7XG4gICAgICAgIHRoaXMudG90YWxNaW4gPSB0aGlzLnRvdGFsT3B0aW9ucy5taW47XG4gICAgICAgIHRoaXMudG90YWxNYXggPSB0aGlzLnRvdGFsT3B0aW9ucy5tYXg7XG4gICAgICAgIHRoaXMudG90YWxNYWpvclVuaXQgPSB0aGlzLnRvdGFsT3B0aW9ucy5tYWpvclVuaXQ7XG4gICAgICAgIHRoaXMuc2VyaWVzTWluID0gdGhpcy5vcHRpb25zLnNlcmllc01pbjtcbiAgICAgICAgdGhpcy5zZXJpZXNNYXggPSB0aGlzLm9wdGlvbnMuc2VyaWVzTWF4O1xuICAgIH1cblxuICAgIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gbmV3IE51bWVyaWNBeGlzKFxuICAgICAgICAgICAgdGhpcy5zZXJpZXNNaW4sXG4gICAgICAgICAgICB0aGlzLnNlcmllc01heCxcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3B0aW9ucyksXG4gICAgICAgICAgICB0aGlzLmNoYXJ0U2VydmljZVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHN0YXJ0VmFsdWUoKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIHJhbmdlKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICByZXR1cm4geyBtaW46IG9wdGlvbnMubWluLCBtYXg6IG9wdGlvbnMubWF4IH07XG4gICAgfVxuXG4gICAgZ2V0RGl2aXNpb25zKHN0ZXBWYWx1ZSkge1xuICAgICAgICBpZiAoc3RlcFZhbHVlID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gb3B0aW9ucy5tYXggLSBvcHRpb25zLm1pbjtcblxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihyb3VuZChyYW5nZSAvIHN0ZXBWYWx1ZSwgQ09PUkRfUFJFQ0lTSU9OKSkgKyAxO1xuICAgIH1cblxuICAgIGdldFRpY2tQb3NpdGlvbnModW5pdCwgc2tpcFVuaXQpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgeyB2ZXJ0aWNhbCwgcmV2ZXJzZSB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgbGluZUJveCA9IHRoaXMubGluZUJveCgpO1xuICAgICAgICBjb25zdCBsaW5lU2l6ZSA9IHZlcnRpY2FsID8gbGluZUJveC5oZWlnaHQoKSA6IGxpbmVCb3gud2lkdGgoKTtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBvcHRpb25zLm1heCAtIG9wdGlvbnMubWluO1xuICAgICAgICBjb25zdCBzY2FsZSA9IGxpbmVTaXplIC8gcmFuZ2U7XG4gICAgICAgIGNvbnN0IHN0ZXAgPSB1bml0ICogc2NhbGU7XG4gICAgICAgIGNvbnN0IGRpdmlzaW9ucyA9IHRoaXMuZ2V0RGl2aXNpb25zKHVuaXQpO1xuICAgICAgICBjb25zdCBkaXIgPSAodmVydGljYWwgPyAtMSA6IDEpICogKHJldmVyc2UgPyAtMSA6IDEpO1xuICAgICAgICBjb25zdCBzdGFydEVkZ2UgPSBkaXIgPT09IDEgPyAxIDogMjtcbiAgICAgICAgY29uc3QgcG9zaXRpb25zID0gW107XG4gICAgICAgIGxldCBwb3MgPSBsaW5lQm94Wyh2ZXJ0aWNhbCA/IFkgOiBYKSArIHN0YXJ0RWRnZV07XG4gICAgICAgIGxldCBza2lwU3RlcCA9IDA7XG5cbiAgICAgICAgaWYgKHNraXBVbml0KSB7XG4gICAgICAgICAgICBza2lwU3RlcCA9IHNraXBVbml0IC8gdW5pdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGRpdmlzaW9uczsgaWR4KyspIHtcbiAgICAgICAgICAgIGlmIChpZHggJSBza2lwU3RlcCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9ucy5wdXNoKHJvdW5kKHBvcywgQ09PUkRfUFJFQ0lTSU9OKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBvcyA9IHBvcyArIHN0ZXAgKiBkaXI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcG9zaXRpb25zO1xuICAgIH1cblxuICAgIGdldE1ham9yVGlja1Bvc2l0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGlja1Bvc2l0aW9ucyh0aGlzLm9wdGlvbnMubWFqb3JVbml0KTtcbiAgICB9XG5cbiAgICBnZXRNaW5vclRpY2tQb3NpdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFRpY2tQb3NpdGlvbnModGhpcy5vcHRpb25zLm1pbm9yVW5pdCk7XG4gICAgfVxuXG4gICAgZ2V0U2xvdChhLCBiLCBsaW1pdCA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHsgdmVydGljYWwsIHJldmVyc2UgfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHZhbHVlQXhpcyA9IHZlcnRpY2FsID8gWSA6IFg7XG4gICAgICAgIGNvbnN0IGxpbmVCb3ggPSB0aGlzLmxpbmVCb3goKTtcbiAgICAgICAgY29uc3QgbGluZVN0YXJ0ID0gbGluZUJveFt2YWx1ZUF4aXMgKyAocmV2ZXJzZSA/IDIgOiAxKV07XG4gICAgICAgIGNvbnN0IGxpbmVTaXplID0gdmVydGljYWwgPyBsaW5lQm94LmhlaWdodCgpIDogbGluZUJveC53aWR0aCgpO1xuICAgICAgICBjb25zdCBkaXIgPSByZXZlcnNlID8gLTEgOiAxO1xuICAgICAgICBjb25zdCBzdGVwID0gZGlyICogKGxpbmVTaXplIC8gKG9wdGlvbnMubWF4IC0gb3B0aW9ucy5taW4pKTtcbiAgICAgICAgY29uc3Qgc2xvdEJveCA9IG5ldyBCb3gobGluZUJveC54MSwgbGluZUJveC55MSwgbGluZUJveC54MSwgbGluZUJveC55MSk7XG5cbiAgICAgICAgbGV0IHN0YXJ0ID0gYTtcbiAgICAgICAgbGV0IGVuZCA9IGI7XG5cbiAgICAgICAgaWYgKCFkZWZpbmVkKHN0YXJ0KSkge1xuICAgICAgICAgICAgc3RhcnQgPSBlbmQgfHwgMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZGVmaW5lZChlbmQpKSB7XG4gICAgICAgICAgICBlbmQgPSBzdGFydCB8fCAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxpbWl0KSB7XG4gICAgICAgICAgICBzdGFydCA9IE1hdGgubWF4KE1hdGgubWluKHN0YXJ0LCBvcHRpb25zLm1heCksIG9wdGlvbnMubWluKTtcbiAgICAgICAgICAgIGVuZCA9IE1hdGgubWF4KE1hdGgubWluKGVuZCwgb3B0aW9ucy5tYXgpLCBvcHRpb25zLm1pbik7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcDEsIHAyO1xuXG4gICAgICAgIGlmICh2ZXJ0aWNhbCkge1xuICAgICAgICAgICAgcDEgPSBvcHRpb25zLm1heCAtIE1hdGgubWF4KHN0YXJ0LCBlbmQpO1xuICAgICAgICAgICAgcDIgPSBvcHRpb25zLm1heCAtIE1hdGgubWluKHN0YXJ0LCBlbmQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcDEgPSBNYXRoLm1pbihzdGFydCwgZW5kKSAtIG9wdGlvbnMubWluO1xuICAgICAgICAgICAgcDIgPSBNYXRoLm1heChzdGFydCwgZW5kKSAtIG9wdGlvbnMubWluO1xuICAgICAgICB9XG5cbiAgICAgICAgc2xvdEJveFt2YWx1ZUF4aXMgKyAxXSA9IGxpbWl0Q29vcmRpbmF0ZShsaW5lU3RhcnQgKyBzdGVwICogKHJldmVyc2UgPyBwMiA6IHAxKSk7XG4gICAgICAgIHNsb3RCb3hbdmFsdWVBeGlzICsgMl0gPSBsaW1pdENvb3JkaW5hdGUobGluZVN0YXJ0ICsgc3RlcCAqIChyZXZlcnNlID8gcDEgOiBwMikpO1xuXG4gICAgICAgIHJldHVybiBzbG90Qm94O1xuICAgIH1cblxuICAgIGdldFZhbHVlKHBvaW50KSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHsgdmVydGljYWwsIHJldmVyc2UgfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IG1heCA9IE51bWJlcihvcHRpb25zLm1heCk7XG4gICAgICAgIGNvbnN0IG1pbiA9IE51bWJlcihvcHRpb25zLm1pbik7XG4gICAgICAgIGNvbnN0IHZhbHVlQXhpcyA9IHZlcnRpY2FsID8gWSA6IFg7XG4gICAgICAgIGNvbnN0IGxpbmVCb3ggPSB0aGlzLmxpbmVCb3goKTtcbiAgICAgICAgY29uc3QgbGluZVN0YXJ0ID0gbGluZUJveFt2YWx1ZUF4aXMgKyAocmV2ZXJzZSA/IDIgOiAxKV07XG4gICAgICAgIGNvbnN0IGxpbmVTaXplID0gdmVydGljYWwgPyBsaW5lQm94LmhlaWdodCgpIDogbGluZUJveC53aWR0aCgpO1xuICAgICAgICBjb25zdCBkaXIgPSByZXZlcnNlID8gLTEgOiAxO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSBkaXIgKiAocG9pbnRbdmFsdWVBeGlzXSAtIGxpbmVTdGFydCk7XG4gICAgICAgIGNvbnN0IHN0ZXAgPSAobWF4IC0gbWluKSAvIGxpbmVTaXplO1xuICAgICAgICBjb25zdCB2YWx1ZU9mZnNldCA9IG9mZnNldCAqIHN0ZXA7XG5cbiAgICAgICAgaWYgKG9mZnNldCA8IDAgfHwgb2Zmc2V0ID4gbGluZVNpemUpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdmFsdWUgPSB2ZXJ0aWNhbCA/XG4gICAgICAgICAgICAgICAgbWF4IC0gdmFsdWVPZmZzZXQgOlxuICAgICAgICAgICAgICAgIG1pbiArIHZhbHVlT2Zmc2V0O1xuXG4gICAgICAgIHJldHVybiByb3VuZCh2YWx1ZSwgREVGQVVMVF9QUkVDSVNJT04pO1xuICAgIH1cblxuICAgIHRyYW5zbGF0ZVJhbmdlKGRlbHRhKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHsgdmVydGljYWwsIHJldmVyc2UsIG1heCwgbWluIH0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCBsaW5lQm94ID0gdGhpcy5saW5lQm94KCk7XG4gICAgICAgIGNvbnN0IHNpemUgPSB2ZXJ0aWNhbCA/IGxpbmVCb3guaGVpZ2h0KCkgOiBsaW5lQm94LndpZHRoKCk7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gbWF4IC0gbWluO1xuICAgICAgICBjb25zdCBzY2FsZSA9IHNpemUgLyByYW5nZTtcbiAgICAgICAgbGV0IG9mZnNldCA9IHJvdW5kKGRlbHRhIC8gc2NhbGUsIERFRkFVTFRfUFJFQ0lTSU9OKTtcblxuICAgICAgICBpZiAoKHZlcnRpY2FsIHx8IHJldmVyc2UpICYmICEodmVydGljYWwgJiYgcmV2ZXJzZSApKSB7XG4gICAgICAgICAgICBvZmZzZXQgPSAtb2Zmc2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbjogbWluICsgb2Zmc2V0LFxuICAgICAgICAgICAgbWF4OiBtYXggKyBvZmZzZXQsXG4gICAgICAgICAgICBvZmZzZXQ6IG9mZnNldFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHNjYWxlUmFuZ2UoZGVsdGEpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gLWRlbHRhICogb3B0aW9ucy5tYWpvclVuaXQ7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbjogb3B0aW9ucy5taW4gLSBvZmZzZXQsXG4gICAgICAgICAgICBtYXg6IG9wdGlvbnMubWF4ICsgb2Zmc2V0XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgbGFiZWxzQ291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERpdmlzaW9ucyh0aGlzLm9wdGlvbnMubWFqb3JVbml0KTtcbiAgICB9XG5cbiAgICBjcmVhdGVBeGlzTGFiZWwoaW5kZXgsIGxhYmVsT3B0aW9ucykge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHJvdW5kKG9wdGlvbnMubWluICsgKGluZGV4ICogb3B0aW9ucy5tYWpvclVuaXQpLCBERUZBVUxUX1BSRUNJU0lPTik7XG4gICAgICAgIGNvbnN0IHRleHQgPSB0aGlzLmF4aXNMYWJlbFRleHQodmFsdWUsIG51bGwsIGxhYmVsT3B0aW9ucyk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBBeGlzTGFiZWwodmFsdWUsIHRleHQsIGluZGV4LCBudWxsLCBsYWJlbE9wdGlvbnMpO1xuICAgIH1cblxuICAgIHNob3VsZFJlbmRlck5vdGUodmFsdWUpIHtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSB0aGlzLnJhbmdlKCk7XG4gICAgICAgIHJldHVybiByYW5nZS5taW4gPD0gdmFsdWUgJiYgdmFsdWUgPD0gcmFuZ2UubWF4O1xuICAgIH1cblxuICAgIHBhbihkZWx0YSkge1xuICAgICAgICBjb25zdCByYW5nZSA9IHRoaXMudHJhbnNsYXRlUmFuZ2UoZGVsdGEpO1xuICAgICAgICByZXR1cm4gdGhpcy5saW1pdFJhbmdlKHJhbmdlLm1pbiwgcmFuZ2UubWF4LCB0aGlzLnRvdGFsTWluLCB0aGlzLnRvdGFsTWF4LCByYW5nZS5vZmZzZXQpO1xuICAgIH1cblxuICAgIHBvaW50c1JhbmdlKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgY29uc3Qgc3RhcnRWYWx1ZSA9IHRoaXMuZ2V0VmFsdWUoc3RhcnQpO1xuICAgICAgICBjb25zdCBlbmRWYWx1ZSA9IHRoaXMuZ2V0VmFsdWUoZW5kKTtcbiAgICAgICAgY29uc3QgbWluID0gTWF0aC5taW4oc3RhcnRWYWx1ZSwgZW5kVmFsdWUpO1xuICAgICAgICBjb25zdCBtYXggPSBNYXRoLm1heChzdGFydFZhbHVlLCBlbmRWYWx1ZSk7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNWYWxpZFJhbmdlKG1pbiwgbWF4KSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtaW46IG1pbixcbiAgICAgICAgICAgICAgICBtYXg6IG1heFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHpvb21SYW5nZShkZWx0YSkge1xuICAgICAgICBjb25zdCB7IHRvdGFsTWluLCB0b3RhbE1heCB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgbmV3UmFuZ2UgPSB0aGlzLnNjYWxlUmFuZ2UoZGVsdGEpO1xuICAgICAgICBjb25zdCBtaW4gPSBsaW1pdFZhbHVlKG5ld1JhbmdlLm1pbiwgdG90YWxNaW4sIHRvdGFsTWF4KTtcbiAgICAgICAgY29uc3QgbWF4ID0gbGltaXRWYWx1ZShuZXdSYW5nZS5tYXgsIHRvdGFsTWluLCB0b3RhbE1heCk7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNWYWxpZFJhbmdlKG1pbiwgbWF4KSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtaW46IG1pbixcbiAgICAgICAgICAgICAgICBtYXg6IG1heFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzVmFsaWRSYW5nZShtaW4sIG1heCkge1xuICAgICAgICByZXR1cm4gbWF4IC0gbWluID4gTUlOX1ZBTFVFX1JBTkdFO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYXV0b0F4aXNPcHRpb25zKHNlcmllc01pbiwgc2VyaWVzTWF4LCBvcHRpb25zKSB7XG4gICAgY29uc3QgbmFycm93UmFuZ2UgPSBvcHRpb25zLm5hcnJvd1JhbmdlO1xuXG4gICAgbGV0IGF1dG9NaW4gPSBhdXRvQXhpc01pbihzZXJpZXNNaW4sIHNlcmllc01heCwgbmFycm93UmFuZ2UpO1xuICAgIGxldCBhdXRvTWF4ID0gYXV0b0F4aXNNYXgoc2VyaWVzTWluLCBzZXJpZXNNYXgsIG5hcnJvd1JhbmdlKTtcblxuICAgIGNvbnN0IG1ham9yVW5pdCA9IGF1dG9NYWpvclVuaXQoYXV0b01pbiwgYXV0b01heCk7XG4gICAgY29uc3QgYXV0b09wdGlvbnMgPSB7XG4gICAgICAgIG1ham9yVW5pdDogbWFqb3JVbml0XG4gICAgfTtcblxuICAgIGlmIChvcHRpb25zLnJvdW5kVG9NYWpvclVuaXQgIT09IGZhbHNlKSB7XG4gICAgICAgIGlmIChhdXRvTWluIDwgMCAmJiByZW1haW5kZXJDbG9zZShhdXRvTWluLCBtYWpvclVuaXQsIDEgLyAzKSkge1xuICAgICAgICAgICAgYXV0b01pbiAtPSBtYWpvclVuaXQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXV0b01heCA+IDAgJiYgcmVtYWluZGVyQ2xvc2UoYXV0b01heCwgbWFqb3JVbml0LCAxIC8gMykpIHtcbiAgICAgICAgICAgIGF1dG9NYXggKz0gbWFqb3JVbml0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXV0b09wdGlvbnMubWluID0gZmxvb3IoYXV0b01pbiwgbWFqb3JVbml0KTtcbiAgICBhdXRvT3B0aW9ucy5tYXggPSBjZWlsKGF1dG9NYXgsIG1ham9yVW5pdCk7XG5cbiAgICByZXR1cm4gYXV0b09wdGlvbnM7XG59XG5cbmZ1bmN0aW9uIHRvdGFsQXhpc09wdGlvbnMoYXV0b09wdGlvbnMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBtaW46IGRlZmluZWQob3B0aW9ucy5taW4pID8gTWF0aC5taW4oYXV0b09wdGlvbnMubWluLCBvcHRpb25zLm1pbikgOiBhdXRvT3B0aW9ucy5taW4sXG4gICAgICAgIG1heDogZGVmaW5lZChvcHRpb25zLm1heCkgPyBNYXRoLm1heChhdXRvT3B0aW9ucy5tYXgsIG9wdGlvbnMubWF4KSA6IGF1dG9PcHRpb25zLm1heCxcbiAgICAgICAgbWFqb3JVbml0OiBhdXRvT3B0aW9ucy5tYWpvclVuaXRcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBjbGVhck51bGxWYWx1ZXMob3B0aW9ucywgZmllbGRzKSB7XG4gICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgZmllbGRzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgY29uc3QgZmllbGQgPSBmaWVsZHNbaWR4XTtcbiAgICAgICAgaWYgKG9wdGlvbnNbZmllbGRdID09PSBudWxsKSB7XG4gICAgICAgICAgICBvcHRpb25zW2ZpZWxkXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gYXhpc09wdGlvbnMoYXV0b09wdGlvbnMsIHVzZXJPcHRpb25zKSB7XG4gICAgbGV0IG9wdGlvbnMgPSB1c2VyT3B0aW9ucztcbiAgICBsZXQgdXNlclNldE1pbiwgdXNlclNldE1heDtcblxuICAgIGlmICh1c2VyT3B0aW9ucykge1xuICAgICAgICBjbGVhck51bGxWYWx1ZXModXNlck9wdGlvbnMsIFsgJ21pbicsICdtYXgnIF0pO1xuXG4gICAgICAgIHVzZXJTZXRNaW4gPSBkZWZpbmVkKHVzZXJPcHRpb25zLm1pbik7XG4gICAgICAgIHVzZXJTZXRNYXggPSBkZWZpbmVkKHVzZXJPcHRpb25zLm1heCk7XG5cbiAgICAgICAgY29uc3QgdXNlclNldExpbWl0cyA9IHVzZXJTZXRNaW4gfHwgdXNlclNldE1heDtcblxuICAgICAgICBpZiAodXNlclNldExpbWl0cykge1xuICAgICAgICAgICAgaWYgKHVzZXJPcHRpb25zLm1pbiA9PT0gdXNlck9wdGlvbnMubWF4KSB7XG4gICAgICAgICAgICAgICAgaWYgKHVzZXJPcHRpb25zLm1pbiA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdXNlck9wdGlvbnMubWluID0gMDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB1c2VyT3B0aW9ucy5tYXggPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1c2VyT3B0aW9ucy5tYWpvclVuaXQpIHtcbiAgICAgICAgICAgIGF1dG9PcHRpb25zLm1pbiA9IGZsb29yKGF1dG9PcHRpb25zLm1pbiwgdXNlck9wdGlvbnMubWFqb3JVbml0KTtcbiAgICAgICAgICAgIGF1dG9PcHRpb25zLm1heCA9IGNlaWwoYXV0b09wdGlvbnMubWF4LCB1c2VyT3B0aW9ucy5tYWpvclVuaXQpO1xuICAgICAgICB9IGVsc2UgaWYgKHVzZXJTZXRMaW1pdHMpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBkZWVwRXh0ZW5kKGF1dG9PcHRpb25zLCB1c2VyT3B0aW9ucyk7XG5cbiAgICAgICAgICAgIC8vIERldGVybWluZSBhbiBhdXRvIG1ham9yIHVuaXQgYWZ0ZXIgbWluL21heCBoYXZlIGJlZW4gc2V0XG4gICAgICAgICAgICBhdXRvT3B0aW9ucy5tYWpvclVuaXQgPSBhdXRvTWFqb3JVbml0KG9wdGlvbnMubWluLCBvcHRpb25zLm1heCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhdXRvT3B0aW9ucy5taW5vclVuaXQgPSAob3B0aW9ucy5tYWpvclVuaXQgfHwgYXV0b09wdGlvbnMubWFqb3JVbml0KSAvIDU7XG5cbiAgICBjb25zdCByZXN1bHQgPSBkZWVwRXh0ZW5kKGF1dG9PcHRpb25zLCBvcHRpb25zKTtcbiAgICBpZiAocmVzdWx0Lm1pbiA+PSByZXN1bHQubWF4KSB7XG4gICAgICAgIGlmICh1c2VyU2V0TWluICYmICF1c2VyU2V0TWF4KSB7XG4gICAgICAgICAgICByZXN1bHQubWF4ID0gcmVzdWx0Lm1pbiArIHJlc3VsdC5tYWpvclVuaXQ7XG4gICAgICAgIH0gZWxzZSBpZiAoIXVzZXJTZXRNaW4gJiYgdXNlclNldE1heCkge1xuICAgICAgICAgICAgcmVzdWx0Lm1pbiA9IHJlc3VsdC5tYXggLSByZXN1bHQubWFqb3JVbml0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gcmVtYWluZGVyQ2xvc2UodmFsdWUsIGRpdmlzb3IsIHJhdGlvKSB7XG4gICAgY29uc3QgcmVtYWluZGVyID0gcm91bmQoTWF0aC5hYnModmFsdWUgJSBkaXZpc29yKSwgREVGQVVMVF9QUkVDSVNJT04pO1xuICAgIGNvbnN0IHRocmVzaG9sZCA9IGRpdmlzb3IgKiAoMSAtIHJhdGlvKTtcblxuICAgIHJldHVybiByZW1haW5kZXIgPT09IDAgfHwgcmVtYWluZGVyID4gdGhyZXNob2xkO1xufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhOdW1lcmljQXhpcywge1xuICAgIHR5cGU6IFwibnVtZXJpY1wiLFxuICAgIG1pbjogMCxcbiAgICBtYXg6IDEsXG4gICAgdmVydGljYWw6IHRydWUsXG4gICAgbWFqb3JHcmlkTGluZXM6IHtcbiAgICAgICAgdmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgd2lkdGg6IDEsXG4gICAgICAgIGNvbG9yOiBCTEFDS1xuICAgIH0sXG4gICAgbGFiZWxzOiB7XG4gICAgICAgIGZvcm1hdDogXCIjLiMjIyMjIyMjIyMjIyMjIyMjIyMjXCJcbiAgICB9LFxuICAgIHpJbmRleDogMVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IE51bWVyaWNBeGlzO1xuIiwiaW1wb3J0IEF4aXMgZnJvbSAnLi9heGlzJztcbmltcG9ydCBOdW1lcmljQXhpcyBmcm9tICcuL251bWVyaWMtYXhpcyc7XG5pbXBvcnQgQXhpc0xhYmVsIGZyb20gJy4vYXhpcy1sYWJlbCc7XG5pbXBvcnQgeyBEYXRlTGFiZWxGb3JtYXRzIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG5pbXBvcnQgeyBCTEFDSywgREFURSwgQ09PUkRfUFJFQ0lTSU9OLCBERUZBVUxUX1BSRUNJU0lPTiwgWCwgWSB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgc2V0RGVmYXVsdE9wdGlvbnMsIGRlZXBFeHRlbmQsIGxpbWl0VmFsdWUsIHJvdW5kIH0gZnJvbSAnLi4vY29tbW9uJztcblxuaW1wb3J0IGF1dG9NYWpvclVuaXQgZnJvbSAnLi91dGlscy9hdXRvLW1ham9yLXVuaXQnO1xuaW1wb3J0IGNlaWwgZnJvbSAnLi91dGlscy9jZWlsJztcblxuaW1wb3J0IHsgdG9EYXRlLCB0b1RpbWUsIGZsb29yRGF0ZSwgY2VpbERhdGUsIGR1cmF0aW9uLCBhZGREdXJhdGlvbiwgYWRkVGlja3MsIGRhdGVEaWZmLCBhYnNvbHV0ZURhdGVEaWZmLCBkYXRlQ29tcGFyZXIsIHBhcnNlRGF0ZSwgcGFyc2VEYXRlcyB9IGZyb20gJy4uL2RhdGUtdXRpbHMnO1xuaW1wb3J0IHsgSE9VUlMsIERBWVMsIFdFRUtTLCBNT05USFMsIFlFQVJTLCBUSU1FX1BFUl9EQVksIFRJTUVfUEVSX1dFRUssIFRJTUVfUEVSX01PTlRILCBUSU1FX1BFUl9ZRUFSLCBUSU1FX1BFUl9VTklUIH0gZnJvbSAnLi4vZGF0ZS11dGlscy9jb25zdGFudHMnO1xuXG5jbGFzcyBEYXRlVmFsdWVBeGlzIGV4dGVuZHMgQXhpcyB7XG4gICAgY29uc3RydWN0b3Ioc2VyaWVzTWluLCBzZXJpZXNNYXgsIGF4aXNPcHRpb25zLCBjaGFydFNlcnZpY2UpIHtcbiAgICAgICAgY29uc3QgbWluID0gdG9EYXRlKHNlcmllc01pbik7XG4gICAgICAgIGNvbnN0IG1heCA9IHRvRGF0ZShzZXJpZXNNYXgpO1xuXG4gICAgICAgIGNvbnN0IGludGxTZXJ2aWNlID0gY2hhcnRTZXJ2aWNlLmludGw7XG4gICAgICAgIGxldCBvcHRpb25zID0gYXhpc09wdGlvbnMgfHwge307XG4gICAgICAgIG9wdGlvbnMgPSBkZWVwRXh0ZW5kKG9wdGlvbnMgfHwge30sIHtcbiAgICAgICAgICAgIG1pbjogcGFyc2VEYXRlKGludGxTZXJ2aWNlLCBvcHRpb25zLm1pbiksXG4gICAgICAgICAgICBtYXg6IHBhcnNlRGF0ZShpbnRsU2VydmljZSwgb3B0aW9ucy5tYXgpLFxuICAgICAgICAgICAgYXhpc0Nyb3NzaW5nVmFsdWU6IHBhcnNlRGF0ZXMoaW50bFNlcnZpY2UsIG9wdGlvbnMuYXhpc0Nyb3NzaW5nVmFsdWVzIHx8IG9wdGlvbnMuYXhpc0Nyb3NzaW5nVmFsdWUpXG4gICAgICAgIH0pO1xuICAgICAgICBvcHRpb25zID0gYXBwbHlEZWZhdWx0cyhtaW4sIG1heCwgb3B0aW9ucyk7XG5cbiAgICAgICAgc3VwZXIob3B0aW9ucywgY2hhcnRTZXJ2aWNlKTtcblxuICAgICAgICB0aGlzLmludGxTZXJ2aWNlID0gaW50bFNlcnZpY2U7XG4gICAgICAgIHRoaXMuc2VyaWVzTWluID0gbWluO1xuICAgICAgICB0aGlzLnNlcmllc01heCA9IG1heDtcblxuICAgICAgICBjb25zdCB3ZWVrU3RhcnREYXkgPSBvcHRpb25zLndlZWtTdGFydERheSB8fCAwO1xuICAgICAgICB0aGlzLnRvdGFsTWluID0gdG9UaW1lKGZsb29yRGF0ZSh0b1RpbWUobWluKSAtIDEsIG9wdGlvbnMuYmFzZVVuaXQsIHdlZWtTdGFydERheSkpO1xuICAgICAgICB0aGlzLnRvdGFsTWF4ID0gdG9UaW1lKGNlaWxEYXRlKHRvVGltZShtYXgpICsgMSwgb3B0aW9ucy5iYXNlVW5pdCwgd2Vla1N0YXJ0RGF5KSk7XG4gICAgfVxuXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZVZhbHVlQXhpcyh0aGlzLnNlcmllc01pbiwgdGhpcy5zZXJpZXNNYXgsIE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3B0aW9ucyksIHRoaXMuY2hhcnRTZXJ2aWNlKTtcbiAgICB9XG5cbiAgICByYW5nZSgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgcmV0dXJuIHsgbWluOiBvcHRpb25zLm1pbiwgbWF4OiBvcHRpb25zLm1heCB9O1xuICAgIH1cblxuICAgIGdldERpdmlzaW9ucyhzdGVwVmFsdWUpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihcbiAgICAgICAgICAgIGR1cmF0aW9uKG9wdGlvbnMubWluLCBvcHRpb25zLm1heCwgb3B0aW9ucy5iYXNlVW5pdCkgLyBzdGVwVmFsdWUgKyAxXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZ2V0VGlja1Bvc2l0aW9ucyhzdGVwKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHZlcnRpY2FsID0gb3B0aW9ucy52ZXJ0aWNhbDtcbiAgICAgICAgY29uc3QgbGluZUJveCA9IHRoaXMubGluZUJveCgpO1xuICAgICAgICBjb25zdCBkaXIgPSAodmVydGljYWwgPyAtMSA6IDEpICogKG9wdGlvbnMucmV2ZXJzZSA/IC0xIDogMSk7XG4gICAgICAgIGNvbnN0IHN0YXJ0RWRnZSA9IGRpciA9PT0gMSA/IDEgOiAyO1xuICAgICAgICBjb25zdCBzdGFydCA9IGxpbmVCb3hbKHZlcnRpY2FsID8gWSA6IFgpICsgc3RhcnRFZGdlXTtcbiAgICAgICAgY29uc3QgZGl2aXNpb25zID0gdGhpcy5nZXREaXZpc2lvbnMoc3RlcCk7XG4gICAgICAgIGNvbnN0IHRpbWVSYW5nZSA9IGRhdGVEaWZmKG9wdGlvbnMubWF4LCBvcHRpb25zLm1pbik7XG4gICAgICAgIGNvbnN0IGxpbmVTaXplID0gdmVydGljYWwgPyBsaW5lQm94LmhlaWdodCgpIDogbGluZUJveC53aWR0aCgpO1xuICAgICAgICBjb25zdCBzY2FsZSA9IGxpbmVTaXplIC8gdGltZVJhbmdlO1xuICAgICAgICBjb25zdCB3ZWVrU3RhcnREYXkgPSBvcHRpb25zLndlZWtTdGFydERheSB8fCAwO1xuXG4gICAgICAgIGNvbnN0IHBvc2l0aW9ucyA9IFsgc3RhcnQgXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBkaXZpc2lvbnM7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZGF0ZSA9IGFkZER1cmF0aW9uKG9wdGlvbnMubWluLCBpICogc3RlcCwgb3B0aW9ucy5iYXNlVW5pdCwgd2Vla1N0YXJ0RGF5KTtcbiAgICAgICAgICAgIGNvbnN0IHBvcyA9IHN0YXJ0ICsgZGF0ZURpZmYoZGF0ZSwgb3B0aW9ucy5taW4pICogc2NhbGUgKiBkaXI7XG5cbiAgICAgICAgICAgIHBvc2l0aW9ucy5wdXNoKHJvdW5kKHBvcywgQ09PUkRfUFJFQ0lTSU9OKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcG9zaXRpb25zO1xuICAgIH1cblxuICAgIGdldE1ham9yVGlja1Bvc2l0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGlja1Bvc2l0aW9ucyh0aGlzLm9wdGlvbnMubWFqb3JVbml0KTtcbiAgICB9XG5cbiAgICBnZXRNaW5vclRpY2tQb3NpdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFRpY2tQb3NpdGlvbnModGhpcy5vcHRpb25zLm1pbm9yVW5pdCk7XG4gICAgfVxuXG4gICAgZ2V0U2xvdChhLCBiLCBsaW1pdCkge1xuICAgICAgICByZXR1cm4gTnVtZXJpY0F4aXMucHJvdG90eXBlLmdldFNsb3QuY2FsbChcbiAgICAgICAgICAgIHRoaXMsIHBhcnNlRGF0ZSh0aGlzLmludGxTZXJ2aWNlLCBhKSwgcGFyc2VEYXRlKHRoaXMuaW50bFNlcnZpY2UsIGIpLCBsaW1pdFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGdldFZhbHVlKHBvaW50KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gTnVtZXJpY0F4aXMucHJvdG90eXBlLmdldFZhbHVlLmNhbGwodGhpcywgcG9pbnQpO1xuXG4gICAgICAgIHJldHVybiB2YWx1ZSAhPT0gbnVsbCA/IHRvRGF0ZSh2YWx1ZSkgOiBudWxsO1xuICAgIH1cblxuICAgIGxhYmVsc0NvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREaXZpc2lvbnModGhpcy5vcHRpb25zLm1ham9yVW5pdCk7XG4gICAgfVxuXG4gICAgY3JlYXRlQXhpc0xhYmVsKGluZGV4LCBsYWJlbE9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gaW5kZXggKiBvcHRpb25zLm1ham9yVW5pdDtcbiAgICAgICAgY29uc3Qgd2Vla1N0YXJ0RGF5ID0gb3B0aW9ucy53ZWVrU3RhcnREYXkgfHwgMDtcbiAgICAgICAgbGV0IGRhdGUgPSBvcHRpb25zLm1pbjtcblxuICAgICAgICBpZiAob2Zmc2V0ID4gMCkge1xuICAgICAgICAgICAgZGF0ZSA9IGFkZER1cmF0aW9uKGRhdGUsIG9mZnNldCwgb3B0aW9ucy5iYXNlVW5pdCwgd2Vla1N0YXJ0RGF5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHVuaXRGb3JtYXQgPSBsYWJlbE9wdGlvbnMuZGF0ZUZvcm1hdHNbb3B0aW9ucy5iYXNlVW5pdF07XG4gICAgICAgIGxhYmVsT3B0aW9ucy5mb3JtYXQgPSBsYWJlbE9wdGlvbnMuZm9ybWF0IHx8IHVuaXRGb3JtYXQ7XG5cbiAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMuYXhpc0xhYmVsVGV4dChkYXRlLCBudWxsLCBsYWJlbE9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gbmV3IEF4aXNMYWJlbChkYXRlLCB0ZXh0LCBpbmRleCwgbnVsbCwgbGFiZWxPcHRpb25zKTtcbiAgICB9XG5cbiAgICB0cmFuc2xhdGVSYW5nZShkZWx0YSwgZXhhY3QpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgYmFzZVVuaXQgPSBvcHRpb25zLmJhc2VVbml0O1xuICAgICAgICBjb25zdCB3ZWVrU3RhcnREYXkgPSBvcHRpb25zLndlZWtTdGFydERheSB8fCAwO1xuICAgICAgICBjb25zdCBsaW5lQm94ID0gdGhpcy5saW5lQm94KCk7XG4gICAgICAgIGNvbnN0IHNpemUgPSBvcHRpb25zLnZlcnRpY2FsID8gbGluZUJveC5oZWlnaHQoKSA6IGxpbmVCb3gud2lkdGgoKTtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSB0aGlzLnJhbmdlKCk7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gc2l6ZSAvIGRhdGVEaWZmKHJhbmdlLm1heCwgcmFuZ2UubWluKTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gcm91bmQoZGVsdGEgLyBzY2FsZSwgREVGQVVMVF9QUkVDSVNJT04pICogKG9wdGlvbnMucmV2ZXJzZSA/IC0xIDogMSk7XG4gICAgICAgIGxldCBmcm9tID0gYWRkVGlja3Mob3B0aW9ucy5taW4sIG9mZnNldCk7XG4gICAgICAgIGxldCB0byA9IGFkZFRpY2tzKG9wdGlvbnMubWF4LCBvZmZzZXQpO1xuXG4gICAgICAgIGlmICghZXhhY3QpIHtcbiAgICAgICAgICAgIGZyb20gPSBhZGREdXJhdGlvbihmcm9tLCAwLCBiYXNlVW5pdCwgd2Vla1N0YXJ0RGF5KTtcbiAgICAgICAgICAgIHRvID0gYWRkRHVyYXRpb24odG8sIDAsIGJhc2VVbml0LCB3ZWVrU3RhcnREYXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbjogZnJvbSxcbiAgICAgICAgICAgIG1heDogdG8sXG4gICAgICAgICAgICBvZmZzZXQ6IG9mZnNldFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHNjYWxlUmFuZ2UoZGVsdGEpIHtcbiAgICAgICAgbGV0IHsgbWluOiBmcm9tLCBtYXg6IHRvIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGxldCByb3VuZHMgPSBNYXRoLmFicyhkZWx0YSk7XG5cbiAgICAgICAgd2hpbGUgKHJvdW5kcy0tKSB7XG4gICAgICAgICAgICBjb25zdCByYW5nZSA9IGRhdGVEaWZmKGZyb20sIHRvKTtcbiAgICAgICAgICAgIGNvbnN0IHN0ZXAgPSBNYXRoLnJvdW5kKHJhbmdlICogMC4xKTtcbiAgICAgICAgICAgIGlmIChkZWx0YSA8IDApIHtcbiAgICAgICAgICAgICAgICBmcm9tID0gYWRkVGlja3MoZnJvbSwgc3RlcCk7XG4gICAgICAgICAgICAgICAgdG8gPSBhZGRUaWNrcyh0bywgLXN0ZXApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmcm9tID0gYWRkVGlja3MoZnJvbSwgLXN0ZXApO1xuICAgICAgICAgICAgICAgIHRvID0gYWRkVGlja3ModG8sIHN0ZXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsgbWluOiBmcm9tLCBtYXg6IHRvIH07XG4gICAgfVxuXG4gICAgc2hvdWxkUmVuZGVyTm90ZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCByYW5nZSA9IHRoaXMucmFuZ2UoKTtcblxuICAgICAgICByZXR1cm4gZGF0ZUNvbXBhcmVyKHZhbHVlLCByYW5nZS5taW4pID49IDAgJiYgZGF0ZUNvbXBhcmVyKHZhbHVlLCByYW5nZS5tYXgpIDw9IDA7XG4gICAgfVxuXG4gICAgcGFuKGRlbHRhKSB7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gdGhpcy50cmFuc2xhdGVSYW5nZShkZWx0YSwgdHJ1ZSk7XG4gICAgICAgIGNvbnN0IGxpbWl0dGVkUmFuZ2UgPSB0aGlzLmxpbWl0UmFuZ2UodG9UaW1lKHJhbmdlLm1pbiksIHRvVGltZShyYW5nZS5tYXgpLCB0aGlzLnRvdGFsTWluLCB0aGlzLnRvdGFsTWF4LCByYW5nZS5vZmZzZXQpO1xuXG4gICAgICAgIGlmIChsaW1pdHRlZFJhbmdlKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1pbjogdG9EYXRlKGxpbWl0dGVkUmFuZ2UubWluKSxcbiAgICAgICAgICAgICAgICBtYXg6IHRvRGF0ZShsaW1pdHRlZFJhbmdlLm1heClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwb2ludHNSYW5nZShzdGFydCwgZW5kKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0VmFsdWUgPSB0aGlzLmdldFZhbHVlKHN0YXJ0KTtcbiAgICAgICAgY29uc3QgZW5kVmFsdWUgPSB0aGlzLmdldFZhbHVlKGVuZCk7XG4gICAgICAgIGNvbnN0IG1pbiA9IE1hdGgubWluKHN0YXJ0VmFsdWUsIGVuZFZhbHVlKTtcbiAgICAgICAgY29uc3QgbWF4ID0gTWF0aC5tYXgoc3RhcnRWYWx1ZSwgZW5kVmFsdWUpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtaW46IHRvRGF0ZShtaW4pLFxuICAgICAgICAgICAgbWF4OiB0b0RhdGUobWF4KVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHpvb21SYW5nZShkZWx0YSkge1xuICAgICAgICBjb25zdCByYW5nZSA9IHRoaXMuc2NhbGVSYW5nZShkZWx0YSk7XG4gICAgICAgIGNvbnN0IG1pbiA9IHRvRGF0ZShsaW1pdFZhbHVlKHRvVGltZShyYW5nZS5taW4pLCB0aGlzLnRvdGFsTWluLCB0aGlzLnRvdGFsTWF4KSk7XG4gICAgICAgIGNvbnN0IG1heCA9IHRvRGF0ZShsaW1pdFZhbHVlKHRvVGltZShyYW5nZS5tYXgpLCB0aGlzLnRvdGFsTWluLCB0aGlzLnRvdGFsTWF4KSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbjogbWluLFxuICAgICAgICAgICAgbWF4OiBtYXhcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHRpbWVVbml0cyhkZWx0YSkge1xuICAgIGxldCB1bml0ID0gSE9VUlM7XG5cbiAgICBpZiAoZGVsdGEgPj0gVElNRV9QRVJfWUVBUikge1xuICAgICAgICB1bml0ID0gWUVBUlM7XG4gICAgfSBlbHNlIGlmIChkZWx0YSA+PSBUSU1FX1BFUl9NT05USCkge1xuICAgICAgICB1bml0ID0gTU9OVEhTO1xuICAgIH0gZWxzZSBpZiAoZGVsdGEgPj0gVElNRV9QRVJfV0VFSykge1xuICAgICAgICB1bml0ID0gV0VFS1M7XG4gICAgfSBlbHNlIGlmIChkZWx0YSA+PSBUSU1FX1BFUl9EQVkpIHtcbiAgICAgICAgdW5pdCA9IERBWVM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuaXQ7XG59XG5cbmZ1bmN0aW9uIGFwcGx5RGVmYXVsdHMoc2VyaWVzTWluLCBzZXJpZXNNYXgsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBtaW4gPSBvcHRpb25zLm1pbiB8fCBzZXJpZXNNaW47XG4gICAgY29uc3QgbWF4ID0gb3B0aW9ucy5tYXggfHwgc2VyaWVzTWF4O1xuICAgIGNvbnN0IGJhc2VVbml0ID0gb3B0aW9ucy5iYXNlVW5pdCB8fCAobWF4ICYmIG1pbiA/IHRpbWVVbml0cyhhYnNvbHV0ZURhdGVEaWZmKG1heCwgbWluKSkgOiBIT1VSUyk7XG4gICAgY29uc3QgYmFzZVVuaXRUaW1lID0gVElNRV9QRVJfVU5JVFtiYXNlVW5pdF07XG4gICAgY29uc3Qgd2Vla1N0YXJ0RGF5ID0gb3B0aW9ucy53ZWVrU3RhcnREYXkgfHwgMDtcbiAgICBjb25zdCBhdXRvTWluID0gZmxvb3JEYXRlKHRvVGltZShtaW4pIC0gMSwgYmFzZVVuaXQsIHdlZWtTdGFydERheSkgfHwgdG9EYXRlKG1heCk7XG4gICAgY29uc3QgYXV0b01heCA9IGNlaWxEYXRlKHRvVGltZShtYXgpICsgMSwgYmFzZVVuaXQsIHdlZWtTdGFydERheSk7XG4gICAgY29uc3QgdXNlck1ham9yVW5pdCA9IG9wdGlvbnMubWFqb3JVbml0ID8gb3B0aW9ucy5tYWpvclVuaXQgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgbWFqb3JVbml0ID0gdXNlck1ham9yVW5pdCB8fCBjZWlsKFxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b01ham9yVW5pdChhdXRvTWluLmdldFRpbWUoKSwgYXV0b01heC5nZXRUaW1lKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVVuaXRUaW1lXG4gICAgICAgICAgICAgICAgICAgICkgLyBiYXNlVW5pdFRpbWU7XG4gICAgY29uc3QgYWN0dWFsVW5pdHMgPSBkdXJhdGlvbihhdXRvTWluLCBhdXRvTWF4LCBiYXNlVW5pdCk7XG4gICAgY29uc3QgdG90YWxVbml0cyA9IGNlaWwoYWN0dWFsVW5pdHMsIG1ham9yVW5pdCk7XG4gICAgY29uc3QgdW5pdHNUb0FkZCA9IHRvdGFsVW5pdHMgLSBhY3R1YWxVbml0cztcbiAgICBjb25zdCBoZWFkID0gTWF0aC5mbG9vcih1bml0c1RvQWRkIC8gMik7XG4gICAgY29uc3QgdGFpbCA9IHVuaXRzVG9BZGQgLSBoZWFkO1xuXG4gICAgaWYgKCFvcHRpb25zLmJhc2VVbml0KSB7XG4gICAgICAgIGRlbGV0ZSBvcHRpb25zLmJhc2VVbml0O1xuICAgIH1cblxuICAgIG9wdGlvbnMuYmFzZVVuaXQgPSBvcHRpb25zLmJhc2VVbml0IHx8IGJhc2VVbml0O1xuICAgIG9wdGlvbnMubWluID0gb3B0aW9ucy5taW4gfHwgYWRkRHVyYXRpb24oYXV0b01pbiwgLWhlYWQsIGJhc2VVbml0LCB3ZWVrU3RhcnREYXkpO1xuICAgIG9wdGlvbnMubWF4ID0gb3B0aW9ucy5tYXggfHwgYWRkRHVyYXRpb24oYXV0b01heCwgdGFpbCwgYmFzZVVuaXQsIHdlZWtTdGFydERheSk7XG4gICAgb3B0aW9ucy5taW5vclVuaXQgPSBvcHRpb25zLm1pbm9yVW5pdCB8fCBtYWpvclVuaXQgLyA1O1xuICAgIG9wdGlvbnMubWFqb3JVbml0ID0gbWFqb3JVbml0O1xuXG4gICAgcmV0dXJuIG9wdGlvbnM7XG59XG5cbnNldERlZmF1bHRPcHRpb25zKERhdGVWYWx1ZUF4aXMsIHtcbiAgICB0eXBlOiBEQVRFLFxuICAgIG1ham9yR3JpZExpbmVzOiB7XG4gICAgICAgIHZpc2libGU6IHRydWUsXG4gICAgICAgIHdpZHRoOiAxLFxuICAgICAgICBjb2xvcjogQkxBQ0tcbiAgICB9LFxuICAgIGxhYmVsczoge1xuICAgICAgICBkYXRlRm9ybWF0czogRGF0ZUxhYmVsRm9ybWF0c1xuICAgIH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBEYXRlVmFsdWVBeGlzO1xuIiwiXG5pbXBvcnQgQXhpcyBmcm9tICcuL2F4aXMnO1xuaW1wb3J0IEF4aXNMYWJlbCBmcm9tICcuL2F4aXMtbGFiZWwnO1xuaW1wb3J0IEJveCBmcm9tICcuL2JveCc7XG5cbmltcG9ydCBjcmVhdGVBeGlzVGljayBmcm9tICcuL3V0aWxzL2NyZWF0ZS1heGlzLXRpY2snO1xuaW1wb3J0IGNyZWF0ZUF4aXNHcmlkTGluZSBmcm9tICcuL3V0aWxzL2NyZWF0ZS1heGlzLWdyaWQtbGluZSc7XG5pbXBvcnQgbGltaXRDb29yZGluYXRlIGZyb20gJy4vdXRpbHMvbGltaXQtY29vcmRpbmF0ZSc7XG5cbmltcG9ydCB7IERFRkFVTFRfUFJFQ0lTSU9OLCBCTEFDSywgWCwgWSB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZGVlcEV4dGVuZCwgZGVmaW5lZCwgaW5BcnJheSwgbGltaXRWYWx1ZSwgcm91bmQsIHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vY29tbW9uJztcblxuY29uc3QgREVGQVVMVF9NQUpPUl9VTklUID0gMTA7XG5cbmNsYXNzIExvZ2FyaXRobWljQXhpcyBleHRlbmRzIEF4aXMge1xuICAgIGNvbnN0cnVjdG9yKHNlcmllc01pbiwgc2VyaWVzTWF4LCBvcHRpb25zLCBjaGFydFNlcnZpY2UpIHtcblxuICAgICAgICBjb25zdCBheGlzT3B0aW9ucyA9IGRlZXBFeHRlbmQoeyBtYWpvclVuaXQ6IERFRkFVTFRfTUFKT1JfVU5JVCwgbWluOiBzZXJpZXNNaW4sIG1heDogc2VyaWVzTWF4IH0sIG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBiYXNlID0gYXhpc09wdGlvbnMubWFqb3JVbml0O1xuICAgICAgICBjb25zdCBhdXRvTWF4ID0gYXV0b0F4aXNNYXgoc2VyaWVzTWF4LCBiYXNlKTtcbiAgICAgICAgY29uc3QgYXV0b01pbiA9IGF1dG9BeGlzTWluKHNlcmllc01pbiwgc2VyaWVzTWF4LCBheGlzT3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gaW5pdFJhbmdlKGF1dG9NaW4sIGF1dG9NYXgsIGF4aXNPcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICBheGlzT3B0aW9ucy5tYXggPSByYW5nZS5tYXg7XG4gICAgICAgIGF4aXNPcHRpb25zLm1pbiA9IHJhbmdlLm1pbjtcbiAgICAgICAgYXhpc09wdGlvbnMubWlub3JVbml0ID0gb3B0aW9ucy5taW5vclVuaXQgfHwgcm91bmQoYmFzZSAtIDEsIERFRkFVTFRfUFJFQ0lTSU9OKTtcblxuICAgICAgICBzdXBlcihheGlzT3B0aW9ucywgY2hhcnRTZXJ2aWNlKTtcblxuICAgICAgICB0aGlzLnRvdGFsTWluID0gZGVmaW5lZChvcHRpb25zLm1pbikgPyBNYXRoLm1pbihhdXRvTWluLCBvcHRpb25zLm1pbikgOiBhdXRvTWluO1xuICAgICAgICB0aGlzLnRvdGFsTWF4ID0gZGVmaW5lZChvcHRpb25zLm1heCkgPyBNYXRoLm1heChhdXRvTWF4LCBvcHRpb25zLm1heCkgOiBhdXRvTWF4O1xuICAgICAgICB0aGlzLmxvZ01pbiA9IHJvdW5kKGxvZyhyYW5nZS5taW4sIGJhc2UpLCBERUZBVUxUX1BSRUNJU0lPTik7XG4gICAgICAgIHRoaXMubG9nTWF4ID0gcm91bmQobG9nKHJhbmdlLm1heCwgYmFzZSksIERFRkFVTFRfUFJFQ0lTSU9OKTtcbiAgICAgICAgdGhpcy5zZXJpZXNNaW4gPSBzZXJpZXNNaW47XG4gICAgICAgIHRoaXMuc2VyaWVzTWF4ID0gc2VyaWVzTWF4O1xuXG4gICAgICAgIHRoaXMuY3JlYXRlTGFiZWxzKCk7XG4gICAgfVxuXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgTG9nYXJpdGhtaWNBeGlzKFxuICAgICAgICAgICAgdGhpcy5zZXJpZXNNaW4sXG4gICAgICAgICAgICB0aGlzLnNlcmllc01heCxcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3B0aW9ucyksXG4gICAgICAgICAgICB0aGlzLmNoYXJ0U2VydmljZVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHN0YXJ0VmFsdWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMubWluO1xuICAgIH1cblxuICAgIGdldFNsb3QoYSwgYiwgbGltaXQpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBsb2dNaW4sIGxvZ01heCB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgeyByZXZlcnNlLCB2ZXJ0aWNhbCwgbWFqb3JVbml0OiBiYXNlIH0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCB2YWx1ZUF4aXMgPSB2ZXJ0aWNhbCA/IFkgOiBYO1xuICAgICAgICBjb25zdCBsaW5lQm94ID0gdGhpcy5saW5lQm94KCk7XG4gICAgICAgIGNvbnN0IGxpbmVTdGFydCA9IGxpbmVCb3hbdmFsdWVBeGlzICsgKHJldmVyc2UgPyAyIDogMSldO1xuICAgICAgICBjb25zdCBsaW5lU2l6ZSA9IHZlcnRpY2FsID8gbGluZUJveC5oZWlnaHQoKSA6IGxpbmVCb3gud2lkdGgoKTtcbiAgICAgICAgY29uc3QgZGlyID0gcmV2ZXJzZSA/IC0xIDogMTtcbiAgICAgICAgY29uc3Qgc3RlcCA9IGRpciAqIChsaW5lU2l6ZSAvIChsb2dNYXggLSBsb2dNaW4pKTtcbiAgICAgICAgY29uc3Qgc2xvdEJveCA9IG5ldyBCb3gobGluZUJveC54MSwgbGluZUJveC55MSwgbGluZUJveC54MSwgbGluZUJveC55MSk7XG4gICAgICAgIGxldCBzdGFydCA9IGE7XG4gICAgICAgIGxldCBlbmQgPSBiO1xuXG4gICAgICAgIGlmICghZGVmaW5lZChzdGFydCkpIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gZW5kIHx8IDE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWRlZmluZWQoZW5kKSkge1xuICAgICAgICAgICAgZW5kID0gc3RhcnQgfHwgMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGFydCA8PSAwIHx8IGVuZCA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsaW1pdCkge1xuICAgICAgICAgICAgc3RhcnQgPSBNYXRoLm1heChNYXRoLm1pbihzdGFydCwgb3B0aW9ucy5tYXgpLCBvcHRpb25zLm1pbik7XG4gICAgICAgICAgICBlbmQgPSBNYXRoLm1heChNYXRoLm1pbihlbmQsIG9wdGlvbnMubWF4KSwgb3B0aW9ucy5taW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhcnQgPSBsb2coc3RhcnQsIGJhc2UpO1xuICAgICAgICBlbmQgPSBsb2coZW5kLCBiYXNlKTtcblxuICAgICAgICBsZXQgcDEsIHAyO1xuXG4gICAgICAgIGlmICh2ZXJ0aWNhbCkge1xuICAgICAgICAgICAgcDEgPSBsb2dNYXggLSBNYXRoLm1heChzdGFydCwgZW5kKTtcbiAgICAgICAgICAgIHAyID0gbG9nTWF4IC0gTWF0aC5taW4oc3RhcnQsIGVuZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwMSA9IE1hdGgubWluKHN0YXJ0LCBlbmQpIC0gbG9nTWluO1xuICAgICAgICAgICAgcDIgPSBNYXRoLm1heChzdGFydCwgZW5kKSAtIGxvZ01pbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHNsb3RCb3hbdmFsdWVBeGlzICsgMV0gPSBsaW1pdENvb3JkaW5hdGUobGluZVN0YXJ0ICsgc3RlcCAqIChyZXZlcnNlID8gcDIgOiBwMSkpO1xuICAgICAgICBzbG90Qm94W3ZhbHVlQXhpcyArIDJdID0gbGltaXRDb29yZGluYXRlKGxpbmVTdGFydCArIHN0ZXAgKiAocmV2ZXJzZSA/IHAxIDogcDIpKTtcblxuICAgICAgICByZXR1cm4gc2xvdEJveDtcbiAgICB9XG5cbiAgICBnZXRWYWx1ZShwb2ludCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIGxvZ01pbiwgbG9nTWF4IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB7IHJldmVyc2UsIHZlcnRpY2FsLCBtYWpvclVuaXQ6IGJhc2UgfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGxpbmVCb3ggPSB0aGlzLmxpbmVCb3goKTtcbiAgICAgICAgY29uc3QgZGlyID0gdmVydGljYWwgPT09IHJldmVyc2UgPyAxIDogLTE7XG4gICAgICAgIGNvbnN0IHN0YXJ0RWRnZSA9IGRpciA9PT0gMSA/IDEgOiAyO1xuICAgICAgICBjb25zdCBsaW5lU2l6ZSA9IHZlcnRpY2FsID8gbGluZUJveC5oZWlnaHQoKSA6IGxpbmVCb3gud2lkdGgoKTtcbiAgICAgICAgY29uc3Qgc3RlcCA9ICgobG9nTWF4IC0gbG9nTWluKSAvIGxpbmVTaXplKTtcbiAgICAgICAgY29uc3QgdmFsdWVBeGlzID0gdmVydGljYWwgPyBZIDogWDtcbiAgICAgICAgY29uc3QgbGluZVN0YXJ0ID0gbGluZUJveFt2YWx1ZUF4aXMgKyBzdGFydEVkZ2VdO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSBkaXIgKiAocG9pbnRbdmFsdWVBeGlzXSAtIGxpbmVTdGFydCk7XG4gICAgICAgIGNvbnN0IHZhbHVlT2Zmc2V0ID0gb2Zmc2V0ICogc3RlcDtcblxuICAgICAgICBpZiAob2Zmc2V0IDwgMCB8fCBvZmZzZXQgPiBsaW5lU2l6ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB2YWx1ZSA9IGxvZ01pbiArIHZhbHVlT2Zmc2V0O1xuXG4gICAgICAgIHJldHVybiByb3VuZChNYXRoLnBvdyhiYXNlLCB2YWx1ZSksIERFRkFVTFRfUFJFQ0lTSU9OKTtcbiAgICB9XG5cbiAgICByYW5nZSgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgcmV0dXJuIHsgbWluOiBvcHRpb25zLm1pbiwgbWF4OiBvcHRpb25zLm1heCB9O1xuICAgIH1cblxuICAgIHNjYWxlUmFuZ2UoZGVsdGEpIHtcbiAgICAgICAgY29uc3QgYmFzZSA9IHRoaXMub3B0aW9ucy5tYWpvclVuaXQ7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IC1kZWx0YTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWluOiBNYXRoLnBvdyhiYXNlLCB0aGlzLmxvZ01pbiAtIG9mZnNldCksXG4gICAgICAgICAgICBtYXg6IE1hdGgucG93KGJhc2UsIHRoaXMubG9nTWF4ICsgb2Zmc2V0KVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHRyYW5zbGF0ZVJhbmdlKGRlbHRhKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgbG9nTWluLCBsb2dNYXggfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHsgcmV2ZXJzZSwgdmVydGljYWwsIG1ham9yVW5pdDogYmFzZSB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgbGluZUJveCA9IHRoaXMubGluZUJveCgpO1xuICAgICAgICBjb25zdCBzaXplID0gdmVydGljYWwgPyBsaW5lQm94LmhlaWdodCgpIDogbGluZUJveC53aWR0aCgpO1xuICAgICAgICBjb25zdCBzY2FsZSA9IHNpemUgLyAobG9nTWF4IC0gbG9nTWluKTtcbiAgICAgICAgbGV0IG9mZnNldCA9IHJvdW5kKGRlbHRhIC8gc2NhbGUsIERFRkFVTFRfUFJFQ0lTSU9OKTtcblxuICAgICAgICBpZiAoKHZlcnRpY2FsIHx8IHJldmVyc2UpICYmICEodmVydGljYWwgJiYgcmV2ZXJzZSApKSB7XG4gICAgICAgICAgICBvZmZzZXQgPSAtb2Zmc2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbjogTWF0aC5wb3coYmFzZSwgbG9nTWluICsgb2Zmc2V0KSxcbiAgICAgICAgICAgIG1heDogTWF0aC5wb3coYmFzZSwgbG9nTWF4ICsgb2Zmc2V0KSxcbiAgICAgICAgICAgIG9mZnNldDogb2Zmc2V0XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgbGFiZWxzQ291bnQoKSB7XG4gICAgICAgIGNvbnN0IGZsb29yTWF4ID0gTWF0aC5mbG9vcih0aGlzLmxvZ01heCk7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gTWF0aC5mbG9vcihmbG9vck1heCAtIHRoaXMubG9nTWluKSArIDE7XG5cbiAgICAgICAgcmV0dXJuIGNvdW50O1xuICAgIH1cblxuICAgIGdldE1ham9yVGlja1Bvc2l0aW9ucygpIHtcbiAgICAgICAgY29uc3QgdGlja3MgPSBbXTtcblxuICAgICAgICB0aGlzLnRyYXZlcnNlTWFqb3JUaWNrc1Bvc2l0aW9ucygocG9zaXRpb24pID0+IHtcbiAgICAgICAgICAgIHRpY2tzLnB1c2gocG9zaXRpb24pO1xuICAgICAgICB9LCB7IHN0ZXA6IDEsIHNraXA6IDAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRpY2tzO1xuICAgIH1cblxuICAgIGNyZWF0ZVRpY2tzKGxpbmVHcm91cCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB7IG1ham9yVGlja3MsIG1pbm9yVGlja3MsIHZlcnRpY2FsIH0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCBtaXJyb3IgPSBvcHRpb25zLmxhYmVscy5taXJyb3I7XG4gICAgICAgIGNvbnN0IGxpbmVCb3ggPSB0aGlzLmxpbmVCb3goKTtcbiAgICAgICAgY29uc3QgdGlja3MgPSBbXTtcbiAgICAgICAgY29uc3QgdGlja0xpbmVPcHRpb25zID0ge1xuICAgICAgICAgICAgLy8gVE9ET1xuICAgICAgICAgICAgLy8gX2FsaWduTGluZXM6IG9wdGlvbnMuX2FsaWduTGluZXMsXG4gICAgICAgICAgICB2ZXJ0aWNhbDogdmVydGljYWxcbiAgICAgICAgfTtcblxuICAgICAgICBmdW5jdGlvbiByZW5kZXIodGlja1Bvc2l0aW9uLCB0aWNrT3B0aW9ucykge1xuICAgICAgICAgICAgdGlja0xpbmVPcHRpb25zLnRpY2tYID0gbWlycm9yID8gbGluZUJveC54MiA6IGxpbmVCb3gueDIgLSB0aWNrT3B0aW9ucy5zaXplO1xuICAgICAgICAgICAgdGlja0xpbmVPcHRpb25zLnRpY2tZID0gbWlycm9yID8gbGluZUJveC55MSAtIHRpY2tPcHRpb25zLnNpemUgOiBsaW5lQm94LnkxO1xuICAgICAgICAgICAgdGlja0xpbmVPcHRpb25zLnBvc2l0aW9uID0gdGlja1Bvc2l0aW9uO1xuXG4gICAgICAgICAgICBsaW5lR3JvdXAuYXBwZW5kKGNyZWF0ZUF4aXNUaWNrKHRpY2tMaW5lT3B0aW9ucywgdGlja09wdGlvbnMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtYWpvclRpY2tzLnZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhdmVyc2VNYWpvclRpY2tzUG9zaXRpb25zKHJlbmRlciwgbWFqb3JUaWNrcyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWlub3JUaWNrcy52aXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLnRyYXZlcnNlTWlub3JUaWNrc1Bvc2l0aW9ucyhyZW5kZXIsIG1pbm9yVGlja3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRpY2tzO1xuICAgIH1cblxuICAgIGNyZWF0ZUdyaWRMaW5lcyhhbHRBeGlzKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHsgbWlub3JHcmlkTGluZXMsIG1ham9yR3JpZExpbmVzLCB2ZXJ0aWNhbCB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgbGluZUJveCA9IGFsdEF4aXMubGluZUJveCgpO1xuICAgICAgICBjb25zdCBsaW5lT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGxpbmVTdGFydDogbGluZUJveFt2ZXJ0aWNhbCA/IFwieDFcIiA6IFwieTFcIl0sXG4gICAgICAgICAgICBsaW5lRW5kOiBsaW5lQm94W3ZlcnRpY2FsID8gXCJ4MlwiIDogXCJ5MlwiXSxcbiAgICAgICAgICAgIHZlcnRpY2FsOiB2ZXJ0aWNhbFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBtYWpvclRpY2tzID0gW107XG5cbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5ncmlkTGluZXNWaXN1YWwoKTtcbiAgICAgICAgZnVuY3Rpb24gcmVuZGVyKHRpY2tQb3NpdGlvbiwgZ3JpZExpbmUpIHtcbiAgICAgICAgICAgIGlmICghaW5BcnJheSh0aWNrUG9zaXRpb24sIG1ham9yVGlja3MpKSB7XG4gICAgICAgICAgICAgICAgbGluZU9wdGlvbnMucG9zaXRpb24gPSB0aWNrUG9zaXRpb247XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZChjcmVhdGVBeGlzR3JpZExpbmUobGluZU9wdGlvbnMsIGdyaWRMaW5lKSk7XG5cbiAgICAgICAgICAgICAgICBtYWpvclRpY2tzLnB1c2godGlja1Bvc2l0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtYWpvckdyaWRMaW5lcy52aXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLnRyYXZlcnNlTWFqb3JUaWNrc1Bvc2l0aW9ucyhyZW5kZXIsIG1ham9yR3JpZExpbmVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtaW5vckdyaWRMaW5lcy52aXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLnRyYXZlcnNlTWlub3JUaWNrc1Bvc2l0aW9ucyhyZW5kZXIsIG1pbm9yR3JpZExpbmVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb250YWluZXIuY2hpbGRyZW47XG4gICAgfVxuXG4gICAgdHJhdmVyc2VNYWpvclRpY2tzUG9zaXRpb25zKGNhbGxiYWNrLCB0aWNrT3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IGxpbmVTdGFydCwgc3RlcCB9ID0gdGhpcy5fbGluZU9wdGlvbnMoKTtcbiAgICAgICAgY29uc3QgeyBsb2dNaW4sIGxvZ01heCB9ID0gdGhpcztcblxuICAgICAgICBmb3IgKGxldCBwb3dlciA9IE1hdGguY2VpbChsb2dNaW4pICsgdGlja09wdGlvbnMuc2tpcDsgcG93ZXIgPD0gbG9nTWF4OyBwb3dlciArPSB0aWNrT3B0aW9ucy5zdGVwKSB7XG4gICAgICAgICAgICBsZXQgcG9zaXRpb24gPSByb3VuZChsaW5lU3RhcnQgKyBzdGVwICogKHBvd2VyIC0gbG9nTWluKSwgREVGQVVMVF9QUkVDSVNJT04pO1xuICAgICAgICAgICAgY2FsbGJhY2socG9zaXRpb24sIHRpY2tPcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRyYXZlcnNlTWlub3JUaWNrc1Bvc2l0aW9ucyhjYWxsYmFjaywgdGlja09wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyBtaW4sIG1heCwgbWlub3JVbml0LCBtYWpvclVuaXQ6IGJhc2UgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgeyBsaW5lU3RhcnQsIHN0ZXAgfSA9IHRoaXMuX2xpbmVPcHRpb25zKCk7XG4gICAgICAgIGNvbnN0IHsgbG9nTWluLCBsb2dNYXggfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gTWF0aC5mbG9vcihsb2dNaW4pO1xuXG4gICAgICAgIGZvciAobGV0IHBvd2VyID0gc3RhcnQ7IHBvd2VyIDwgbG9nTWF4OyBwb3dlcisrKSB7XG4gICAgICAgICAgICBjb25zdCBtaW5vck9wdGlvbnMgPSB0aGlzLl9taW5vckludGVydmFsT3B0aW9ucyhwb3dlcik7XG4gICAgICAgICAgICBmb3IgKGxldCBpZHggPSB0aWNrT3B0aW9ucy5za2lwOyBpZHggPCBtaW5vclVuaXQ7IGlkeCArPSB0aWNrT3B0aW9ucy5zdGVwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBtaW5vck9wdGlvbnMudmFsdWUgKyBpZHggKiBtaW5vck9wdGlvbnMubWlub3JTdGVwO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IG1heCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID49IG1pbikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHJvdW5kKGxpbmVTdGFydCArIHN0ZXAgKiAobG9nKHZhbHVlLCBiYXNlKSAtIGxvZ01pbiksIERFRkFVTFRfUFJFQ0lTSU9OKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2socG9zaXRpb24sIHRpY2tPcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVBeGlzTGFiZWwoaW5kZXgsIGxhYmVsT3B0aW9ucykge1xuICAgICAgICBjb25zdCBwb3dlciA9IE1hdGguY2VpbCh0aGlzLmxvZ01pbiArIGluZGV4KTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBNYXRoLnBvdyh0aGlzLm9wdGlvbnMubWFqb3JVbml0LCBwb3dlcik7XG4gICAgICAgIGNvbnN0IHRleHQgPSB0aGlzLmF4aXNMYWJlbFRleHQodmFsdWUsIG51bGwsIGxhYmVsT3B0aW9ucyk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBBeGlzTGFiZWwodmFsdWUsIHRleHQsIGluZGV4LCBudWxsLCBsYWJlbE9wdGlvbnMpO1xuICAgIH1cblxuICAgIHNob3VsZFJlbmRlck5vdGUodmFsdWUpIHtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSB0aGlzLnJhbmdlKCk7XG4gICAgICAgIHJldHVybiByYW5nZS5taW4gPD0gdmFsdWUgJiYgdmFsdWUgPD0gcmFuZ2UubWF4O1xuICAgIH1cblxuICAgIHBhbihkZWx0YSkge1xuICAgICAgICBjb25zdCByYW5nZSA9IHRoaXMudHJhbnNsYXRlUmFuZ2UoZGVsdGEpO1xuICAgICAgICByZXR1cm4gdGhpcy5saW1pdFJhbmdlKHJhbmdlLm1pbiwgcmFuZ2UubWF4LCB0aGlzLnRvdGFsTWluLCB0aGlzLnRvdGFsTWF4LCByYW5nZS5vZmZzZXQpO1xuICAgIH1cblxuICAgIHBvaW50c1JhbmdlKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgY29uc3Qgc3RhcnRWYWx1ZSA9IHRoaXMuZ2V0VmFsdWUoc3RhcnQpO1xuICAgICAgICBjb25zdCBlbmRWYWx1ZSA9IHRoaXMuZ2V0VmFsdWUoZW5kKTtcbiAgICAgICAgY29uc3QgbWluID0gTWF0aC5taW4oc3RhcnRWYWx1ZSwgZW5kVmFsdWUpO1xuICAgICAgICBjb25zdCBtYXggPSBNYXRoLm1heChzdGFydFZhbHVlLCBlbmRWYWx1ZSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbjogbWluLFxuICAgICAgICAgICAgbWF4OiBtYXhcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB6b29tUmFuZ2UoZGVsdGEpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCB0b3RhbE1pbiwgdG90YWxNYXggfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IG5ld1JhbmdlID0gdGhpcy5zY2FsZVJhbmdlKGRlbHRhKTtcbiAgICAgICAgY29uc3QgbWluID0gbGltaXRWYWx1ZShuZXdSYW5nZS5taW4sIHRvdGFsTWluLCB0b3RhbE1heCk7XG4gICAgICAgIGNvbnN0IG1heCA9IGxpbWl0VmFsdWUobmV3UmFuZ2UubWF4LCB0b3RhbE1pbiwgdG90YWxNYXgpO1xuICAgICAgICBjb25zdCBiYXNlID0gb3B0aW9ucy5tYWpvclVuaXQ7XG4gICAgICAgIGNvbnN0IGFjY2VwdE9wdGlvbnNSYW5nZSA9IG1heCA+IG1pbiAmJiBvcHRpb25zLm1pbiAmJiBvcHRpb25zLm1heCAmJiAocm91bmQobG9nKG9wdGlvbnMubWF4LCBiYXNlKSAtIGxvZyhvcHRpb25zLm1pbiwgYmFzZSksIERFRkFVTFRfUFJFQ0lTSU9OKSA8IDEpO1xuICAgICAgICBjb25zdCBhY2NlcHROZXdSYW5nZSA9ICEob3B0aW9ucy5taW4gPT09IHRvdGFsTWluICYmIG9wdGlvbnMubWF4ID09PSB0b3RhbE1heCkgJiYgcm91bmQobG9nKG1heCwgYmFzZSkgLSBsb2cobWluLCBiYXNlKSwgREVGQVVMVF9QUkVDSVNJT04pID49IDE7XG5cbiAgICAgICAgaWYgKGFjY2VwdE9wdGlvbnNSYW5nZSB8fCBhY2NlcHROZXdSYW5nZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtaW46IG1pbixcbiAgICAgICAgICAgICAgICBtYXg6IG1heFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9taW5vckludGVydmFsT3B0aW9ucyhwb3dlcikge1xuICAgICAgICBjb25zdCB7IG1pbm9yVW5pdCwgbWFqb3JVbml0OiBiYXNlIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gTWF0aC5wb3coYmFzZSwgcG93ZXIpO1xuICAgICAgICBjb25zdCBuZXh0VmFsdWUgPSBNYXRoLnBvdyhiYXNlLCBwb3dlciArIDEpO1xuICAgICAgICBjb25zdCBkaWZmZXJlbmNlID0gbmV4dFZhbHVlIC0gdmFsdWU7XG4gICAgICAgIGNvbnN0IG1pbm9yU3RlcCA9IGRpZmZlcmVuY2UgLyBtaW5vclVuaXQ7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIG1pbm9yU3RlcDogbWlub3JTdGVwXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgX2xpbmVPcHRpb25zKCkge1xuICAgICAgICBjb25zdCB7IHJldmVyc2UsIHZlcnRpY2FsIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHZhbHVlQXhpcyA9IHZlcnRpY2FsID8gWSA6IFg7XG4gICAgICAgIGNvbnN0IGxpbmVCb3ggPSB0aGlzLmxpbmVCb3goKTtcbiAgICAgICAgY29uc3QgZGlyID0gdmVydGljYWwgPT09IHJldmVyc2UgPyAxIDogLTE7XG4gICAgICAgIGNvbnN0IHN0YXJ0RWRnZSA9IGRpciA9PT0gMSA/IDEgOiAyO1xuICAgICAgICBjb25zdCBsaW5lU2l6ZSA9IHZlcnRpY2FsID8gbGluZUJveC5oZWlnaHQoKSA6IGxpbmVCb3gud2lkdGgoKTtcbiAgICAgICAgY29uc3Qgc3RlcCA9IGRpciAqIChsaW5lU2l6ZSAvICh0aGlzLmxvZ01heCAtIHRoaXMubG9nTWluKSk7XG4gICAgICAgIGNvbnN0IGxpbmVTdGFydCA9IGxpbmVCb3hbdmFsdWVBeGlzICsgc3RhcnRFZGdlXTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RlcDogc3RlcCxcbiAgICAgICAgICAgIGxpbmVTdGFydDogbGluZVN0YXJ0LFxuICAgICAgICAgICAgbGluZUJveDogbGluZUJveFxuICAgICAgICB9O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaW5pdFJhbmdlKGF1dG9NaW4sIGF1dG9NYXgsIGF4aXNPcHRpb25zLCBvcHRpb25zKSB7XG4gICAgbGV0IHsgbWluLCBtYXggfSA9IGF4aXNPcHRpb25zO1xuXG4gICAgaWYgKGRlZmluZWQoYXhpc09wdGlvbnMuYXhpc0Nyb3NzaW5nVmFsdWUpICYmIGF4aXNPcHRpb25zLmF4aXNDcm9zc2luZ1ZhbHVlIDw9IDApIHtcbiAgICAgICAgdGhyb3dOZWdhdGl2ZVZhbHVlc0Vycm9yKCk7XG4gICAgfVxuXG4gICAgaWYgKCFkZWZpbmVkKG9wdGlvbnMubWF4KSkge1xuICAgICAgICBtYXggPSBhdXRvTWF4O1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5tYXggPD0gMCkge1xuICAgICAgICB0aHJvd05lZ2F0aXZlVmFsdWVzRXJyb3IoKTtcbiAgICB9XG5cbiAgICBpZiAoIWRlZmluZWQob3B0aW9ucy5taW4pKSB7XG4gICAgICAgIG1pbiA9IGF1dG9NaW47XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLm1pbiA8PSAwKSB7XG4gICAgICAgIHRocm93TmVnYXRpdmVWYWx1ZXNFcnJvcigpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIG1pbjogbWluLFxuICAgICAgICBtYXg6IG1heFxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGF1dG9BeGlzTWluKG1pbiwgbWF4LCBvcHRpb25zKSB7XG4gICAgY29uc3QgYmFzZSA9IG9wdGlvbnMubWFqb3JVbml0O1xuICAgIGxldCBhdXRvTWluID0gbWluO1xuICAgIGlmIChtaW4gPD0gMCkge1xuICAgICAgICBhdXRvTWluID0gbWF4IDw9IDEgPyBNYXRoLnBvdyhiYXNlLCAtMikgOiAxO1xuICAgIH0gZWxzZSBpZiAoIW9wdGlvbnMubmFycm93UmFuZ2UpIHtcbiAgICAgICAgYXV0b01pbiA9IE1hdGgucG93KGJhc2UsIE1hdGguZmxvb3IobG9nKG1pbiwgYmFzZSkpKTtcbiAgICB9XG4gICAgcmV0dXJuIGF1dG9NaW47XG59XG5cbmZ1bmN0aW9uIGF1dG9BeGlzTWF4KG1heCwgYmFzZSkge1xuICAgIGNvbnN0IGxvZ01heFJlbWFpbmRlciA9IHJvdW5kKGxvZyhtYXgsIGJhc2UpLCBERUZBVUxUX1BSRUNJU0lPTikgJSAxO1xuICAgIGxldCBhdXRvTWF4O1xuICAgIGlmIChtYXggPD0gMCkge1xuICAgICAgICBhdXRvTWF4ID0gYmFzZTtcbiAgICB9IGVsc2UgaWYgKGxvZ01heFJlbWFpbmRlciAhPT0gMCAmJiAobG9nTWF4UmVtYWluZGVyIDwgMC4zIHx8IGxvZ01heFJlbWFpbmRlciA+IDAuOSkpIHtcbiAgICAgICAgYXV0b01heCA9IE1hdGgucG93KGJhc2UsIGxvZyhtYXgsIGJhc2UpICsgMC4yKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBhdXRvTWF4ID0gTWF0aC5wb3coYmFzZSwgTWF0aC5jZWlsKGxvZyhtYXgsIGJhc2UpKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGF1dG9NYXg7XG59XG5cbmZ1bmN0aW9uIHRocm93TmVnYXRpdmVWYWx1ZXNFcnJvcigpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb24gcG9zaXRpdmUgdmFsdWVzIGNhbm5vdCBiZSB1c2VkIGZvciBhIGxvZ2FyaXRobWljIGF4aXNcIik7XG59XG5cbmZ1bmN0aW9uIGxvZyh5LCB4KSB7XG4gICAgcmV0dXJuIE1hdGgubG9nKHkpIC8gTWF0aC5sb2coeCk7XG59XG5cbnNldERlZmF1bHRPcHRpb25zKExvZ2FyaXRobWljQXhpcywge1xuICAgIHR5cGU6IFwibG9nXCIsXG4gICAgbWFqb3JVbml0OiBERUZBVUxUX01BSk9SX1VOSVQsXG4gICAgbWlub3JVbml0OiAxLFxuICAgIGF4aXNDcm9zc2luZ1ZhbHVlOiAxLFxuICAgIHZlcnRpY2FsOiB0cnVlLFxuICAgIG1ham9yR3JpZExpbmVzOiB7XG4gICAgICAgIHZpc2libGU6IHRydWUsXG4gICAgICAgIHdpZHRoOiAxLFxuICAgICAgICBjb2xvcjogQkxBQ0tcbiAgICB9LFxuICAgIHpJbmRleDogMSxcbiAgICBfZGVmZXJMYWJlbHM6IHRydWVcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBMb2dhcml0aG1pY0F4aXM7XG4iLCJpbXBvcnQgeyBnZW9tZXRyeSBhcyBnZW9tLCBkcmF3aW5nIGFzIGRyYXcgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCB7IGFwcGVuZCwgbWFwIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY29uc3QgR3JpZExpbmVzTWl4aW4gPSB7XG4gICAgY3JlYXRlR3JpZExpbmVzOiBmdW5jdGlvbihhbHRBeGlzKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IE1hdGguYWJzKHRoaXMuYm94LmNlbnRlcigpLnkgLSBhbHRBeGlzLmxpbmVCb3goKS55MSk7XG4gICAgICAgIGxldCBncmlkTGluZXMgPSBbXTtcbiAgICAgICAgbGV0IHNraXBNYWpvciA9IGZhbHNlO1xuICAgICAgICBsZXQgbWFqb3JBbmdsZXMsIG1pbm9yQW5nbGVzO1xuXG4gICAgICAgIGlmIChvcHRpb25zLm1ham9yR3JpZExpbmVzLnZpc2libGUpIHtcbiAgICAgICAgICAgIG1ham9yQW5nbGVzID0gdGhpcy5tYWpvckdyaWRMaW5lQW5nbGVzKGFsdEF4aXMpO1xuICAgICAgICAgICAgc2tpcE1ham9yID0gdHJ1ZTtcblxuICAgICAgICAgICAgZ3JpZExpbmVzID0gdGhpcy5yZW5kZXJNYWpvckdyaWRMaW5lcyhcbiAgICAgICAgICAgICAgICBtYWpvckFuZ2xlcywgcmFkaXVzLCBvcHRpb25zLm1ham9yR3JpZExpbmVzXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMubWlub3JHcmlkTGluZXMudmlzaWJsZSkge1xuICAgICAgICAgICAgbWlub3JBbmdsZXMgPSB0aGlzLm1pbm9yR3JpZExpbmVBbmdsZXMoYWx0QXhpcywgc2tpcE1ham9yKTtcblxuICAgICAgICAgICAgYXBwZW5kKGdyaWRMaW5lcywgdGhpcy5yZW5kZXJNaW5vckdyaWRMaW5lcyhcbiAgICAgICAgICAgICAgICBtaW5vckFuZ2xlcywgcmFkaXVzLCBvcHRpb25zLm1pbm9yR3JpZExpbmVzLCBhbHRBeGlzLCBza2lwTWFqb3JcbiAgICAgICAgICAgICkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdyaWRMaW5lcztcbiAgICB9LFxuXG4gICAgcmVuZGVyTWFqb3JHcmlkTGluZXM6IGZ1bmN0aW9uKGFuZ2xlcywgcmFkaXVzLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlckdyaWRMaW5lcyhhbmdsZXMsIHJhZGl1cywgb3B0aW9ucyk7XG4gICAgfSxcblxuICAgIHJlbmRlck1pbm9yR3JpZExpbmVzOiBmdW5jdGlvbihhbmdsZXMsIHJhZGl1cywgb3B0aW9ucywgYWx0QXhpcywgc2tpcE1ham9yKSB7XG4gICAgICAgIGNvbnN0IHJhZGl1c0NhbGxiYWNrID0gdGhpcy5yYWRpdXNDYWxsYmFjayAmJiB0aGlzLnJhZGl1c0NhbGxiYWNrKHJhZGl1cywgYWx0QXhpcywgc2tpcE1ham9yKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyR3JpZExpbmVzKGFuZ2xlcywgcmFkaXVzLCBvcHRpb25zLCByYWRpdXNDYWxsYmFjayk7XG4gICAgfSxcblxuICAgIHJlbmRlckdyaWRMaW5lczogZnVuY3Rpb24oYW5nbGVzLCByYWRpdXMsIG9wdGlvbnMsIHJhZGl1c0NhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0ge1xuICAgICAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IG9wdGlvbnMud2lkdGgsXG4gICAgICAgICAgICAgICAgY29sb3I6IG9wdGlvbnMuY29sb3IsXG4gICAgICAgICAgICAgICAgZGFzaFR5cGU6IG9wdGlvbnMuZGFzaFR5cGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBjZW50ZXIgPSB0aGlzLmJveC5jZW50ZXIoKTtcbiAgICAgICAgY29uc3QgY2lyY2xlID0gbmV3IGdlb20uQ2lyY2xlKFsgY2VudGVyLngsIGNlbnRlci55IF0sIHJhZGl1cyk7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuZ3JpZExpbmVzVmlzdWFsKCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbmdsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmUgPSBuZXcgZHJhdy5QYXRoKHN0eWxlKTtcbiAgICAgICAgICAgIGlmIChyYWRpdXNDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGNpcmNsZS5yYWRpdXMgPSByYWRpdXNDYWxsYmFjayhhbmdsZXNbaV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsaW5lLm1vdmVUbyhjaXJjbGUuY2VudGVyKVxuICAgICAgICAgICAgICAgIC5saW5lVG8oY2lyY2xlLnBvaW50QXQoYW5nbGVzW2ldICsgMTgwKSk7XG5cbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmQobGluZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29udGFpbmVyLmNoaWxkcmVuO1xuICAgIH0sXG5cbiAgICBncmlkTGluZUFuZ2xlczogZnVuY3Rpb24oYWx0QXhpcywgc2l6ZSwgc2tpcCwgc3RlcCwgc2tpcEFuZ2xlcykge1xuICAgICAgICBjb25zdCBkaXZzID0gdGhpcy5pbnRlcnZhbHMoc2l6ZSwgc2tpcCwgc3RlcCwgc2tpcEFuZ2xlcyk7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBhbHRBeGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGFsdEF4aXNWaXNpYmxlID0gb3B0aW9ucy52aXNpYmxlICYmIChvcHRpb25zLmxpbmUgfHwge30pLnZpc2libGUgIT09IGZhbHNlO1xuXG4gICAgICAgIHJldHVybiBtYXAoZGl2cywgKGQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFscGhhID0gdGhpcy5pbnRlcnZhbEFuZ2xlKGQpO1xuXG4gICAgICAgICAgICBpZiAoIWFsdEF4aXNWaXNpYmxlIHx8IGFscGhhICE9PSA5MCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhbHBoYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgR3JpZExpbmVzTWl4aW47IiwiaW1wb3J0IHsgZ2VvbWV0cnkgYXMgZ2VvbSwgZHJhd2luZyBhcyBkcmF3IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgR3JpZExpbmVzTWl4aW4gZnJvbSAnLi9taXhpbnMvZ3JpZC1saW5lcy1taXhpbic7XG5pbXBvcnQgQ2F0ZWdvcnlBeGlzIGZyb20gJy4vY2F0ZWdvcnktYXhpcyc7XG5pbXBvcnQgU2hhcGVCdWlsZGVyIGZyb20gJy4vc2hhcGUtYnVpbGRlcic7XG5pbXBvcnQgUmluZyBmcm9tICcuL3JpbmcnO1xuaW1wb3J0IEJveCBmcm9tICcuL2JveCc7XG5cbmltcG9ydCB7IENPT1JEX1BSRUNJU0lPTiwgQVJDIH0gZnJvbSAnLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBkZWVwRXh0ZW5kLCBnZXRTcGFjaW5nLCBpbkFycmF5LCBsaW1pdFZhbHVlLCBtYXAsIHJhZCwgcm91bmQsIHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vY29tbW9uJztcblxuY2xhc3MgUmFkYXJDYXRlZ29yeUF4aXMgZXh0ZW5kcyBDYXRlZ29yeUF4aXMge1xuICAgIHJhbmdlKCkge1xuICAgICAgICByZXR1cm4geyBtaW46IDAsIG1heDogdGhpcy5vcHRpb25zLmNhdGVnb3JpZXMubGVuZ3RoIH07XG4gICAgfVxuXG4gICAgcmVmbG93KGJveCkge1xuICAgICAgICB0aGlzLmJveCA9IGJveDtcbiAgICAgICAgdGhpcy5yZWZsb3dMYWJlbHMoKTtcbiAgICB9XG5cbiAgICBsaW5lQm94KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ib3g7XG4gICAgfVxuXG4gICAgcmVmbG93TGFiZWxzKCkge1xuICAgICAgICBjb25zdCB7IGxhYmVscywgb3B0aW9uczogeyBsYWJlbHM6IGxhYmVsT3B0aW9ucyB9IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBza2lwID0gbGFiZWxPcHRpb25zLnNraXAgfHwgMDtcbiAgICAgICAgY29uc3Qgc3RlcCA9IGxhYmVsT3B0aW9ucy5zdGVwIHx8IDE7XG4gICAgICAgIGNvbnN0IG1lYXN1cmVCb3ggPSBuZXcgQm94KCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYWJlbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxhYmVsc1tpXS5yZWZsb3cobWVhc3VyZUJveCk7XG4gICAgICAgICAgICBjb25zdCBsYWJlbEJveCA9IGxhYmVsc1tpXS5ib3g7XG5cbiAgICAgICAgICAgIGxhYmVsc1tpXS5yZWZsb3codGhpcy5nZXRTbG90KHNraXAgKyBpICogc3RlcCkuYWRqYWNlbnRCb3goXG4gICAgICAgICAgICAgICAgMCwgbGFiZWxCb3gud2lkdGgoKSwgbGFiZWxCb3guaGVpZ2h0KClcbiAgICAgICAgICAgICkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaW50ZXJ2YWxzKHNpemUsIHNraXBPcHRpb24sIHN0ZXBPcHRpb24sIHNraXBBbmdsZXMgPSBmYWxzZSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBjYXRlZ29yaWVzID0gb3B0aW9ucy5jYXRlZ29yaWVzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgZGl2Q291bnQgPSBjYXRlZ29yaWVzIC8gc2l6ZSB8fCAxO1xuICAgICAgICBjb25zdCBkaXZBbmdsZSA9IDM2MCAvIGRpdkNvdW50O1xuICAgICAgICBjb25zdCBza2lwID0gc2tpcE9wdGlvbiB8fCAwO1xuICAgICAgICBjb25zdCBzdGVwID0gc3RlcE9wdGlvbiB8fCAxO1xuICAgICAgICBjb25zdCBkaXZzID0gW107XG4gICAgICAgIGxldCBhbmdsZSA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IHNraXA7IGkgPCBkaXZDb3VudDsgaSArPSBzdGVwKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5yZXZlcnNlKSB7XG4gICAgICAgICAgICAgICAgYW5nbGUgPSAzNjAgLSBpICogZGl2QW5nbGU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFuZ2xlID0gaSAqIGRpdkFuZ2xlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhbmdsZSA9IHJvdW5kKGFuZ2xlLCBDT09SRF9QUkVDSVNJT04pICUgMzYwO1xuXG4gICAgICAgICAgICBpZiAoIShza2lwQW5nbGVzICYmIGluQXJyYXkoYW5nbGUsIHNraXBBbmdsZXMpKSkge1xuICAgICAgICAgICAgICAgIGRpdnMucHVzaChhbmdsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGl2cztcbiAgICB9XG5cbiAgICBtYWpvckludGVydmFscygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJ2YWxzKDEpO1xuICAgIH1cblxuICAgIG1pbm9ySW50ZXJ2YWxzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcnZhbHMoMC41KTtcbiAgICB9XG5cbiAgICBpbnRlcnZhbEFuZ2xlKGludGVydmFsKSB7XG4gICAgICAgIHJldHVybiAoMzYwICsgaW50ZXJ2YWwgKyB0aGlzLm9wdGlvbnMuc3RhcnRBbmdsZSkgJSAzNjA7XG4gICAgfVxuXG4gICAgbWFqb3JBbmdsZXMoKSB7XG4gICAgICAgIHJldHVybiBtYXAodGhpcy5tYWpvckludGVydmFscygpLCAoaW50ZXJ2YWwpID0+IHRoaXMuaW50ZXJ2YWxBbmdsZShpbnRlcnZhbCkpO1xuICAgIH1cblxuICAgIGNyZWF0ZUxpbmUoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBtYWpvckdyaWRMaW5lQW5nbGVzKGFsdEF4aXMpIHtcbiAgICAgICAgY29uc3QgbWFqb3JHcmlkTGluZXMgPSB0aGlzLm9wdGlvbnMubWFqb3JHcmlkTGluZXM7XG4gICAgICAgIHJldHVybiB0aGlzLmdyaWRMaW5lQW5nbGVzKGFsdEF4aXMsIDEsIG1ham9yR3JpZExpbmVzLnNraXAsIG1ham9yR3JpZExpbmVzLnN0ZXApO1xuICAgIH1cblxuICAgIG1pbm9yR3JpZExpbmVBbmdsZXMoYWx0QXhpcywgc2tpcE1ham9yKSB7XG4gICAgICAgIGNvbnN0IHsgbWlub3JHcmlkTGluZXMsIG1ham9yR3JpZExpbmVzIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IG1ham9yR3JpZExpbmVBbmdsZXMgPSBza2lwTWFqb3IgPyB0aGlzLmludGVydmFscygxLCBtYWpvckdyaWRMaW5lcy5za2lwLCBtYWpvckdyaWRMaW5lcy5zdGVwKSA6IG51bGw7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JpZExpbmVBbmdsZXMoYWx0QXhpcywgMC41LCBtaW5vckdyaWRMaW5lcy5za2lwLCBtaW5vckdyaWRMaW5lcy5zdGVwLCBtYWpvckdyaWRMaW5lQW5nbGVzKTtcbiAgICB9XG5cbiAgICByYWRpdXNDYWxsYmFjayhyYWRpdXMsIGFsdEF4aXMsIHNraXBNYWpvcikge1xuICAgICAgICBpZiAoYWx0QXhpcy5vcHRpb25zLnR5cGUgIT09IEFSQykge1xuICAgICAgICAgICAgY29uc3QgbWlub3JBbmdsZSA9IHJhZCgzNjAgLyAodGhpcy5vcHRpb25zLmNhdGVnb3JpZXMubGVuZ3RoICogMikpO1xuICAgICAgICAgICAgY29uc3QgbWlub3JSYWRpdXMgPSBNYXRoLmNvcyhtaW5vckFuZ2xlKSAqIHJhZGl1cztcbiAgICAgICAgICAgIGNvbnN0IG1ham9yQW5nbGVzID0gdGhpcy5tYWpvckFuZ2xlcygpO1xuXG4gICAgICAgICAgICBjb25zdCByYWRpdXNDYWxsYmFjayA9IGZ1bmN0aW9uKGFuZ2xlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFza2lwTWFqb3IgJiYgaW5BcnJheShhbmdsZSwgbWFqb3JBbmdsZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByYWRpdXM7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1pbm9yUmFkaXVzO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiByYWRpdXNDYWxsYmFjaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZVBsb3RCYW5kcygpIHtcbiAgICAgICAgY29uc3QgcGxvdEJhbmRzID0gdGhpcy5vcHRpb25zLnBsb3RCYW5kcyB8fCBbXTtcblxuICAgICAgICBjb25zdCBncm91cCA9IHRoaXMuX3Bsb3RiYW5kR3JvdXAgPSBuZXcgZHJhdy5Hcm91cCh7XG4gICAgICAgICAgICB6SW5kZXg6IC0xXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGxvdEJhbmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBiYW5kID0gcGxvdEJhbmRzW2ldO1xuICAgICAgICAgICAgY29uc3Qgc2xvdCA9IHRoaXMucGxvdEJhbmRTbG90KGJhbmQpO1xuICAgICAgICAgICAgY29uc3Qgc2luZ2xlU2xvdCA9IHRoaXMuZ2V0U2xvdChiYW5kLmZyb20pO1xuXG4gICAgICAgICAgICBjb25zdCBoZWFkID0gYmFuZC5mcm9tIC0gTWF0aC5mbG9vcihiYW5kLmZyb20pO1xuICAgICAgICAgICAgc2xvdC5zdGFydEFuZ2xlICs9IGhlYWQgKiBzaW5nbGVTbG90LmFuZ2xlO1xuXG4gICAgICAgICAgICBjb25zdCB0YWlsID0gTWF0aC5jZWlsKGJhbmQudG8pIC0gYmFuZC50bztcbiAgICAgICAgICAgIHNsb3QuYW5nbGUgLT0gKHRhaWwgKyBoZWFkKSAqIHNpbmdsZVNsb3QuYW5nbGU7XG5cbiAgICAgICAgICAgIGNvbnN0IHJpbmcgPSBTaGFwZUJ1aWxkZXIuY3VycmVudC5jcmVhdGVSaW5nKHNsb3QsIHtcbiAgICAgICAgICAgICAgICBmaWxsOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBiYW5kLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiBiYW5kLm9wYWNpdHlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiBiYW5kLm9wYWNpdHlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGdyb3VwLmFwcGVuZChyaW5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYXBwZW5kVmlzdWFsKGdyb3VwKTtcbiAgICB9XG5cbiAgICBwbG90QmFuZFNsb3QoYmFuZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTbG90KGJhbmQuZnJvbSwgYmFuZC50byAtIDEpO1xuICAgIH1cblxuICAgIGdldFNsb3QoZnJvbSwgdG8pIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QganVzdGlmaWVkID0gb3B0aW9ucy5qdXN0aWZpZWQ7XG4gICAgICAgIGNvbnN0IGJveCA9IHRoaXMuYm94O1xuICAgICAgICBjb25zdCBkaXZzID0gdGhpcy5tYWpvckFuZ2xlcygpO1xuICAgICAgICBjb25zdCB0b3RhbERpdnMgPSBkaXZzLmxlbmd0aDtcbiAgICAgICAgY29uc3Qgc2xvdEFuZ2xlID0gMzYwIC8gdG90YWxEaXZzO1xuICAgICAgICBsZXQgZnJvbVZhbHVlID0gZnJvbTtcblxuICAgICAgICBpZiAob3B0aW9ucy5yZXZlcnNlICYmICFqdXN0aWZpZWQpIHtcbiAgICAgICAgICAgIGZyb21WYWx1ZSA9IChmcm9tVmFsdWUgKyAxKSAlIHRvdGFsRGl2cztcbiAgICAgICAgfVxuXG4gICAgICAgIGZyb21WYWx1ZSA9IGxpbWl0VmFsdWUoTWF0aC5mbG9vcihmcm9tVmFsdWUpLCAwLCB0b3RhbERpdnMgLSAxKTtcbiAgICAgICAgbGV0IHNsb3RTdGFydCA9IGRpdnNbZnJvbVZhbHVlXTtcblxuICAgICAgICBpZiAoanVzdGlmaWVkKSB7XG4gICAgICAgICAgICBzbG90U3RhcnQgPSBzbG90U3RhcnQgLSBzbG90QW5nbGUgLyAyO1xuXG4gICAgICAgICAgICBpZiAoc2xvdFN0YXJ0IDwgMCkge1xuICAgICAgICAgICAgICAgIHNsb3RTdGFydCArPSAzNjA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0b1ZhbHVlID0gbGltaXRWYWx1ZShNYXRoLmNlaWwodG8gfHwgZnJvbVZhbHVlKSwgZnJvbVZhbHVlLCB0b3RhbERpdnMgLSAxKTtcbiAgICAgICAgY29uc3Qgc2xvdHMgPSB0b1ZhbHVlIC0gZnJvbVZhbHVlICsgMTtcbiAgICAgICAgY29uc3QgYW5nbGUgPSBzbG90QW5nbGUgKiBzbG90cztcblxuICAgICAgICByZXR1cm4gbmV3IFJpbmcoYm94LmNlbnRlcigpLCAwLCBib3guaGVpZ2h0KCkgLyAyLCBzbG90U3RhcnQsIGFuZ2xlKTtcbiAgICB9XG5cbiAgICBzbG90KGZyb20sIHRvKSB7XG4gICAgICAgIGNvbnN0IHNsb3QgPSB0aGlzLmdldFNsb3QoZnJvbSwgdG8pO1xuICAgICAgICBjb25zdCBzdGFydEFuZ2xlID0gc2xvdC5zdGFydEFuZ2xlICsgMTgwO1xuICAgICAgICBjb25zdCBlbmRBbmdsZSA9IHN0YXJ0QW5nbGUgKyBzbG90LmFuZ2xlO1xuXG4gICAgICAgIHJldHVybiBuZXcgZ2VvbS5BcmMoWyBzbG90LmNlbnRlci54LCBzbG90LmNlbnRlci55IF0sIHtcbiAgICAgICAgICAgIHN0YXJ0QW5nbGU6IHN0YXJ0QW5nbGUsXG4gICAgICAgICAgICBlbmRBbmdsZTogZW5kQW5nbGUsXG4gICAgICAgICAgICByYWRpdXNYOiBzbG90LnJhZGl1cyxcbiAgICAgICAgICAgIHJhZGl1c1k6IHNsb3QucmFkaXVzXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHBvaW50Q2F0ZWdvcnlJbmRleChwb2ludCkge1xuICAgICAgICBjb25zdCBsZW5ndGggPSB0aGlzLm9wdGlvbnMuY2F0ZWdvcmllcy5sZW5ndGg7XG4gICAgICAgIGxldCBpbmRleCA9IG51bGw7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgc2xvdCA9IHRoaXMuZ2V0U2xvdChpKTtcbiAgICAgICAgICAgIGlmIChzbG90LmNvbnRhaW5zUG9pbnQocG9pbnQpKSB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoUmFkYXJDYXRlZ29yeUF4aXMsIHtcbiAgICBzdGFydEFuZ2xlOiA5MCxcbiAgICBsYWJlbHM6IHtcbiAgICAgICAgbWFyZ2luOiBnZXRTcGFjaW5nKDEwKVxuICAgIH0sXG4gICAgbWFqb3JHcmlkTGluZXM6IHtcbiAgICAgICAgdmlzaWJsZTogdHJ1ZVxuICAgIH0sXG4gICAganVzdGlmaWVkOiB0cnVlXG59KTtcbmRlZXBFeHRlbmQoUmFkYXJDYXRlZ29yeUF4aXMucHJvdG90eXBlLCBHcmlkTGluZXNNaXhpbik7XG5cbmV4cG9ydCBkZWZhdWx0IFJhZGFyQ2F0ZWdvcnlBeGlzOyIsImltcG9ydCB7IGdlb21ldHJ5IGFzIGdlb20gfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCBHcmlkTGluZXNNaXhpbiBmcm9tICcuL21peGlucy9ncmlkLWxpbmVzLW1peGluJztcbmltcG9ydCBSYWRhckNhdGVnb3J5QXhpcyBmcm9tICcuL3JhZGFyLWNhdGVnb3J5LWF4aXMnO1xuaW1wb3J0IE51bWVyaWNBeGlzIGZyb20gJy4vbnVtZXJpYy1heGlzJztcbmltcG9ydCBBeGlzIGZyb20gJy4vYXhpcyc7XG5pbXBvcnQgUmluZyBmcm9tICcuL3JpbmcnO1xuaW1wb3J0IEJveCBmcm9tICcuL2JveCc7XG5cbmltcG9ydCB7IEJMQUNLIH0gZnJvbSAnLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBkZWVwRXh0ZW5kLCBkZWcsIGdldFNwYWNpbmcsIGluQXJyYXksIGxpbWl0VmFsdWUsIHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vY29tbW9uJztcblxuY2xhc3MgUG9sYXJBeGlzIGV4dGVuZHMgQXhpcyB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucywgY2hhcnRTZXJ2aWNlKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMsIGNoYXJ0U2VydmljZSk7XG5cbiAgICAgICAgY29uc3QgaW5zdGFuY2VPcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIGluc3RhbmNlT3B0aW9ucy5taW5vclVuaXQgPSBpbnN0YW5jZU9wdGlvbnMubWlub3JVbml0IHx8IGluc3RhbmNlT3B0aW9ucy5tYWpvclVuaXQgLyAyO1xuICAgIH1cblxuICAgIGdldERpdmlzaW9ucyhzdGVwVmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIE51bWVyaWNBeGlzLnByb3RvdHlwZS5nZXREaXZpc2lvbnMuY2FsbCh0aGlzLCBzdGVwVmFsdWUpIC0gMTtcbiAgICB9XG5cbiAgICByZWZsb3coYm94KSB7XG4gICAgICAgIHRoaXMuYm94ID0gYm94O1xuICAgICAgICB0aGlzLnJlZmxvd0xhYmVscygpO1xuICAgIH1cblxuICAgIHJlZmxvd0xhYmVscygpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBsYWJlbHMsIG9wdGlvbnM6IHsgbGFiZWxzOiBsYWJlbE9wdGlvbnMgfSB9ID0gdGhpcztcbiAgICAgICAgY29uc3Qgc2tpcCA9IGxhYmVsT3B0aW9ucy5za2lwIHx8IDA7XG4gICAgICAgIGNvbnN0IHN0ZXAgPSBsYWJlbE9wdGlvbnMuc3RlcCB8fCAxO1xuXG4gICAgICAgIGNvbnN0IG1lYXN1cmVCb3ggPSBuZXcgQm94KCk7XG4gICAgICAgIGNvbnN0IGRpdnMgPSB0aGlzLmludGVydmFscyhvcHRpb25zLm1ham9yVW5pdCwgc2tpcCwgc3RlcCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYWJlbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxhYmVsc1tpXS5yZWZsb3cobWVhc3VyZUJveCk7XG4gICAgICAgICAgICBjb25zdCBsYWJlbEJveCA9IGxhYmVsc1tpXS5ib3g7XG5cbiAgICAgICAgICAgIGxhYmVsc1tpXS5yZWZsb3codGhpcy5nZXRTbG90KGRpdnNbaV0pLmFkamFjZW50Qm94KDAsIGxhYmVsQm94LndpZHRoKCksIGxhYmVsQm94LmhlaWdodCgpKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsaW5lQm94KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ib3g7XG4gICAgfVxuXG4gICAgaW50ZXJ2YWxzKHNpemUsIHNraXBPcHRpb24sIHN0ZXBPcHRpb24sIHNraXBBbmdsZXMgPSBmYWxzZSkge1xuICAgICAgICBjb25zdCBtaW4gPSB0aGlzLm9wdGlvbnMubWluO1xuICAgICAgICBjb25zdCBkaXZpc2lvbnMgPSB0aGlzLmdldERpdmlzaW9ucyhzaXplKTtcbiAgICAgICAgY29uc3QgZGl2cyA9IFtdO1xuICAgICAgICBjb25zdCBza2lwID0gc2tpcE9wdGlvbiB8fCAwO1xuICAgICAgICBjb25zdCBzdGVwID0gc3RlcE9wdGlvbiB8fCAxO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSBza2lwOyBpIDwgZGl2aXNpb25zOyBpICs9IHN0ZXApIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSAoMzYwICsgbWluICsgaSAqIHNpemUpICUgMzYwO1xuICAgICAgICAgICAgaWYgKCEoc2tpcEFuZ2xlcyAmJiBpbkFycmF5KGN1cnJlbnQsIHNraXBBbmdsZXMpKSkge1xuICAgICAgICAgICAgICAgIGRpdnMucHVzaChjdXJyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkaXZzO1xuICAgIH1cblxuICAgIG1ham9ySW50ZXJ2YWxzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcnZhbHModGhpcy5vcHRpb25zLm1ham9yVW5pdCk7XG4gICAgfVxuXG4gICAgbWlub3JJbnRlcnZhbHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVydmFscyh0aGlzLm9wdGlvbnMubWlub3JVbml0KTtcbiAgICB9XG5cbiAgICBpbnRlcnZhbEFuZ2xlKGkpIHtcbiAgICAgICAgcmV0dXJuICg1NDAgLSBpIC0gdGhpcy5vcHRpb25zLnN0YXJ0QW5nbGUpICUgMzYwO1xuICAgIH1cblxuICAgIGNyZWF0ZUxpbmUoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBtYWpvckdyaWRMaW5lQW5nbGVzKGFsdEF4aXMpIHtcbiAgICAgICAgY29uc3QgbWFqb3JHcmlkTGluZXMgPSB0aGlzLm9wdGlvbnMubWFqb3JHcmlkTGluZXM7XG4gICAgICAgIHJldHVybiB0aGlzLmdyaWRMaW5lQW5nbGVzKGFsdEF4aXMsIHRoaXMub3B0aW9ucy5tYWpvclVuaXQsIG1ham9yR3JpZExpbmVzLnNraXAsIG1ham9yR3JpZExpbmVzLnN0ZXApO1xuICAgIH1cblxuICAgIG1pbm9yR3JpZExpbmVBbmdsZXMoYWx0QXhpcywgc2tpcE1ham9yKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHsgbWlub3JHcmlkTGluZXMsIG1ham9yR3JpZExpbmVzIH0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCBtYWpvckdyaWRMaW5lQW5nbGVzID0gc2tpcE1ham9yID8gdGhpcy5pbnRlcnZhbHMob3B0aW9ucy5tYWpvclVuaXQsIG1ham9yR3JpZExpbmVzLnNraXAsIG1ham9yR3JpZExpbmVzLnN0ZXApIDogbnVsbDtcblxuICAgICAgICByZXR1cm4gdGhpcy5ncmlkTGluZUFuZ2xlcyhhbHRBeGlzLCBvcHRpb25zLm1pbm9yVW5pdCwgbWlub3JHcmlkTGluZXMuc2tpcCwgbWlub3JHcmlkTGluZXMuc3RlcCwgbWFqb3JHcmlkTGluZUFuZ2xlcyk7XG4gICAgfVxuXG4gICAgcGxvdEJhbmRTbG90KGJhbmQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2xvdChiYW5kLmZyb20sIGJhbmQudG8pO1xuICAgIH1cblxuICAgIGdldFNsb3QoYSwgYikge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIGJveCB9ID0gdGhpcztcbiAgICAgICAgY29uc3Qgc3RhcnRBbmdsZSA9IG9wdGlvbnMuc3RhcnRBbmdsZTtcbiAgICAgICAgbGV0IHN0YXJ0ID0gbGltaXRWYWx1ZShhLCBvcHRpb25zLm1pbiwgb3B0aW9ucy5tYXgpO1xuICAgICAgICBsZXQgZW5kID0gbGltaXRWYWx1ZShiIHx8IHN0YXJ0LCBzdGFydCwgb3B0aW9ucy5tYXgpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnJldmVyc2UpIHtcbiAgICAgICAgICAgIHN0YXJ0ICo9IC0xO1xuICAgICAgICAgICAgZW5kICo9IC0xO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhcnQgPSAoNTQwIC0gc3RhcnQgLSBzdGFydEFuZ2xlKSAlIDM2MDtcbiAgICAgICAgZW5kID0gKDU0MCAtIGVuZCAtIHN0YXJ0QW5nbGUpICUgMzYwO1xuXG4gICAgICAgIGlmIChlbmQgPCBzdGFydCkge1xuICAgICAgICAgICAgY29uc3QgdG1wID0gc3RhcnQ7XG4gICAgICAgICAgICBzdGFydCA9IGVuZDtcbiAgICAgICAgICAgIGVuZCA9IHRtcDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgUmluZyhib3guY2VudGVyKCksIDAsIGJveC5oZWlnaHQoKSAvIDIsIHN0YXJ0LCBlbmQgLSBzdGFydCk7XG4gICAgfVxuXG4gICAgc2xvdChmcm9tLCB0byA9IGZyb20pIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3Qgc3RhcnQgPSAzNjAgLSBvcHRpb25zLnN0YXJ0QW5nbGU7XG4gICAgICAgIGNvbnN0IHNsb3QgPSB0aGlzLmdldFNsb3QoZnJvbSwgdG8pO1xuICAgICAgICBjb25zdCBtaW4gPSBNYXRoLm1pbihmcm9tLCB0byk7XG4gICAgICAgIGNvbnN0IG1heCA9IE1hdGgubWF4KGZyb20sIHRvKTtcbiAgICAgICAgbGV0IHN0YXJ0QW5nbGUsIGVuZEFuZ2xlO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnJldmVyc2UpIHtcbiAgICAgICAgICAgIHN0YXJ0QW5nbGUgPSBtaW47XG4gICAgICAgICAgICBlbmRBbmdsZSA9IG1heDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YXJ0QW5nbGUgPSAzNjAgLSBtYXg7XG4gICAgICAgICAgICBlbmRBbmdsZSA9IDM2MCAtIG1pbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXJ0QW5nbGUgPSAoc3RhcnRBbmdsZSArIHN0YXJ0KSAlIDM2MDtcbiAgICAgICAgZW5kQW5nbGUgPSAoZW5kQW5nbGUgKyBzdGFydCkgJSAzNjA7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBnZW9tLkFyYyhbIHNsb3QuY2VudGVyLngsIHNsb3QuY2VudGVyLnkgXSwge1xuICAgICAgICAgICAgc3RhcnRBbmdsZTogc3RhcnRBbmdsZSxcbiAgICAgICAgICAgIGVuZEFuZ2xlOiBlbmRBbmdsZSxcbiAgICAgICAgICAgIHJhZGl1c1g6IHNsb3QucmFkaXVzLFxuICAgICAgICAgICAgcmFkaXVzWTogc2xvdC5yYWRpdXNcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0VmFsdWUocG9pbnQpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgY2VudGVyID0gdGhpcy5ib3guY2VudGVyKCk7XG4gICAgICAgIGNvbnN0IGR4ID0gcG9pbnQueCAtIGNlbnRlci54O1xuICAgICAgICBjb25zdCBkeSA9IHBvaW50LnkgLSBjZW50ZXIueTtcbiAgICAgICAgbGV0IHRoZXRhID0gTWF0aC5yb3VuZChkZWcoTWF0aC5hdGFuMihkeSwgZHgpKSk7XG4gICAgICAgIGxldCBzdGFydCA9IG9wdGlvbnMuc3RhcnRBbmdsZTtcblxuICAgICAgICBpZiAoIW9wdGlvbnMucmV2ZXJzZSkge1xuICAgICAgICAgICAgdGhldGEgKj0gLTE7XG4gICAgICAgICAgICBzdGFydCAqPSAtMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAodGhldGEgKyBzdGFydCArIDM2MCkgJSAzNjA7XG4gICAgfVxuXG4gICAgdmFsdWVSYW5nZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgIG1heDogTWF0aC5QSSAqIDJcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKFBvbGFyQXhpcywge1xuICAgIHR5cGU6IFwicG9sYXJcIixcbiAgICBzdGFydEFuZ2xlOiAwLFxuICAgIHJldmVyc2U6IGZhbHNlLFxuICAgIG1ham9yVW5pdDogNjAsXG4gICAgbWluOiAwLFxuICAgIG1heDogMzYwLFxuICAgIGxhYmVsczoge1xuICAgICAgICBtYXJnaW46IGdldFNwYWNpbmcoMTApXG4gICAgfSxcbiAgICBtYWpvckdyaWRMaW5lczoge1xuICAgICAgICBjb2xvcjogQkxBQ0ssXG4gICAgICAgIHZpc2libGU6IHRydWUsXG4gICAgICAgIHdpZHRoOiAxXG4gICAgfSxcbiAgICBtaW5vckdyaWRMaW5lczoge1xuICAgICAgICBjb2xvcjogXCIjYWFhXCJcbiAgICB9XG59KTtcblxuZGVlcEV4dGVuZChQb2xhckF4aXMucHJvdG90eXBlLCBHcmlkTGluZXNNaXhpbiwge1xuICAgIGNyZWF0ZVBsb3RCYW5kczogUmFkYXJDYXRlZ29yeUF4aXMucHJvdG90eXBlLmNyZWF0ZVBsb3RCYW5kcyxcbiAgICBtYWpvckFuZ2xlczogUmFkYXJDYXRlZ29yeUF4aXMucHJvdG90eXBlLm1ham9yQW5nbGVzLFxuICAgIHJhbmdlOiBOdW1lcmljQXhpcy5wcm90b3R5cGUucmFuZ2UsXG4gICAgbGFiZWxzQ291bnQ6IE51bWVyaWNBeGlzLnByb3RvdHlwZS5sYWJlbHNDb3VudCxcbiAgICBjcmVhdGVBeGlzTGFiZWw6IE51bWVyaWNBeGlzLnByb3RvdHlwZS5jcmVhdGVBeGlzTGFiZWxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBQb2xhckF4aXM7IiwiaW1wb3J0IHsgZ2VvbWV0cnkgYXMgZ2VvbSwgZHJhd2luZyBhcyBkcmF3IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgU2hhcGVCdWlsZGVyIGZyb20gJy4uL3NoYXBlLWJ1aWxkZXInO1xuaW1wb3J0IFJpbmcgZnJvbSAnLi4vcmluZyc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnLi4vcG9pbnQnO1xuXG5pbXBvcnQgeyBBUkMgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGFwcGVuZCwgZGVnLCByYWQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jb25zdCBSYWRhck51bWVyaWNBeGlzTWl4aW4gPSB7XG4gICAgb3B0aW9uczoge1xuICAgICAgICBtYWpvckdyaWRMaW5lczoge1xuICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIGNyZWF0ZVBsb3RCYW5kczogZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnN0IHsgbWFqb3JHcmlkTGluZXM6IHsgdHlwZSB9LCBwbG90QmFuZHMgPSBbXSB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBhbHRBeGlzID0gdGhpcy5wbG90QXJlYS5wb2xhckF4aXM7XG4gICAgICAgIGNvbnN0IG1ham9yQW5nbGVzID0gYWx0QXhpcy5tYWpvckFuZ2xlcygpO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSBhbHRBeGlzLmJveC5jZW50ZXIoKTtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSB0aGlzLl9wbG90YmFuZEdyb3VwID0gbmV3IGRyYXcuR3JvdXAoe1xuICAgICAgICAgICAgekluZGV4OiAtMVxuICAgICAgICB9KTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBsb3RCYW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgYmFuZCA9IHBsb3RCYW5kc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGJhbmRTdHlsZSA9IHtcbiAgICAgICAgICAgICAgICBmaWxsOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBiYW5kLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiBiYW5kLm9wYWNpdHlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiBiYW5kLm9wYWNpdHlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBzbG90ID0gdGhpcy5nZXRTbG90KGJhbmQuZnJvbSwgYmFuZC50bywgdHJ1ZSk7XG4gICAgICAgICAgICBjb25zdCByaW5nID0gbmV3IFJpbmcoY2VudGVyLCBjZW50ZXIueSAtIHNsb3QueTIsIGNlbnRlci55IC0gc2xvdC55MSwgMCwgMzYwKTtcblxuICAgICAgICAgICAgbGV0IHNoYXBlO1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09IEFSQykge1xuICAgICAgICAgICAgICAgIHNoYXBlID0gU2hhcGVCdWlsZGVyLmN1cnJlbnQuY3JlYXRlUmluZyhyaW5nLCBiYW5kU3R5bGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzaGFwZSA9IGRyYXcuUGF0aC5mcm9tUG9pbnRzKHRoaXMucGxvdEJhbmRQb2ludHMocmluZywgbWFqb3JBbmdsZXMpLCBiYW5kU3R5bGUpLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGdyb3VwLmFwcGVuZChzaGFwZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFwcGVuZFZpc3VhbChncm91cCk7XG4gICAgfSxcblxuICAgIHBsb3RCYW5kUG9pbnRzOiBmdW5jdGlvbihyaW5nLCBhbmdsZXMpIHtcbiAgICAgICAgY29uc3QgaW5uZXJQb2ludHMgPSBbXTtcbiAgICAgICAgY29uc3Qgb3V0ZXJQb2ludHMgPSBbXTtcbiAgICAgICAgY29uc3QgY2VudGVyID0gWyByaW5nLmNlbnRlci54LCByaW5nLmNlbnRlci55IF07XG4gICAgICAgIGNvbnN0IGlubmVyQ2lyY2xlID0gbmV3IGdlb20uQ2lyY2xlKGNlbnRlciwgcmluZy5pbm5lclJhZGl1cyk7XG4gICAgICAgIGNvbnN0IG91dGVyQ2lyY2xlID0gbmV3IGdlb20uQ2lyY2xlKGNlbnRlciwgcmluZy5yYWRpdXMpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYW5nbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpbm5lclBvaW50cy5wdXNoKGlubmVyQ2lyY2xlLnBvaW50QXQoYW5nbGVzW2ldICsgMTgwKSk7XG4gICAgICAgICAgICBvdXRlclBvaW50cy5wdXNoKG91dGVyQ2lyY2xlLnBvaW50QXQoYW5nbGVzW2ldICsgMTgwKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpbm5lclBvaW50cy5yZXZlcnNlKCk7XG4gICAgICAgIGlubmVyUG9pbnRzLnB1c2goaW5uZXJQb2ludHNbMF0pO1xuICAgICAgICBvdXRlclBvaW50cy5wdXNoKG91dGVyUG9pbnRzWzBdKTtcblxuICAgICAgICByZXR1cm4gb3V0ZXJQb2ludHMuY29uY2F0KGlubmVyUG9pbnRzKTtcbiAgICB9LFxuXG4gICAgY3JlYXRlR3JpZExpbmVzOiBmdW5jdGlvbihhbHRBeGlzKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IG1ham9yVGlja3MgPSB0aGlzLnJhZGFyTWFqb3JHcmlkTGluZVBvc2l0aW9ucygpO1xuICAgICAgICBjb25zdCBtYWpvckFuZ2xlcyA9IGFsdEF4aXMubWFqb3JBbmdsZXMoKTtcbiAgICAgICAgY29uc3QgY2VudGVyID0gYWx0QXhpcy5ib3guY2VudGVyKCk7XG4gICAgICAgIGxldCBncmlkTGluZXMgPSBbXTtcblxuICAgICAgICBpZiAob3B0aW9ucy5tYWpvckdyaWRMaW5lcy52aXNpYmxlKSB7XG4gICAgICAgICAgICBncmlkTGluZXMgPSB0aGlzLnJlbmRlckdyaWRMaW5lcyhcbiAgICAgICAgICAgICAgICBjZW50ZXIsIG1ham9yVGlja3MsIG1ham9yQW5nbGVzLCBvcHRpb25zLm1ham9yR3JpZExpbmVzXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMubWlub3JHcmlkTGluZXMudmlzaWJsZSkge1xuICAgICAgICAgICAgY29uc3QgbWlub3JUaWNrcyA9IHRoaXMucmFkYXJNaW5vckdyaWRMaW5lUG9zaXRpb25zKCk7XG4gICAgICAgICAgICBhcHBlbmQoZ3JpZExpbmVzLCB0aGlzLnJlbmRlckdyaWRMaW5lcyhcbiAgICAgICAgICAgICAgICBjZW50ZXIsIG1pbm9yVGlja3MsIG1ham9yQW5nbGVzLCBvcHRpb25zLm1pbm9yR3JpZExpbmVzXG4gICAgICAgICAgICApKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBncmlkTGluZXM7XG4gICAgfSxcblxuICAgIHJlbmRlckdyaWRMaW5lczogZnVuY3Rpb24oY2VudGVyLCB0aWNrcywgYW5nbGVzLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0ge1xuICAgICAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IG9wdGlvbnMud2lkdGgsXG4gICAgICAgICAgICAgICAgY29sb3I6IG9wdGlvbnMuY29sb3IsXG4gICAgICAgICAgICAgICAgZGFzaFR5cGU6IG9wdGlvbnMuZGFzaFR5cGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgeyBza2lwID0gMCwgc3RlcCA9IDAgfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuZ3JpZExpbmVzVmlzdWFsKCk7XG5cbiAgICAgICAgZm9yIChsZXQgdGlja0l4ID0gc2tpcDsgdGlja0l4IDwgdGlja3MubGVuZ3RoOyB0aWNrSXggKz0gc3RlcCkge1xuICAgICAgICAgICAgY29uc3QgdGlja1JhZGl1cyA9IGNlbnRlci55IC0gdGlja3NbdGlja0l4XTtcbiAgICAgICAgICAgIGlmICh0aWNrUmFkaXVzID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNpcmNsZSA9IG5ldyBnZW9tLkNpcmNsZShbIGNlbnRlci54LCBjZW50ZXIueSBdLCB0aWNrUmFkaXVzKTtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy50eXBlID09PSBBUkMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZChuZXcgZHJhdy5DaXJjbGUoY2lyY2xlLCBzdHlsZSkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmUgPSBuZXcgZHJhdy5QYXRoKHN0eWxlKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgYW5nbGVJeCA9IDA7IGFuZ2xlSXggPCBhbmdsZXMubGVuZ3RoOyBhbmdsZUl4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUubGluZVRvKGNpcmNsZS5wb2ludEF0KGFuZ2xlc1thbmdsZUl4XSArIDE4MCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbGluZS5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kKGxpbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb250YWluZXIuY2hpbGRyZW47XG4gICAgfSxcblxuICAgIGdldFZhbHVlOiBmdW5jdGlvbihwb2ludCkge1xuICAgICAgICBjb25zdCBsaW5lQm94ID0gdGhpcy5saW5lQm94KCk7XG4gICAgICAgIGNvbnN0IGFsdEF4aXMgPSB0aGlzLnBsb3RBcmVhLnBvbGFyQXhpcztcbiAgICAgICAgY29uc3QgbWFqb3JBbmdsZXMgPSBhbHRBeGlzLm1ham9yQW5nbGVzKCk7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IGFsdEF4aXMuYm94LmNlbnRlcigpO1xuICAgICAgICBjb25zdCByYWRpdXMgPSBwb2ludC5kaXN0YW5jZVRvKGNlbnRlcik7XG4gICAgICAgIGxldCBkaXN0YW5jZSA9IHJhZGl1cztcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLm1ham9yR3JpZExpbmVzLnR5cGUgIT09IEFSQyAmJiBtYWpvckFuZ2xlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBjb25zdCBkeCA9IHBvaW50LnggLSBjZW50ZXIueDtcbiAgICAgICAgICAgIGNvbnN0IGR5ID0gcG9pbnQueSAtIGNlbnRlci55O1xuICAgICAgICAgICAgY29uc3QgdGhldGEgPSAoZGVnKE1hdGguYXRhbjIoZHksIGR4KSkgKyA1NDApICUgMzYwO1xuXG4gICAgICAgICAgICBtYWpvckFuZ2xlcy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYW5ndWxhckRpc3RhbmNlKGEsIHRoZXRhKSAtIGFuZ3VsYXJEaXN0YW5jZShiLCB0aGV0YSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gU29sdmUgdHJpYW5nbGUgKGNlbnRlciwgcG9pbnQsIGF4aXMgWCkgdXNpbmcgb25lIHNpZGUgKHJhZGl1cykgYW5kIHR3byBhbmdsZXMuXG4gICAgICAgICAgICAvLyBBbmdsZXMgYXJlIGRlcml2ZWQgZnJvbSB0cmlhbmdsZSAoY2VudGVyLCBwb2ludCwgZ3JpZGxpbmUgWClcbiAgICAgICAgICAgIGNvbnN0IG1pZEFuZ2xlID0gYW5ndWxhckRpc3RhbmNlKG1ham9yQW5nbGVzWzBdLCBtYWpvckFuZ2xlc1sxXSkgLyAyO1xuICAgICAgICAgICAgY29uc3QgYWxwaGEgPSBhbmd1bGFyRGlzdGFuY2UodGhldGEsIG1ham9yQW5nbGVzWzBdKTtcbiAgICAgICAgICAgIGNvbnN0IGdhbW1hID0gOTAgLSBtaWRBbmdsZTtcbiAgICAgICAgICAgIGNvbnN0IGJldGEgPSAxODAgLSBhbHBoYSAtIGdhbW1hO1xuXG4gICAgICAgICAgICBkaXN0YW5jZSA9IHJhZGl1cyAqIChNYXRoLnNpbihyYWQoYmV0YSkpIC8gTWF0aC5zaW4ocmFkKGdhbW1hKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuYXhpc1R5cGUoKS5wcm90b3R5cGUuZ2V0VmFsdWUuY2FsbChcbiAgICAgICAgICAgIHRoaXMsIG5ldyBQb2ludChsaW5lQm94LngxLCBsaW5lQm94LnkyIC0gZGlzdGFuY2UpXG4gICAgICAgICk7XG4gICAgfVxufTtcblxuZnVuY3Rpb24gYW5ndWxhckRpc3RhbmNlKGEsIGIpIHtcbiAgICByZXR1cm4gMTgwIC0gTWF0aC5hYnMoTWF0aC5hYnMoYSAtIGIpIC0gMTgwKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgUmFkYXJOdW1lcmljQXhpc01peGluOyIsImltcG9ydCBOdW1lcmljQXhpcyBmcm9tICcuL251bWVyaWMtYXhpcyc7XG5pbXBvcnQgUmFkYXJOdW1lcmljQXhpc01peGluIGZyb20gJy4vbWl4aW5zL3JhZGFyLW51bWVyaWMtYXhpcy1taXhpbic7XG5cbmltcG9ydCB7IGRlZXBFeHRlbmQgfSBmcm9tICcuLi9jb21tb24nO1xuXG5jbGFzcyBSYWRhck51bWVyaWNBeGlzIGV4dGVuZHMgTnVtZXJpY0F4aXMge1xuICAgIHJhZGFyTWFqb3JHcmlkTGluZVBvc2l0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGlja1Bvc2l0aW9ucyh0aGlzLm9wdGlvbnMubWFqb3JVbml0KTtcbiAgICB9XG5cbiAgICByYWRhck1pbm9yR3JpZExpbmVQb3NpdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGxldCBtaW5vclNraXBTdGVwID0gMDtcblxuICAgICAgICBpZiAob3B0aW9ucy5tYWpvckdyaWRMaW5lcy52aXNpYmxlKSB7XG4gICAgICAgICAgICBtaW5vclNraXBTdGVwID0gb3B0aW9ucy5tYWpvclVuaXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGlja1Bvc2l0aW9ucyhvcHRpb25zLm1pbm9yVW5pdCwgbWlub3JTa2lwU3RlcCk7XG4gICAgfVxuXG4gICAgYXhpc1R5cGUoKSB7XG4gICAgICAgIHJldHVybiBOdW1lcmljQXhpcztcbiAgICB9XG59XG5cbmRlZXBFeHRlbmQoUmFkYXJOdW1lcmljQXhpcy5wcm90b3R5cGUsIFJhZGFyTnVtZXJpY0F4aXNNaXhpbik7XG5cbmV4cG9ydCBkZWZhdWx0IFJhZGFyTnVtZXJpY0F4aXM7IiwiaW1wb3J0IExvZ2FyaXRobWljQXhpcyBmcm9tICcuL2xvZ2FyaXRobWljLWF4aXMnO1xuaW1wb3J0IFJhZGFyTnVtZXJpY0F4aXNNaXhpbiBmcm9tICcuL21peGlucy9yYWRhci1udW1lcmljLWF4aXMtbWl4aW4nO1xuXG5pbXBvcnQgeyBkZWVwRXh0ZW5kIH0gZnJvbSAnLi4vY29tbW9uJztcblxuY2xhc3MgUmFkYXJMb2dhcml0aG1pY0F4aXMgZXh0ZW5kcyBMb2dhcml0aG1pY0F4aXMge1xuICAgIHJhZGFyTWFqb3JHcmlkTGluZVBvc2l0aW9ucygpIHtcbiAgICAgICAgY29uc3QgcG9zaXRpb25zID0gW107XG5cbiAgICAgICAgdGhpcy50cmF2ZXJzZU1ham9yVGlja3NQb3NpdGlvbnMoZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgICAgIHBvc2l0aW9ucy5wdXNoKHBvc2l0aW9uKTtcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zLm1ham9yR3JpZExpbmVzKTtcblxuICAgICAgICByZXR1cm4gcG9zaXRpb25zO1xuICAgIH1cblxuICAgIHJhZGFyTWlub3JHcmlkTGluZVBvc2l0aW9ucygpIHtcbiAgICAgICAgY29uc3QgcG9zaXRpb25zID0gW107XG5cbiAgICAgICAgdGhpcy50cmF2ZXJzZU1pbm9yVGlja3NQb3NpdGlvbnMoZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgICAgIHBvc2l0aW9ucy5wdXNoKHBvc2l0aW9uKTtcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zLm1pbm9yR3JpZExpbmVzKTtcblxuICAgICAgICByZXR1cm4gcG9zaXRpb25zO1xuICAgIH1cblxuICAgIGF4aXNUeXBlKCkge1xuICAgICAgICByZXR1cm4gTG9nYXJpdGhtaWNBeGlzO1xuICAgIH1cbn1cblxuZGVlcEV4dGVuZChSYWRhckxvZ2FyaXRobWljQXhpcy5wcm90b3R5cGUsIFJhZGFyTnVtZXJpY0F4aXNNaXhpbik7XG5cbmV4cG9ydCBkZWZhdWx0IFJhZGFyTG9nYXJpdGhtaWNBeGlzOyIsImltcG9ydCB7IGdlb21ldHJ5IGFzIGdlb20gfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCB7IFgsIFkgfSBmcm9tICcuLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IENsYXNzLCBsYXN0LCByb3VuZCB9IGZyb20gJy4uL2NvbW1vbic7XG5cbmNvbnN0IFdFSUdIVCA9IDAuMzMzO1xuY29uc3QgRVhUUkVNVU1fQUxMT1dFRF9ERVZJQVRJT04gPSAwLjAxO1xuXG5jbGFzcyBDdXJ2ZVByb2Nlc3NvciBleHRlbmRzIENsYXNzIHtcblxuICAgIGNvbnN0cnVjdG9yKGNsb3NlZCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuY2xvc2VkID0gY2xvc2VkO1xuICAgIH1cblxuICAgIHByb2Nlc3MoZGF0YVBvaW50cykge1xuICAgICAgICBjb25zdCBwb2ludHMgPSBkYXRhUG9pbnRzLnNsaWNlKDApO1xuICAgICAgICBjb25zdCBzZWdtZW50cyA9IFtdO1xuICAgICAgICBsZXQgY2xvc2VkID0gdGhpcy5jbG9zZWQ7XG4gICAgICAgIGxldCBsZW5ndGggPSBwb2ludHMubGVuZ3RoO1xuXG4gICAgICAgIGlmIChsZW5ndGggPiAyKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUR1cGxpY2F0ZXMoMCwgcG9pbnRzKTtcbiAgICAgICAgICAgIGxlbmd0aCA9IHBvaW50cy5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGVuZ3RoIDwgMiB8fCAobGVuZ3RoID09PSAyICYmIHBvaW50c1swXS5lcXVhbHMocG9pbnRzWzFdKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBzZWdtZW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwMCA9IHBvaW50c1swXTtcbiAgICAgICAgbGV0IHAxID0gcG9pbnRzWzFdO1xuICAgICAgICBsZXQgcDIgPSBwb2ludHNbMl07XG5cbiAgICAgICAgc2VnbWVudHMucHVzaChuZXcgZ2VvbS5TZWdtZW50KHAwKSk7XG5cbiAgICAgICAgd2hpbGUgKHAwLmVxdWFscyhwb2ludHNbbGVuZ3RoIC0gMV0pKSB7XG4gICAgICAgICAgICBjbG9zZWQgPSB0cnVlO1xuICAgICAgICAgICAgcG9pbnRzLnBvcCgpO1xuICAgICAgICAgICAgbGVuZ3RoLS07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICBjb25zdCB0YW5nZW50ID0gdGhpcy50YW5nZW50KHAwLHAxLCBYLCBZKTtcblxuICAgICAgICAgICAgbGFzdChzZWdtZW50cykuY29udHJvbE91dChcbiAgICAgICAgICAgICAgICB0aGlzLmZpcnN0Q29udHJvbFBvaW50KHRhbmdlbnQsIHAwLCBwMSwgWCwgWSlcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHNlZ21lbnRzLnB1c2gobmV3IGdlb20uU2VnbWVudChcbiAgICAgICAgICAgICAgICBwMSxcbiAgICAgICAgICAgICAgICB0aGlzLnNlY29uZENvbnRyb2xQb2ludCh0YW5nZW50LCBwMCwgcDEsIFgsIFkpXG4gICAgICAgICAgICApKTtcblxuICAgICAgICAgICAgcmV0dXJuIHNlZ21lbnRzO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGluaXRpYWxDb250cm9sUG9pbnQsIGxhc3RDb250cm9sUG9pbnQ7XG5cbiAgICAgICAgaWYgKGNsb3NlZCkge1xuICAgICAgICAgICAgcDAgPSBwb2ludHNbbGVuZ3RoIC0gMV07IHAxID0gcG9pbnRzWzBdOyBwMiA9IHBvaW50c1sxXTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRyb2xQb2ludHMgPSB0aGlzLmNvbnRyb2xQb2ludHMocDAsIHAxLCBwMik7XG4gICAgICAgICAgICBpbml0aWFsQ29udHJvbFBvaW50ID0gY29udHJvbFBvaW50c1sxXTtcbiAgICAgICAgICAgIGxhc3RDb250cm9sUG9pbnQgPSBjb250cm9sUG9pbnRzWzBdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdGFuZ2VudCA9IHRoaXMudGFuZ2VudChwMCwgcDEsIFgsWSk7XG4gICAgICAgICAgICBpbml0aWFsQ29udHJvbFBvaW50ID0gdGhpcy5maXJzdENvbnRyb2xQb2ludCh0YW5nZW50LCBwMCwgcDEsIFgsIFkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNwMCA9IGluaXRpYWxDb250cm9sUG9pbnQ7XG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8PSBsZW5ndGggLSAzOyBpZHgrKykge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVEdXBsaWNhdGVzKGlkeCwgcG9pbnRzKTtcbiAgICAgICAgICAgIGxlbmd0aCA9IHBvaW50cy5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoaWR4ICsgMyA8PSBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBwMCA9IHBvaW50c1tpZHhdOyBwMSA9IHBvaW50c1tpZHggKyAxXTsgcDIgPSBwb2ludHNbaWR4ICsgMl07XG4gICAgICAgICAgICAgICAgY29uc3QgY29udHJvbFBvaW50cyA9IHRoaXMuY29udHJvbFBvaW50cyhwMCxwMSxwMik7XG5cbiAgICAgICAgICAgICAgICBsYXN0KHNlZ21lbnRzKS5jb250cm9sT3V0KGNwMCk7XG4gICAgICAgICAgICAgICAgY3AwID0gY29udHJvbFBvaW50c1sxXTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGNwMSA9IGNvbnRyb2xQb2ludHNbMF07XG4gICAgICAgICAgICAgICAgc2VnbWVudHMucHVzaChuZXcgZ2VvbS5TZWdtZW50KHAxLCBjcDEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjbG9zZWQpIHtcbiAgICAgICAgICAgIHAwID0gcG9pbnRzW2xlbmd0aCAtIDJdOyBwMSA9IHBvaW50c1tsZW5ndGggLSAxXTsgcDIgPSBwb2ludHNbMF07XG4gICAgICAgICAgICBjb25zdCBjb250cm9sUG9pbnRzID0gdGhpcy5jb250cm9sUG9pbnRzKHAwLCBwMSwgcDIpO1xuXG4gICAgICAgICAgICBsYXN0KHNlZ21lbnRzKS5jb250cm9sT3V0KGNwMCk7XG4gICAgICAgICAgICBzZWdtZW50cy5wdXNoKG5ldyBnZW9tLlNlZ21lbnQoXG4gICAgICAgICAgICAgICAgcDEsXG4gICAgICAgICAgICAgICAgY29udHJvbFBvaW50c1swXVxuICAgICAgICAgICAgKSk7XG5cbiAgICAgICAgICAgIGxhc3Qoc2VnbWVudHMpLmNvbnRyb2xPdXQoY29udHJvbFBvaW50c1sxXSk7XG4gICAgICAgICAgICBzZWdtZW50cy5wdXNoKG5ldyBnZW9tLlNlZ21lbnQoXG4gICAgICAgICAgICAgICAgcDIsXG4gICAgICAgICAgICAgICAgbGFzdENvbnRyb2xQb2ludFxuICAgICAgICAgICAgKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB0YW5nZW50ID0gdGhpcy50YW5nZW50KHAxLCBwMiwgWCwgWSk7XG5cbiAgICAgICAgICAgIGxhc3Qoc2VnbWVudHMpLmNvbnRyb2xPdXQoY3AwKTtcbiAgICAgICAgICAgIHNlZ21lbnRzLnB1c2gobmV3IGdlb20uU2VnbWVudChcbiAgICAgICAgICAgICAgICBwMixcbiAgICAgICAgICAgICAgICB0aGlzLnNlY29uZENvbnRyb2xQb2ludCh0YW5nZW50LCBwMSwgcDIsIFgsIFkpXG4gICAgICAgICAgICApKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWdtZW50cztcbiAgICB9XG5cbiAgICByZW1vdmVEdXBsaWNhdGVzKGlkeCwgcG9pbnRzKSB7XG4gICAgICAgIHdoaWxlIChwb2ludHNbaWR4ICsgMV0gJiYgKHBvaW50c1tpZHhdLmVxdWFscyhwb2ludHNbaWR4ICsgMV0pIHx8IHBvaW50c1tpZHggKyAxXS5lcXVhbHMocG9pbnRzW2lkeCArIDJdKSkpIHtcbiAgICAgICAgICAgIHBvaW50cy5zcGxpY2UoaWR4ICsgMSwgMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbnZlcnRBeGlzKHAwLCBwMSwgcDIpIHtcbiAgICAgICAgbGV0IGludmVydEF4aXMgPSBmYWxzZTtcblxuICAgICAgICBpZiAocDAueCA9PT0gcDEueCkge1xuICAgICAgICAgICAgaW52ZXJ0QXhpcyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAocDEueCA9PT0gcDIueCkge1xuICAgICAgICAgICAgaWYgKChwMS55IDwgcDIueSAmJiBwMC55IDw9IHAxLnkpIHx8IChwMi55IDwgcDEueSAmJiBwMS55IDw9IHAwLnkpKSB7XG4gICAgICAgICAgICAgICAgaW52ZXJ0QXhpcyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBmbiA9IHRoaXMubGluZUZ1bmN0aW9uKHAwLHAxKTtcbiAgICAgICAgICAgIGNvbnN0IHkyID0gdGhpcy5jYWxjdWxhdGVGdW5jdGlvbihmbiwgcDIueCk7XG4gICAgICAgICAgICBpZiAoIShwMC55IDw9IHAxLnkgJiYgcDIueSA8PSB5MikgJiZcbiAgICAgICAgICAgICAgICAhKHAxLnkgPD0gcDAueSAmJiBwMi55ID49IHkyKSkge1xuICAgICAgICAgICAgICAgIGludmVydEF4aXMgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGludmVydEF4aXM7XG4gICAgfVxuXG4gICAgaXNMaW5lKHAwLCBwMSwgcDIpIHtcbiAgICAgICAgY29uc3QgZm4gPSB0aGlzLmxpbmVGdW5jdGlvbihwMCwgcDEpO1xuICAgICAgICBjb25zdCB5MiA9IHRoaXMuY2FsY3VsYXRlRnVuY3Rpb24oZm4sIHAyLngpO1xuXG4gICAgICAgIHJldHVybiAocDAueCA9PT0gcDEueCAmJiBwMS54ID09PSBwMi54KSB8fCByb3VuZCh5MiwgMSkgPT09IHJvdW5kKHAyLnksIDEpO1xuICAgIH1cblxuICAgIGxpbmVGdW5jdGlvbihwMSwgcDIpIHtcbiAgICAgICAgY29uc3QgYSA9IChwMi55IC0gcDEueSkgLyAocDIueCAtIHAxLngpO1xuICAgICAgICBjb25zdCBiID0gcDEueSAtIGEgKiBwMS54O1xuXG4gICAgICAgIHJldHVybiBbIGIsIGEgXTtcbiAgICB9XG5cbiAgICBjb250cm9sUG9pbnRzKHAwLCBwMSwgcDIpIHtcbiAgICAgICAgbGV0IHhGaWVsZCA9IFg7XG4gICAgICAgIGxldCB5RmllbGQgPSBZO1xuICAgICAgICBsZXQgcmVzdHJpY3QgPSBmYWxzZTtcbiAgICAgICAgbGV0IHN3aXRjaE9yaWVudGF0aW9uID0gZmFsc2U7XG4gICAgICAgIGxldCB0YW5nZW50O1xuXG4gICAgICAgIGlmICh0aGlzLmlzTGluZShwMCwgcDEsIHAyKSkge1xuICAgICAgICAgICAgdGFuZ2VudCA9IHRoaXMudGFuZ2VudChwMCwgcDEsIFgsIFkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbW9ub3RvbmljID0ge1xuICAgICAgICAgICAgICAgIHg6IHRoaXMuaXNNb25vdG9uaWNCeUZpZWxkKHAwLCBwMSwgcDIsIFgpLFxuICAgICAgICAgICAgICAgIHk6IHRoaXMuaXNNb25vdG9uaWNCeUZpZWxkKHAwLCBwMSwgcDIsIFkpXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAobW9ub3RvbmljLnggJiYgbW9ub3RvbmljLnkpIHtcbiAgICAgICAgICAgICAgICB0YW5nZW50ID0gdGhpcy50YW5nZW50KHAwLCBwMiwgWCwgWSk7XG4gICAgICAgICAgICAgICAgcmVzdHJpY3QgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnZlcnRBeGlzKHAwLCBwMSwgcDIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHhGaWVsZCA9IFk7XG4gICAgICAgICAgICAgICAgICAgIHlGaWVsZCA9IFg7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKG1vbm90b25pY1t4RmllbGRdKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhbmdlbnQgPSAwO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzaWduO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHAyW3lGaWVsZF0gPCBwMFt5RmllbGRdICYmIHAwW3lGaWVsZF0gPD0gcDFbeUZpZWxkXSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIChwMFt5RmllbGRdIDwgcDJbeUZpZWxkXSAmJiBwMVt5RmllbGRdIDw9IHAwW3lGaWVsZF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaWduID0gbnVtYmVyU2lnbigocDJbeUZpZWxkXSAtIHAwW3lGaWVsZF0pICogKHAxW3hGaWVsZF0gLSBwMFt4RmllbGRdKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaWduID0gLW51bWJlclNpZ24oKHAyW3hGaWVsZF0gLSBwMFt4RmllbGRdKSAqIChwMVt5RmllbGRdIC0gcDBbeUZpZWxkXSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGFuZ2VudCA9IEVYVFJFTVVNX0FMTE9XRURfREVWSUFUSU9OICogc2lnbjtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoT3JpZW50YXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNlY29uZENvbnRyb2xQb2ludCA9IHRoaXMuc2Vjb25kQ29udHJvbFBvaW50KHRhbmdlbnQsIHAwLCBwMSwgeEZpZWxkLCB5RmllbGQpO1xuXG4gICAgICAgIGlmIChzd2l0Y2hPcmllbnRhdGlvbikge1xuICAgICAgICAgICAgY29uc3Qgb2xkWEZpZWxkID0geEZpZWxkO1xuICAgICAgICAgICAgeEZpZWxkID0geUZpZWxkO1xuICAgICAgICAgICAgeUZpZWxkID0gb2xkWEZpZWxkO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZmlyc3RDb250cm9sUG9pbnQgPSB0aGlzLmZpcnN0Q29udHJvbFBvaW50KHRhbmdlbnQsIHAxLCBwMiwgeEZpZWxkLCB5RmllbGQpO1xuXG4gICAgICAgIGlmIChyZXN0cmljdCkge1xuICAgICAgICAgICAgdGhpcy5yZXN0cmljdENvbnRyb2xQb2ludChwMCwgcDEsIHNlY29uZENvbnRyb2xQb2ludCwgdGFuZ2VudCk7XG4gICAgICAgICAgICB0aGlzLnJlc3RyaWN0Q29udHJvbFBvaW50KHAxLCBwMiwgZmlyc3RDb250cm9sUG9pbnQsIHRhbmdlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFsgc2Vjb25kQ29udHJvbFBvaW50LCBmaXJzdENvbnRyb2xQb2ludCBdO1xuICAgIH1cblxuICAgIHJlc3RyaWN0Q29udHJvbFBvaW50KHAxLCBwMiwgY3AsIHRhbmdlbnQpIHtcbiAgICAgICAgaWYgKHAxLnkgPCBwMi55KSB7XG4gICAgICAgICAgICBpZiAocDIueSA8IGNwLnkpIHtcbiAgICAgICAgICAgICAgICBjcC54ID0gcDEueCArIChwMi55IC0gcDEueSkgLyB0YW5nZW50O1xuICAgICAgICAgICAgICAgIGNwLnkgPSBwMi55O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjcC55IDwgcDEueSkge1xuICAgICAgICAgICAgICAgIGNwLnggPSBwMi54IC0gKHAyLnkgLSBwMS55KSAvIHRhbmdlbnQ7XG4gICAgICAgICAgICAgICAgY3AueSA9IHAxLnk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoY3AueSA8IHAyLnkpIHtcbiAgICAgICAgICAgICAgICBjcC54ID0gcDEueCAtIChwMS55IC0gcDIueSkgLyB0YW5nZW50O1xuICAgICAgICAgICAgICAgIGNwLnkgPSBwMi55O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwMS55IDwgY3AueSkge1xuICAgICAgICAgICAgICAgIGNwLnggPSBwMi54ICsgKHAxLnkgLSBwMi55KSAvIHRhbmdlbnQ7XG4gICAgICAgICAgICAgICAgY3AueSA9IHAxLnk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0YW5nZW50KHAwLCBwMSwgeEZpZWxkLCB5RmllbGQpIHtcbiAgICAgICAgY29uc3QgeCA9IHAxW3hGaWVsZF0gLSBwMFt4RmllbGRdO1xuICAgICAgICBjb25zdCB5ID0gcDFbeUZpZWxkXSAtIHAwW3lGaWVsZF07XG4gICAgICAgIGxldCB0YW5nZW50O1xuXG4gICAgICAgIGlmICh4ID09PSAwKSB7XG4gICAgICAgICAgICB0YW5nZW50ID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRhbmdlbnQgPSB5IC8geDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0YW5nZW50O1xuICAgIH1cblxuICAgIGlzTW9ub3RvbmljQnlGaWVsZChwMCwgcDEsIHAyLCBmaWVsZCkge1xuICAgICAgICByZXR1cm4gKHAyW2ZpZWxkXSA+IHAxW2ZpZWxkXSAmJiBwMVtmaWVsZF0gPiBwMFtmaWVsZF0pIHx8XG4gICAgICAgICAgICAgICAgICAgIChwMltmaWVsZF0gPCBwMVtmaWVsZF0gJiYgcDFbZmllbGRdIDwgcDBbZmllbGRdKTtcbiAgICB9XG5cbiAgICBmaXJzdENvbnRyb2xQb2ludCh0YW5nZW50LCBwMCwgcDMsIHhGaWVsZCwgeUZpZWxkKSB7XG4gICAgICAgIGNvbnN0IHQxID0gcDBbeEZpZWxkXTtcbiAgICAgICAgY29uc3QgdDIgPSBwM1t4RmllbGRdO1xuICAgICAgICBjb25zdCBkaXN0YW5jZSA9ICh0MiAtIHQxKSAqIFdFSUdIVDtcblxuICAgICAgICByZXR1cm4gdGhpcy5wb2ludCh0MSArIGRpc3RhbmNlLCBwMFt5RmllbGRdICsgZGlzdGFuY2UgKiB0YW5nZW50LCB4RmllbGQsIHlGaWVsZCk7XG4gICAgfVxuXG4gICAgc2Vjb25kQ29udHJvbFBvaW50KHRhbmdlbnQsIHAwLCBwMywgeEZpZWxkLCB5RmllbGQpIHtcbiAgICAgICAgY29uc3QgdDEgPSBwMFt4RmllbGRdO1xuICAgICAgICBjb25zdCB0MiA9IHAzW3hGaWVsZF07XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gKHQyIC0gdDEpICogV0VJR0hUO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnBvaW50KHQyIC0gZGlzdGFuY2UsIHAzW3lGaWVsZF0gLSBkaXN0YW5jZSAqIHRhbmdlbnQsIHhGaWVsZCwgeUZpZWxkKTtcbiAgICB9XG5cbiAgICBwb2ludCh4VmFsdWUsIHlWYWx1ZSwgeEZpZWxkLCB5RmllbGQpIHtcbiAgICAgICAgY29uc3QgY29udHJvbFBvaW50ID0gbmV3IGdlb20uUG9pbnQoKTtcbiAgICAgICAgY29udHJvbFBvaW50W3hGaWVsZF0gPSB4VmFsdWU7XG4gICAgICAgIGNvbnRyb2xQb2ludFt5RmllbGRdID0geVZhbHVlO1xuXG4gICAgICAgIHJldHVybiBjb250cm9sUG9pbnQ7XG4gICAgfVxuXG4gICAgY2FsY3VsYXRlRnVuY3Rpb24oZm4sIHgpIHtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gZm4ubGVuZ3RoO1xuICAgICAgICBsZXQgcmVzdWx0ID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gTWF0aC5wb3coeCxpKSAqIGZuW2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBudW1iZXJTaWduKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIDw9IDAgPyAtMSA6IDE7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEN1cnZlUHJvY2Vzc29yOyIsImltcG9ydCB7IENsYXNzIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgQ2hhcnRBeGlzIGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKGF4aXMpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLl9heGlzID0gYXhpcztcbiAgICAgICAgdGhpcy5vcHRpb25zID0gYXhpcy5vcHRpb25zO1xuICAgIH1cblxuICAgIHZhbHVlKHBvaW50KSB7XG4gICAgICAgIGNvbnN0IGF4aXMgPSB0aGlzLl9heGlzO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGF4aXMuZ2V0Q2F0ZWdvcnkgPyBheGlzLmdldENhdGVnb3J5KHBvaW50KSA6IGF4aXMuZ2V0VmFsdWUocG9pbnQpO1xuXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICBzbG90KGZyb20sIHRvLCBsaW1pdCA9IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2F4aXMuc2xvdChmcm9tLCB0bywgbGltaXQpO1xuICAgIH1cblxuICAgIHJhbmdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXhpcy5yYW5nZSgpO1xuICAgIH1cblxuICAgIHZhbHVlUmFuZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9heGlzLnZhbHVlUmFuZ2UoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENoYXJ0QXhpczsiLCJpbXBvcnQgQ2hhcnRBeGlzIGZyb20gJy4vY2hhcnQtYXhpcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZpbmRBeGlzQnlOYW1lKG5hbWUsIGF4ZXMpIHtcbiAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBheGVzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgaWYgKGF4ZXNbaWR4XS5vcHRpb25zLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgICAgIGF4ZXNbaWR4XS5wcmVwYXJlVXNlck9wdGlvbnMoKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ2hhcnRBeGlzKGF4ZXNbaWR4XSk7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IGZpbmRBeGlzQnlOYW1lIGZyb20gJy4vZmluZC1heGlzLWJ5LW5hbWUnO1xuXG5jbGFzcyBDaGFydFBhbmUge1xuICAgIGNvbnN0cnVjdG9yKHBhbmUpIHtcbiAgICAgICAgdGhpcy52aXN1YWwgPSBwYW5lLnZpc3VhbDtcbiAgICAgICAgdGhpcy5jaGFydHNWaXN1YWwgPSBwYW5lLmNoYXJ0Q29udGFpbmVyLnZpc3VhbDtcbiAgICAgICAgdGhpcy5fcGFuZSA9IHBhbmU7XG4gICAgfVxuXG4gICAgZmluZEF4aXNCeU5hbWUobmFtZSkge1xuICAgICAgICByZXR1cm4gZmluZEF4aXNCeU5hbWUobmFtZSwgdGhpcy5fcGFuZS5heGVzKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENoYXJ0UGFuZTsiLCJpbXBvcnQgeyBDbGFzcyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIENoYXJ0UGxvdEFyZWEgZXh0ZW5kcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3IocGxvdEFyZWEpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLl9wbG90QXJlYSA9IHBsb3RBcmVhO1xuICAgICAgICB0aGlzLnZpc3VhbCA9IHBsb3RBcmVhLnZpc3VhbDtcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kVmlzdWFsID0gcGxvdEFyZWEuX2JnVmlzdWFsO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2hhcnRQbG90QXJlYTsiLCJpbXBvcnQgeyBpc051bWJlciB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvdW50TnVtYmVycyh2YWx1ZXMpIHtcbiAgICBjb25zdCBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoO1xuICAgIGxldCBjb3VudCA9IDA7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG51bSA9IHZhbHVlc1tpXTtcbiAgICAgICAgaWYgKGlzTnVtYmVyKG51bSkpIHtcbiAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY291bnQ7XG59IiwiaW1wb3J0IHsgTUlOX1ZBTFVFLCBNQVhfVkFMVUUgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGRlZmluZWQsIGlzTnVtYmVyIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuaW1wb3J0IGNvdW50TnVtYmVycyBmcm9tICcuLi91dGlscy9jb3VudC1udW1iZXJzJztcblxuY29uc3QgQWdncmVnYXRlcyA9IHtcbiAgICBtaW46IGZ1bmN0aW9uKHZhbHVlcykge1xuICAgICAgICBjb25zdCBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoO1xuICAgICAgICBsZXQgbWluID0gTUFYX1ZBTFVFO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdmFsdWVzW2ldO1xuICAgICAgICAgICAgaWYgKGlzTnVtYmVyKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIG1pbiA9IE1hdGgubWluKG1pbiwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1pbiA9PT0gTUFYX1ZBTFVFID8gdmFsdWVzWzBdIDogbWluO1xuICAgIH0sXG5cbiAgICBtYXg6IGZ1bmN0aW9uKHZhbHVlcykge1xuICAgICAgICBjb25zdCBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoO1xuICAgICAgICBsZXQgbWF4ID0gTUlOX1ZBTFVFO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdmFsdWVzW2ldO1xuICAgICAgICAgICAgaWYgKGlzTnVtYmVyKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIG1heCA9IE1hdGgubWF4KG1heCwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1heCA9PT0gTUlOX1ZBTFVFID8gdmFsdWVzWzBdIDogbWF4O1xuICAgIH0sXG5cbiAgICBzdW06IGZ1bmN0aW9uKHZhbHVlcykge1xuICAgICAgICBjb25zdCBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoO1xuICAgICAgICBsZXQgc3VtID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHZhbHVlc1tpXTtcbiAgICAgICAgICAgIGlmIChpc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBzdW0gKz0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3VtO1xuICAgIH0sXG5cbiAgICBzdW1Pck51bGw6IGZ1bmN0aW9uKHZhbHVlcykge1xuICAgICAgICBsZXQgcmVzdWx0ID0gbnVsbDtcblxuICAgICAgICBpZiAoY291bnROdW1iZXJzKHZhbHVlcykpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IEFnZ3JlZ2F0ZXMuc3VtKHZhbHVlcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG5cbiAgICBjb3VudDogZnVuY3Rpb24odmFsdWVzKSB7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHZhbHVlcy5sZW5ndGg7XG4gICAgICAgIGxldCBjb3VudCA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB2YWx1ZXNbaV07XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvdW50O1xuICAgIH0sXG5cbiAgICBhdmc6IGZ1bmN0aW9uKHZhbHVlcykge1xuICAgICAgICBjb25zdCBjb3VudCA9IGNvdW50TnVtYmVycyh2YWx1ZXMpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gdmFsdWVzWzBdO1xuXG4gICAgICAgIGlmIChjb3VudCA+IDApIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IEFnZ3JlZ2F0ZXMuc3VtKHZhbHVlcykgLyBjb3VudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcblxuICAgIGZpcnN0OiBmdW5jdGlvbih2YWx1ZXMpIHtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHZhbHVlc1tpXTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiBkZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2YWx1ZXNbMF07XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgQWdncmVnYXRlczsiLCJpbXBvcnQgeyBnZXR0ZXIgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRGaWVsZChmaWVsZCwgcm93KSB7XG4gICAgaWYgKHJvdyA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gcm93O1xuICAgIH1cblxuICAgIGNvbnN0IGdldCA9IGdldHRlcihmaWVsZCwgdHJ1ZSk7XG4gICAgcmV0dXJuIGdldChyb3cpO1xufSIsImltcG9ydCBnZXRGaWVsZCBmcm9tICcuL3V0aWxzL2dldC1maWVsZCc7XG5pbXBvcnQgeyBWQUxVRSB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ2xhc3MsIGRlZmluZWQgfSBmcm9tICcuLi9jb21tb24nO1xuXG5jbGFzcyBTZXJpZXNCaW5kZXIgZXh0ZW5kcyBDbGFzcyB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLl92YWx1ZUZpZWxkcyA9IHt9O1xuICAgICAgICB0aGlzLl9vdGhlckZpZWxkcyA9IHt9O1xuICAgICAgICB0aGlzLl9udWxsVmFsdWUgPSB7fTtcbiAgICAgICAgdGhpcy5fdW5kZWZpbmVkVmFsdWUgPSB7fTtcbiAgICB9XG5cbiAgICByZWdpc3RlcihzZXJpZXNUeXBlcywgdmFsdWVGaWVsZHMgPSBbIFZBTFVFIF0sIG90aGVyRmllbGRzID0ge30pIHtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlcmllc1R5cGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gc2VyaWVzVHlwZXNbaV07XG5cbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlRmllbGRzW3R5cGVdID0gdmFsdWVGaWVsZHM7XG4gICAgICAgICAgICB0aGlzLl9vdGhlckZpZWxkc1t0eXBlXSA9IG90aGVyRmllbGRzO1xuICAgICAgICAgICAgdGhpcy5fbnVsbFZhbHVlW3R5cGVdID0gdGhpcy5fbWFrZVZhbHVlKHZhbHVlRmllbGRzLCBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuX3VuZGVmaW5lZFZhbHVlW3R5cGVdID0gdGhpcy5fbWFrZVZhbHVlKHZhbHVlRmllbGRzLCB1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2Fub25pY2FsRmllbGRzKHNlcmllcykge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZUZpZWxkcyhzZXJpZXMpLmNvbmNhdCh0aGlzLm90aGVyRmllbGRzKHNlcmllcykpO1xuICAgIH1cblxuICAgIHZhbHVlRmllbGRzKHNlcmllcykge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWVGaWVsZHNbc2VyaWVzLnR5cGVdIHx8IFsgVkFMVUUgXTtcbiAgICB9XG5cbiAgICBvdGhlckZpZWxkcyhzZXJpZXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX290aGVyRmllbGRzW3Nlcmllcy50eXBlXSB8fCBbIFZBTFVFIF07XG4gICAgfVxuXG4gICAgYmluZFBvaW50KHNlcmllcywgcG9pbnRJeCwgaXRlbSkge1xuICAgICAgICBjb25zdCBkYXRhID0gc2VyaWVzLmRhdGE7XG4gICAgICAgIGNvbnN0IHBvaW50RGF0YSA9IGRlZmluZWQoaXRlbSkgPyBpdGVtIDogZGF0YVtwb2ludEl4XTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0geyB2YWx1ZUZpZWxkczogeyB2YWx1ZTogcG9pbnREYXRhIH0gfTtcbiAgICAgICAgY29uc3QgdmFsdWVGaWVsZHMgPSB0aGlzLnZhbHVlRmllbGRzKHNlcmllcyk7XG4gICAgICAgIGNvbnN0IG90aGVyRmllbGRzID0gdGhpcy5fb3RoZXJGaWVsZHNbc2VyaWVzLnR5cGVdO1xuICAgICAgICBsZXQgZmllbGRzLCB2YWx1ZTtcblxuICAgICAgICBpZiAocG9pbnREYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMuX251bGxWYWx1ZVtzZXJpZXMudHlwZV07XG4gICAgICAgIH0gZWxzZSBpZiAoIWRlZmluZWQocG9pbnREYXRhKSkge1xuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl91bmRlZmluZWRWYWx1ZVtzZXJpZXMudHlwZV07XG4gICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShwb2ludERhdGEpKSB7XG4gICAgICAgICAgICBjb25zdCBmaWVsZERhdGEgPSBwb2ludERhdGEuc2xpY2UodmFsdWVGaWVsZHMubGVuZ3RoKTtcbiAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fYmluZEZyb21BcnJheShwb2ludERhdGEsIHZhbHVlRmllbGRzKTtcbiAgICAgICAgICAgIGZpZWxkcyA9IHRoaXMuX2JpbmRGcm9tQXJyYXkoZmllbGREYXRhLCBvdGhlckZpZWxkcyk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHBvaW50RGF0YSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgY29uc3Qgc3JjVmFsdWVGaWVsZHMgPSB0aGlzLnNvdXJjZUZpZWxkcyhzZXJpZXMsIHZhbHVlRmllbGRzKTtcbiAgICAgICAgICAgIGNvbnN0IHNyY1BvaW50RmllbGRzID0gdGhpcy5zb3VyY2VGaWVsZHMoc2VyaWVzLCBvdGhlckZpZWxkcyk7XG5cbiAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fYmluZEZyb21PYmplY3QocG9pbnREYXRhLCB2YWx1ZUZpZWxkcywgc3JjVmFsdWVGaWVsZHMpO1xuICAgICAgICAgICAgZmllbGRzID0gdGhpcy5fYmluZEZyb21PYmplY3QocG9pbnREYXRhLCBvdGhlckZpZWxkcywgc3JjUG9pbnRGaWVsZHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRlZmluZWQodmFsdWUpKSB7XG4gICAgICAgICAgICBpZiAodmFsdWVGaWVsZHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnZhbHVlRmllbGRzLnZhbHVlID0gdmFsdWVbdmFsdWVGaWVsZHNbMF1dO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHQudmFsdWVGaWVsZHMgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJlc3VsdC5maWVsZHMgPSBmaWVsZHMgfHwge307XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBfbWFrZVZhbHVlKGZpZWxkcywgaW5pdGlhbFZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0ge307XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGZpZWxkcy5sZW5ndGg7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZmllbGROYW1lID0gZmllbGRzW2ldO1xuICAgICAgICAgICAgdmFsdWVbZmllbGROYW1lXSA9IGluaXRpYWxWYWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICBfYmluZEZyb21BcnJheShhcnJheSwgZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0ge307XG5cbiAgICAgICAgaWYgKGZpZWxkcykge1xuICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gTWF0aC5taW4oZmllbGRzLmxlbmd0aCwgYXJyYXkubGVuZ3RoKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhbHVlW2ZpZWxkc1tpXV0gPSBhcnJheVtpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICBfYmluZEZyb21PYmplY3Qob2JqZWN0LCBmaWVsZHMsIHNyY0ZpZWxkcyA9IGZpZWxkcykge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHt9O1xuXG4gICAgICAgIGlmIChmaWVsZHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IGZpZWxkcy5sZW5ndGg7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWVsZE5hbWUgPSBmaWVsZHNbaV07XG4gICAgICAgICAgICAgICAgY29uc3Qgc3JjRmllbGROYW1lID0gc3JjRmllbGRzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChzcmNGaWVsZE5hbWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVbZmllbGROYW1lXSA9IGdldEZpZWxkKHNyY0ZpZWxkTmFtZSwgb2JqZWN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgc291cmNlRmllbGRzKHNlcmllcywgY2Fub25pY2FsRmllbGRzKSB7XG4gICAgICAgIGNvbnN0IHNvdXJjZUZpZWxkcyA9IFtdO1xuXG4gICAgICAgIGlmIChjYW5vbmljYWxGaWVsZHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IGNhbm9uaWNhbEZpZWxkcy5sZW5ndGg7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWVsZE5hbWUgPSBjYW5vbmljYWxGaWVsZHNbaV07XG4gICAgICAgICAgICAgICAgY29uc3Qgc291cmNlRmllbGROYW1lID0gZmllbGROYW1lID09PSBWQUxVRSA/IFwiZmllbGRcIiA6IGZpZWxkTmFtZSArIFwiRmllbGRcIjtcblxuICAgICAgICAgICAgICAgIHNvdXJjZUZpZWxkcy5wdXNoKHNlcmllc1tzb3VyY2VGaWVsZE5hbWVdICE9PSBudWxsID8gKHNlcmllc1tzb3VyY2VGaWVsZE5hbWVdIHx8IGZpZWxkTmFtZSkgOiBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzb3VyY2VGaWVsZHM7XG4gICAgfVxufVxuXG5TZXJpZXNCaW5kZXIuY3VycmVudCA9IG5ldyBTZXJpZXNCaW5kZXIoKTtcblxuZXhwb3J0IGRlZmF1bHQgU2VyaWVzQmluZGVyOyIsImltcG9ydCBTZXJpZXNCaW5kZXIgZnJvbSAnLi4vc2VyaWVzLWJpbmRlcic7XG5cbmltcG9ydCB7IE9CSkVDVCB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ2xhc3MsIGRlZmluZWQsIGdldHRlciwgaXNBcnJheSwgaXNOdW1iZXIgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jb25zdCBTVERfRVJSID0gXCJzdGRlcnJcIjtcbmNvbnN0IFNURF9ERVYgPSBcInN0ZGRldlwiO1xuY29uc3QgcGVyY2VudFJlZ2V4ID0gL3BlcmNlbnQoPzpcXHcqKVxcKChcXGQrKVxcKS87XG5jb25zdCBzdGFuZGFyZERldmlhdGlvblJlZ2V4ID0gbmV3IFJlZ0V4cChcIl5cIiArIFNURF9ERVYgKyBcIig/OlxcXFwoKFxcXFxkKyg/OlxcXFwuXFxcXGQrKT8pXFxcXCkpPyRcIik7XG5cbmNsYXNzIEVycm9yUmFuZ2VDYWxjdWxhdG9yIGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKGVycm9yVmFsdWUsIHNlcmllcywgZmllbGQpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLmluaXRHbG9iYWxSYW5nZXMoZXJyb3JWYWx1ZSwgc2VyaWVzLCBmaWVsZCk7XG4gICAgfVxuXG4gICAgaW5pdEdsb2JhbFJhbmdlcyhlcnJvclZhbHVlLCBzZXJpZXMsIGZpZWxkKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBzZXJpZXMuZGF0YTtcbiAgICAgICAgY29uc3QgZGV2aWF0aW9uTWF0Y2ggPSBzdGFuZGFyZERldmlhdGlvblJlZ2V4LmV4ZWMoZXJyb3JWYWx1ZSk7XG5cbiAgICAgICAgaWYgKGRldmlhdGlvbk1hdGNoKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlR2V0dGVyID0gdGhpcy5jcmVhdGVWYWx1ZUdldHRlcihzZXJpZXMsIGZpZWxkKTtcblxuICAgICAgICAgICAgY29uc3QgYXZlcmFnZSA9IHRoaXMuZ2V0QXZlcmFnZShkYXRhKTtcbiAgICAgICAgICAgIGNvbnN0IGRldmlhdGlvbiA9IHRoaXMuZ2V0U3RhbmRhcmREZXZpYXRpb24oZGF0YSwgYXZlcmFnZSwgZmFsc2UpO1xuICAgICAgICAgICAgY29uc3QgbXVsdGlwbGUgPSBkZXZpYXRpb25NYXRjaFsxXSA/IHBhcnNlRmxvYXQoZGV2aWF0aW9uTWF0Y2hbMV0pIDogMTtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yUmFuZ2UgPSB7IGxvdzogYXZlcmFnZS52YWx1ZSAtIGRldmlhdGlvbiAqIG11bHRpcGxlLCBoaWdoOiBhdmVyYWdlLnZhbHVlICsgZGV2aWF0aW9uICogbXVsdGlwbGUgfTtcblxuICAgICAgICAgICAgdGhpcy5nbG9iYWxSYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvclJhbmdlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChlcnJvclZhbHVlLmluZGV4T2YgJiYgZXJyb3JWYWx1ZS5pbmRleE9mKFNURF9FUlIpID49IDApIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWVHZXR0ZXIgPSB0aGlzLmNyZWF0ZVZhbHVlR2V0dGVyKHNlcmllcywgZmllbGQpO1xuICAgICAgICAgICAgY29uc3Qgc3RhbmRhcmRFcnJvciA9IHRoaXMuZ2V0U3RhbmRhcmRFcnJvcihkYXRhLCB0aGlzLmdldEF2ZXJhZ2UoZGF0YSkpO1xuXG4gICAgICAgICAgICB0aGlzLmdsb2JhbFJhbmdlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBsb3c6IHZhbHVlIC0gc3RhbmRhcmRFcnJvciwgaGlnaDogdmFsdWUgKyBzdGFuZGFyZEVycm9yIH07XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlVmFsdWVHZXR0ZXIoc2VyaWVzLCBmaWVsZCkge1xuICAgICAgICBjb25zdCBkYXRhID0gc2VyaWVzLmRhdGE7XG4gICAgICAgIGNvbnN0IGJpbmRlciA9IFNlcmllc0JpbmRlci5jdXJyZW50O1xuICAgICAgICBjb25zdCB2YWx1ZUZpZWxkcyA9IGJpbmRlci52YWx1ZUZpZWxkcyhzZXJpZXMpO1xuICAgICAgICBjb25zdCBpdGVtID0gZGVmaW5lZChkYXRhWzBdKSA/IGRhdGFbMF0gOiB7fTtcbiAgICAgICAgbGV0IHZhbHVlR2V0dGVyO1xuXG4gICAgICAgIGlmIChpc0FycmF5KGl0ZW0pKSB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGZpZWxkID8gdmFsdWVGaWVsZHMuaW5kZXhPZihmaWVsZCkgOiAwO1xuICAgICAgICAgICAgdmFsdWVHZXR0ZXIgPSBnZXR0ZXIoXCJbXCIgKyBpbmRleCArIFwiXVwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc051bWJlcihpdGVtKSkge1xuICAgICAgICAgICAgdmFsdWVHZXR0ZXIgPSBnZXR0ZXIoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaXRlbSA9PT0gT0JKRUNUKSB7XG4gICAgICAgICAgICBjb25zdCBzcmNWYWx1ZUZpZWxkcyA9IGJpbmRlci5zb3VyY2VGaWVsZHMoc2VyaWVzLCB2YWx1ZUZpZWxkcyk7XG4gICAgICAgICAgICB2YWx1ZUdldHRlciA9IGdldHRlcihzcmNWYWx1ZUZpZWxkc1t2YWx1ZUZpZWxkcy5pbmRleE9mKGZpZWxkKV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlR2V0dGVyO1xuICAgIH1cblxuICAgIGdldEVycm9yUmFuZ2UocG9pbnRWYWx1ZSwgZXJyb3JWYWx1ZSkge1xuICAgICAgICBsZXQgbG93LCBoaWdoLCB2YWx1ZTtcblxuICAgICAgICBpZiAoIWRlZmluZWQoZXJyb3JWYWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZ2xvYmFsUmFuZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdsb2JhbFJhbmdlKHBvaW50VmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzQXJyYXkoZXJyb3JWYWx1ZSkpIHtcbiAgICAgICAgICAgIGxvdyA9IHBvaW50VmFsdWUgLSBlcnJvclZhbHVlWzBdO1xuICAgICAgICAgICAgaGlnaCA9IHBvaW50VmFsdWUgKyBlcnJvclZhbHVlWzFdO1xuICAgICAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKHZhbHVlID0gcGFyc2VGbG9hdChlcnJvclZhbHVlKSkpIHtcbiAgICAgICAgICAgIGxvdyA9IHBvaW50VmFsdWUgLSB2YWx1ZTtcbiAgICAgICAgICAgIGhpZ2ggPSBwb2ludFZhbHVlICsgdmFsdWU7XG4gICAgICAgIH0gZWxzZSBpZiAoKHZhbHVlID0gcGVyY2VudFJlZ2V4LmV4ZWMoZXJyb3JWYWx1ZSkpKSB7XG4gICAgICAgICAgICBjb25zdCBwZXJjZW50VmFsdWUgPSBwb2ludFZhbHVlICogKHBhcnNlRmxvYXQodmFsdWVbMV0pIC8gMTAwKTtcbiAgICAgICAgICAgIGxvdyA9IHBvaW50VmFsdWUgLSBNYXRoLmFicyhwZXJjZW50VmFsdWUpO1xuICAgICAgICAgICAgaGlnaCA9IHBvaW50VmFsdWUgKyBNYXRoLmFicyhwZXJjZW50VmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBFcnJvckJhciB2YWx1ZTogXCIgKyBlcnJvclZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IGxvdzogbG93LCBoaWdoOiBoaWdoIH07XG4gICAgfVxuXG4gICAgZ2V0U3RhbmRhcmRFcnJvcihkYXRhLCBhdmVyYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFN0YW5kYXJkRGV2aWF0aW9uKGRhdGEsIGF2ZXJhZ2UsIHRydWUpIC8gTWF0aC5zcXJ0KGF2ZXJhZ2UuY291bnQpO1xuICAgIH1cblxuICAgIGdldFN0YW5kYXJkRGV2aWF0aW9uKGRhdGEsIGF2ZXJhZ2UsIGlzU2FtcGxlKSB7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGRhdGEubGVuZ3RoO1xuICAgICAgICBjb25zdCB0b3RhbCA9IGlzU2FtcGxlID8gYXZlcmFnZS5jb3VudCAtIDEgOiBhdmVyYWdlLmNvdW50O1xuICAgICAgICBsZXQgc3F1YXJlRGlmZmVyZW5jZVN1bSA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgbGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnZhbHVlR2V0dGVyKGRhdGFbaWR4XSk7XG4gICAgICAgICAgICBpZiAoaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgc3F1YXJlRGlmZmVyZW5jZVN1bSArPSBNYXRoLnBvdyh2YWx1ZSAtIGF2ZXJhZ2UudmFsdWUsIDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChzcXVhcmVEaWZmZXJlbmNlU3VtIC8gdG90YWwpO1xuICAgIH1cblxuICAgIGdldEF2ZXJhZ2UoZGF0YSkge1xuICAgICAgICBjb25zdCBsZW5ndGggPSBkYXRhLmxlbmd0aDtcbiAgICAgICAgbGV0IHN1bSA9IDA7XG4gICAgICAgIGxldCBjb3VudCA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgbGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnZhbHVlR2V0dGVyKGRhdGFbaWR4XSk7XG4gICAgICAgICAgICBpZiAoaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgc3VtICs9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHN1bSAvIGNvdW50LFxuICAgICAgICAgICAgY291bnQ6IGNvdW50XG4gICAgICAgIH07XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBFcnJvclJhbmdlQ2FsY3VsYXRvcjsiLCJpbXBvcnQgeyBzdXBwb3J0IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5jb25zdCBicm93c2VyID0gc3VwcG9ydC5icm93c2VyIHx8IHt9O1xuXG5jb25zdCBJTklUSUFMX0FOSU1BVElPTl9EVVJBVElPTiA9IDYwMDtcbmNvbnN0IEZBREVJTiA9IFwiZmFkZUluXCI7XG5cbmNvbnN0IEdMQVNTID0gXCJnbGFzc1wiO1xuY29uc3QgQk9SREVSX0JSSUdIVE5FU1MgPSAwLjg7XG5jb25zdCBUT09MVElQX09GRlNFVCA9IDU7XG5jb25zdCBTVEFSVF9TQ0FMRSA9IGJyb3dzZXIubXNpZSA/IDAuMDAxIDogMDtcbmNvbnN0IEVSUk9SX0xPV19GSUVMRCA9IFwiZXJyb3JMb3dcIjtcbmNvbnN0IEVSUk9SX0hJR0hfRklFTEQgPSBcImVycm9ySGlnaFwiO1xuY29uc3QgWF9FUlJPUl9MT1dfRklFTEQgPSBcInhFcnJvckxvd1wiO1xuY29uc3QgWF9FUlJPUl9ISUdIX0ZJRUxEID0gXCJ4RXJyb3JIaWdoXCI7XG5jb25zdCBZX0VSUk9SX0xPV19GSUVMRCA9IFwieUVycm9yTG93XCI7XG5jb25zdCBZX0VSUk9SX0hJR0hfRklFTEQgPSBcInlFcnJvckhpZ2hcIjtcbmNvbnN0IExJTkVfTUFSS0VSX1NJWkUgPSA4O1xuY29uc3QgWkVSTyA9IFwiemVyb1wiO1xuY29uc3QgSU5URVJQT0xBVEUgPSBcImludGVycG9sYXRlXCI7XG5jb25zdCBHQVAgPSBcImdhcFwiO1xuY29uc3QgQUJPVkUgPSBcImFib3ZlXCI7XG5jb25zdCBCRUxPVyA9IFwiYmVsb3dcIjtcblxuY29uc3QgU01PT1RIID0gXCJzbW9vdGhcIjtcbmNvbnN0IFNURVAgPSBcInN0ZXBcIjtcblxuY29uc3QgQVJFQSA9IFwiYXJlYVwiO1xuY29uc3QgQkFSID0gXCJiYXJcIjtcbmNvbnN0IEJPWF9QTE9UID0gXCJib3hQbG90XCI7XG5jb25zdCBCVUJCTEUgPSBcImJ1YmJsZVwiO1xuY29uc3QgQlVMTEVUID0gXCJidWxsZXRcIjtcbmNvbnN0IENBTkRMRVNUSUNLID0gXCJjYW5kbGVzdGlja1wiO1xuY29uc3QgQ09MVU1OID0gXCJjb2x1bW5cIjtcbmNvbnN0IERPTlVUID0gXCJkb251dFwiO1xuY29uc3QgRlVOTkVMID0gXCJmdW5uZWxcIjtcbmNvbnN0IEhPUklaT05UQUxfV0FURVJGQUxMID0gXCJob3Jpem9udGFsV2F0ZXJmYWxsXCI7XG5jb25zdCBMSU5FID0gXCJsaW5lXCI7XG5jb25zdCBPSExDID0gXCJvaGxjXCI7XG5jb25zdCBQSUUgPSBcInBpZVwiO1xuY29uc3QgUE9MQVJfQVJFQSA9IFwicG9sYXJBcmVhXCI7XG5jb25zdCBQT0xBUl9MSU5FID0gXCJwb2xhckxpbmVcIjtcbmNvbnN0IFBPTEFSX1NDQVRURVIgPSBcInBvbGFyU2NhdHRlclwiO1xuY29uc3QgUkFEQVJfQVJFQSA9IFwicmFkYXJBcmVhXCI7XG5jb25zdCBSQURBUl9DT0xVTU4gPSBcInJhZGFyQ29sdW1uXCI7XG5jb25zdCBSQURBUl9MSU5FID0gXCJyYWRhckxpbmVcIjtcbmNvbnN0IFJBTkdFX0FSRUEgPSBcInJhbmdlQXJlYVwiO1xuY29uc3QgUkFOR0VfQkFSID0gXCJyYW5nZUJhclwiO1xuY29uc3QgUkFOR0VfQ09MVU1OID0gXCJyYW5nZUNvbHVtblwiO1xuY29uc3QgU0NBVFRFUiA9IFwic2NhdHRlclwiO1xuY29uc3QgU0NBVFRFUl9MSU5FID0gXCJzY2F0dGVyTGluZVwiO1xuY29uc3QgVkVSVElDQUxfQVJFQSA9IFwidmVydGljYWxBcmVhXCI7XG5jb25zdCBWRVJUSUNBTF9CT1hfUExPVCA9IFwidmVydGljYWxCb3hQbG90XCI7XG5jb25zdCBWRVJUSUNBTF9CVUxMRVQgPSBcInZlcnRpY2FsQnVsbGV0XCI7XG5jb25zdCBWRVJUSUNBTF9MSU5FID0gXCJ2ZXJ0aWNhbExpbmVcIjtcbmNvbnN0IFZFUlRJQ0FMX1JBTkdFX0FSRUEgPSBcInZlcnRpY2FsUmFuZ2VBcmVhXCI7XG5jb25zdCBXQVRFUkZBTEwgPSBcIndhdGVyZmFsbFwiO1xuY29uc3QgRVFVQUxMWV9TUEFDRURfU0VSSUVTID0gW1xuICAgIEJBUiwgQ09MVU1OLCBPSExDLCBDQU5ETEVTVElDSywgQk9YX1BMT1QsIFZFUlRJQ0FMX0JPWF9QTE9ULFxuICAgIEJVTExFVCwgUkFOR0VfQ09MVU1OLCBSQU5HRV9CQVIsIFdBVEVSRkFMTCwgSE9SSVpPTlRBTF9XQVRFUkZBTExcbl07XG5cbmNvbnN0IExFR0VORF9JVEVNX0NMSUNLID0gXCJsZWdlbmRJdGVtQ2xpY2tcIjtcbmNvbnN0IExFR0VORF9JVEVNX0hPVkVSID0gXCJsZWdlbmRJdGVtSG92ZXJcIjtcbmNvbnN0IExFR0VORF9JVEVNX0xFQVZFID0gXCJsZWdlbmRJdGVtTGVhdmVcIjtcbmNvbnN0IFNFUklFU19DTElDSyA9IFwic2VyaWVzQ2xpY2tcIjtcbmNvbnN0IFNFUklFU19IT1ZFUiA9IFwic2VyaWVzSG92ZXJcIjtcbmNvbnN0IFNFUklFU19PVkVSID0gXCJzZXJpZXNPdmVyXCI7XG5jb25zdCBTRVJJRVNfTEVBVkUgPSBcInNlcmllc0xlYXZlXCI7XG5jb25zdCBQTE9UX0FSRUFfQ0xJQ0sgPSBcInBsb3RBcmVhQ2xpY2tcIjtcbmNvbnN0IFBMT1RfQVJFQV9IT1ZFUiA9IFwicGxvdEFyZWFIb3ZlclwiO1xuY29uc3QgUExPVF9BUkVBX0xFQVZFID0gXCJwbG90QXJlYUxlYXZlXCI7XG5jb25zdCBEUkFHID0gXCJkcmFnXCI7XG5jb25zdCBEUkFHX0VORCA9IFwiZHJhZ0VuZFwiO1xuY29uc3QgRFJBR19TVEFSVCA9IFwiZHJhZ1N0YXJ0XCI7XG5jb25zdCBaT09NX1NUQVJUID0gXCJ6b29tU3RhcnRcIjtcbmNvbnN0IFpPT00gPSBcInpvb21cIjtcbmNvbnN0IFpPT01fRU5EID0gXCJ6b29tRW5kXCI7XG5jb25zdCBTRUxFQ1RfU1RBUlQgPSBcInNlbGVjdFN0YXJ0XCI7XG5jb25zdCBTRUxFQ1QgPSBcInNlbGVjdFwiO1xuY29uc3QgU0VMRUNUX0VORCA9IFwic2VsZWN0RW5kXCI7XG5jb25zdCBSRU5ERVIgPSBcInJlbmRlclwiO1xuY29uc3QgU0hPV19UT09MVElQID0gXCJzaG93VG9vbHRpcFwiO1xuY29uc3QgSElERV9UT09MVElQID0gXCJoaWRlVG9vbHRpcFwiO1xuY29uc3QgUEFORV9SRU5ERVIgPSBcInBhbmVSZW5kZXJcIjtcblxuY29uc3QgTE9HQVJJVEhNSUMgPSBcImxvZ1wiO1xuY29uc3QgQ0FURUdPUlkgPSBcImNhdGVnb3J5XCI7XG5cbmNvbnN0IElOU0lERV9FTkQgPSBcImluc2lkZUVuZFwiO1xuY29uc3QgSU5TSURFX0JBU0UgPSBcImluc2lkZUJhc2VcIjtcbmNvbnN0IE9VVFNJREVfRU5EID0gXCJvdXRzaWRlRW5kXCI7XG5cbmNvbnN0IE1PVVNFV0hFRUwgPSBcIkRPTU1vdXNlU2Nyb2xsIG1vdXNld2hlZWxcIjtcbmNvbnN0IE1PVVNFV0hFRUxfREVMQVkgPSAxNTA7XG5cbmV4cG9ydCB7XG4gICAgSU5JVElBTF9BTklNQVRJT05fRFVSQVRJT04sIEZBREVJTixcbiAgICBMRUdFTkRfSVRFTV9DTElDSywgTEVHRU5EX0lURU1fSE9WRVIsIExFR0VORF9JVEVNX0xFQVZFLFxuICAgIFNFUklFU19DTElDSywgU0VSSUVTX0hPVkVSLCBTRVJJRVNfT1ZFUiwgU0VSSUVTX0xFQVZFLCBHTEFTUyxcbiAgICBCT1JERVJfQlJJR0hUTkVTUywgVE9PTFRJUF9PRkZTRVQsXG4gICAgU1RBUlRfU0NBTEUsIEVSUk9SX0xPV19GSUVMRCwgRVJST1JfSElHSF9GSUVMRCxcbiAgICBYX0VSUk9SX0xPV19GSUVMRCwgWF9FUlJPUl9ISUdIX0ZJRUxELFxuICAgIFlfRVJST1JfTE9XX0ZJRUxELCBZX0VSUk9SX0hJR0hfRklFTEQsXG4gICAgTElORV9NQVJLRVJfU0laRSwgSU5URVJQT0xBVEUsIFpFUk8sXG4gICAgU01PT1RILCBTVEVQLCBDQVRFR09SWSwgRlVOTkVMLFxuICAgIEJBUiwgQ0FORExFU1RJQ0ssIFBJRSwgQ09MVU1OLCBBUkVBLFxuICAgIFZFUlRJQ0FMX0JVTExFVCwgQk9YX1BMT1QsIE9ITEMsIFdBVEVSRkFMTCwgTElORSxcbiAgICBCVUxMRVQsIFZFUlRJQ0FMX0xJTkUsIFZFUlRJQ0FMX0FSRUEsIFJBTkdFX0FSRUEsIFZFUlRJQ0FMX1JBTkdFX0FSRUEsXG4gICAgUkFOR0VfQ09MVU1OLCBWRVJUSUNBTF9CT1hfUExPVCwgUkFOR0VfQkFSLCBIT1JJWk9OVEFMX1dBVEVSRkFMTCxcbiAgICBTQ0FUVEVSLCBTQ0FUVEVSX0xJTkUsIEJVQkJMRSwgUkFEQVJfQVJFQSwgUkFEQVJfTElORSxcbiAgICBSQURBUl9DT0xVTU4sIFBPTEFSX0xJTkUsIFBPTEFSX0FSRUEsIFBPTEFSX1NDQVRURVIsXG4gICAgUkVOREVSLCBQTE9UX0FSRUFfQ0xJQ0ssIFBMT1RfQVJFQV9IT1ZFUiwgUExPVF9BUkVBX0xFQVZFLFxuICAgIExPR0FSSVRITUlDLCBEUkFHLCBEUkFHX1NUQVJULCBEUkFHX0VORCwgWk9PTV9TVEFSVCwgWk9PTSwgWk9PTV9FTkQsXG4gICAgU0VMRUNUX1NUQVJULCBTRUxFQ1QsIFNFTEVDVF9FTkQsIFBBTkVfUkVOREVSLCBHQVAsXG4gICAgRE9OVVQsIElOU0lERV9FTkQsIElOU0lERV9CQVNFLCBPVVRTSURFX0VORCxcbiAgICBNT1VTRVdIRUVMLCBNT1VTRVdIRUVMX0RFTEFZLCBTSE9XX1RPT0xUSVAsIEhJREVfVE9PTFRJUCxcbiAgICBFUVVBTExZX1NQQUNFRF9TRVJJRVMsIEFCT1ZFLCBCRUxPV1xufTtcbiIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHsgQ2hhcnRFbGVtZW50LCBQb2ludCwgQm94IH0gZnJvbSAnLi4vLi4vY29yZSc7XG5cbmltcG9ydCB7IEZBREVJTiwgSU5JVElBTF9BTklNQVRJT05fRFVSQVRJT04gfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5pbXBvcnQgeyBzZXREZWZhdWx0T3B0aW9ucywgYWxpZ25QYXRoVG9QaXhlbCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNvbnN0IERFRkFVTFRfRVJST1JfQkFSX1dJRFRIID0gNDtcblxuY2xhc3MgRXJyb3JCYXJCYXNlIGV4dGVuZHMgQ2hhcnRFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihsb3csIGhpZ2gsIGlzVmVydGljYWwsIGNoYXJ0LCBzZXJpZXMsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5sb3cgPSBsb3c7XG4gICAgICAgIHRoaXMuaGlnaCA9IGhpZ2g7XG4gICAgICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XG4gICAgICAgIHRoaXMuY2hhcnQgPSBjaGFydDtcbiAgICAgICAgdGhpcy5zZXJpZXMgPSBzZXJpZXM7XG4gICAgfVxuXG4gICAgcmVmbG93KHRhcmdldEJveCkge1xuICAgICAgICBjb25zdCBlbmRDYXBzID0gdGhpcy5vcHRpb25zLmVuZENhcHM7XG4gICAgICAgIGNvbnN0IGlzVmVydGljYWwgPSB0aGlzLmlzVmVydGljYWw7XG4gICAgICAgIGNvbnN0IGF4aXMgPSB0aGlzLmdldEF4aXMoKTtcbiAgICAgICAgY29uc3QgdmFsdWVCb3ggPSBheGlzLmdldFNsb3QodGhpcy5sb3csIHRoaXMuaGlnaCk7XG4gICAgICAgIGNvbnN0IGNlbnRlckJveCA9IHRhcmdldEJveC5jZW50ZXIoKTtcbiAgICAgICAgY29uc3QgY2Fwc1dpZHRoID0gdGhpcy5nZXRDYXBzV2lkdGgodGFyZ2V0Qm94LCBpc1ZlcnRpY2FsKTtcbiAgICAgICAgY29uc3QgY2FwVmFsdWUgPSBpc1ZlcnRpY2FsID8gY2VudGVyQm94LnggOiBjZW50ZXJCb3gueTtcbiAgICAgICAgY29uc3QgY2FwU3RhcnQgPSBjYXBWYWx1ZSAtIGNhcHNXaWR0aDtcbiAgICAgICAgY29uc3QgY2FwRW5kID0gY2FwVmFsdWUgKyBjYXBzV2lkdGg7XG4gICAgICAgIGxldCBsaW5lUG9pbnRzO1xuXG4gICAgICAgIGlmIChpc1ZlcnRpY2FsKSB7XG4gICAgICAgICAgICBsaW5lUG9pbnRzID0gW1xuICAgICAgICAgICAgICAgIG5ldyBQb2ludChjZW50ZXJCb3gueCwgdmFsdWVCb3gueTEpLFxuICAgICAgICAgICAgICAgIG5ldyBQb2ludChjZW50ZXJCb3gueCwgdmFsdWVCb3gueTIpXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgaWYgKGVuZENhcHMpIHtcbiAgICAgICAgICAgICAgICBsaW5lUG9pbnRzLnB1c2gobmV3IFBvaW50KGNhcFN0YXJ0LCB2YWx1ZUJveC55MSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBQb2ludChjYXBFbmQsIHZhbHVlQm94LnkxKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFBvaW50KGNhcFN0YXJ0LCB2YWx1ZUJveC55MiksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBQb2ludChjYXBFbmQsIHZhbHVlQm94LnkyKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmJveCA9IG5ldyBCb3goY2FwU3RhcnQsIHZhbHVlQm94LnkxLCBjYXBFbmQsIHZhbHVlQm94LnkyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxpbmVQb2ludHMgPSBbXG4gICAgICAgICAgICAgICAgbmV3IFBvaW50KHZhbHVlQm94LngxLCBjZW50ZXJCb3gueSksXG4gICAgICAgICAgICAgICAgbmV3IFBvaW50KHZhbHVlQm94LngyLCBjZW50ZXJCb3gueSlcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBpZiAoZW5kQ2Fwcykge1xuICAgICAgICAgICAgICAgIGxpbmVQb2ludHMucHVzaChuZXcgUG9pbnQodmFsdWVCb3gueDEsIGNhcFN0YXJ0KSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFBvaW50KHZhbHVlQm94LngxLCBjYXBFbmQpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgUG9pbnQodmFsdWVCb3gueDIsIGNhcFN0YXJ0KSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFBvaW50KHZhbHVlQm94LngyLCBjYXBFbmQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYm94ID0gbmV3IEJveCh2YWx1ZUJveC54MSwgY2FwU3RhcnQsIHZhbHVlQm94LngyLCBjYXBFbmQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5saW5lUG9pbnRzID0gbGluZVBvaW50cztcbiAgICB9XG5cbiAgICBnZXRDYXBzV2lkdGgoYm94LCBpc1ZlcnRpY2FsKSB7XG4gICAgICAgIGNvbnN0IGJveFNpemUgPSBpc1ZlcnRpY2FsID8gYm94LndpZHRoKCkgOiBib3guaGVpZ2h0KCk7XG4gICAgICAgIGNvbnN0IGNhcHNXaWR0aCA9IE1hdGgubWluKE1hdGguZmxvb3IoYm94U2l6ZSAvIDIpLCBERUZBVUxUX0VSUk9SX0JBUl9XSURUSCkgfHwgREVGQVVMVF9FUlJPUl9CQVJfV0lEVEg7XG5cbiAgICAgICAgcmV0dXJuIGNhcHNXaWR0aDtcbiAgICB9XG5cbiAgICBjcmVhdGVWaXN1YWwoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHZpc3VhbCA9IG9wdGlvbnMudmlzdWFsO1xuXG4gICAgICAgIGlmICh2aXN1YWwpIHtcbiAgICAgICAgICAgIHRoaXMudmlzdWFsID0gdmlzdWFsKHtcbiAgICAgICAgICAgICAgICBsb3c6IHRoaXMubG93LFxuICAgICAgICAgICAgICAgIGhpZ2g6IHRoaXMuaGlnaCxcbiAgICAgICAgICAgICAgICByZWN0OiB0aGlzLmJveC50b1JlY3QoKSxcbiAgICAgICAgICAgICAgICBzZW5kZXI6IHRoaXMuZ2V0U2VuZGVyKCksXG4gICAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICBlbmRDYXBzOiBvcHRpb25zLmVuZENhcHMsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBvcHRpb25zLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICBsaW5lOiBvcHRpb25zLmxpbmVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNyZWF0ZVZpc3VhbDogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZURlZmF1bHRWaXN1YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVmYXVsdFZpc3VhbCA9IHRoaXMudmlzdWFsO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy52aXN1YWw7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmlzdWFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVEZWZhdWx0VmlzdWFsKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVEZWZhdWx0VmlzdWFsKCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIGxpbmVQb2ludHMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGxpbmVPcHRpb25zID0ge1xuICAgICAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IG9wdGlvbnMuY29sb3IsXG4gICAgICAgICAgICAgICAgd2lkdGg6IG9wdGlvbnMubGluZS53aWR0aCxcbiAgICAgICAgICAgICAgICBkYXNoVHlwZTogb3B0aW9ucy5saW5lLmRhc2hUeXBlXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgc3VwZXIuY3JlYXRlVmlzdWFsKCk7XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgbGluZVBvaW50cy5sZW5ndGg7IGlkeCArPSAyKSB7XG4gICAgICAgICAgICBjb25zdCBsaW5lID0gbmV3IGRyYXcuUGF0aChsaW5lT3B0aW9ucylcbiAgICAgICAgICAgICAgICAubW92ZVRvKGxpbmVQb2ludHNbaWR4XS54LCBsaW5lUG9pbnRzW2lkeF0ueSlcbiAgICAgICAgICAgICAgICAubGluZVRvKGxpbmVQb2ludHNbaWR4ICsgMV0ueCwgbGluZVBvaW50c1tpZHggKyAxXS55KTtcblxuICAgICAgICAgICAgYWxpZ25QYXRoVG9QaXhlbChsaW5lKTtcbiAgICAgICAgICAgIHRoaXMudmlzdWFsLmFwcGVuZChsaW5lKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoRXJyb3JCYXJCYXNlLCB7XG4gICAgYW5pbWF0aW9uOiB7XG4gICAgICAgIHR5cGU6IEZBREVJTixcbiAgICAgICAgZGVsYXk6IElOSVRJQUxfQU5JTUFUSU9OX0RVUkFUSU9OXG4gICAgfSxcbiAgICBlbmRDYXBzOiB0cnVlLFxuICAgIGxpbmU6IHtcbiAgICAgICAgd2lkdGg6IDJcbiAgICB9LFxuICAgIHpJbmRleDogMVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IEVycm9yQmFyQmFzZTsiLCJpbXBvcnQgRXJyb3JCYXJCYXNlIGZyb20gJy4vZXJyb3ItYmFyLWJhc2UnO1xuXG5jbGFzcyBDYXRlZ29yaWNhbEVycm9yQmFyIGV4dGVuZHMgRXJyb3JCYXJCYXNlIHtcbiAgICBnZXRBeGlzKCkge1xuICAgICAgICBjb25zdCBheGlzID0gdGhpcy5jaGFydC5zZXJpZXNWYWx1ZUF4aXModGhpcy5zZXJpZXMpO1xuXG4gICAgICAgIHJldHVybiBheGlzO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2F0ZWdvcmljYWxFcnJvckJhcjsiLCJpbXBvcnQgeyBpbkFycmF5LCBpc0Z1bmN0aW9uLCBpc09iamVjdCwgdmFsdWVPckRlZmF1bHQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jb25zdCBNQVhfRVhQQU5EX0RFUFRIID0gNTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZXZhbE9wdGlvbnMob3B0aW9ucywgY29udGV4dCwgc3RhdGUgPSB7fSwgZHJ5UnVuID0gZmFsc2UpIHtcbiAgICBjb25zdCBkZWZhdWx0cyA9IHN0YXRlLmRlZmF1bHRzID0gc3RhdGUuZGVmYXVsdHMgfHwge307XG4gICAgY29uc3QgZGVwdGggPSBzdGF0ZS5kZXB0aCA9IHN0YXRlLmRlcHRoIHx8IDA7XG4gICAgbGV0IG5lZWRzRXZhbCA9IGZhbHNlO1xuXG4gICAgc3RhdGUuZXhjbHVkZWQgPSBzdGF0ZS5leGNsdWRlZCB8fCBbXTtcblxuICAgIGlmIChkZXB0aCA+IE1BWF9FWFBBTkRfREVQVEgpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgcHJvcGVydHkgaW4gb3B0aW9ucykge1xuICAgICAgICBpZiAoIWluQXJyYXkocHJvcGVydHksIHN0YXRlLmV4Y2x1ZGVkKSAmJiBvcHRpb25zLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xuICAgICAgICAgICAgY29uc3QgcHJvcFZhbHVlID0gb3B0aW9uc1twcm9wZXJ0eV07XG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihwcm9wVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgbmVlZHNFdmFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoIWRyeVJ1bikge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zW3Byb3BlcnR5XSA9IHZhbHVlT3JEZWZhdWx0KHByb3BWYWx1ZShjb250ZXh0KSwgZGVmYXVsdHNbcHJvcGVydHldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHByb3BWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWRyeVJ1bikge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5kZWZhdWx0cyA9IGRlZmF1bHRzW3Byb3BlcnR5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RhdGUuZGVwdGgrKztcbiAgICAgICAgICAgICAgICBuZWVkc0V2YWwgPSBldmFsT3B0aW9ucyhwcm9wVmFsdWUsIGNvbnRleHQsIHN0YXRlLCBkcnlSdW4pIHx8IG5lZWRzRXZhbDtcbiAgICAgICAgICAgICAgICBzdGF0ZS5kZXB0aC0tO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5lZWRzRXZhbDtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjYXRlZ29yaWVzQ291bnQoc2VyaWVzKSB7XG4gICAgY29uc3Qgc2VyaWVzQ291bnQgPSBzZXJpZXMubGVuZ3RoO1xuICAgIGxldCBjYXRlZ29yaWVzID0gMDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VyaWVzQ291bnQ7IGkrKykge1xuICAgICAgICBjYXRlZ29yaWVzID0gTWF0aC5tYXgoY2F0ZWdvcmllcywgc2VyaWVzW2ldLmRhdGEubGVuZ3RoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2F0ZWdvcmllcztcbn0iLCJpbXBvcnQgRXJyb3JSYW5nZUNhbGN1bGF0b3IgZnJvbSAnLi9lcnJvci1iYXJzL2Vycm9yLXJhbmdlLWNhbGN1bGF0b3InO1xuaW1wb3J0IENhdGVnb3JpY2FsRXJyb3JCYXIgZnJvbSAnLi9lcnJvci1iYXJzL2NhdGVnb3JpY2FsLWVycm9yLWJhcic7XG5cbmltcG9ydCBTZXJpZXNCaW5kZXIgZnJvbSAnLi9zZXJpZXMtYmluZGVyJztcbmltcG9ydCB7IEVSUk9SX0xPV19GSUVMRCwgRVJST1JfSElHSF9GSUVMRCB9IGZyb20gJy4vY29uc3RhbnRzJztcblxuaW1wb3J0IGV2YWxPcHRpb25zIGZyb20gJy4vdXRpbHMvZXZhbC1vcHRpb25zJztcbmltcG9ydCBjYXRlZ29yaWVzQ291bnQgZnJvbSAnLi91dGlscy9jYXRlZ29yaWVzLWNvdW50JztcblxuaW1wb3J0IHsgQ2hhcnRFbGVtZW50LCBCb3ggfSBmcm9tICcuLi9jb3JlJztcblxuaW1wb3J0IHsgVkFMVUUsIFNUUklORywgTUlOX1ZBTFVFLCBNQVhfVkFMVUUgfSBmcm9tICcuLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGNvbnZlcnRhYmxlVG9OdW1iZXIsIGRlZXBFeHRlbmQsIGRlZmluZWQsIGlzTnVtYmVyLCBsYXN0LCBzZXREZWZhdWx0T3B0aW9ucywgc3BhcnNlQXJyYXlMaW1pdHMgfSBmcm9tICcuLi9jb21tb24nO1xuXG5jbGFzcyBDYXRlZ29yaWNhbENoYXJ0IGV4dGVuZHMgQ2hhcnRFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihwbG90QXJlYSwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcblxuICAgICAgICB0aGlzLnBsb3RBcmVhID0gcGxvdEFyZWE7XG4gICAgICAgIHRoaXMuY2hhcnRTZXJ2aWNlID0gcGxvdEFyZWEuY2hhcnRTZXJ2aWNlO1xuICAgICAgICB0aGlzLmNhdGVnb3J5QXhpcyA9IHBsb3RBcmVhLnNlcmllc0NhdGVnb3J5QXhpcyhvcHRpb25zLnNlcmllc1swXSk7XG5cbiAgICAgICAgLy8gVmFsdWUgYXhpcyByYW5nZXMgZ3JvdXBlZCBieSBheGlzIG5hbWUsIGUuZy46XG4gICAgICAgIC8vIHByaW1hcnk6IHsgbWluOiAwLCBtYXg6IDEgfVxuICAgICAgICB0aGlzLnZhbHVlQXhpc1JhbmdlcyA9IHt9O1xuXG4gICAgICAgIHRoaXMucG9pbnRzID0gW107XG4gICAgICAgIHRoaXMuY2F0ZWdvcnlQb2ludHMgPSBbXTtcbiAgICAgICAgdGhpcy5zZXJpZXNQb2ludHMgPSBbXTtcbiAgICAgICAgdGhpcy5zZXJpZXNPcHRpb25zID0gW107XG4gICAgICAgIHRoaXMuX2V2YWxTZXJpZXMgPSBbXTtcblxuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdGhpcy50cmF2ZXJzZURhdGFQb2ludHModGhpcy5hZGRWYWx1ZS5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBwb2ludE9wdGlvbnMoc2VyaWVzLCBzZXJpZXNJeCkge1xuICAgICAgICBsZXQgb3B0aW9ucyA9IHRoaXMuc2VyaWVzT3B0aW9uc1tzZXJpZXNJeF07XG4gICAgICAgIGlmICghb3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgZGVmYXVsdHMgPSB0aGlzLnBvaW50VHlwZSgpLnByb3RvdHlwZS5kZWZhdWx0cztcbiAgICAgICAgICAgIHRoaXMuc2VyaWVzT3B0aW9uc1tzZXJpZXNJeF0gPSBvcHRpb25zID0gZGVlcEV4dGVuZCh7IH0sIGRlZmF1bHRzLCB7XG4gICAgICAgICAgICAgICAgdmVydGljYWw6ICF0aGlzLm9wdGlvbnMuaW52ZXJ0QXhlc1xuICAgICAgICAgICAgfSwgc2VyaWVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgIH1cblxuICAgIHBsb3RWYWx1ZShwb2ludCkge1xuICAgICAgICBpZiAoIXBvaW50KSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaXNTdGFja2VkMTAwICYmIGlzTnVtYmVyKHBvaW50LnZhbHVlKSkge1xuICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnlJeCA9IHBvaW50LmNhdGVnb3J5SXg7XG4gICAgICAgICAgICBjb25zdCBjYXRlZ29yeVBvaW50cyA9IHRoaXMuY2F0ZWdvcnlQb2ludHNbY2F0ZWdvcnlJeF07XG4gICAgICAgICAgICBjb25zdCBvdGhlclZhbHVlcyA9IFtdO1xuICAgICAgICAgICAgbGV0IGNhdGVnb3J5U3VtID0gMDtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjYXRlZ29yeVBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG90aGVyID0gY2F0ZWdvcnlQb2ludHNbaV07XG4gICAgICAgICAgICAgICAgaWYgKG90aGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YWNrID0gcG9pbnQuc2VyaWVzLnN0YWNrO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvdGhlclN0YWNrID0gb3RoZXIuc2VyaWVzLnN0YWNrO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICgoc3RhY2sgJiYgb3RoZXJTdGFjaykgJiYgc3RhY2suZ3JvdXAgIT09IG90aGVyU3RhY2suZ3JvdXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTnVtYmVyKG90aGVyLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlTdW0gKz0gTWF0aC5hYnMob3RoZXIudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJWYWx1ZXMucHVzaChNYXRoLmFicyhvdGhlci52YWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY2F0ZWdvcnlTdW0gPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvaW50LnZhbHVlIC8gY2F0ZWdvcnlTdW07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcG9pbnQudmFsdWU7XG4gICAgfVxuXG4gICAgcGxvdFJhbmdlKHBvaW50LCBzdGFydFZhbHVlID0gMCkge1xuICAgICAgICBjb25zdCBjYXRlZ29yeVBvaW50cyA9IHRoaXMuY2F0ZWdvcnlQb2ludHNbcG9pbnQuY2F0ZWdvcnlJeF07XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5pc1N0YWNrZWQpIHtcbiAgICAgICAgICAgIGxldCBwbG90VmFsdWUgPSB0aGlzLnBsb3RWYWx1ZShwb2ludCk7XG4gICAgICAgICAgICBjb25zdCBwb3NpdGl2ZSA9IHBsb3RWYWx1ZSA+PSAwO1xuICAgICAgICAgICAgbGV0IHByZXZWYWx1ZSA9IHN0YXJ0VmFsdWU7XG4gICAgICAgICAgICBsZXQgaXNTdGFja2VkQmFyID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2F0ZWdvcnlQb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvdGhlciA9IGNhdGVnb3J5UG9pbnRzW2ldO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBvaW50ID09PSBvdGhlcikge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBzdGFjayA9IHBvaW50LnNlcmllcy5zdGFjaztcbiAgICAgICAgICAgICAgICBjb25zdCBvdGhlclN0YWNrID0gb3RoZXIuc2VyaWVzLnN0YWNrO1xuICAgICAgICAgICAgICAgIGlmIChzdGFjayAmJiBvdGhlclN0YWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RhY2sgPT09IFNUUklORyAmJiBzdGFjayAhPT0gb3RoZXJTdGFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhY2suZ3JvdXAgJiYgc3RhY2suZ3JvdXAgIT09IG90aGVyU3RhY2suZ3JvdXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3Qgb3RoZXJWYWx1ZSA9IHRoaXMucGxvdFZhbHVlKG90aGVyKTtcbiAgICAgICAgICAgICAgICBpZiAoKG90aGVyVmFsdWUgPj0gMCAmJiBwb3NpdGl2ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgKG90aGVyVmFsdWUgPCAwICYmICFwb3NpdGl2ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJldlZhbHVlICs9IG90aGVyVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHBsb3RWYWx1ZSArPSBvdGhlclZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBpc1N0YWNrZWRCYXIgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaXNTdGFja2VkMTAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbG90VmFsdWUgPSBNYXRoLm1pbihwbG90VmFsdWUsIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNTdGFja2VkQmFyKSB7XG4gICAgICAgICAgICAgICAgcHJldlZhbHVlIC09IHN0YXJ0VmFsdWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBbIHByZXZWYWx1ZSwgcGxvdFZhbHVlIF07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzZXJpZXMgPSBwb2ludC5zZXJpZXM7XG4gICAgICAgIGNvbnN0IHZhbHVlQXhpcyA9IHRoaXMuc2VyaWVzVmFsdWVBeGlzKHNlcmllcyk7XG4gICAgICAgIGNvbnN0IGF4aXNDcm9zc2luZ1ZhbHVlID0gdGhpcy5jYXRlZ29yeUF4aXNDcm9zc2luZ1ZhbHVlKHZhbHVlQXhpcyk7XG5cbiAgICAgICAgcmV0dXJuIFsgYXhpc0Nyb3NzaW5nVmFsdWUsIGNvbnZlcnRhYmxlVG9OdW1iZXIocG9pbnQudmFsdWUpID8gcG9pbnQudmFsdWUgOiBheGlzQ3Jvc3NpbmdWYWx1ZSBdO1xuICAgIH1cblxuICAgIHN0YWNrTGltaXRzKGF4aXNOYW1lLCBzdGFja05hbWUpIHtcbiAgICAgICAgbGV0IG1pbiA9IE1BWF9WQUxVRTtcbiAgICAgICAgbGV0IG1heCA9IE1JTl9WQUxVRTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2F0ZWdvcnlQb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5UG9pbnRzID0gdGhpcy5jYXRlZ29yeVBvaW50c1tpXTtcbiAgICAgICAgICAgIGlmICghY2F0ZWdvcnlQb2ludHMpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgcEl4ID0gMDsgcEl4IDwgY2F0ZWdvcnlQb2ludHMubGVuZ3RoOyBwSXgrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gY2F0ZWdvcnlQb2ludHNbcEl4XTtcbiAgICAgICAgICAgICAgICBpZiAocG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvaW50LnNlcmllcy5zdGFjayA9PT0gc3RhY2tOYW1lIHx8IHBvaW50LnNlcmllcy5heGlzID09PSBheGlzTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG8gPSB0aGlzLnBsb3RSYW5nZShwb2ludCwgMClbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVmaW5lZCh0bykgJiYgaXNGaW5pdGUodG8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4ID0gTWF0aC5tYXgobWF4LCB0byk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluID0gTWF0aC5taW4obWluLCB0byk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geyBtaW46IG1pbiwgbWF4OiBtYXggfTtcbiAgICB9XG5cbiAgICB1cGRhdGVTdGFja1JhbmdlKCkge1xuICAgICAgICBjb25zdCB7IGlzU3RhY2tlZCwgc2VyaWVzOiBjaGFydFNlcmllcyB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBsaW1pdHNDYWNoZSA9IHt9O1xuXG4gICAgICAgIGlmIChpc1N0YWNrZWQpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhcnRTZXJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXJpZXMgPSBjaGFydFNlcmllc1tpXTtcbiAgICAgICAgICAgICAgICBjb25zdCBheGlzTmFtZSA9IHNlcmllcy5heGlzO1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGF4aXNOYW1lICsgc2VyaWVzLnN0YWNrO1xuXG4gICAgICAgICAgICAgICAgbGV0IGxpbWl0cyA9IGxpbWl0c0NhY2hlW2tleV07XG4gICAgICAgICAgICAgICAgaWYgKCFsaW1pdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgbGltaXRzID0gdGhpcy5zdGFja0xpbWl0cyhheGlzTmFtZSwgc2VyaWVzLnN0YWNrKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvclRvdGFscyA9IHRoaXMuZXJyb3JUb3RhbHM7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclRvdGFscykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yVG90YWxzLm5lZ2F0aXZlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0cy5taW4gPSBNYXRoLm1pbihsaW1pdHMubWluLCBzcGFyc2VBcnJheUxpbWl0cyhlcnJvclRvdGFscy5uZWdhdGl2ZSkubWluKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclRvdGFscy5wb3NpdGl2ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW1pdHMubWF4ID0gTWF0aC5tYXgobGltaXRzLm1heCwgc3BhcnNlQXJyYXlMaW1pdHMoZXJyb3JUb3RhbHMucG9zaXRpdmUpLm1heCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAobGltaXRzLm1pbiAhPT0gTUFYX1ZBTFVFIHx8IGxpbWl0cy5tYXggIT09IE1JTl9WQUxVRSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGltaXRzQ2FjaGVba2V5XSA9IGxpbWl0cztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0cyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAobGltaXRzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWVBeGlzUmFuZ2VzW2F4aXNOYW1lXSA9IGxpbWl0cztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZGRFcnJvckJhcihwb2ludCwgZGF0YSwgY2F0ZWdvcnlJeCkge1xuICAgICAgICBjb25zdCB7IHZhbHVlLCBzZXJpZXMsIHNlcmllc0l4IH0gPSBwb2ludDtcbiAgICAgICAgY29uc3QgZXJyb3JCYXJzID0gcG9pbnQub3B0aW9ucy5lcnJvckJhcnM7XG4gICAgICAgIGNvbnN0IGxvd1ZhbHVlID0gZGF0YS5maWVsZHNbRVJST1JfTE9XX0ZJRUxEXTtcbiAgICAgICAgY29uc3QgaGlnaFZhbHVlID0gZGF0YS5maWVsZHNbRVJST1JfSElHSF9GSUVMRF07XG4gICAgICAgIGxldCBlcnJvclJhbmdlO1xuXG4gICAgICAgIGlmIChpc051bWJlcihsb3dWYWx1ZSkgJiYgaXNOdW1iZXIoaGlnaFZhbHVlKSkge1xuICAgICAgICAgICAgZXJyb3JSYW5nZSA9IHsgbG93OiBsb3dWYWx1ZSwgaGlnaDogaGlnaFZhbHVlIH07XG4gICAgICAgIH0gZWxzZSBpZiAoZXJyb3JCYXJzICYmIGRlZmluZWQoZXJyb3JCYXJzLnZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5zZXJpZXNFcnJvclJhbmdlcyA9IHRoaXMuc2VyaWVzRXJyb3JSYW5nZXMgfHwgW107XG4gICAgICAgICAgICB0aGlzLnNlcmllc0Vycm9yUmFuZ2VzW3Nlcmllc0l4XSA9IHRoaXMuc2VyaWVzRXJyb3JSYW5nZXNbc2VyaWVzSXhdIHx8XG4gICAgICAgICAgICAgICAgbmV3IEVycm9yUmFuZ2VDYWxjdWxhdG9yKGVycm9yQmFycy52YWx1ZSwgc2VyaWVzLCBWQUxVRSk7XG5cbiAgICAgICAgICAgIGVycm9yUmFuZ2UgPSB0aGlzLnNlcmllc0Vycm9yUmFuZ2VzW3Nlcmllc0l4XS5nZXRFcnJvclJhbmdlKHZhbHVlLCBlcnJvckJhcnMudmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVycm9yUmFuZ2UpIHtcbiAgICAgICAgICAgIHBvaW50LmxvdyA9IGVycm9yUmFuZ2UubG93O1xuICAgICAgICAgICAgcG9pbnQuaGlnaCA9IGVycm9yUmFuZ2UuaGlnaDtcbiAgICAgICAgICAgIHRoaXMuYWRkUG9pbnRFcnJvckJhcihwb2ludCwgY2F0ZWdvcnlJeCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZGRQb2ludEVycm9yQmFyKHBvaW50LCBjYXRlZ29yeUl4KSB7XG4gICAgICAgIGNvbnN0IGlzVmVydGljYWwgPSAhdGhpcy5vcHRpb25zLmludmVydEF4ZXM7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBwb2ludC5vcHRpb25zLmVycm9yQmFycztcbiAgICAgICAgbGV0IHsgc2VyaWVzLCBsb3csIGhpZ2ggfSA9IHBvaW50O1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaXNTdGFja2VkKSB7XG4gICAgICAgICAgICBjb25zdCBzdGFja2VkRXJyb3JSYW5nZSA9IHRoaXMuc3RhY2tlZEVycm9yUmFuZ2UocG9pbnQsIGNhdGVnb3J5SXgpO1xuICAgICAgICAgICAgbG93ID0gc3RhY2tlZEVycm9yUmFuZ2UubG93O1xuICAgICAgICAgICAgaGlnaCA9IHN0YWNrZWRFcnJvclJhbmdlLmhpZ2g7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBmaWVsZHMgPSB7IGNhdGVnb3J5SXg6IGNhdGVnb3J5SXgsIHNlcmllczogc2VyaWVzIH07XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVJhbmdlKHsgdmFsdWU6IGxvdyB9LCBmaWVsZHMpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVSYW5nZSh7IHZhbHVlOiBoaWdoIH0sIGZpZWxkcyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBlcnJvckJhciA9IG5ldyBDYXRlZ29yaWNhbEVycm9yQmFyKGxvdywgaGlnaCwgaXNWZXJ0aWNhbCwgdGhpcywgc2VyaWVzLCBvcHRpb25zKTtcbiAgICAgICAgcG9pbnQuZXJyb3JCYXJzID0gWyBlcnJvckJhciBdO1xuICAgICAgICBwb2ludC5hcHBlbmQoZXJyb3JCYXIpO1xuICAgIH1cblxuICAgIHN0YWNrZWRFcnJvclJhbmdlKHBvaW50LCBjYXRlZ29yeUl4KSB7XG4gICAgICAgIGNvbnN0IHBsb3RWYWx1ZSA9IHRoaXMucGxvdFJhbmdlKHBvaW50LCAwKVsxXSAtIHBvaW50LnZhbHVlO1xuICAgICAgICBjb25zdCBsb3cgPSBwb2ludC5sb3cgKyBwbG90VmFsdWU7XG4gICAgICAgIGNvbnN0IGhpZ2ggPSBwb2ludC5oaWdoICsgcGxvdFZhbHVlO1xuXG4gICAgICAgIHRoaXMuZXJyb3JUb3RhbHMgPSB0aGlzLmVycm9yVG90YWxzIHx8IHsgcG9zaXRpdmU6IFtdLCBuZWdhdGl2ZTogW10gfTtcblxuICAgICAgICBpZiAobG93IDwgMCkge1xuICAgICAgICAgICAgdGhpcy5lcnJvclRvdGFscy5uZWdhdGl2ZVtjYXRlZ29yeUl4XSA9IE1hdGgubWluKHRoaXMuZXJyb3JUb3RhbHMubmVnYXRpdmVbY2F0ZWdvcnlJeF0gfHwgMCwgbG93KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoaWdoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5lcnJvclRvdGFscy5wb3NpdGl2ZVtjYXRlZ29yeUl4XSA9IE1hdGgubWF4KHRoaXMuZXJyb3JUb3RhbHMucG9zaXRpdmVbY2F0ZWdvcnlJeF0gfHwgMCwgaGlnaCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geyBsb3c6IGxvdywgaGlnaDogaGlnaCB9O1xuICAgIH1cblxuICAgIGFkZFZhbHVlKGRhdGEsIGZpZWxkcykge1xuICAgICAgICBjb25zdCB7IGNhdGVnb3J5SXgsIHNlcmllcywgc2VyaWVzSXggfSA9IGZpZWxkcztcblxuICAgICAgICBsZXQgY2F0ZWdvcnlQb2ludHMgPSB0aGlzLmNhdGVnb3J5UG9pbnRzW2NhdGVnb3J5SXhdO1xuICAgICAgICBpZiAoIWNhdGVnb3J5UG9pbnRzKSB7XG4gICAgICAgICAgICB0aGlzLmNhdGVnb3J5UG9pbnRzW2NhdGVnb3J5SXhdID0gY2F0ZWdvcnlQb2ludHMgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzZXJpZXNQb2ludHMgPSB0aGlzLnNlcmllc1BvaW50c1tzZXJpZXNJeF07XG4gICAgICAgIGlmICghc2VyaWVzUG9pbnRzKSB7XG4gICAgICAgICAgICB0aGlzLnNlcmllc1BvaW50c1tzZXJpZXNJeF0gPSBzZXJpZXNQb2ludHMgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBvaW50ID0gdGhpcy5jcmVhdGVQb2ludChkYXRhLCBmaWVsZHMpO1xuICAgICAgICBpZiAocG9pbnQpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ocG9pbnQsIGZpZWxkcyk7XG5cbiAgICAgICAgICAgIHBvaW50Lm93bmVyID0gdGhpcztcbiAgICAgICAgICAgIHBvaW50Lm5vdGVUZXh0ID0gZGF0YS5maWVsZHMubm90ZVRleHQ7XG4gICAgICAgICAgICBpZiAoIWRlZmluZWQocG9pbnQuZGF0YUl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgcG9pbnQuZGF0YUl0ZW0gPSBzZXJpZXMuZGF0YVtjYXRlZ29yeUl4XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYWRkRXJyb3JCYXIocG9pbnQsIGRhdGEsIGNhdGVnb3J5SXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wb2ludHMucHVzaChwb2ludCk7XG4gICAgICAgIHNlcmllc1BvaW50cy5wdXNoKHBvaW50KTtcbiAgICAgICAgY2F0ZWdvcnlQb2ludHMucHVzaChwb2ludCk7XG5cbiAgICAgICAgdGhpcy51cGRhdGVSYW5nZShkYXRhLnZhbHVlRmllbGRzLCBmaWVsZHMpO1xuICAgIH1cblxuICAgIGV2YWxQb2ludE9wdGlvbnMob3B0aW9ucywgdmFsdWUsIGNhdGVnb3J5LCBjYXRlZ29yeUl4LCBzZXJpZXMsIHNlcmllc0l4KSB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0geyBkZWZhdWx0czogc2VyaWVzLl9kZWZhdWx0cywgZXhjbHVkZWQ6IFsgXCJkYXRhXCIsIFwiYWdncmVnYXRlXCIsIFwiX2V2ZW50c1wiLCBcInRvb2x0aXBcIiwgXCJjb250ZW50XCIsIFwidGVtcGxhdGVcIiwgXCJ2aXN1YWxcIiwgXCJ0b2dnbGVcIiwgXCJfb3V0T2ZSYW5nZU1pblBvaW50XCIsIFwiX291dE9mUmFuZ2VNYXhQb2ludFwiIF0gfTtcblxuICAgICAgICBsZXQgZG9FdmFsID0gdGhpcy5fZXZhbFNlcmllc1tzZXJpZXNJeF07XG4gICAgICAgIGlmICghZGVmaW5lZChkb0V2YWwpKSB7XG4gICAgICAgICAgICB0aGlzLl9ldmFsU2VyaWVzW3Nlcmllc0l4XSA9IGRvRXZhbCA9IGV2YWxPcHRpb25zKG9wdGlvbnMsIHt9LCBzdGF0ZSwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcG9pbnRPcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgaWYgKGRvRXZhbCkge1xuICAgICAgICAgICAgcG9pbnRPcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgcG9pbnRPcHRpb25zKTtcbiAgICAgICAgICAgIGV2YWxPcHRpb25zKHBvaW50T3B0aW9ucywge1xuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgaW5kZXg6IGNhdGVnb3J5SXgsXG4gICAgICAgICAgICAgICAgc2VyaWVzOiBzZXJpZXMsXG4gICAgICAgICAgICAgICAgZGF0YUl0ZW06IHNlcmllcy5kYXRhW2NhdGVnb3J5SXhdXG4gICAgICAgICAgICB9LCBzdGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcG9pbnRPcHRpb25zO1xuICAgIH1cblxuICAgIHVwZGF0ZVJhbmdlKGRhdGEsIGZpZWxkcykge1xuICAgICAgICBjb25zdCBheGlzTmFtZSA9IGZpZWxkcy5zZXJpZXMuYXhpcztcbiAgICAgICAgY29uc3QgdmFsdWUgPSBkYXRhLnZhbHVlO1xuICAgICAgICBsZXQgYXhpc1JhbmdlID0gdGhpcy52YWx1ZUF4aXNSYW5nZXNbYXhpc05hbWVdO1xuXG4gICAgICAgIGlmIChpc0Zpbml0ZSh2YWx1ZSkgJiYgdmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGF4aXNSYW5nZSA9IHRoaXMudmFsdWVBeGlzUmFuZ2VzW2F4aXNOYW1lXSA9XG4gICAgICAgICAgICAgICAgYXhpc1JhbmdlIHx8IHsgbWluOiBNQVhfVkFMVUUsIG1heDogTUlOX1ZBTFVFIH07XG5cbiAgICAgICAgICAgIGF4aXNSYW5nZS5taW4gPSBNYXRoLm1pbihheGlzUmFuZ2UubWluLCB2YWx1ZSk7XG4gICAgICAgICAgICBheGlzUmFuZ2UubWF4ID0gTWF0aC5tYXgoYXhpc1JhbmdlLm1heCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2VyaWVzVmFsdWVBeGlzKHNlcmllcykge1xuICAgICAgICBjb25zdCBwbG90QXJlYSA9IHRoaXMucGxvdEFyZWE7XG4gICAgICAgIGNvbnN0IGF4aXNOYW1lID0gc2VyaWVzLmF4aXM7XG4gICAgICAgIGNvbnN0IGF4aXMgPSBheGlzTmFtZSA/IHBsb3RBcmVhLm5hbWVkVmFsdWVBeGVzW2F4aXNOYW1lXSA6IHBsb3RBcmVhLnZhbHVlQXhpcztcblxuICAgICAgICBpZiAoIWF4aXMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBsb2NhdGUgdmFsdWUgYXhpcyB3aXRoIG5hbWUgXCIgKyBheGlzTmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXhpcztcbiAgICB9XG5cbiAgICByZWZsb3codGFyZ2V0Qm94KSB7XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5U2xvdHMgPSB0aGlzLmNhdGVnb3J5U2xvdHMgPSBbXTtcbiAgICAgICAgY29uc3QgY2hhcnRQb2ludHMgPSB0aGlzLnBvaW50cztcbiAgICAgICAgY29uc3QgY2F0ZWdvcnlBeGlzID0gdGhpcy5jYXRlZ29yeUF4aXM7XG4gICAgICAgIGxldCBwb2ludEl4ID0gMDtcblxuICAgICAgICB0aGlzLnRyYXZlcnNlRGF0YVBvaW50cygoZGF0YSwgZmllbGRzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGNhdGVnb3J5SXgsIHNlcmllczogY3VycmVudFNlcmllcyB9ID0gZmllbGRzO1xuXG4gICAgICAgICAgICBjb25zdCB2YWx1ZUF4aXMgPSB0aGlzLnNlcmllc1ZhbHVlQXhpcyhjdXJyZW50U2VyaWVzKTtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gY2hhcnRQb2ludHNbcG9pbnRJeCsrXTtcblxuICAgICAgICAgICAgbGV0IGNhdGVnb3J5U2xvdCA9IGNhdGVnb3J5U2xvdHNbY2F0ZWdvcnlJeF07XG4gICAgICAgICAgICBpZiAoIWNhdGVnb3J5U2xvdCkge1xuICAgICAgICAgICAgICAgIGNhdGVnb3J5U2xvdHNbY2F0ZWdvcnlJeF0gPSBjYXRlZ29yeVNsb3QgPVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhdGVnb3J5U2xvdChjYXRlZ29yeUF4aXMsIGNhdGVnb3J5SXgsIHZhbHVlQXhpcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwb2ludCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBsb3RSYW5nZSA9IHRoaXMucGxvdFJhbmdlKHBvaW50LCB2YWx1ZUF4aXMuc3RhcnRWYWx1ZSgpKTtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZVNsb3QgPSB0aGlzLnZhbHVlU2xvdCh2YWx1ZUF4aXMsIHBsb3RSYW5nZSk7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlU2xvdCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2ludFNsb3QgPSB0aGlzLnBvaW50U2xvdChjYXRlZ29yeVNsb3QsIHZhbHVlU2xvdCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcG9pbnQuYWJvdmVBeGlzID0gdGhpcy5hYm92ZUF4aXMocG9pbnQsIHZhbHVlQXhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHBvaW50LnN0YWNrVmFsdWUgPSBwbG90UmFuZ2VbMV07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5pc1N0YWNrZWQxMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50LnBlcmNlbnRhZ2UgPSB0aGlzLnBsb3RWYWx1ZShwb2ludCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZmxvd1BvaW50KHBvaW50LCBwb2ludFNsb3QpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBvaW50LnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucmVmbG93Q2F0ZWdvcmllcyhjYXRlZ29yeVNsb3RzKTtcbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuY2xpcCAmJiB0aGlzLm9wdGlvbnMubGltaXRQb2ludHMgJiYgdGhpcy5wb2ludHMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmxpbWl0UG9pbnRzKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJveCA9IHRhcmdldEJveDtcbiAgICB9XG5cbiAgICB2YWx1ZVNsb3QodmFsdWVBeGlzLCBwbG90UmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlQXhpcy5nZXRTbG90KHBsb3RSYW5nZVswXSwgcGxvdFJhbmdlWzFdLCAhdGhpcy5vcHRpb25zLmNsaXApO1xuICAgIH1cblxuICAgIGxpbWl0UG9pbnRzKCkge1xuICAgICAgICBjb25zdCBjYXRlZ29yeVBvaW50cyA9IHRoaXMuY2F0ZWdvcnlQb2ludHM7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IGNhdGVnb3J5UG9pbnRzWzBdLmNvbmNhdChsYXN0KGNhdGVnb3J5UG9pbnRzKSk7XG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHBvaW50cy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBpZiAocG9pbnRzW2lkeF0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxpbWl0UG9pbnQocG9pbnRzW2lkeF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgbGltaXRQb2ludChwb2ludCkge1xuICAgICAgICBjb25zdCBsaW1pdHRlZFNsb3QgPSB0aGlzLmNhdGVnb3J5QXhpcy5saW1pdFNsb3QocG9pbnQuYm94KTtcbiAgICAgICAgaWYgKCFsaW1pdHRlZFNsb3QuZXF1YWxzKHBvaW50LmJveCkpIHtcbiAgICAgICAgICAgIHBvaW50LnJlZmxvdyhsaW1pdHRlZFNsb3QpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWJvdmVBeGlzKHBvaW50LCB2YWx1ZUF4aXMpIHtcbiAgICAgICAgY29uc3QgYXhpc0Nyb3NzaW5nVmFsdWUgPSB0aGlzLmNhdGVnb3J5QXhpc0Nyb3NzaW5nVmFsdWUodmFsdWVBeGlzKTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwb2ludC52YWx1ZTtcblxuICAgICAgICByZXR1cm4gdmFsdWVBeGlzLm9wdGlvbnMucmV2ZXJzZSA/XG4gICAgICAgICAgICB2YWx1ZSA8IGF4aXNDcm9zc2luZ1ZhbHVlIDogdmFsdWUgPj0gYXhpc0Nyb3NzaW5nVmFsdWU7XG4gICAgfVxuXG4gICAgY2F0ZWdvcnlBeGlzQ3Jvc3NpbmdWYWx1ZSh2YWx1ZUF4aXMpIHtcbiAgICAgICAgY29uc3QgY2F0ZWdvcnlBeGlzID0gdGhpcy5jYXRlZ29yeUF4aXM7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB2YWx1ZUF4aXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgY3Jvc3NpbmdWYWx1ZXMgPSBbXS5jb25jYXQoXG4gICAgICAgICAgICBvcHRpb25zLmF4aXNDcm9zc2luZ1ZhbHVlcyB8fCBvcHRpb25zLmF4aXNDcm9zc2luZ1ZhbHVlXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIGNyb3NzaW5nVmFsdWVzW2NhdGVnb3J5QXhpcy5heGlzSW5kZXggfHwgMF0gfHwgMDtcbiAgICB9XG5cbiAgICByZWZsb3dQb2ludChwb2ludCwgcG9pbnRTbG90KSB7XG4gICAgICAgIHBvaW50LnJlZmxvdyhwb2ludFNsb3QpO1xuICAgIH1cblxuICAgIHJlZmxvd0NhdGVnb3JpZXMoKSB7IH1cblxuICAgIHBvaW50U2xvdChjYXRlZ29yeVNsb3QsIHZhbHVlU2xvdCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBpbnZlcnRBeGVzID0gb3B0aW9ucy5pbnZlcnRBeGVzO1xuICAgICAgICBjb25zdCBzbG90WCA9IGludmVydEF4ZXMgPyB2YWx1ZVNsb3QgOiBjYXRlZ29yeVNsb3Q7XG4gICAgICAgIGNvbnN0IHNsb3RZID0gaW52ZXJ0QXhlcyA/IGNhdGVnb3J5U2xvdCA6IHZhbHVlU2xvdDtcblxuICAgICAgICByZXR1cm4gbmV3IEJveChzbG90WC54MSwgc2xvdFkueTEsIHNsb3RYLngyLCBzbG90WS55Mik7XG4gICAgfVxuXG4gICAgY2F0ZWdvcnlTbG90KGNhdGVnb3J5QXhpcywgY2F0ZWdvcnlJeCkge1xuICAgICAgICByZXR1cm4gY2F0ZWdvcnlBeGlzLmdldFNsb3QoY2F0ZWdvcnlJeCk7XG4gICAgfVxuXG4gICAgdHJhdmVyc2VEYXRhUG9pbnRzKGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IHNlcmllcyA9IHRoaXMub3B0aW9ucy5zZXJpZXM7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gY2F0ZWdvcmllc0NvdW50KHNlcmllcyk7XG4gICAgICAgIGNvbnN0IHNlcmllc0NvdW50ID0gc2VyaWVzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKGxldCBzZXJpZXNJeCA9IDA7IHNlcmllc0l4IDwgc2VyaWVzQ291bnQ7IHNlcmllc0l4KyspIHtcbiAgICAgICAgICAgIHRoaXMuX291dE9mUmFuZ2VDYWxsYmFjayhzZXJpZXNbc2VyaWVzSXhdLCBcIl9vdXRPZlJhbmdlTWluUG9pbnRcIiwgc2VyaWVzSXgsIGNhbGxiYWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGNhdGVnb3J5SXggPSAwOyBjYXRlZ29yeUl4IDwgY291bnQ7IGNhdGVnb3J5SXgrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgc2VyaWVzSXggPSAwOyBzZXJpZXNJeCA8IHNlcmllc0NvdW50OyBzZXJpZXNJeCsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFNlcmllcyA9IHNlcmllc1tzZXJpZXNJeF07XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudENhdGVnb3J5ID0gdGhpcy5jYXRlZ29yeUF4aXMuY2F0ZWdvcnlBdChjYXRlZ29yeUl4KTtcbiAgICAgICAgICAgICAgICBjb25zdCBwb2ludERhdGEgPSB0aGlzLl9iaW5kUG9pbnQoY3VycmVudFNlcmllcywgc2VyaWVzSXgsIGNhdGVnb3J5SXgpO1xuXG4gICAgICAgICAgICAgICAgY2FsbGJhY2socG9pbnREYXRhLCB7XG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBjdXJyZW50Q2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5SXg6IGNhdGVnb3J5SXgsXG4gICAgICAgICAgICAgICAgICAgIHNlcmllczogY3VycmVudFNlcmllcyxcbiAgICAgICAgICAgICAgICAgICAgc2VyaWVzSXg6IHNlcmllc0l4XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBzZXJpZXNJeCA9IDA7IHNlcmllc0l4IDwgc2VyaWVzQ291bnQ7IHNlcmllc0l4KyspIHtcbiAgICAgICAgICAgIHRoaXMuX291dE9mUmFuZ2VDYWxsYmFjayhzZXJpZXNbc2VyaWVzSXhdLCBcIl9vdXRPZlJhbmdlTWF4UG9pbnRcIiwgc2VyaWVzSXgsIGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vdXRPZlJhbmdlQ2FsbGJhY2soc2VyaWVzLCBmaWVsZCwgc2VyaWVzSXgsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IG91dE9mUmFuZ2VQb2ludCA9IHNlcmllc1tmaWVsZF07XG4gICAgICAgIGlmIChvdXRPZlJhbmdlUG9pbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5SXggPSBvdXRPZlJhbmdlUG9pbnQuY2F0ZWdvcnlJeDtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50RGF0YSA9IHRoaXMuX2JpbmRQb2ludChzZXJpZXMsIHNlcmllc0l4LCBjYXRlZ29yeUl4LCBvdXRPZlJhbmdlUG9pbnQuaXRlbSk7XG5cbiAgICAgICAgICAgIGNhbGxiYWNrKHBvaW50RGF0YSwge1xuICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBvdXRPZlJhbmdlUG9pbnQuY2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnlJeDogY2F0ZWdvcnlJeCxcbiAgICAgICAgICAgICAgICBzZXJpZXM6IHNlcmllcyxcbiAgICAgICAgICAgICAgICBzZXJpZXNJeDogc2VyaWVzSXgsXG4gICAgICAgICAgICAgICAgZGF0YUl0ZW06IG91dE9mUmFuZ2VQb2ludC5pdGVtXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9iaW5kUG9pbnQoc2VyaWVzLCBzZXJpZXNJeCwgY2F0ZWdvcnlJeCwgaXRlbSkge1xuICAgICAgICBpZiAoIXRoaXMuX2JpbmRDYWNoZSkge1xuICAgICAgICAgICAgdGhpcy5fYmluZENhY2hlID0gW107XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgYmluZENhY2hlID0gdGhpcy5fYmluZENhY2hlW3Nlcmllc0l4XTtcbiAgICAgICAgaWYgKCFiaW5kQ2FjaGUpIHtcbiAgICAgICAgICAgIGJpbmRDYWNoZSA9IHRoaXMuX2JpbmRDYWNoZVtzZXJpZXNJeF0gPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBkYXRhID0gYmluZENhY2hlW2NhdGVnb3J5SXhdO1xuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgIGRhdGEgPSBiaW5kQ2FjaGVbY2F0ZWdvcnlJeF0gPSBTZXJpZXNCaW5kZXIuY3VycmVudC5iaW5kUG9pbnQoc2VyaWVzLCBjYXRlZ29yeUl4LCBpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIGZvcm1hdFBvaW50VmFsdWUocG9pbnQsIGZvcm1hdCkge1xuICAgICAgICBpZiAocG9pbnQudmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhcnRTZXJ2aWNlLmZvcm1hdC5hdXRvKGZvcm1hdCwgcG9pbnQudmFsdWUpO1xuICAgIH1cblxuICAgIHBvaW50VmFsdWUoZGF0YSkge1xuICAgICAgICByZXR1cm4gZGF0YS52YWx1ZUZpZWxkcy52YWx1ZTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKENhdGVnb3JpY2FsQ2hhcnQsIHtcbiAgICBzZXJpZXM6IFtdLFxuICAgIGludmVydEF4ZXM6IGZhbHNlLFxuICAgIGlzU3RhY2tlZDogZmFsc2UsXG4gICAgY2xpcDogdHJ1ZSxcbiAgICBsaW1pdFBvaW50czogdHJ1ZVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IENhdGVnb3JpY2FsQ2hhcnQ7IiwiaW1wb3J0IHsgU0VSSUVTX0NMSUNLLCBTRVJJRVNfSE9WRVIsIFNFUklFU19MRUFWRSwgU0VSSUVTX09WRVIgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZXZlbnRFbGVtZW50IH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY29uc3QgUG9pbnRFdmVudHNNaXhpbiA9IHtcbiAgICBjbGljazogZnVuY3Rpb24oY2hhcnQsIGUpIHtcbiAgICAgICAgcmV0dXJuIGNoYXJ0LnRyaWdnZXIoXG4gICAgICAgICAgICBTRVJJRVNfQ0xJQ0ssXG4gICAgICAgICAgICB0aGlzLmV2ZW50QXJncyhlKVxuICAgICAgICApO1xuICAgIH0sXG5cbiAgICBob3ZlcjogZnVuY3Rpb24oY2hhcnQsIGUpIHtcbiAgICAgICAgcmV0dXJuIGNoYXJ0LnRyaWdnZXIoXG4gICAgICAgICAgICBTRVJJRVNfSE9WRVIsXG4gICAgICAgICAgICB0aGlzLmV2ZW50QXJncyhlKVxuICAgICAgICApO1xuICAgIH0sXG5cbiAgICBvdmVyOiBmdW5jdGlvbihjaGFydCwgZSkge1xuICAgICAgICByZXR1cm4gY2hhcnQudHJpZ2dlcihcbiAgICAgICAgICAgIFNFUklFU19PVkVSLFxuICAgICAgICAgICAgdGhpcy5ldmVudEFyZ3MoZSlcbiAgICAgICAgKTtcbiAgICB9LFxuXG4gICAgb3V0OiBmdW5jdGlvbihjaGFydCwgZSkge1xuICAgICAgICByZXR1cm4gY2hhcnQudHJpZ2dlcihcbiAgICAgICAgICAgIFNFUklFU19MRUFWRSxcbiAgICAgICAgICAgIHRoaXMuZXZlbnRBcmdzKGUpXG4gICAgICAgICk7XG4gICAgfSxcblxuICAgIGV2ZW50QXJnczogZnVuY3Rpb24oZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHRoaXMudmFsdWUsXG4gICAgICAgICAgICBwZXJjZW50YWdlOiB0aGlzLnBlcmNlbnRhZ2UsXG4gICAgICAgICAgICBzdGFja1ZhbHVlOiB0aGlzLnN0YWNrVmFsdWUsXG4gICAgICAgICAgICBjYXRlZ29yeTogdGhpcy5jYXRlZ29yeSxcbiAgICAgICAgICAgIHNlcmllczogdGhpcy5zZXJpZXMsXG4gICAgICAgICAgICBkYXRhSXRlbTogdGhpcy5kYXRhSXRlbSxcbiAgICAgICAgICAgIHJ1bm5pbmdUb3RhbDogdGhpcy5ydW5uaW5nVG90YWwsXG4gICAgICAgICAgICB0b3RhbDogdGhpcy50b3RhbCxcbiAgICAgICAgICAgIGVsZW1lbnQ6IGV2ZW50RWxlbWVudChlKSxcbiAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGUsXG4gICAgICAgICAgICBwb2ludDogdGhpc1xuICAgICAgICB9O1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IFBvaW50RXZlbnRzTWl4aW47IiwiaW1wb3J0IHsgTm90ZSB9IGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lZCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNvbnN0IE5vdGVNaXhpbiA9IHtcbiAgICBjcmVhdGVOb3RlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucy5ub3RlcztcbiAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMubm90ZVRleHQgfHwgb3B0aW9ucy5sYWJlbC50ZXh0O1xuXG4gICAgICAgIGlmIChvcHRpb25zLnZpc2libGUgIT09IGZhbHNlICYmIGRlZmluZWQodGV4dCkgJiYgdGV4dCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5ub3RlID0gbmV3IE5vdGUoe1xuICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnZhbHVlLFxuICAgICAgICAgICAgICAgIHRleHQ6IHRleHQsXG4gICAgICAgICAgICAgICAgZGF0YUl0ZW06IHRoaXMuZGF0YUl0ZW0sXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6IHRoaXMuY2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgc2VyaWVzOiB0aGlzLnNlcmllc1xuICAgICAgICAgICAgfSwgdGhpcy5vcHRpb25zLm5vdGVzLCB0aGlzLm93bmVyLmNoYXJ0U2VydmljZSk7XG5cbiAgICAgICAgICAgIHRoaXMuYXBwZW5kKHRoaXMubm90ZSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBOb3RlTWl4aW47IiwiaW1wb3J0IHsgZ2VvbWV0cnkgYXMgZ2VvbSwgQ29sb3IgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCB7IENoYXJ0RWxlbWVudCwgVGV4dEJveCwgU2hhcGVFbGVtZW50LCBCb3gsIFBvaW50IH0gZnJvbSAnLi4vLi4vY29yZSc7XG5cbmltcG9ydCBQb2ludEV2ZW50c01peGluIGZyb20gJy4uL21peGlucy9wb2ludC1ldmVudHMtbWl4aW4nO1xuaW1wb3J0IE5vdGVNaXhpbiBmcm9tICcuLi9taXhpbnMvbm90ZS1taXhpbic7XG5pbXBvcnQgeyBMSU5FX01BUktFUl9TSVpFLCBGQURFSU4sIElOSVRJQUxfQU5JTUFUSU9OX0RVUkFUSU9OLCBCT1JERVJfQlJJR0hUTkVTUywgVE9PTFRJUF9PRkZTRVQsIEFCT1ZFLCBCRUxPVyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmltcG9ydCB7IFdISVRFLCBDSVJDTEUsIENFTlRFUiwgVE9QLCBCT1RUT00sIExFRlQsIEhJR0hMSUdIVF9aSU5ERVggfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGRlZXBFeHRlbmQsIGRlZmluZWQsIGdldFRlbXBsYXRlLCB2YWx1ZU9yRGVmYXVsdCwgZ2V0U3BhY2luZyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIExpbmVQb2ludCBleHRlbmRzIENoYXJ0RWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IodmFsdWUsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuYWJvdmVBeGlzID0gdmFsdWVPckRlZmF1bHQodGhpcy5vcHRpb25zLmFib3ZlQXhpcywgdHJ1ZSk7XG4gICAgICAgIHRoaXMudG9vbHRpcFRyYWNraW5nID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHsgbWFya2VycywgbGFiZWxzIH0gPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgaWYgKHRoaXMuX3JlbmRlcmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9yZW5kZXJlZCA9IHRydWU7XG5cbiAgICAgICAgaWYgKG1hcmtlcnMudmlzaWJsZSAmJiBtYXJrZXJzLnNpemUpIHtcbiAgICAgICAgICAgIHRoaXMubWFya2VyID0gdGhpcy5jcmVhdGVNYXJrZXIoKTtcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kKHRoaXMubWFya2VyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsYWJlbHMudmlzaWJsZSkge1xuICAgICAgICAgICAgY29uc3QgbGFiZWxUZW1wbGF0ZSA9IGdldFRlbXBsYXRlKGxhYmVscyk7XG4gICAgICAgICAgICBjb25zdCBwb2ludERhdGEgPSB0aGlzLnBvaW50RGF0YSgpO1xuICAgICAgICAgICAgbGV0IGxhYmVsVGV4dCA9IHRoaXMudmFsdWU7XG4gICAgICAgICAgICBpZiAobGFiZWxUZW1wbGF0ZSkge1xuICAgICAgICAgICAgICAgIGxhYmVsVGV4dCA9IGxhYmVsVGVtcGxhdGUocG9pbnREYXRhKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGFiZWxzLmZvcm1hdCkge1xuICAgICAgICAgICAgICAgIGxhYmVsVGV4dCA9IHRoaXMuZm9ybWF0VmFsdWUobGFiZWxzLmZvcm1hdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmxhYmVsID0gbmV3IFRleHRCb3gobGFiZWxUZXh0LFxuICAgICAgICAgICAgICAgIGRlZXBFeHRlbmQoe1xuICAgICAgICAgICAgICAgICAgICBhbGlnbjogQ0VOVEVSLFxuICAgICAgICAgICAgICAgICAgICB2QWxpZ246IENFTlRFUixcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiA1LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IDVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgekluZGV4OiB2YWx1ZU9yRGVmYXVsdChsYWJlbHMuekluZGV4LCB0aGlzLnNlcmllcy56SW5kZXgpXG4gICAgICAgICAgICAgICAgfSwgbGFiZWxzKSxcbiAgICAgICAgICAgICAgICBwb2ludERhdGFcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZCh0aGlzLmxhYmVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY3JlYXRlTm90ZSgpO1xuXG4gICAgICAgIGlmICh0aGlzLmVycm9yQmFyKSB7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZCh0aGlzLmVycm9yQmFyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG1hcmtlckJvcmRlcigpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucy5tYXJrZXJzO1xuICAgICAgICBjb25zdCBiYWNrZ3JvdW5kID0gb3B0aW9ucy5iYWNrZ3JvdW5kO1xuICAgICAgICBjb25zdCBib3JkZXIgPSBkZWVwRXh0ZW5kKHsgY29sb3I6IHRoaXMuY29sb3IgfSwgb3B0aW9ucy5ib3JkZXIpO1xuXG4gICAgICAgIGlmICghZGVmaW5lZChib3JkZXIuY29sb3IpKSB7XG4gICAgICAgICAgICBib3JkZXIuY29sb3IgPSBuZXcgQ29sb3IoYmFja2dyb3VuZCkuYnJpZ2h0bmVzcyhCT1JERVJfQlJJR0hUTkVTUykudG9IZXgoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBib3JkZXI7XG4gICAgfVxuXG4gICAgY3JlYXRlVmlzdWFsKCkge31cblxuICAgIGNyZWF0ZU1hcmtlcigpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucy5tYXJrZXJzO1xuICAgICAgICBjb25zdCBtYXJrZXIgPSBuZXcgU2hhcGVFbGVtZW50KHtcbiAgICAgICAgICAgIHR5cGU6IG9wdGlvbnMudHlwZSxcbiAgICAgICAgICAgIHdpZHRoOiBvcHRpb25zLnNpemUsXG4gICAgICAgICAgICBoZWlnaHQ6IG9wdGlvbnMuc2l6ZSxcbiAgICAgICAgICAgIHJvdGF0aW9uOiBvcHRpb25zLnJvdGF0aW9uLFxuICAgICAgICAgICAgYmFja2dyb3VuZDogb3B0aW9ucy5iYWNrZ3JvdW5kLFxuICAgICAgICAgICAgYm9yZGVyOiB0aGlzLm1hcmtlckJvcmRlcigpLFxuICAgICAgICAgICAgb3BhY2l0eTogb3B0aW9ucy5vcGFjaXR5LFxuICAgICAgICAgICAgekluZGV4OiB2YWx1ZU9yRGVmYXVsdChvcHRpb25zLnpJbmRleCwgdGhpcy5zZXJpZXMuekluZGV4KSxcbiAgICAgICAgICAgIGFuaW1hdGlvbjogb3B0aW9ucy5hbmltYXRpb24sXG4gICAgICAgICAgICB2aXN1YWw6IG9wdGlvbnMudmlzdWFsXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGRhdGFJdGVtOiB0aGlzLmRhdGFJdGVtLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMudmFsdWUsXG4gICAgICAgICAgICBzZXJpZXM6IHRoaXMuc2VyaWVzLFxuICAgICAgICAgICAgY2F0ZWdvcnk6IHRoaXMuY2F0ZWdvcnlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIG1hcmtlcjtcbiAgICB9XG5cbiAgICBtYXJrZXJCb3goKSB7XG4gICAgICAgIGlmICghdGhpcy5tYXJrZXIpIHtcbiAgICAgICAgICAgIHRoaXMubWFya2VyID0gdGhpcy5jcmVhdGVNYXJrZXIoKTtcbiAgICAgICAgICAgIHRoaXMubWFya2VyLnJlZmxvdyh0aGlzLl9jaGlsZEJveCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5tYXJrZXIuYm94O1xuICAgIH1cblxuICAgIHJlZmxvdyh0YXJnZXRCb3gpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBhYm92ZUF4aXMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHZlcnRpY2FsID0gb3B0aW9ucy52ZXJ0aWNhbDtcblxuICAgICAgICB0aGlzLnJlbmRlcigpO1xuXG4gICAgICAgIHRoaXMuYm94ID0gdGFyZ2V0Qm94O1xuICAgICAgICBjb25zdCBjaGlsZEJveCA9IHRhcmdldEJveC5jbG9uZSgpO1xuXG4gICAgICAgIGlmICh2ZXJ0aWNhbCkge1xuICAgICAgICAgICAgaWYgKGFib3ZlQXhpcykge1xuICAgICAgICAgICAgICAgIGNoaWxkQm94LnkxIC09IGNoaWxkQm94LmhlaWdodCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjaGlsZEJveC55MiArPSBjaGlsZEJveC5oZWlnaHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChhYm92ZUF4aXMpIHtcbiAgICAgICAgICAgICAgICBjaGlsZEJveC54MSArPSBjaGlsZEJveC53aWR0aCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjaGlsZEJveC54MiAtPSBjaGlsZEJveC53aWR0aCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY2hpbGRCb3ggPSBjaGlsZEJveDtcbiAgICAgICAgaWYgKHRoaXMubWFya2VyKSB7XG4gICAgICAgICAgICB0aGlzLm1hcmtlci5yZWZsb3coY2hpbGRCb3gpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZWZsb3dMYWJlbChjaGlsZEJveCk7XG5cbiAgICAgICAgaWYgKHRoaXMuZXJyb3JCYXJzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZXJyb3JCYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lcnJvckJhcnNbaV0ucmVmbG93KGNoaWxkQm94KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm5vdGUpIHtcbiAgICAgICAgICAgIGxldCBub3RlVGFyZ2V0Qm94ID0gdGhpcy5tYXJrZXJCb3goKTtcblxuICAgICAgICAgICAgaWYgKCEob3B0aW9ucy5tYXJrZXJzLnZpc2libGUgJiYgb3B0aW9ucy5tYXJrZXJzLnNpemUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2VudGVyID0gbm90ZVRhcmdldEJveC5jZW50ZXIoKTtcbiAgICAgICAgICAgICAgICBub3RlVGFyZ2V0Qm94ID0gbmV3IEJveChjZW50ZXIueCwgY2VudGVyLnksIGNlbnRlci54LCBjZW50ZXIueSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMubm90ZS5yZWZsb3cobm90ZVRhcmdldEJveCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWZsb3dMYWJlbChib3gpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBsYWJlbCB9ID0gdGhpcztcbiAgICAgICAgbGV0IGFuY2hvciA9IG9wdGlvbnMubGFiZWxzLnBvc2l0aW9uO1xuXG4gICAgICAgIGlmIChsYWJlbCkge1xuICAgICAgICAgICAgYW5jaG9yID0gYW5jaG9yID09PSBBQk9WRSA/IFRPUCA6IGFuY2hvcjtcbiAgICAgICAgICAgIGFuY2hvciA9IGFuY2hvciA9PT0gQkVMT1cgPyBCT1RUT00gOiBhbmNob3I7XG5cbiAgICAgICAgICAgIGxhYmVsLnJlZmxvdyhib3gpO1xuICAgICAgICAgICAgbGFiZWwuYm94LmFsaWduVG8odGhpcy5tYXJrZXJCb3goKSwgYW5jaG9yKTtcbiAgICAgICAgICAgIGxhYmVsLnJlZmxvdyhsYWJlbC5ib3gpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlSGlnaGxpZ2h0KCkge1xuICAgICAgICBjb25zdCBtYXJrZXJzID0gdGhpcy5vcHRpb25zLmhpZ2hsaWdodC5tYXJrZXJzO1xuICAgICAgICBjb25zdCBkZWZhdWx0Q29sb3IgPSB0aGlzLm1hcmtlckJvcmRlcigpLmNvbG9yO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zLm1hcmtlcnM7XG4gICAgICAgIGNvbnN0IHNpemUgPSBvcHRpb25zLnNpemUgKyAob3B0aW9ucy5ib3JkZXIud2lkdGggfHwgMCkgKyAobWFya2Vycy5ib3JkZXIud2lkdGggfHwgMCk7XG5cbiAgICAgICAgY29uc3Qgc2hhZG93ID0gbmV3IFNoYXBlRWxlbWVudCh7XG4gICAgICAgICAgICB0eXBlOiBvcHRpb25zLnR5cGUsXG4gICAgICAgICAgICB3aWR0aDogc2l6ZSxcbiAgICAgICAgICAgIGhlaWdodDogc2l6ZSxcbiAgICAgICAgICAgIHJvdGF0aW9uOiBvcHRpb25zLnJvdGF0aW9uLFxuICAgICAgICAgICAgYmFja2dyb3VuZDogbWFya2Vycy5jb2xvciB8fCBkZWZhdWx0Q29sb3IsXG4gICAgICAgICAgICBib3JkZXI6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogbWFya2Vycy5ib3JkZXIuY29sb3IsXG4gICAgICAgICAgICAgICAgd2lkdGg6IG1hcmtlcnMuYm9yZGVyLndpZHRoLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IHZhbHVlT3JEZWZhdWx0KG1hcmtlcnMuYm9yZGVyLm9wYWNpdHksIDEpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb3BhY2l0eTogdmFsdWVPckRlZmF1bHQobWFya2Vycy5vcGFjaXR5LCAxKVxuICAgICAgICB9KTtcbiAgICAgICAgc2hhZG93LnJlZmxvdyh0aGlzLl9jaGlsZEJveCk7XG5cbiAgICAgICAgcmV0dXJuIHNoYWRvdy5nZXRFbGVtZW50KCk7XG4gICAgfVxuXG4gICAgaGlnaGxpZ2h0VmlzdWFsKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMubWFya2VyIHx8IHt9KS52aXN1YWw7XG4gICAgfVxuXG4gICAgaGlnaGxpZ2h0VmlzdWFsQXJncygpIHtcbiAgICAgICAgY29uc3QgbWFya2VyID0gdGhpcy5tYXJrZXI7XG4gICAgICAgIGxldCB2aXN1YWwsIHJlY3Q7XG5cbiAgICAgICAgaWYgKG1hcmtlcikge1xuICAgICAgICAgICAgcmVjdCA9IG1hcmtlci5wYWRkaW5nQm94LnRvUmVjdCgpO1xuICAgICAgICAgICAgdmlzdWFsID0gbWFya2VyLnZpc3VhbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHNpemUgPSB0aGlzLm9wdGlvbnMubWFya2Vycy5zaXplO1xuICAgICAgICAgICAgY29uc3QgaGFsZlNpemUgPSBzaXplIC8gMjtcbiAgICAgICAgICAgIGNvbnN0IGNlbnRlciA9IHRoaXMuYm94LmNlbnRlcigpO1xuICAgICAgICAgICAgcmVjdCA9IG5ldyBnZW9tLlJlY3QoWyBjZW50ZXIueCAtIGhhbGZTaXplLCBjZW50ZXIueSAtIGhhbGZTaXplIF0sIFsgc2l6ZSwgc2l6ZSBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICByZWN0OiByZWN0LFxuICAgICAgICAgICAgdmlzdWFsOiB2aXN1YWxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB0b29sdGlwQW5jaG9yKCkge1xuICAgICAgICBjb25zdCBtYXJrZXJCb3ggPSB0aGlzLm1hcmtlckJveCgpO1xuICAgICAgICBjb25zdCBjbGlwQm94ID0gdGhpcy5vd25lci5wYW5lLmNsaXBCb3goKTtcbiAgICAgICAgY29uc3Qgc2hvd1Rvb2x0aXAgPSAhY2xpcEJveCB8fCBjbGlwQm94Lm92ZXJsYXBzKG1hcmtlckJveCk7XG5cbiAgICAgICAgaWYgKHNob3dUb29sdGlwKSB7XG4gICAgICAgICAgICBjb25zdCB4ID0gbWFya2VyQm94LngyICsgVE9PTFRJUF9PRkZTRVQ7XG4gICAgICAgICAgICBjb25zdCBob3Jpem9udGFsQWxpZ24gPSBMRUZUO1xuICAgICAgICAgICAgbGV0IHksIHZlcnRpY2FsQWxpZ247XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmFib3ZlQXhpcykge1xuICAgICAgICAgICAgICAgIHkgPSBtYXJrZXJCb3gueTE7XG4gICAgICAgICAgICAgICAgdmVydGljYWxBbGlnbiA9IEJPVFRPTTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgeSA9IG1hcmtlckJveC55MjtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbEFsaWduID0gVE9QO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHBvaW50OiBuZXcgUG9pbnQoeCwgeSksXG4gICAgICAgICAgICAgICAgYWxpZ246IHtcbiAgICAgICAgICAgICAgICAgICAgaG9yaXpvbnRhbDogaG9yaXpvbnRhbEFsaWduLFxuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogdmVydGljYWxBbGlnblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmb3JtYXRWYWx1ZShmb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3duZXIuZm9ybWF0UG9pbnRWYWx1ZSh0aGlzLCBmb3JtYXQpO1xuICAgIH1cblxuICAgIG92ZXJsYXBzQm94KGJveCkge1xuICAgICAgICBjb25zdCBtYXJrZXJCb3ggPSB0aGlzLm1hcmtlckJveCgpO1xuICAgICAgICByZXR1cm4gbWFya2VyQm94Lm92ZXJsYXBzKGJveCk7XG4gICAgfVxuXG4gICAgdW5jbGlwRWxlbWVudHMoKSB7XG4gICAgICAgIGlmICh0aGlzLmxhYmVsKSB7XG4gICAgICAgICAgICB0aGlzLmxhYmVsLm9wdGlvbnMubm9jbGlwID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm5vdGUpIHtcbiAgICAgICAgICAgIHRoaXMubm90ZS5vcHRpb25zLm5vY2xpcCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwb2ludERhdGEoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYXRhSXRlbTogdGhpcy5kYXRhSXRlbSxcbiAgICAgICAgICAgIGNhdGVnb3J5OiB0aGlzLmNhdGVnb3J5LFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMudmFsdWUsXG4gICAgICAgICAgICBwZXJjZW50YWdlOiB0aGlzLnBlcmNlbnRhZ2UsXG4gICAgICAgICAgICBzdGFja1ZhbHVlOiB0aGlzLnN0YWNrVmFsdWUsXG4gICAgICAgICAgICBzZXJpZXM6IHRoaXMuc2VyaWVzXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5MaW5lUG9pbnQucHJvdG90eXBlLmRlZmF1bHRzID0ge1xuICAgIHZlcnRpY2FsOiB0cnVlLFxuICAgIG1hcmtlcnM6IHtcbiAgICAgICAgdmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgYmFja2dyb3VuZDogV0hJVEUsXG4gICAgICAgIHNpemU6IExJTkVfTUFSS0VSX1NJWkUsXG4gICAgICAgIHR5cGU6IENJUkNMRSxcbiAgICAgICAgYm9yZGVyOiB7XG4gICAgICAgICAgICB3aWR0aDogMlxuICAgICAgICB9LFxuICAgICAgICBvcGFjaXR5OiAxXG4gICAgfSxcbiAgICBsYWJlbHM6IHtcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIHBvc2l0aW9uOiBBQk9WRSxcbiAgICAgICAgbWFyZ2luOiBnZXRTcGFjaW5nKDMpLFxuICAgICAgICBwYWRkaW5nOiBnZXRTcGFjaW5nKDQpLFxuICAgICAgICBhbmltYXRpb246IHtcbiAgICAgICAgICAgIHR5cGU6IEZBREVJTixcbiAgICAgICAgICAgIGRlbGF5OiBJTklUSUFMX0FOSU1BVElPTl9EVVJBVElPTlxuICAgICAgICB9XG4gICAgfSxcbiAgICBub3Rlczoge1xuICAgICAgICBsYWJlbDoge31cbiAgICB9LFxuICAgIGhpZ2hsaWdodDoge1xuICAgICAgICBtYXJrZXJzOiB7XG4gICAgICAgICAgICBib3JkZXI6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogXCIjZmZmXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgekluZGV4OiBISUdITElHSFRfWklOREVYXG4gICAgfSxcbiAgICBlcnJvckJhcnM6IHtcbiAgICAgICAgbGluZToge1xuICAgICAgICAgICAgd2lkdGg6IDFcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbmRlZXBFeHRlbmQoTGluZVBvaW50LnByb3RvdHlwZSwgUG9pbnRFdmVudHNNaXhpbik7XG5kZWVwRXh0ZW5kKExpbmVQb2ludC5wcm90b3R5cGUsIE5vdGVNaXhpbik7XG5cbmV4cG9ydCBkZWZhdWx0IExpbmVQb2ludDtcbiIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHsgQ2hhcnRFbGVtZW50IH0gZnJvbSAnLi4vLi4vY29yZSc7XG5cbmltcG9ydCB7IGRlZmluZWQsIGlzRnVuY3Rpb24sIHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgTGluZVNlZ21lbnQgZXh0ZW5kcyBDaGFydEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKGxpbmVQb2ludHMsIHNlcmllcywgc2VyaWVzSXgpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLmxpbmVQb2ludHMgPSBsaW5lUG9pbnRzO1xuICAgICAgICB0aGlzLnNlcmllcyA9IHNlcmllcztcbiAgICAgICAgdGhpcy5zZXJpZXNJeCA9IHNlcmllc0l4O1xuICAgIH1cblxuICAgIHBvaW50cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9HZW9tZXRyeVBvaW50cyh0aGlzLmxpbmVQb2ludHMpO1xuICAgIH1cblxuICAgIHRvR2VvbWV0cnlQb2ludHMocG9pbnRzKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuZ3RoID0gcG9pbnRzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAocG9pbnRzW2ldICYmIHBvaW50c1tpXS52aXNpYmxlICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHBvaW50c1tpXS5fY2hpbGRCb3gudG9SZWN0KCkuY2VudGVyKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBjcmVhdGVWaXN1YWwoKSB7XG4gICAgICAgIGNvbnN0IGN1c3RvbVZpc3VhbCA9IHRoaXMuc2VyaWVzLnZpc3VhbDtcbiAgICAgICAgaWYgKGN1c3RvbVZpc3VhbCkge1xuICAgICAgICAgICAgdGhpcy52aXN1YWwgPSBjdXN0b21WaXN1YWwoe1xuICAgICAgICAgICAgICAgIHBvaW50czogdGhpcy50b0dlb21ldHJ5UG9pbnRzKHRoaXMubGluZVBvaW50cyksXG4gICAgICAgICAgICAgICAgc2VyaWVzOiB0aGlzLnNlcmllcyxcbiAgICAgICAgICAgICAgICBzZW5kZXI6IHRoaXMuZ2V0U2VuZGVyKCksXG4gICAgICAgICAgICAgICAgY3JlYXRlVmlzdWFsOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VnbWVudFZpc3VhbCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZpc3VhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICh0aGlzLnZpc3VhbCAmJiAhZGVmaW5lZCh0aGlzLnZpc3VhbC5vcHRpb25zLnpJbmRleCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpc3VhbC5vcHRpb25zLnpJbmRleCA9IHRoaXMuc2VyaWVzLnpJbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2VnbWVudFZpc3VhbCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2VnbWVudFZpc3VhbCgpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBzZXJpZXMgfSA9IHRoaXM7XG4gICAgICAgIGxldCB7IGNvbG9yLCBfZGVmYXVsdHM6IGRlZmF1bHRzIH0gPSBzZXJpZXM7XG5cbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oY29sb3IpICYmIGRlZmF1bHRzKSB7XG4gICAgICAgICAgICBjb2xvciA9IGRlZmF1bHRzLmNvbG9yO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGluZSA9IGRyYXcuUGF0aC5mcm9tUG9pbnRzKHRoaXMucG9pbnRzKCksIHtcbiAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBjb2xvcixcbiAgICAgICAgICAgICAgICB3aWR0aDogc2VyaWVzLndpZHRoLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IHNlcmllcy5vcGFjaXR5LFxuICAgICAgICAgICAgICAgIGRhc2hUeXBlOiBzZXJpZXMuZGFzaFR5cGVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB6SW5kZXg6IHNlcmllcy56SW5kZXhcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuY2xvc2VkKSB7XG4gICAgICAgICAgICBsaW5lLmNsb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZpc3VhbCA9IGxpbmU7XG4gICAgfVxuXG4gICAgYWxpYXNGb3IoZSwgY29vcmRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcmVudC5nZXROZWFyZXN0UG9pbnQoY29vcmRzLngsIGNvb3Jkcy55LCB0aGlzLnNlcmllc0l4KTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKExpbmVTZWdtZW50LCB7XG4gICAgY2xvc2VkOiBmYWxzZVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IExpbmVTZWdtZW50OyIsImltcG9ydCB7IGdlb21ldHJ5IGFzIGdlb20gfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCB7IGxhc3QgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuaW1wb3J0IHsgWCwgWSB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuXG5jb25zdCBTdGVwTGluZU1peGluID0ge1xuICAgIGNhbGN1bGF0ZVN0ZXBQb2ludHM6IGZ1bmN0aW9uKHBvaW50cykge1xuICAgICAgICBjb25zdCBjYXRlZ29yeUF4aXMgPSB0aGlzLnBhcmVudC5wbG90QXJlYS5zZXJpZXNDYXRlZ29yeUF4aXModGhpcy5zZXJpZXMpO1xuICAgICAgICBjb25zdCB7IGp1c3RpZmllZCwgdmVydGljYWwsIHJldmVyc2UgfSA9IGNhdGVnb3J5QXhpcy5vcHRpb25zO1xuXG4gICAgICAgIGNvbnN0IHN0ZXBBeGlzID0gdmVydGljYWwgPyBYIDogWTtcbiAgICAgICAgY29uc3QgYXhpcyA9IHZlcnRpY2FsID8gWSA6IFg7XG4gICAgICAgIGNvbnN0IHN0ZXBEaXIgPSByZXZlcnNlID8gMiA6IDE7XG4gICAgICAgIGNvbnN0IGRpciA9IHN0ZXBEaXI7XG5cbiAgICAgICAgbGV0IHByZXZpb3VzUG9pbnQgPSB0b0dlb21ldHJ5UG9pbnQocG9pbnRzWzBdLCBzdGVwQXhpcywgc3RlcERpciwgYXhpcywgZGlyKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gWyBwcmV2aW91c1BvaW50IF07XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMTsgaWR4IDwgcG9pbnRzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gdG9HZW9tZXRyeVBvaW50KHBvaW50c1tpZHhdLCBzdGVwQXhpcywgc3RlcERpciwgYXhpcywgZGlyKTtcblxuICAgICAgICAgICAgaWYgKHByZXZpb3VzUG9pbnRbc3RlcEF4aXNdICE9PSBwb2ludFtzdGVwQXhpc10pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGVwUG9pbnQgPSBuZXcgZ2VvbS5Qb2ludCgpO1xuICAgICAgICAgICAgICAgIHN0ZXBQb2ludFtzdGVwQXhpc10gPSBwcmV2aW91c1BvaW50W3N0ZXBBeGlzXTtcbiAgICAgICAgICAgICAgICBzdGVwUG9pbnRbYXhpc10gPSBwb2ludFtheGlzXTtcblxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHN0ZXBQb2ludCwgcG9pbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwcmV2aW91c1BvaW50ID0gcG9pbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWp1c3RpZmllZCkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2godG9HZW9tZXRyeVBvaW50KGxhc3QocG9pbnRzKSwgc3RlcEF4aXMsIHN0ZXBEaXIsIGF4aXMsIHJldmVyc2UgPyAxIDogMikpO1xuICAgICAgICB9IGVsc2UgaWYgKHByZXZpb3VzUG9pbnQgIT09IGxhc3QocmVzdWx0KSkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2gocHJldmlvdXNQb2ludCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuXG4gICAgfVxufTtcblxuZnVuY3Rpb24gdG9HZW9tZXRyeVBvaW50KGxpbnRQb2ludCwgc3RlcEF4aXMsIHN0ZXBEaXIsIGF4aXMsIGRpcikge1xuICAgIGNvbnN0IGJveCA9IGxpbnRQb2ludC5ib3g7XG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IGdlb20uUG9pbnQoKTtcblxuICAgIHJlc3VsdFtzdGVwQXhpc10gPSBib3hbc3RlcEF4aXMgKyBzdGVwRGlyXTtcbiAgICByZXN1bHRbYXhpc10gPSBib3hbYXhpcyArIGRpcl07XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZGVmYXVsdCBTdGVwTGluZU1peGluOyIsImltcG9ydCBMaW5lU2VnbWVudCBmcm9tICcuL2xpbmUtc2VnbWVudCc7XG5pbXBvcnQgU3RlcExpbmVNaXhpbiBmcm9tICcuL3N0ZXAtbGluZS1taXhpbic7XG5pbXBvcnQgeyBkZWVwRXh0ZW5kIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgU3RlcExpbmVTZWdtZW50IGV4dGVuZHMgTGluZVNlZ21lbnQge1xuICAgIHBvaW50cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsY3VsYXRlU3RlcFBvaW50cyh0aGlzLmxpbmVQb2ludHMpO1xuICAgIH1cbn1cblxuZGVlcEV4dGVuZChTdGVwTGluZVNlZ21lbnQucHJvdG90eXBlLCBTdGVwTGluZU1peGluKTtcblxuZXhwb3J0IGRlZmF1bHQgU3RlcExpbmVTZWdtZW50OyIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IExpbmVTZWdtZW50IGZyb20gJy4vbGluZS1zZWdtZW50JztcblxuaW1wb3J0IHsgQ3VydmVQcm9jZXNzb3IgfSBmcm9tICcuLi8uLi9jb3JlJztcblxuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIFNwbGluZVNlZ21lbnQgZXh0ZW5kcyBMaW5lU2VnbWVudCB7XG4gICAgc2VnbWVudFZpc3VhbCgpIHtcbiAgICAgICAgY29uc3Qgc2VyaWVzID0gdGhpcy5zZXJpZXM7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRzID0gc2VyaWVzLl9kZWZhdWx0cztcbiAgICAgICAgbGV0IGNvbG9yID0gc2VyaWVzLmNvbG9yO1xuXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGNvbG9yKSAmJiBkZWZhdWx0cykge1xuICAgICAgICAgICAgY29sb3IgPSBkZWZhdWx0cy5jb2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGN1cnZlUHJvY2Vzc29yID0gbmV3IEN1cnZlUHJvY2Vzc29yKHRoaXMub3B0aW9ucy5jbG9zZWQpO1xuICAgICAgICBjb25zdCBzZWdtZW50cyA9IGN1cnZlUHJvY2Vzc29yLnByb2Nlc3ModGhpcy5wb2ludHMoKSk7XG4gICAgICAgIGNvbnN0IGN1cnZlID0gbmV3IGRyYXcuUGF0aCh7XG4gICAgICAgICAgICBzdHJva2U6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogY29sb3IsXG4gICAgICAgICAgICAgICAgd2lkdGg6IHNlcmllcy53aWR0aCxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBzZXJpZXMub3BhY2l0eSxcbiAgICAgICAgICAgICAgICBkYXNoVHlwZTogc2VyaWVzLmRhc2hUeXBlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgekluZGV4OiBzZXJpZXMuekluZGV4XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGN1cnZlLnNlZ21lbnRzLnB1c2guYXBwbHkoY3VydmUuc2VnbWVudHMsIHNlZ21lbnRzKTtcblxuICAgICAgICB0aGlzLnZpc3VhbCA9IGN1cnZlO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3BsaW5lU2VnbWVudDsiLCJpbXBvcnQgeyBaRVJPLCBJTlRFUlBPTEFURSB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmltcG9ydCB7IFBvaW50IH0gZnJvbSAnLi4vLi4vY29yZSc7XG5pbXBvcnQgeyBNQVhfVkFMVUUgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGRlZmluZWQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jb25zdCBMaW5lQ2hhcnRNaXhpbiA9IHtcbiAgICByZW5kZXJTZWdtZW50czogZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgc2VyaWVzUG9pbnRzIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBzZXJpZXMgPSBvcHRpb25zLnNlcmllcztcbiAgICAgICAgY29uc3Qgc2VyaWVzQ291bnQgPSBzZXJpZXNQb2ludHMubGVuZ3RoO1xuICAgICAgICBsZXQgbGFzdFNlZ21lbnQ7XG5cbiAgICAgICAgdGhpcy5fc2VnbWVudHMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBzZXJpZXNJeCA9IDA7IHNlcmllc0l4IDwgc2VyaWVzQ291bnQ7IHNlcmllc0l4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZXJpZXMgPSBzZXJpZXNbc2VyaWVzSXhdO1xuICAgICAgICAgICAgY29uc3Qgc29ydGVkUG9pbnRzID0gdGhpcy5zb3J0UG9pbnRzKHNlcmllc1BvaW50c1tzZXJpZXNJeF0pO1xuICAgICAgICAgICAgY29uc3QgcG9pbnRDb3VudCA9IHNvcnRlZFBvaW50cy5sZW5ndGg7XG4gICAgICAgICAgICBsZXQgbGluZVBvaW50cyA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBwb2ludEl4ID0gMDsgcG9pbnRJeCA8IHBvaW50Q291bnQ7IHBvaW50SXgrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gc29ydGVkUG9pbnRzW3BvaW50SXhdO1xuICAgICAgICAgICAgICAgIGlmIChwb2ludCkge1xuICAgICAgICAgICAgICAgICAgICBsaW5lUG9pbnRzLnB1c2gocG9pbnQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5zZXJpZXNNaXNzaW5nVmFsdWVzKGN1cnJlbnRTZXJpZXMpICE9PSBJTlRFUlBPTEFURSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobGluZVBvaW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0U2VnbWVudCA9IHRoaXMuY3JlYXRlU2VnbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lUG9pbnRzLCBjdXJyZW50U2VyaWVzLCBzZXJpZXNJeCwgbGFzdFNlZ21lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRTZWdtZW50KGxhc3RTZWdtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsaW5lUG9pbnRzID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobGluZVBvaW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgbGFzdFNlZ21lbnQgPSB0aGlzLmNyZWF0ZVNlZ21lbnQoXG4gICAgICAgICAgICAgICAgICAgIGxpbmVQb2ludHMsIGN1cnJlbnRTZXJpZXMsIHNlcmllc0l4LCBsYXN0U2VnbWVudFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkU2VnbWVudChsYXN0U2VnbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNoaWxkcmVuLnVuc2hpZnQuYXBwbHkodGhpcy5jaGlsZHJlbiwgdGhpcy5fc2VnbWVudHMpO1xuICAgIH0sXG5cbiAgICBfYWRkU2VnbWVudDogZnVuY3Rpb24oc2VnbWVudCkge1xuICAgICAgICB0aGlzLl9zZWdtZW50cy5wdXNoKHNlZ21lbnQpO1xuICAgICAgICBzZWdtZW50LnBhcmVudCA9IHRoaXM7XG4gICAgfSxcblxuICAgIHNvcnRQb2ludHM6IGZ1bmN0aW9uKHBvaW50cykge1xuICAgICAgICByZXR1cm4gcG9pbnRzO1xuICAgIH0sXG5cbiAgICBzZXJpZXNNaXNzaW5nVmFsdWVzOiBmdW5jdGlvbihzZXJpZXMpIHtcbiAgICAgICAgY29uc3QgbWlzc2luZ1ZhbHVlcyA9IHNlcmllcy5taXNzaW5nVmFsdWVzO1xuICAgICAgICBjb25zdCBhc3N1bWVaZXJvID0gIW1pc3NpbmdWYWx1ZXMgJiYgdGhpcy5vcHRpb25zLmlzU3RhY2tlZDtcblxuICAgICAgICByZXR1cm4gYXNzdW1lWmVybyA/IFpFUk8gOiBtaXNzaW5nVmFsdWVzIHx8IElOVEVSUE9MQVRFO1xuICAgIH0sXG5cbiAgICBnZXROZWFyZXN0UG9pbnQ6IGZ1bmN0aW9uKHgsIHksIHNlcmllc0l4KSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IG5ldyBQb2ludCh4LCB5KTtcbiAgICAgICAgY29uc3QgYWxsUG9pbnRzID0gdGhpcy5zZXJpZXNQb2ludHNbc2VyaWVzSXhdO1xuICAgICAgICBsZXQgbmVhcmVzdFBvaW50RGlzdGFuY2UgPSBNQVhfVkFMVUU7XG4gICAgICAgIGxldCBuZWFyZXN0UG9pbnQ7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGxQb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gYWxsUG9pbnRzW2ldO1xuXG4gICAgICAgICAgICBpZiAocG9pbnQgJiYgZGVmaW5lZChwb2ludC52YWx1ZSkgJiYgcG9pbnQudmFsdWUgIT09IG51bGwgJiYgcG9pbnQudmlzaWJsZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwb2ludEJveCA9IHBvaW50LmJveDtcbiAgICAgICAgICAgICAgICBjb25zdCBwb2ludERpc3RhbmNlID0gcG9pbnRCb3guY2VudGVyKCkuZGlzdGFuY2VUbyh0YXJnZXQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBvaW50RGlzdGFuY2UgPCBuZWFyZXN0UG9pbnREaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICBuZWFyZXN0UG9pbnQgPSBwb2ludDtcbiAgICAgICAgICAgICAgICAgICAgbmVhcmVzdFBvaW50RGlzdGFuY2UgPSBwb2ludERpc3RhbmNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZWFyZXN0UG9pbnQ7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgTGluZUNoYXJ0TWl4aW47IiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgeyBJTklUSUFMX0FOSU1BVElPTl9EVVJBVElPTiB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmltcG9ydCB7IGludGVycG9sYXRlVmFsdWUsIHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgQ2xpcEFuaW1hdGlvbiBleHRlbmRzIGRyYXcuQW5pbWF0aW9uIHtcbiAgICBzZXR1cCgpIHtcbiAgICAgICAgdGhpcy5fc2V0RW5kKHRoaXMub3B0aW9ucy5ib3gueDEpO1xuICAgIH1cblxuICAgIHN0ZXAocG9zKSB7XG4gICAgICAgIGNvbnN0IGJveCA9IHRoaXMub3B0aW9ucy5ib3g7XG4gICAgICAgIHRoaXMuX3NldEVuZChpbnRlcnBvbGF0ZVZhbHVlKGJveC54MSwgYm94LngyLCBwb3MpKTtcbiAgICB9XG5cbiAgICBfc2V0RW5kKHgpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZWxlbWVudDtcbiAgICAgICAgY29uc3Qgc2VnbWVudHMgPSBlbGVtZW50LnNlZ21lbnRzO1xuICAgICAgICBjb25zdCB0b3BSaWdodCA9IHNlZ21lbnRzWzFdLmFuY2hvcigpO1xuICAgICAgICBjb25zdCBib3R0b21SaWdodCA9IHNlZ21lbnRzWzJdLmFuY2hvcigpO1xuXG4gICAgICAgIGVsZW1lbnQuc3VzcGVuZCgpO1xuICAgICAgICB0b3BSaWdodC5zZXRYKHgpO1xuICAgICAgICBlbGVtZW50LnJlc3VtZSgpO1xuICAgICAgICBib3R0b21SaWdodC5zZXRYKHgpO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoQ2xpcEFuaW1hdGlvbiwge1xuICAgIGR1cmF0aW9uOiBJTklUSUFMX0FOSU1BVElPTl9EVVJBVElPTlxufSk7XG5cbmRyYXcuQW5pbWF0aW9uRmFjdG9yeS5jdXJyZW50LnJlZ2lzdGVyKFwiY2xpcFwiLCBDbGlwQW5pbWF0aW9uKTtcblxuZXhwb3J0IGRlZmF1bHQgQ2xpcEFuaW1hdGlvbjsiLCJpbXBvcnQgeyBkZWZpbmVkIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYW55SGFzWkluZGV4KGVsZW1lbnRzKSB7XG4gICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgZWxlbWVudHMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICBpZiAoZGVmaW5lZChlbGVtZW50c1tpZHhdLnpJbmRleCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IENsaXBBbmltYXRpb24gZnJvbSAnLi4vYW5pbWF0aW9ucy9jbGlwLWFuaW1hdGlvbic7XG5pbXBvcnQgYW55SGFzWkluZGV4IGZyb20gJy4uL3V0aWxzL2FueS1oYXMtei1pbmRleCc7XG5pbXBvcnQgeyBkZWZpbmVkIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY29uc3QgQ2xpcEFuaW1hdGlvbk1peGluID0ge1xuICAgIGNyZWF0ZUFuaW1hdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnN0IHJvb3QgPSB0aGlzLmdldFJvb3QoKTtcbiAgICAgICAgaWYgKHJvb3QgJiYgKHJvb3Qub3B0aW9ucyB8fCB7fSkudHJhbnNpdGlvbnMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBjb25zdCBib3ggPSByb290LnNpemUoKTtcbiAgICAgICAgICAgIGNvbnN0IGNsaXBQYXRoID0gZHJhdy5QYXRoLmZyb21SZWN0KGJveC50b1JlY3QoKSk7XG4gICAgICAgICAgICB0aGlzLnZpc3VhbC5jbGlwKGNsaXBQYXRoKTtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uID0gbmV3IENsaXBBbmltYXRpb24oY2xpcFBhdGgsIHtcbiAgICAgICAgICAgICAgICBib3g6IGJveFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoYW55SGFzWkluZGV4KHRoaXMub3B0aW9ucy5zZXJpZXMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0Q2hpbGRyZW5BbmltYXRpb24oY2xpcFBhdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9zZXRDaGlsZHJlbkFuaW1hdGlvbjogZnVuY3Rpb24oY2xpcFBhdGgpIHtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gdGhpcy5hbmltYXRpb25Qb2ludHMoKTtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBwb2ludHMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBwb2ludHNbaWR4XTtcbiAgICAgICAgICAgIGlmIChwb2ludCAmJiBwb2ludC52aXN1YWwgJiYgZGVmaW5lZChwb2ludC52aXN1YWwub3B0aW9ucy56SW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgcG9pbnQudmlzdWFsLmNsaXAoY2xpcFBhdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgQ2xpcEFuaW1hdGlvbk1peGluOyIsImltcG9ydCBDYXRlZ29yaWNhbENoYXJ0IGZyb20gJy4uL2NhdGVnb3JpY2FsLWNoYXJ0JztcbmltcG9ydCBMaW5lUG9pbnQgZnJvbSAnLi9saW5lLXBvaW50JztcbmltcG9ydCBMaW5lU2VnbWVudCBmcm9tICcuL2xpbmUtc2VnbWVudCc7XG5pbXBvcnQgU3RlcExpbmVTZWdtZW50IGZyb20gJy4vc3RlcC1saW5lLXNlZ21lbnQnO1xuaW1wb3J0IFNwbGluZVNlZ21lbnQgZnJvbSAnLi9zcGxpbmUtc2VnbWVudCc7XG5pbXBvcnQgTGluZUNoYXJ0TWl4aW4gZnJvbSAnLi4vbWl4aW5zL2xpbmUtY2hhcnQtbWl4aW4nO1xuaW1wb3J0IENsaXBBbmltYXRpb25NaXhpbiBmcm9tICcuLi9taXhpbnMvY2xpcC1hbmltYXRpb24tbWl4aW4nO1xuXG5pbXBvcnQgeyBaRVJPLCBTTU9PVEgsIFNURVAgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5pbXBvcnQgeyBkZWVwRXh0ZW5kLCBkZWZpbmVkLCBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgTGluZUNoYXJ0IGV4dGVuZHMgQ2F0ZWdvcmljYWxDaGFydCB7XG4gICAgcmVuZGVyKCkge1xuXG4gICAgICAgIHN1cGVyLnJlbmRlcigpO1xuXG4gICAgICAgIHRoaXMudXBkYXRlU3RhY2tSYW5nZSgpO1xuICAgICAgICB0aGlzLnJlbmRlclNlZ21lbnRzKCk7XG4gICAgfVxuXG4gICAgcG9pbnRUeXBlKCkge1xuICAgICAgICByZXR1cm4gTGluZVBvaW50O1xuICAgIH1cblxuICAgIGNyZWF0ZVBvaW50KGRhdGEsIGZpZWxkcykge1xuICAgICAgICBjb25zdCB7IGNhdGVnb3J5SXgsIGNhdGVnb3J5LCBzZXJpZXMsIHNlcmllc0l4IH0gPSBmaWVsZHM7XG4gICAgICAgIGNvbnN0IG1pc3NpbmdWYWx1ZXMgPSB0aGlzLnNlcmllc01pc3NpbmdWYWx1ZXMoc2VyaWVzKTtcbiAgICAgICAgbGV0IHZhbHVlID0gZGF0YS52YWx1ZUZpZWxkcy52YWx1ZTtcblxuICAgICAgICBpZiAoIWRlZmluZWQodmFsdWUpIHx8IHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAobWlzc2luZ1ZhbHVlcyA9PT0gWkVSTykge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gMDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcG9pbnRPcHRpb25zID0gdGhpcy5wb2ludE9wdGlvbnMoc2VyaWVzLCBzZXJpZXNJeCk7XG4gICAgICAgIHBvaW50T3B0aW9ucyA9IHRoaXMuZXZhbFBvaW50T3B0aW9ucyhcbiAgICAgICAgICAgIHBvaW50T3B0aW9ucywgdmFsdWUsIGNhdGVnb3J5LCBjYXRlZ29yeUl4LCBzZXJpZXMsIHNlcmllc0l4XG4gICAgICAgICk7XG5cbiAgICAgICAgbGV0IGNvbG9yID0gZGF0YS5maWVsZHMuY29sb3IgfHwgc2VyaWVzLmNvbG9yO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihzZXJpZXMuY29sb3IpKSB7XG4gICAgICAgICAgICBjb2xvciA9IHBvaW50T3B0aW9ucy5jb2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBvaW50ID0gbmV3IExpbmVQb2ludCh2YWx1ZSwgcG9pbnRPcHRpb25zKTtcbiAgICAgICAgcG9pbnQuY29sb3IgPSBjb2xvcjtcblxuICAgICAgICB0aGlzLmFwcGVuZChwb2ludCk7XG5cbiAgICAgICAgcmV0dXJuIHBvaW50O1xuICAgIH1cblxuICAgIHBsb3RSYW5nZShwb2ludCkge1xuICAgICAgICBsZXQgcGxvdFZhbHVlID0gdGhpcy5wbG90VmFsdWUocG9pbnQpO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaXNTdGFja2VkKSB7XG4gICAgICAgICAgICBjb25zdCBjYXRlZ29yeUl4ID0gcG9pbnQuY2F0ZWdvcnlJeDtcbiAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5UG9pbnRzID0gdGhpcy5jYXRlZ29yeVBvaW50c1tjYXRlZ29yeUl4XTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjYXRlZ29yeVBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG90aGVyID0gY2F0ZWdvcnlQb2ludHNbaV07XG5cbiAgICAgICAgICAgICAgICBpZiAocG9pbnQgPT09IG90aGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHBsb3RWYWx1ZSArPSB0aGlzLnBsb3RWYWx1ZShvdGhlcik7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmlzU3RhY2tlZDEwMCkge1xuICAgICAgICAgICAgICAgICAgICBwbG90VmFsdWUgPSBNYXRoLm1pbihwbG90VmFsdWUsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFsgcGxvdFZhbHVlLCBwbG90VmFsdWUgXTtcbiAgICB9XG5cbiAgICBjcmVhdGVTZWdtZW50KGxpbmVQb2ludHMsIGN1cnJlbnRTZXJpZXMsIHNlcmllc0l4KSB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gY3VycmVudFNlcmllcy5zdHlsZTtcbiAgICAgICAgbGV0IHBvaW50VHlwZTtcblxuICAgICAgICBpZiAoc3R5bGUgPT09IFNURVApIHtcbiAgICAgICAgICAgIHBvaW50VHlwZSA9IFN0ZXBMaW5lU2VnbWVudDtcbiAgICAgICAgfSBlbHNlIGlmIChzdHlsZSA9PT0gU01PT1RIKSB7XG4gICAgICAgICAgICBwb2ludFR5cGUgPSBTcGxpbmVTZWdtZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcG9pbnRUeXBlID0gTGluZVNlZ21lbnQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IHBvaW50VHlwZShsaW5lUG9pbnRzLCBjdXJyZW50U2VyaWVzLCBzZXJpZXNJeCk7XG4gICAgfVxuXG4gICAgYW5pbWF0aW9uUG9pbnRzKCkge1xuICAgICAgICBjb25zdCBwb2ludHMgPSB0aGlzLnBvaW50cztcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHBvaW50cy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCgocG9pbnRzW2lkeF0gfHwge30pLm1hcmtlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdC5jb25jYXQodGhpcy5fc2VnbWVudHMpO1xuICAgIH1cbn1cblxuZGVlcEV4dGVuZChMaW5lQ2hhcnQucHJvdG90eXBlLCBMaW5lQ2hhcnRNaXhpbiwgQ2xpcEFuaW1hdGlvbk1peGluKTtcblxuZXhwb3J0IGRlZmF1bHQgTGluZUNoYXJ0OyIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdywgZ2VvbWV0cnkgYXMgZ2VvbSB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcbmltcG9ydCBMaW5lU2VnbWVudCBmcm9tICcuLi9saW5lLWNoYXJ0L2xpbmUtc2VnbWVudCc7XG5cbmltcG9ydCB7IGFwcGVuZCwgZGVlcEV4dGVuZCwgaXNGdW5jdGlvbiwgbGFzdCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIEFyZWFTZWdtZW50IGV4dGVuZHMgTGluZVNlZ21lbnQge1xuICAgIGNvbnN0cnVjdG9yKGxpbmVQb2ludHMsIGN1cnJlbnRTZXJpZXMsIHNlcmllc0l4LCBwcmV2U2VnbWVudCwgc3RhY2tQb2ludHMpIHtcbiAgICAgICAgc3VwZXIobGluZVBvaW50cywgY3VycmVudFNlcmllcywgc2VyaWVzSXgpO1xuXG4gICAgICAgIHRoaXMucHJldlNlZ21lbnQgPSBwcmV2U2VnbWVudDtcbiAgICAgICAgdGhpcy5zdGFja1BvaW50cyA9IHN0YWNrUG9pbnRzO1xuICAgIH1cblxuICAgIGNyZWF0ZVZpc3VhbCgpIHtcbiAgICAgICAgY29uc3Qgc2VyaWVzID0gdGhpcy5zZXJpZXM7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRzID0gc2VyaWVzLl9kZWZhdWx0cztcbiAgICAgICAgY29uc3QgbGluZU9wdGlvbnMgPSBzZXJpZXMubGluZSB8fCB7fTtcbiAgICAgICAgbGV0IGNvbG9yID0gc2VyaWVzLmNvbG9yO1xuXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGNvbG9yKSAmJiBkZWZhdWx0cykge1xuICAgICAgICAgICAgY29sb3IgPSBkZWZhdWx0cy5jb2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudmlzdWFsID0gbmV3IGRyYXcuR3JvdXAoe1xuICAgICAgICAgICAgekluZGV4OiBzZXJpZXMuekluZGV4XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlRmlsbCh7XG4gICAgICAgICAgICBmaWxsOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IGNvbG9yLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IHNlcmllcy5vcGFjaXR5XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3Ryb2tlOiBudWxsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChsaW5lT3B0aW9ucy53aWR0aCA+IDAgJiYgbGluZU9wdGlvbnMudmlzaWJsZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlU3Ryb2tlKHtcbiAgICAgICAgICAgICAgICBzdHJva2U6IGRlZXBFeHRlbmQoe1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogY29sb3IsXG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IHNlcmllcy5vcGFjaXR5LFxuICAgICAgICAgICAgICAgICAgICBsaW5lQ2FwOiBcImJ1dHRcIlxuICAgICAgICAgICAgICAgIH0sIGxpbmVPcHRpb25zKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdHJva2VTZWdtZW50cygpIHtcbiAgICAgICAgbGV0IHNlZ21lbnRzID0gdGhpcy5fc3Ryb2tlU2VnbWVudHM7XG5cbiAgICAgICAgaWYgKCFzZWdtZW50cykge1xuICAgICAgICAgICAgc2VnbWVudHMgPSB0aGlzLl9zdHJva2VTZWdtZW50cyA9IHRoaXMuY3JlYXRlU3Ryb2tlU2VnbWVudHMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWdtZW50cztcbiAgICB9XG5cbiAgICBjcmVhdGVTdHJva2VTZWdtZW50cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VnbWVudHNGcm9tUG9pbnRzKHRoaXMucG9pbnRzKCkpO1xuICAgIH1cblxuICAgIHN0YWNrU2VnbWVudHMoKSB7XG4gICAgICAgIGlmICh0aGlzLnByZXZTZWdtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcmV2U2VnbWVudC5jcmVhdGVTdGFja1NlZ21lbnRzKHRoaXMuc3RhY2tQb2ludHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlU3RhY2tTZWdtZW50cyh0aGlzLnN0YWNrUG9pbnRzKTtcbiAgICB9XG5cbiAgICBjcmVhdGVTdGFja1NlZ21lbnRzKHN0YWNrUG9pbnRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlZ21lbnRzRnJvbVBvaW50cyh0aGlzLnRvR2VvbWV0cnlQb2ludHMoc3RhY2tQb2ludHMpKS5yZXZlcnNlKCk7XG4gICAgfVxuXG4gICAgc2VnbWVudHNGcm9tUG9pbnRzKHBvaW50cykge1xuICAgICAgICByZXR1cm4gcG9pbnRzLm1hcCgocG9pbnQpID0+IG5ldyBnZW9tLlNlZ21lbnQocG9pbnQpKTtcbiAgICB9XG5cbiAgICBjcmVhdGVTdHJva2Uoc3R5bGUpIHtcbiAgICAgICAgY29uc3Qgc3Ryb2tlID0gbmV3IGRyYXcuUGF0aChzdHlsZSk7XG4gICAgICAgIHN0cm9rZS5zZWdtZW50cy5wdXNoLmFwcGx5KHN0cm9rZS5zZWdtZW50cywgdGhpcy5zdHJva2VTZWdtZW50cygpKTtcblxuICAgICAgICB0aGlzLnZpc3VhbC5hcHBlbmQoc3Ryb2tlKTtcbiAgICB9XG5cbiAgICBoYXNTdGFja1NlZ21lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZXZTZWdtZW50IHx8ICh0aGlzLnN0YWNrUG9pbnRzICYmIHRoaXMuc3RhY2tQb2ludHMubGVuZ3RoKTtcbiAgICB9XG5cbiAgICBjcmVhdGVGaWxsKHN0eWxlKSB7XG4gICAgICAgIGNvbnN0IHN0cm9rZVNlZ21lbnRzID0gdGhpcy5zdHJva2VTZWdtZW50cygpO1xuICAgICAgICBjb25zdCBmaWxsU2VnbWVudHMgPSBzdHJva2VTZWdtZW50cy5zbGljZSgwKTtcbiAgICAgICAgY29uc3QgaGFzU3RhY2tTZWdtZW50cyA9IHRoaXMuaGFzU3RhY2tTZWdtZW50KCk7XG5cbiAgICAgICAgaWYgKGhhc1N0YWNrU2VnbWVudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YWNrU2VnbWVudHMgPSB0aGlzLnN0YWNrU2VnbWVudHMoKTtcblxuICAgICAgICAgICAgYXBwZW5kKGZpbGxTZWdtZW50cywgc3RhY2tTZWdtZW50cyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaWxsID0gbmV3IGRyYXcuUGF0aChzdHlsZSk7XG4gICAgICAgIGZpbGwuc2VnbWVudHMucHVzaC5hcHBseShmaWxsLnNlZ21lbnRzLCBmaWxsU2VnbWVudHMpO1xuXG4gICAgICAgIGlmICghaGFzU3RhY2tTZWdtZW50cyAmJiBzdHJva2VTZWdtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICB0aGlzLmZpbGxUb0F4ZXMoZmlsbCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZpc3VhbC5hcHBlbmQoZmlsbCk7XG4gICAgfVxuXG4gICAgZmlsbFRvQXhlcyhmaWxsUGF0aCkge1xuICAgICAgICBjb25zdCBjaGFydCA9IHRoaXMucGFyZW50O1xuICAgICAgICBjb25zdCBpbnZlcnRBeGVzID0gY2hhcnQub3B0aW9ucy5pbnZlcnRBeGVzO1xuICAgICAgICBjb25zdCB2YWx1ZUF4aXMgPSBjaGFydC5zZXJpZXNWYWx1ZUF4aXModGhpcy5zZXJpZXMpO1xuICAgICAgICBjb25zdCBjcm9zc2luZ1ZhbHVlID0gY2hhcnQuY2F0ZWdvcnlBeGlzQ3Jvc3NpbmdWYWx1ZSh2YWx1ZUF4aXMpO1xuICAgICAgICBjb25zdCBlbmRTbG90ID0gdmFsdWVBeGlzLmdldFNsb3QoY3Jvc3NpbmdWYWx1ZSwgY3Jvc3NpbmdWYWx1ZSwgdHJ1ZSk7XG4gICAgICAgIGNvbnN0IHNlZ21lbnRzID0gdGhpcy5zdHJva2VTZWdtZW50cygpO1xuICAgICAgICBjb25zdCBmaXJzdFBvaW50ID0gc2VnbWVudHNbMF0uYW5jaG9yKCk7XG4gICAgICAgIGNvbnN0IGxhc3RQb2ludCA9IGxhc3Qoc2VnbWVudHMpLmFuY2hvcigpO1xuICAgICAgICBsZXQgZW5kID0gaW52ZXJ0QXhlcyA/IGVuZFNsb3QueDEgOiBlbmRTbG90LnkxO1xuXG4gICAgICAgIGlmIChpbnZlcnRBeGVzKSB7XG4gICAgICAgICAgICBmaWxsUGF0aC5saW5lVG8oZW5kLCBsYXN0UG9pbnQueSlcbiAgICAgICAgICAgICAgICAgICAgLmxpbmVUbyhlbmQsIGZpcnN0UG9pbnQueSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmaWxsUGF0aC5saW5lVG8obGFzdFBvaW50LngsIGVuZClcbiAgICAgICAgICAgICAgICAgICAgLmxpbmVUbyhmaXJzdFBvaW50LngsIGVuZCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFyZWFTZWdtZW50OyIsImltcG9ydCBTdGVwTGluZU1peGluIGZyb20gJy4uL2xpbmUtY2hhcnQvc3RlcC1saW5lLW1peGluJztcbmltcG9ydCBBcmVhU2VnbWVudCBmcm9tICcuL2FyZWEtc2VnbWVudCc7XG5cbmltcG9ydCB7IGRlZXBFeHRlbmQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBTdGVwQXJlYVNlZ21lbnQgZXh0ZW5kcyBBcmVhU2VnbWVudCB7XG5cbiAgICBjcmVhdGVTdHJva2VTZWdtZW50cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VnbWVudHNGcm9tUG9pbnRzKHRoaXMuY2FsY3VsYXRlU3RlcFBvaW50cyh0aGlzLmxpbmVQb2ludHMpKTtcbiAgICB9XG5cbiAgICBjcmVhdGVTdGFja1NlZ21lbnRzKHN0YWNrUG9pbnRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlZ21lbnRzRnJvbVBvaW50cyh0aGlzLmNhbGN1bGF0ZVN0ZXBQb2ludHMoc3RhY2tQb2ludHMpKS5yZXZlcnNlKCk7XG4gICAgfVxufVxuXG5kZWVwRXh0ZW5kKFN0ZXBBcmVhU2VnbWVudC5wcm90b3R5cGUsIFN0ZXBMaW5lTWl4aW4pO1xuXG5leHBvcnQgZGVmYXVsdCBTdGVwQXJlYVNlZ21lbnQ7IiwiaW1wb3J0IHsgZ2VvbWV0cnkgYXMgZ2VvbSB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcbmltcG9ydCB7IEN1cnZlUHJvY2Vzc29yIH0gZnJvbSAnLi4vLi4vY29yZSc7XG5cbmltcG9ydCBBcmVhU2VnbWVudCBmcm9tICcuL2FyZWEtc2VnbWVudCc7XG5cbmNsYXNzIFNwbGluZUFyZWFTZWdtZW50IGV4dGVuZHMgQXJlYVNlZ21lbnQge1xuXG4gICAgY3JlYXRlU3Ryb2tlU2VnbWVudHMoKSB7XG4gICAgICAgIGNvbnN0IGN1cnZlUHJvY2Vzc29yID0gbmV3IEN1cnZlUHJvY2Vzc29yKHRoaXMub3B0aW9ucy5jbG9zZWQpO1xuICAgICAgICBjb25zdCBsaW5lUG9pbnRzID0gdGhpcy5wb2ludHMoKTtcblxuICAgICAgICByZXR1cm4gY3VydmVQcm9jZXNzb3IucHJvY2VzcyhsaW5lUG9pbnRzKTtcbiAgICB9XG5cbiAgICBjcmVhdGVTdGFja1NlZ21lbnRzKCkge1xuICAgICAgICBjb25zdCBzdHJva2VTZWdtZW50cyA9IHRoaXMuc3Ryb2tlU2VnbWVudHMoKTtcbiAgICAgICAgY29uc3Qgc3RhY2tTZWdtZW50cyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpZHggPSBzdHJva2VTZWdtZW50cy5sZW5ndGggLSAxOyBpZHggPj0gMDsgaWR4LS0pIHtcbiAgICAgICAgICAgIGNvbnN0IHNlZ21lbnQgPSBzdHJva2VTZWdtZW50c1tpZHhdO1xuICAgICAgICAgICAgc3RhY2tTZWdtZW50cy5wdXNoKG5ldyBnZW9tLlNlZ21lbnQoXG4gICAgICAgICAgICAgICAgc2VnbWVudC5hbmNob3IoKSxcbiAgICAgICAgICAgICAgICBzZWdtZW50LmNvbnRyb2xPdXQoKSxcbiAgICAgICAgICAgICAgICBzZWdtZW50LmNvbnRyb2xJbigpXG4gICAgICAgICAgICApKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdGFja1NlZ21lbnRzO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3BsaW5lQXJlYVNlZ21lbnQ7IiwiaW1wb3J0IExpbmVDaGFydCBmcm9tICcuLi9saW5lLWNoYXJ0L2xpbmUtY2hhcnQnO1xuaW1wb3J0IExpbmVQb2ludCBmcm9tICcuLi9saW5lLWNoYXJ0L2xpbmUtcG9pbnQnO1xuXG5pbXBvcnQgQXJlYVNlZ21lbnQgZnJvbSAnLi9hcmVhLXNlZ21lbnQnO1xuaW1wb3J0IFN0ZXBBcmVhU2VnbWVudCBmcm9tICcuL3N0ZXAtYXJlYS1zZWdtZW50JztcbmltcG9ydCBTcGxpbmVBcmVhU2VnbWVudCBmcm9tICcuL3NwbGluZS1hcmVhLXNlZ21lbnQnO1xuXG5pbXBvcnQgeyBTVEVQLCBTTU9PVEgsIFpFUk8gfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5jbGFzcyBBcmVhQ2hhcnQgZXh0ZW5kcyBMaW5lQ2hhcnQge1xuICAgIGNyZWF0ZVNlZ21lbnQobGluZVBvaW50cywgY3VycmVudFNlcmllcywgc2VyaWVzSXgsIHByZXZTZWdtZW50KSB7XG4gICAgICAgIGNvbnN0IGlzU3RhY2tlZCA9IHRoaXMub3B0aW9ucy5pc1N0YWNrZWQ7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gKGN1cnJlbnRTZXJpZXMubGluZSB8fCB7fSkuc3R5bGU7XG4gICAgICAgIGxldCBwcmV2aW91c1NlZ21lbnQ7XG5cbiAgICAgICAgbGV0IHN0YWNrUG9pbnRzO1xuICAgICAgICBpZiAoaXNTdGFja2VkICYmIHNlcmllc0l4ID4gMCAmJiBwcmV2U2VnbWVudCkge1xuICAgICAgICAgICAgY29uc3QgbWlzc2luZ1ZhbHVlcyA9IHRoaXMuc2VyaWVzTWlzc2luZ1ZhbHVlcyhjdXJyZW50U2VyaWVzKTtcbiAgICAgICAgICAgIGlmIChtaXNzaW5nVmFsdWVzICE9PSBcImdhcFwiKSB7XG4gICAgICAgICAgICAgICAgc3RhY2tQb2ludHMgPSBwcmV2U2VnbWVudC5saW5lUG9pbnRzO1xuICAgICAgICAgICAgICAgIHByZXZpb3VzU2VnbWVudCA9IHByZXZTZWdtZW50O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdGFja1BvaW50cyA9IHRoaXMuX2dhcFN0YWNrUG9pbnRzKGxpbmVQb2ludHMsIHNlcmllc0l4LCBzdHlsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcG9pbnRUeXBlO1xuICAgICAgICBpZiAoc3R5bGUgPT09IFNURVApIHtcbiAgICAgICAgICAgIHBvaW50VHlwZSA9IFN0ZXBBcmVhU2VnbWVudDtcbiAgICAgICAgfSBlbHNlIGlmIChzdHlsZSA9PT0gU01PT1RIKSB7XG4gICAgICAgICAgICBwb2ludFR5cGUgPSBTcGxpbmVBcmVhU2VnbWVudDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBvaW50VHlwZSA9IEFyZWFTZWdtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBwb2ludFR5cGUobGluZVBvaW50cywgY3VycmVudFNlcmllcywgc2VyaWVzSXgsIHByZXZpb3VzU2VnbWVudCwgc3RhY2tQb2ludHMpO1xuICAgIH1cblxuICAgIHJlZmxvdyh0YXJnZXRCb3gpIHtcbiAgICAgICAgc3VwZXIucmVmbG93KHRhcmdldEJveCk7XG5cbiAgICAgICAgY29uc3Qgc3RhY2tQb2ludHMgPSB0aGlzLl9zdGFja1BvaW50cztcbiAgICAgICAgaWYgKHN0YWNrUG9pbnRzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBzdGFja1BvaW50cy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhY2tQb2ludCA9IHN0YWNrUG9pbnRzW2lkeF07XG4gICAgICAgICAgICAgICAgY29uc3QgcG9pbnRTbG90ID0gdGhpcy5jYXRlZ29yeUF4aXMuZ2V0U2xvdChzdGFja1BvaW50LmNhdGVnb3J5SXgpO1xuICAgICAgICAgICAgICAgIHN0YWNrUG9pbnQucmVmbG93KHBvaW50U2xvdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZ2FwU3RhY2tQb2ludHMobGluZVBvaW50cywgc2VyaWVzSXgsIHN0eWxlKSB7XG4gICAgICAgIGNvbnN0IHNlcmllc1BvaW50cyA9IHRoaXMuc2VyaWVzUG9pbnRzO1xuICAgICAgICBsZXQgc3RhcnRJZHggPSBsaW5lUG9pbnRzWzBdLmNhdGVnb3J5SXg7XG4gICAgICAgIGxldCBsZW5ndGggPSBsaW5lUG9pbnRzLmxlbmd0aDtcbiAgICAgICAgaWYgKHN0YXJ0SWR4IDwgMCkge1xuICAgICAgICAgICAgc3RhcnRJZHggPSAwO1xuICAgICAgICAgICAgbGVuZ3RoLS07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBlbmRJZHggPSBzdGFydElkeCArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgcG9pbnRPZmZzZXQgPSB0aGlzLnNlcmllc09wdGlvbnNbMF0uX291dE9mUmFuZ2VNaW5Qb2ludCA/IDEgOiAwO1xuICAgICAgICBjb25zdCBzdGFja1BvaW50cyA9IFtdO1xuXG4gICAgICAgIHRoaXMuX3N0YWNrUG9pbnRzID0gdGhpcy5fc3RhY2tQb2ludHMgfHwgW107XG4gICAgICAgIGZvciAobGV0IGNhdGVnb3J5SXggPSBzdGFydElkeDsgY2F0ZWdvcnlJeCA8IGVuZElkeDsgY2F0ZWdvcnlJeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBwb2ludEl4ID0gY2F0ZWdvcnlJeCArIHBvaW50T2Zmc2V0O1xuICAgICAgICAgICAgbGV0IGN1cnJlbnRTZXJpZXNJeCA9IHNlcmllc0l4O1xuICAgICAgICAgICAgbGV0IHBvaW50O1xuXG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgY3VycmVudFNlcmllc0l4LS07XG4gICAgICAgICAgICAgICAgcG9pbnQgPSBzZXJpZXNQb2ludHNbY3VycmVudFNlcmllc0l4XVtwb2ludEl4XTtcbiAgICAgICAgICAgIH0gd2hpbGUgKGN1cnJlbnRTZXJpZXNJeCA+IDAgJiYgIXBvaW50KTtcblxuICAgICAgICAgICAgaWYgKHBvaW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlICE9PSBTVEVQICYmIGNhdGVnb3J5SXggPiBzdGFydElkeCAmJiAhc2VyaWVzUG9pbnRzW2N1cnJlbnRTZXJpZXNJeF1bcG9pbnRJeCAtIDFdKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrUG9pbnRzLnB1c2godGhpcy5fcHJldmlvdXNTZWdtZW50UG9pbnQoY2F0ZWdvcnlJeCwgcG9pbnRJeCwgcG9pbnRJeCAtIDEsIGN1cnJlbnRTZXJpZXNJeCkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHN0YWNrUG9pbnRzLnB1c2gocG9pbnQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlICE9PSBTVEVQICYmIGNhdGVnb3J5SXggKyAxIDwgZW5kSWR4ICYmICFzZXJpZXNQb2ludHNbY3VycmVudFNlcmllc0l4XVtwb2ludEl4ICsgMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhY2tQb2ludHMucHVzaCh0aGlzLl9wcmV2aW91c1NlZ21lbnRQb2ludChjYXRlZ29yeUl4LCBwb2ludEl4LCBwb2ludEl4ICsgMSwgY3VycmVudFNlcmllc0l4KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBnYXBTdGFja1BvaW50ID0gdGhpcy5fY3JlYXRlR2FwU3RhY2tQb2ludChjYXRlZ29yeUl4KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGFja1BvaW50cy5wdXNoKGdhcFN0YWNrUG9pbnQpO1xuICAgICAgICAgICAgICAgIHN0YWNrUG9pbnRzLnB1c2goZ2FwU3RhY2tQb2ludCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RhY2tQb2ludHM7XG4gICAgfVxuXG4gICAgX3ByZXZpb3VzU2VnbWVudFBvaW50KGNhdGVnb3J5SXgsIHBvaW50SXgsIHNlZ21lbnRJeCwgc2VyaWVzSWR4KSB7XG4gICAgICAgIGNvbnN0IHNlcmllc1BvaW50cyA9IHRoaXMuc2VyaWVzUG9pbnRzO1xuICAgICAgICBsZXQgaW5kZXggPSBzZXJpZXNJZHg7XG4gICAgICAgIGxldCBwb2ludDtcblxuICAgICAgICB3aGlsZSAoaW5kZXggPiAwICYmICFwb2ludCkge1xuICAgICAgICAgICAgaW5kZXgtLTtcbiAgICAgICAgICAgIHBvaW50ID0gc2VyaWVzUG9pbnRzW2luZGV4XVtzZWdtZW50SXhdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFwb2ludCkge1xuICAgICAgICAgICAgcG9pbnQgPSB0aGlzLl9jcmVhdGVHYXBTdGFja1BvaW50KGNhdGVnb3J5SXgpO1xuICAgICAgICAgICAgdGhpcy5fc3RhY2tQb2ludHMucHVzaChwb2ludCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwb2ludCA9IHNlcmllc1BvaW50c1tpbmRleF1bcG9pbnRJeF07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcG9pbnQ7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUdhcFN0YWNrUG9pbnQoY2F0ZWdvcnlJeCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5wb2ludE9wdGlvbnMoe30sIDApO1xuICAgICAgICBjb25zdCBwb2ludCA9IG5ldyBMaW5lUG9pbnQoMCwgb3B0aW9ucyk7XG4gICAgICAgIHBvaW50LmNhdGVnb3J5SXggPSBjYXRlZ29yeUl4O1xuICAgICAgICBwb2ludC5zZXJpZXMgPSB7fTtcblxuICAgICAgICByZXR1cm4gcG9pbnQ7XG4gICAgfVxuXG4gICAgc2VyaWVzTWlzc2luZ1ZhbHVlcyhzZXJpZXMpIHtcbiAgICAgICAgcmV0dXJuIHNlcmllcy5taXNzaW5nVmFsdWVzIHx8IFpFUk87XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBcmVhQ2hhcnQ7IiwiaW1wb3J0IHsgTUlOX1ZBTFVFLCBNQVhfVkFMVUUgfSBmcm9tICcuLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IENsYXNzIH0gZnJvbSAnLi4vY29tbW9uJztcblxuY2xhc3MgQXhpc0dyb3VwUmFuZ2VUcmFja2VyIGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuYXhpc1JhbmdlcyA9IHt9O1xuICAgIH1cblxuICAgIHVwZGF0ZShjaGFydEF4aXNSYW5nZXMpIHtcbiAgICAgICAgY29uc3QgYXhpc1JhbmdlcyA9IHRoaXMuYXhpc1JhbmdlcztcblxuICAgICAgICBmb3IgKGxldCBheGlzTmFtZSBpbiBjaGFydEF4aXNSYW5nZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYXJ0UmFuZ2UgPSBjaGFydEF4aXNSYW5nZXNbYXhpc05hbWVdO1xuICAgICAgICAgICAgbGV0IHJhbmdlID0gYXhpc1Jhbmdlc1theGlzTmFtZV07XG4gICAgICAgICAgICBheGlzUmFuZ2VzW2F4aXNOYW1lXSA9IHJhbmdlID0gcmFuZ2UgfHwgeyBtaW46IE1BWF9WQUxVRSwgbWF4OiBNSU5fVkFMVUUgfTtcblxuICAgICAgICAgICAgcmFuZ2UubWluID0gTWF0aC5taW4ocmFuZ2UubWluLCBjaGFydFJhbmdlLm1pbik7XG4gICAgICAgICAgICByYW5nZS5tYXggPSBNYXRoLm1heChyYW5nZS5tYXgsIGNoYXJ0UmFuZ2UubWF4KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlc2V0KGF4aXNOYW1lKSB7XG4gICAgICAgIHRoaXMuYXhpc1Jhbmdlc1theGlzTmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcXVlcnkoYXhpc05hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXhpc1Jhbmdlc1theGlzTmFtZV07XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBeGlzR3JvdXBSYW5nZVRyYWNrZXI7IiwiaW1wb3J0IHsgQ2hhcnRFbGVtZW50LCBUZXh0Qm94LCBCb3ggfSBmcm9tICcuLi8uLi9jb3JlJztcbmltcG9ydCB7IEZBREVJTiwgSU5JVElBTF9BTklNQVRJT05fRFVSQVRJT04sIElOU0lERV9FTkQsIElOU0lERV9CQVNFLCBPVVRTSURFX0VORCB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmltcG9ydCB7IENFTlRFUiwgVE9QLCBCT1RUT00sIExFRlQsIFJJR0hULCBYLCBZLCBCTEFDSyB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZ2V0U3BhY2luZywgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBCYXJMYWJlbCBleHRlbmRzIENoYXJ0RWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoY29udGVudCwgb3B0aW9ucywgcG9pbnREYXRhKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMudGV4dEJveCA9IG5ldyBUZXh0Qm94KGNvbnRlbnQsIHRoaXMub3B0aW9ucywgcG9pbnREYXRhKTtcbiAgICAgICAgdGhpcy5hcHBlbmQodGhpcy50ZXh0Qm94KTtcbiAgICB9XG5cbiAgICBjcmVhdGVWaXN1YWwoKSB7XG4gICAgICAgIHRoaXMudGV4dEJveC5vcHRpb25zLm5vY2xpcCA9IHRoaXMub3B0aW9ucy5ub2NsaXA7XG4gICAgfVxuXG4gICAgcmVmbG93KHRhcmdldEJveCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB7IHZlcnRpY2FsLCBhYm92ZUF4aXMgfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHRleHQgPSB0aGlzLmNoaWxkcmVuWzBdO1xuICAgICAgICBjb25zdCB0ZXh0T3B0aW9ucyA9IHRleHQub3B0aW9ucztcbiAgICAgICAgY29uc3QgYm94ID0gdGV4dC5ib3g7XG4gICAgICAgIGNvbnN0IHBhZGRpbmcgPSB0ZXh0Lm9wdGlvbnMucGFkZGluZztcbiAgICAgICAgbGV0IGxhYmVsQm94ID0gdGFyZ2V0Qm94O1xuXG4gICAgICAgIHRleHRPcHRpb25zLmFsaWduID0gdmVydGljYWwgPyBDRU5URVIgOiBMRUZUO1xuICAgICAgICB0ZXh0T3B0aW9ucy52QWxpZ24gPSB2ZXJ0aWNhbCA/IFRPUCA6IENFTlRFUjtcblxuICAgICAgICBpZiAob3B0aW9ucy5wb3NpdGlvbiA9PT0gSU5TSURFX0VORCkge1xuICAgICAgICAgICAgaWYgKHZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgICAgdGV4dE9wdGlvbnMudkFsaWduID0gVE9QO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFhYm92ZUF4aXMgJiYgYm94LmhlaWdodCgpIDwgdGFyZ2V0Qm94LmhlaWdodCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHRPcHRpb25zLnZBbGlnbiA9IEJPVFRPTTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRleHRPcHRpb25zLmFsaWduID0gYWJvdmVBeGlzID8gUklHSFQgOiBMRUZUO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMucG9zaXRpb24gPT09IENFTlRFUikge1xuICAgICAgICAgICAgdGV4dE9wdGlvbnMudkFsaWduID0gQ0VOVEVSO1xuICAgICAgICAgICAgdGV4dE9wdGlvbnMuYWxpZ24gPSBDRU5URVI7XG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5wb3NpdGlvbiA9PT0gSU5TSURFX0JBU0UpIHtcbiAgICAgICAgICAgIGlmICh2ZXJ0aWNhbCkge1xuICAgICAgICAgICAgICAgIHRleHRPcHRpb25zLnZBbGlnbiA9IGFib3ZlQXhpcyA/IEJPVFRPTSA6IFRPUDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGV4dE9wdGlvbnMuYWxpZ24gPSBhYm92ZUF4aXMgPyBMRUZUIDogUklHSFQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5wb3NpdGlvbiA9PT0gT1VUU0lERV9FTkQpIHtcbiAgICAgICAgICAgIGlmICh2ZXJ0aWNhbCkge1xuICAgICAgICAgICAgICAgIGlmIChhYm92ZUF4aXMpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxCb3ggPSBuZXcgQm94KFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Qm94LngxLCB0YXJnZXRCb3gueTEgLSBib3guaGVpZ2h0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRCb3gueDIsIHRhcmdldEJveC55MVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsQm94ID0gbmV3IEJveChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEJveC54MSwgdGFyZ2V0Qm94LnkyLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Qm94LngyLCB0YXJnZXRCb3gueTIgKyBib3guaGVpZ2h0KClcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRleHRPcHRpb25zLmFsaWduID0gQ0VOVEVSO1xuICAgICAgICAgICAgICAgIGlmIChhYm92ZUF4aXMpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxCb3ggPSBuZXcgQm94KFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Qm94LngyLCB0YXJnZXRCb3gueTEsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRCb3gueDIgKyBib3gud2lkdGgoKSwgdGFyZ2V0Qm94LnkyXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxCb3ggPSBuZXcgQm94KFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Qm94LngxIC0gYm94LndpZHRoKCksIHRhcmdldEJveC55MSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEJveC54MSwgdGFyZ2V0Qm94LnkyXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFvcHRpb25zLnJvdGF0aW9uKSB7XG4gICAgICAgICAgICBpZiAodmVydGljYWwpIHtcbiAgICAgICAgICAgICAgICBwYWRkaW5nLmxlZnQgPSBwYWRkaW5nLnJpZ2h0ID1cbiAgICAgICAgICAgICAgICAgICAgKGxhYmVsQm94LndpZHRoKCkgLSB0ZXh0LmNvbnRlbnRCb3gud2lkdGgoKSkgLyAyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYWRkaW5nLnRvcCA9IHBhZGRpbmcuYm90dG9tID1cbiAgICAgICAgICAgICAgICAgICAgKGxhYmVsQm94LmhlaWdodCgpIC0gdGV4dC5jb250ZW50Qm94LmhlaWdodCgpKSAvIDI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0ZXh0LnJlZmxvdyhsYWJlbEJveCk7XG4gICAgfVxuXG4gICAgYWxpZ25Ub0NsaXBCb3goY2xpcEJveCkge1xuICAgICAgICBjb25zdCB2ZXJ0aWNhbCA9IHRoaXMub3B0aW9ucy52ZXJ0aWNhbDtcbiAgICAgICAgY29uc3QgZmllbGQgPSB2ZXJ0aWNhbCA/IFkgOiBYO1xuICAgICAgICBjb25zdCBzdGFydCA9IGZpZWxkICsgXCIxXCI7XG4gICAgICAgIGNvbnN0IGVuZCA9IGZpZWxkICsgXCIyXCI7XG4gICAgICAgIGNvbnN0IHRleHQgPSB0aGlzLmNoaWxkcmVuWzBdO1xuICAgICAgICBjb25zdCBwYXJlbnRCb3ggPSB0aGlzLnBhcmVudC5ib3g7XG5cbiAgICAgICAgaWYgKHBhcmVudEJveFtzdGFydF0gPCBjbGlwQm94W3N0YXJ0XSB8fCBjbGlwQm94W2VuZF0gPCBwYXJlbnRCb3hbZW5kXSkge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0Qm94ID0gdGV4dC5wYWRkaW5nQm94LmNsb25lKCk7XG4gICAgICAgICAgICB0YXJnZXRCb3hbc3RhcnRdID0gTWF0aC5tYXgocGFyZW50Qm94W3N0YXJ0XSwgY2xpcEJveFtzdGFydF0pO1xuICAgICAgICAgICAgdGFyZ2V0Qm94W2VuZF0gPSBNYXRoLm1pbihwYXJlbnRCb3hbZW5kXSwgY2xpcEJveFtlbmRdKTtcblxuICAgICAgICAgICAgdGhpcy5yZWZsb3codGFyZ2V0Qm94KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoQmFyTGFiZWwsIHtcbiAgICBwb3NpdGlvbjogT1VUU0lERV9FTkQsXG4gICAgbWFyZ2luOiBnZXRTcGFjaW5nKDMpLFxuICAgIHBhZGRpbmc6IGdldFNwYWNpbmcoNCksXG4gICAgY29sb3I6IEJMQUNLLFxuICAgIGJhY2tncm91bmQ6IFwiXCIsXG4gICAgYm9yZGVyOiB7XG4gICAgICAgIHdpZHRoOiAxLFxuICAgICAgICBjb2xvcjogXCJcIlxuICAgIH0sXG4gICAgYWJvdmVBeGlzOiB0cnVlLFxuICAgIHZlcnRpY2FsOiBmYWxzZSxcbiAgICBhbmltYXRpb246IHtcbiAgICAgICAgdHlwZTogRkFERUlOLFxuICAgICAgICBkZWxheTogSU5JVElBTF9BTklNQVRJT05fRFVSQVRJT05cbiAgICB9LFxuICAgIHpJbmRleDogMlxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IEJhckxhYmVsOyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhc0dyYWRpZW50T3ZlcmxheShvcHRpb25zKSB7XG4gICAgY29uc3Qgb3ZlcmxheSA9IG9wdGlvbnMub3ZlcmxheTtcblxuICAgIHJldHVybiBvdmVybGF5ICYmIG92ZXJsYXkuZ3JhZGllbnQgJiYgb3ZlcmxheS5ncmFkaWVudCAhPT0gXCJub25lXCI7XG59IiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3LCBDb2xvciB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IEJhckxhYmVsIGZyb20gJy4vYmFyLWxhYmVsJztcblxuaW1wb3J0IHsgQk9SREVSX0JSSUdIVE5FU1MsIFRPT0xUSVBfT0ZGU0VUIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuaW1wb3J0IGhhc0dyYWRpZW50T3ZlcmxheSBmcm9tICcuLi91dGlscy9oYXMtZ3JhZGllbnQtb3ZlcmxheSc7XG5cbmltcG9ydCB7IENoYXJ0RWxlbWVudCwgUG9pbnQgfSBmcm9tICcuLi8uLi9jb3JlJztcblxuaW1wb3J0IFBvaW50RXZlbnRzTWl4aW4gZnJvbSAnLi4vbWl4aW5zL3BvaW50LWV2ZW50cy1taXhpbic7XG5pbXBvcnQgTm90ZU1peGluIGZyb20gJy4uL21peGlucy9ub3RlLW1peGluJztcblxuaW1wb3J0IHsgV0hJVEUsIExFRlQsIFJJR0hULCBCT1RUT00sIFRPUCB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgYWxpZ25QYXRoVG9QaXhlbCwgZGVlcEV4dGVuZCwgZGVmaW5lZCwgZ2V0VGVtcGxhdGUsIHZhbHVlT3JEZWZhdWx0IH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY29uc3QgQkFSX0FMSUdOX01JTl9XSURUSCA9IDY7XG5cbmNsYXNzIEJhciBleHRlbmRzIENoYXJ0RWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IodmFsdWUsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLmNvbG9yID0gb3B0aW9ucy5jb2xvciB8fCBXSElURTtcbiAgICAgICAgdGhpcy5hYm92ZUF4aXMgPSB2YWx1ZU9yRGVmYXVsdCh0aGlzLm9wdGlvbnMuYWJvdmVBeGlzLCB0cnVlKTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlbmRlcmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9yZW5kZXJlZCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVMYWJlbCgpO1xuICAgICAgICB0aGlzLmNyZWF0ZU5vdGUoKTtcblxuICAgICAgICBpZiAodGhpcy5lcnJvckJhcikge1xuICAgICAgICAgICAgdGhpcy5hcHBlbmQodGhpcy5lcnJvckJhcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVMYWJlbCgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgbGFiZWxzID0gb3B0aW9ucy5sYWJlbHM7XG5cbiAgICAgICAgaWYgKGxhYmVscy52aXNpYmxlKSB7XG4gICAgICAgICAgICBjb25zdCBwb2ludERhdGEgPSB0aGlzLnBvaW50RGF0YSgpO1xuICAgICAgICAgICAgbGV0IGxhYmVsVGVtcGxhdGUgPSBnZXRUZW1wbGF0ZShsYWJlbHMpO1xuICAgICAgICAgICAgbGV0IGxhYmVsVGV4dDtcblxuICAgICAgICAgICAgaWYgKGxhYmVsVGVtcGxhdGUpIHtcbiAgICAgICAgICAgICAgICBsYWJlbFRleHQgPSBsYWJlbFRlbXBsYXRlKHBvaW50RGF0YSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxhYmVsVGV4dCA9IHRoaXMuZm9ybWF0VmFsdWUobGFiZWxzLmZvcm1hdCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMubGFiZWwgPSBuZXcgQmFyTGFiZWwobGFiZWxUZXh0LFxuICAgICAgICAgICAgICAgIGRlZXBFeHRlbmQoe1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogb3B0aW9ucy52ZXJ0aWNhbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbGFiZWxzXG4gICAgICAgICAgICApLCBwb2ludERhdGEpO1xuICAgICAgICAgICAgdGhpcy5hcHBlbmQodGhpcy5sYWJlbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmb3JtYXRWYWx1ZShmb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3duZXIuZm9ybWF0UG9pbnRWYWx1ZSh0aGlzLCBmb3JtYXQpO1xuICAgIH1cblxuICAgIHJlZmxvdyh0YXJnZXRCb3gpIHtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcblxuICAgICAgICBjb25zdCBsYWJlbCA9IHRoaXMubGFiZWw7XG5cbiAgICAgICAgdGhpcy5ib3ggPSB0YXJnZXRCb3g7XG5cbiAgICAgICAgaWYgKGxhYmVsKSB7XG4gICAgICAgICAgICBsYWJlbC5vcHRpb25zLmFib3ZlQXhpcyA9IHRoaXMuYWJvdmVBeGlzO1xuICAgICAgICAgICAgbGFiZWwucmVmbG93KHRhcmdldEJveCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5ub3RlKSB7XG4gICAgICAgICAgICB0aGlzLm5vdGUucmVmbG93KHRhcmdldEJveCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5lcnJvckJhcnMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5lcnJvckJhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVycm9yQmFyc1tpXS5yZWZsb3codGFyZ2V0Qm94KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZVZpc3VhbCgpIHtcbiAgICAgICAgY29uc3QgeyBib3gsIG9wdGlvbnMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGN1c3RvbVZpc3VhbCA9IG9wdGlvbnMudmlzdWFsO1xuXG4gICAgICAgIGlmICh0aGlzLnZpc2libGUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBzdXBlci5jcmVhdGVWaXN1YWwoKTtcblxuICAgICAgICAgICAgaWYgKGN1c3RvbVZpc3VhbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZpc3VhbCA9IHRoaXMucmVjdFZpc3VhbCA9IGN1c3RvbVZpc3VhbCh7XG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiB0aGlzLmNhdGVnb3J5LFxuICAgICAgICAgICAgICAgICAgICBkYXRhSXRlbTogdGhpcy5kYXRhSXRlbSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHNlbmRlcjogdGhpcy5nZXRTZW5kZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgc2VyaWVzOiB0aGlzLnNlcmllcyxcbiAgICAgICAgICAgICAgICAgICAgcGVyY2VudGFnZTogdGhpcy5wZXJjZW50YWdlLFxuICAgICAgICAgICAgICAgICAgICBzdGFja1ZhbHVlOiB0aGlzLnN0YWNrVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHJ1bm5pbmdUb3RhbDogdGhpcy5ydW5uaW5nVG90YWwsXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsOiB0aGlzLnRvdGFsLFxuICAgICAgICAgICAgICAgICAgICByZWN0OiBib3gudG9SZWN0KCksXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVZpc3VhbDogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSBuZXcgZHJhdy5Hcm91cCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVSZWN0KGdyb3VwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBncm91cDtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogb3B0aW9uc1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKHZpc3VhbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpc3VhbC5hcHBlbmQodmlzdWFsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGJveC53aWR0aCgpID4gMCAmJiBib3guaGVpZ2h0KCkgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVSZWN0KHRoaXMudmlzdWFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZVJlY3QodmlzdWFsKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGJvcmRlciA9IG9wdGlvbnMuYm9yZGVyO1xuICAgICAgICBjb25zdCBzdHJva2VPcGFjaXR5ID0gZGVmaW5lZChib3JkZXIub3BhY2l0eSkgPyBib3JkZXIub3BhY2l0eSA6IG9wdGlvbnMub3BhY2l0eTtcbiAgICAgICAgY29uc3QgcmVjdCA9IHRoaXMuYm94LnRvUmVjdCgpO1xuXG4gICAgICAgIHJlY3Quc2l6ZS53aWR0aCA9IE1hdGgucm91bmQocmVjdC5zaXplLndpZHRoKTtcblxuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5yZWN0VmlzdWFsID0gZHJhdy5QYXRoLmZyb21SZWN0KHJlY3QsIHtcbiAgICAgICAgICAgIGZpbGw6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogdGhpcy5jb2xvcixcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBvcHRpb25zLm9wYWNpdHlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdHJva2U6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogdGhpcy5nZXRCb3JkZXJDb2xvcigpLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBib3JkZXIud2lkdGgsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogc3Ryb2tlT3BhY2l0eSxcbiAgICAgICAgICAgICAgICBkYXNoVHlwZTogYm9yZGVyLmRhc2hUeXBlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5ib3gud2lkdGgoKTtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5ib3guaGVpZ2h0KCk7XG5cbiAgICAgICAgY29uc3Qgc2l6ZSA9IG9wdGlvbnMudmVydGljYWwgPyB3aWR0aCA6IGhlaWdodDtcblxuICAgICAgICBpZiAoc2l6ZSA+IEJBUl9BTElHTl9NSU5fV0lEVEgpIHtcbiAgICAgICAgICAgIGFsaWduUGF0aFRvUGl4ZWwocGF0aCk7XG5cbiAgICAgICAgICAgIC8vIEZpeGVzIGxpbmVKb2luIGlzc3VlIGluIGZpcmVmb3ggd2hlbiB0aGUgam9pbmVkIGxpbmVzIGFyZSBwYXJhbGxlbFxuICAgICAgICAgICAgaWYgKHdpZHRoIDwgMSB8fCBoZWlnaHQgPCAxKSB7XG4gICAgICAgICAgICAgICAgcGF0aC5vcHRpb25zLnN0cm9rZS5saW5lSm9pbiA9IFwicm91bmRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZpc3VhbC5hcHBlbmQocGF0aCk7XG5cbiAgICAgICAgaWYgKGhhc0dyYWRpZW50T3ZlcmxheShvcHRpb25zKSkge1xuICAgICAgICAgICAgY29uc3Qgb3ZlcmxheSA9IHRoaXMuY3JlYXRlR3JhZGllbnRPdmVybGF5KHBhdGgsIHsgYmFzZUNvbG9yOiB0aGlzLmNvbG9yIH0sIGRlZXBFeHRlbmQoe1xuICAgICAgICAgICAgICAgIGVuZDogIW9wdGlvbnMudmVydGljYWwgPyBbIDAsIDEgXSA6IHVuZGVmaW5lZFxuICAgICAgICAgICAgfSwgb3B0aW9ucy5vdmVybGF5KSk7XG5cbiAgICAgICAgICAgIHZpc3VhbC5hcHBlbmQob3ZlcmxheSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVIaWdobGlnaHQoc3R5bGUpIHtcbiAgICAgICAgY29uc3QgaGlnaGxpZ2h0ID0gZHJhdy5QYXRoLmZyb21SZWN0KHRoaXMuYm94LnRvUmVjdCgpLCBzdHlsZSk7XG5cbiAgICAgICAgcmV0dXJuIGFsaWduUGF0aFRvUGl4ZWwoaGlnaGxpZ2h0KTtcbiAgICB9XG5cbiAgICBoaWdobGlnaHRWaXN1YWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlY3RWaXN1YWw7XG4gICAgfVxuXG4gICAgaGlnaGxpZ2h0VmlzdWFsQXJncygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICAgIHJlY3Q6IHRoaXMuYm94LnRvUmVjdCgpLFxuICAgICAgICAgICAgdmlzdWFsOiB0aGlzLnJlY3RWaXN1YWxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBnZXRCb3JkZXJDb2xvcigpIHtcbiAgICAgICAgY29uc3QgY29sb3IgPSB0aGlzLmNvbG9yO1xuICAgICAgICBjb25zdCBib3JkZXIgPSB0aGlzLm9wdGlvbnMuYm9yZGVyO1xuICAgICAgICBjb25zdCBicmlnaHRuZXNzID0gYm9yZGVyLl9icmlnaHRuZXNzIHx8IEJPUkRFUl9CUklHSFRORVNTO1xuICAgICAgICBsZXQgYm9yZGVyQ29sb3IgPSBib3JkZXIuY29sb3I7XG5cbiAgICAgICAgaWYgKCFkZWZpbmVkKGJvcmRlckNvbG9yKSkge1xuICAgICAgICAgICAgYm9yZGVyQ29sb3IgPSBuZXcgQ29sb3IoY29sb3IpLmJyaWdodG5lc3MoYnJpZ2h0bmVzcykudG9IZXgoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBib3JkZXJDb2xvcjtcbiAgICB9XG5cbiAgICB0b29sdGlwQW5jaG9yKCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIGJveCwgYWJvdmVBeGlzIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBjbGlwQm94ID0gdGhpcy5vd25lci5wYW5lLmNsaXBCb3goKSB8fCBib3g7XG4gICAgICAgIGxldCBob3Jpem9udGFsQWxpZ24gPSBMRUZUO1xuICAgICAgICBsZXQgdmVydGljYWxBbGlnbiA9IFRPUDtcbiAgICAgICAgbGV0IHgsIHk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMudmVydGljYWwpIHtcbiAgICAgICAgICAgIHggPSBNYXRoLm1pbihib3gueDIsIGNsaXBCb3gueDIpICsgVE9PTFRJUF9PRkZTRVQ7XG4gICAgICAgICAgICBpZiAoYWJvdmVBeGlzKSB7XG4gICAgICAgICAgICAgICAgeSA9IE1hdGgubWF4KGJveC55MSwgY2xpcEJveC55MSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHkgPSBNYXRoLm1pbihib3gueTIsIGNsaXBCb3gueTIpO1xuICAgICAgICAgICAgICAgIHZlcnRpY2FsQWxpZ24gPSBCT1RUT007XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB4MSA9IE1hdGgubWF4KGJveC54MSwgY2xpcEJveC54MSk7XG4gICAgICAgICAgICBjb25zdCB4MiA9IE1hdGgubWluKGJveC54MiwgY2xpcEJveC54Mik7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmlzU3RhY2tlZCkge1xuICAgICAgICAgICAgICAgIHZlcnRpY2FsQWxpZ24gPSBCT1RUT007XG4gICAgICAgICAgICAgICAgaWYgKGFib3ZlQXhpcykge1xuICAgICAgICAgICAgICAgICAgICBob3Jpem9udGFsQWxpZ24gPSBSSUdIVDtcbiAgICAgICAgICAgICAgICAgICAgeCA9IHgyO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHggPSB4MTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgeSA9IE1hdGgubWF4KGJveC55MSwgY2xpcEJveC55MSkgLSBUT09MVElQX09GRlNFVDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGFib3ZlQXhpcykge1xuICAgICAgICAgICAgICAgICAgICB4ID0geDIgKyBUT09MVElQX09GRlNFVDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB4ID0geDEgLSBUT09MVElQX09GRlNFVDtcbiAgICAgICAgICAgICAgICAgICAgaG9yaXpvbnRhbEFsaWduID0gUklHSFQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHkgPSBNYXRoLm1heChib3gueTEsIGNsaXBCb3gueTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBvaW50OiBuZXcgUG9pbnQoeCwgeSksXG4gICAgICAgICAgICBhbGlnbjoge1xuICAgICAgICAgICAgICAgIGhvcml6b250YWw6IGhvcml6b250YWxBbGlnbixcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogdmVydGljYWxBbGlnblxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIG92ZXJsYXBzQm94KGJveCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ib3gub3ZlcmxhcHMoYm94KTtcbiAgICB9XG5cbiAgICBwb2ludERhdGEoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYXRhSXRlbTogdGhpcy5kYXRhSXRlbSxcbiAgICAgICAgICAgIGNhdGVnb3J5OiB0aGlzLmNhdGVnb3J5LFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMudmFsdWUsXG4gICAgICAgICAgICBwZXJjZW50YWdlOiB0aGlzLnBlcmNlbnRhZ2UsXG4gICAgICAgICAgICBzdGFja1ZhbHVlOiB0aGlzLnN0YWNrVmFsdWUsXG4gICAgICAgICAgICBydW5uaW5nVG90YWw6IHRoaXMucnVubmluZ1RvdGFsLFxuICAgICAgICAgICAgdG90YWw6IHRoaXMudG90YWwsXG4gICAgICAgICAgICBzZXJpZXM6IHRoaXMuc2VyaWVzXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5kZWVwRXh0ZW5kKEJhci5wcm90b3R5cGUsIFBvaW50RXZlbnRzTWl4aW4pO1xuZGVlcEV4dGVuZChCYXIucHJvdG90eXBlLCBOb3RlTWl4aW4pO1xuXG5CYXIucHJvdG90eXBlLmRlZmF1bHRzID0ge1xuICAgIGJvcmRlcjoge1xuICAgICAgICB3aWR0aDogMVxuICAgIH0sXG4gICAgdmVydGljYWw6IHRydWUsXG4gICAgb3ZlcmxheToge1xuICAgICAgICBncmFkaWVudDogXCJnbGFzc1wiXG4gICAgfSxcbiAgICBsYWJlbHM6IHtcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIGZvcm1hdDogXCJ7MH1cIlxuICAgIH0sXG4gICAgb3BhY2l0eTogMSxcbiAgICBub3Rlczoge1xuICAgICAgICBsYWJlbDoge31cbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBCYXI7IiwiZXhwb3J0IGZ1bmN0aW9uIGZvckVhY2goZWxlbWVudHMsIGNhbGxiYWNrKSB7XG4gICAgZWxlbWVudHMuZm9yRWFjaChjYWxsYmFjayk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JFYWNoUmV2ZXJzZShlbGVtZW50cywgY2FsbGJhY2spIHtcbiAgICBjb25zdCBsZW5ndGggPSBlbGVtZW50cy5sZW5ndGg7XG5cbiAgICBmb3IgKGxldCBpZHggPSBsZW5ndGggLSAxOyBpZHggPj0gMDsgaWR4LS0pIHtcbiAgICAgICAgY2FsbGJhY2soZWxlbWVudHNbaWR4XSwgaWR4IC0gbGVuZ3RoIC0gMSk7XG4gICAgfVxufSIsImltcG9ydCB7IENoYXJ0RWxlbWVudCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuXG5pbXBvcnQgeyBYLCBZIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5pbXBvcnQgeyBmb3JFYWNoLCBmb3JFYWNoUmV2ZXJzZSB9IGZyb20gJy4vdXRpbHMnO1xuXG5jbGFzcyBDbHVzdGVyTGF5b3V0IGV4dGVuZHMgQ2hhcnRFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuZm9yRWFjaCA9IG9wdGlvbnMucnRsID8gZm9yRWFjaFJldmVyc2UgOiBmb3JFYWNoO1xuICAgIH1cblxuICAgIHJlZmxvdyhib3gpIHtcbiAgICAgICAgY29uc3QgeyB2ZXJ0aWNhbCwgZ2FwLCBzcGFjaW5nIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbjtcbiAgICAgICAgY29uc3QgY291bnQgPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGF4aXMgPSB2ZXJ0aWNhbCA/IFkgOiBYO1xuICAgICAgICBjb25zdCBzbG90cyA9IGNvdW50ICsgZ2FwICsgKHNwYWNpbmcgKiAoY291bnQgLSAxKSk7XG4gICAgICAgIGNvbnN0IHNsb3RTaXplID0gKHZlcnRpY2FsID8gYm94LmhlaWdodCgpIDogYm94LndpZHRoKCkpIC8gc2xvdHM7XG4gICAgICAgIGxldCBwb3NpdGlvbiA9IGJveFtheGlzICsgMV0gKyBzbG90U2l6ZSAqIChnYXAgLyAyKTtcblxuICAgICAgICB0aGlzLmZvckVhY2goY2hpbGRyZW4sIChjaGlsZCwgaWR4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZEJveCA9IChjaGlsZC5ib3ggfHwgYm94KS5jbG9uZSgpO1xuXG4gICAgICAgICAgICBjaGlsZEJveFtheGlzICsgMV0gPSBwb3NpdGlvbjtcbiAgICAgICAgICAgIGNoaWxkQm94W2F4aXMgKyAyXSA9IHBvc2l0aW9uICsgc2xvdFNpemU7XG5cbiAgICAgICAgICAgIGNoaWxkLnJlZmxvdyhjaGlsZEJveCk7XG4gICAgICAgICAgICBpZiAoaWR4IDwgY291bnQgLSAxKSB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb24gKz0gKHNsb3RTaXplICogc3BhY2luZyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBvc2l0aW9uICs9IHNsb3RTaXplO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKENsdXN0ZXJMYXlvdXQsIHtcbiAgICB2ZXJ0aWNhbDogZmFsc2UsXG4gICAgZ2FwOiAwLFxuICAgIHNwYWNpbmc6IDBcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBDbHVzdGVyTGF5b3V0OyIsImltcG9ydCB7IENoYXJ0RWxlbWVudCwgQm94IH0gZnJvbSAnLi4vLi4vY29yZSc7XG5cbmltcG9ydCB7IFgsIFkgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgU3RhY2tXcmFwIGV4dGVuZHMgQ2hhcnRFbGVtZW50IHtcbiAgICByZWZsb3codGFyZ2V0Qm94KSB7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uQXhpcyA9IHRoaXMub3B0aW9ucy52ZXJ0aWNhbCA/IFggOiBZO1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW47XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuQ291bnQgPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgIGxldCBib3ggPSB0aGlzLmJveCA9IG5ldyBCb3goKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudENoaWxkID0gY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgIGlmIChjdXJyZW50Q2hpbGQudmlzaWJsZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZEJveCA9IGN1cnJlbnRDaGlsZC5ib3guY2xvbmUoKTtcbiAgICAgICAgICAgICAgICBjaGlsZEJveC5zbmFwVG8odGFyZ2V0Qm94LCBwb3NpdGlvbkF4aXMpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYm94ID0gdGhpcy5ib3ggPSBjaGlsZEJveC5jbG9uZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGN1cnJlbnRDaGlsZC5yZWZsb3coY2hpbGRCb3gpO1xuICAgICAgICAgICAgICAgIGJveC53cmFwKGNoaWxkQm94KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoU3RhY2tXcmFwLCB7XG4gICAgdmVydGljYWw6IHRydWVcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBTdGFja1dyYXA7IiwiaW1wb3J0IHsgZ2VvbWV0cnkgYXMgZ2VvbSB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IEJhciBmcm9tICcuL2Jhcic7XG5cbmltcG9ydCBDYXRlZ29yaWNhbENoYXJ0IGZyb20gJy4uL2NhdGVnb3JpY2FsLWNoYXJ0JztcbmltcG9ydCBDbHVzdGVyTGF5b3V0IGZyb20gJy4uL2xheW91dC9jbHVzdGVyLWxheW91dCc7XG5pbXBvcnQgU3RhY2tXcmFwIGZyb20gJy4uL2xheW91dC9zdGFjay13cmFwJztcbmltcG9ydCB7IEJBUiwgT1VUU0lERV9FTkQsIElOU0lERV9FTkQgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5pbXBvcnQgYW55SGFzWkluZGV4IGZyb20gJy4uL3V0aWxzL2FueS1oYXMtei1pbmRleCc7XG5cbmltcG9ydCB7IFNUUklORywgWCwgWSB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZGVmaW5lZCwgaXNGdW5jdGlvbiwgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBCYXJDaGFydCBleHRlbmRzIENhdGVnb3JpY2FsQ2hhcnQge1xuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBzdXBlci5yZW5kZXIoKTtcbiAgICAgICAgdGhpcy51cGRhdGVTdGFja1JhbmdlKCk7XG4gICAgfVxuXG4gICAgcG9pbnRUeXBlKCkge1xuICAgICAgICByZXR1cm4gQmFyO1xuICAgIH1cblxuICAgIGNsdXN0ZXJUeXBlKCkge1xuICAgICAgICByZXR1cm4gQ2x1c3RlckxheW91dDtcbiAgICB9XG5cbiAgICBzdGFja1R5cGUoKSB7XG4gICAgICAgIHJldHVybiBTdGFja1dyYXA7XG4gICAgfVxuXG4gICAgc3RhY2tMaW1pdHMoYXhpc05hbWUsIHN0YWNrTmFtZSkge1xuICAgICAgICBjb25zdCBsaW1pdHMgPSBzdXBlci5zdGFja0xpbWl0cyhheGlzTmFtZSwgc3RhY2tOYW1lKTtcblxuICAgICAgICByZXR1cm4gbGltaXRzO1xuICAgIH1cblxuICAgIGNyZWF0ZVBvaW50KGRhdGEsIGZpZWxkcykge1xuICAgICAgICBjb25zdCB7IGNhdGVnb3J5SXgsIGNhdGVnb3J5LCBzZXJpZXMsIHNlcmllc0l4IH0gPSBmaWVsZHM7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgY2hpbGRyZW4gfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGlzU3RhY2tlZCA9IG9wdGlvbnMuaXNTdGFja2VkO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMucG9pbnRWYWx1ZShkYXRhKTtcbiAgICAgICAgbGV0IHBvaW50T3B0aW9ucyA9IHRoaXMucG9pbnRPcHRpb25zKHNlcmllcywgc2VyaWVzSXgpO1xuXG4gICAgICAgIGNvbnN0IGxhYmVsT3B0aW9ucyA9IHBvaW50T3B0aW9ucy5sYWJlbHM7XG4gICAgICAgIGlmIChpc1N0YWNrZWQpIHtcbiAgICAgICAgICAgIGlmIChsYWJlbE9wdGlvbnMucG9zaXRpb24gPT09IE9VVFNJREVfRU5EKSB7XG4gICAgICAgICAgICAgICAgbGFiZWxPcHRpb25zLnBvc2l0aW9uID0gSU5TSURFX0VORDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHBvaW50T3B0aW9ucy5pc1N0YWNrZWQgPSBpc1N0YWNrZWQ7XG5cbiAgICAgICAgbGV0IGNvbG9yID0gZGF0YS5maWVsZHMuY29sb3IgfHwgc2VyaWVzLmNvbG9yO1xuICAgICAgICBpZiAodmFsdWUgPCAwICYmIHBvaW50T3B0aW9ucy5uZWdhdGl2ZUNvbG9yKSB7XG4gICAgICAgICAgICBjb2xvciA9IHBvaW50T3B0aW9ucy5uZWdhdGl2ZUNvbG9yO1xuICAgICAgICB9XG5cbiAgICAgICAgcG9pbnRPcHRpb25zID0gdGhpcy5ldmFsUG9pbnRPcHRpb25zKFxuICAgICAgICAgICAgcG9pbnRPcHRpb25zLCB2YWx1ZSwgY2F0ZWdvcnksIGNhdGVnb3J5SXgsIHNlcmllcywgc2VyaWVzSXhcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoaXNGdW5jdGlvbihzZXJpZXMuY29sb3IpKSB7XG4gICAgICAgICAgICBjb2xvciA9IHBvaW50T3B0aW9ucy5jb2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBvaW50VHlwZSA9IHRoaXMucG9pbnRUeXBlKCk7XG4gICAgICAgIGNvbnN0IHBvaW50ID0gbmV3IHBvaW50VHlwZSh2YWx1ZSwgcG9pbnRPcHRpb25zKTtcbiAgICAgICAgcG9pbnQuY29sb3IgPSBjb2xvcjtcblxuICAgICAgICBsZXQgY2x1c3RlciA9IGNoaWxkcmVuW2NhdGVnb3J5SXhdO1xuICAgICAgICBpZiAoIWNsdXN0ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsdXN0ZXJUeXBlID0gdGhpcy5jbHVzdGVyVHlwZSgpO1xuICAgICAgICAgICAgY2x1c3RlciA9IG5ldyBjbHVzdGVyVHlwZSh7XG4gICAgICAgICAgICAgICAgdmVydGljYWw6IG9wdGlvbnMuaW52ZXJ0QXhlcyxcbiAgICAgICAgICAgICAgICBnYXA6IG9wdGlvbnMuZ2FwLFxuICAgICAgICAgICAgICAgIHNwYWNpbmc6IG9wdGlvbnMuc3BhY2luZyxcbiAgICAgICAgICAgICAgICBydGw6ICFvcHRpb25zLmludmVydEF4ZXMgJiYgKHRoaXMuY2hhcnRTZXJ2aWNlIHx8IHt9KS5ydGxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5hcHBlbmQoY2x1c3Rlcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNTdGFja2VkKSB7XG4gICAgICAgICAgICBjb25zdCBzdGFja1dyYXAgPSB0aGlzLmdldFN0YWNrV3JhcChzZXJpZXMsIGNsdXN0ZXIpO1xuICAgICAgICAgICAgc3RhY2tXcmFwLmFwcGVuZChwb2ludCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjbHVzdGVyLmFwcGVuZChwb2ludCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcG9pbnQ7XG4gICAgfVxuXG4gICAgZ2V0U3RhY2tXcmFwKHNlcmllcywgY2x1c3Rlcikge1xuICAgICAgICBjb25zdCBzdGFjayA9IHNlcmllcy5zdGFjaztcbiAgICAgICAgY29uc3Qgc3RhY2tHcm91cCA9IHN0YWNrID8gc3RhY2suZ3JvdXAgfHwgc3RhY2sgOiBzdGFjaztcbiAgICAgICAgY29uc3Qgd3JhcHMgPSBjbHVzdGVyLmNoaWxkcmVuO1xuICAgICAgICBsZXQgc3RhY2tXcmFwO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygc3RhY2tHcm91cCA9PT0gU1RSSU5HKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdyYXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHdyYXBzW2ldLl9zdGFja0dyb3VwID09PSBzdGFja0dyb3VwKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrV3JhcCA9IHdyYXBzW2ldO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdGFja1dyYXAgPSB3cmFwc1swXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc3RhY2tXcmFwKSB7XG4gICAgICAgICAgICBjb25zdCBzdGFja1R5cGUgPSB0aGlzLnN0YWNrVHlwZSgpO1xuICAgICAgICAgICAgc3RhY2tXcmFwID0gbmV3IHN0YWNrVHlwZSh7XG4gICAgICAgICAgICAgICAgdmVydGljYWw6ICF0aGlzLm9wdGlvbnMuaW52ZXJ0QXhlc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdGFja1dyYXAuX3N0YWNrR3JvdXAgPSBzdGFja0dyb3VwO1xuICAgICAgICAgICAgY2x1c3Rlci5hcHBlbmQoc3RhY2tXcmFwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdGFja1dyYXA7XG4gICAgfVxuXG4gICAgY2F0ZWdvcnlTbG90KGNhdGVnb3J5QXhpcywgY2F0ZWdvcnlJeCwgdmFsdWVBeGlzKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5U2xvdCA9IGNhdGVnb3J5QXhpcy5nZXRTbG90KGNhdGVnb3J5SXgpO1xuICAgICAgICBjb25zdCBzdGFydFZhbHVlID0gdmFsdWVBeGlzLnN0YXJ0VmFsdWUoKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5pc1N0YWNrZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHplcm9TbG90ID0gdmFsdWVBeGlzLmdldFNsb3Qoc3RhcnRWYWx1ZSwgc3RhcnRWYWx1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICBjb25zdCBzdGFja0F4aXMgPSBvcHRpb25zLmludmVydEF4ZXMgPyBYIDogWTtcbiAgICAgICAgICAgIGNhdGVnb3J5U2xvdFtzdGFja0F4aXMgKyAxXSA9IGNhdGVnb3J5U2xvdFtzdGFja0F4aXMgKyAyXSA9IHplcm9TbG90W3N0YWNrQXhpcyArIDFdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNhdGVnb3J5U2xvdDtcbiAgICB9XG5cbiAgICByZWZsb3dDYXRlZ29yaWVzKGNhdGVnb3J5U2xvdHMpIHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuO1xuICAgICAgICBjb25zdCBjaGlsZHJlbkxlbmd0aCA9IGNoaWxkcmVuLmxlbmd0aDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNoaWxkcmVuW2ldLnJlZmxvdyhjYXRlZ29yeVNsb3RzW2ldKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZUFuaW1hdGlvbigpIHtcbiAgICAgICAgdGhpcy5fc2V0QW5pbWF0aW9uT3B0aW9ucygpO1xuICAgICAgICBzdXBlci5jcmVhdGVBbmltYXRpb24oKTtcblxuICAgICAgICBpZiAoYW55SGFzWkluZGV4KHRoaXMub3B0aW9ucy5zZXJpZXMpKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRDaGlsZHJlbkFuaW1hdGlvbigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3NldENoaWxkcmVuQW5pbWF0aW9uKCkge1xuICAgICAgICBjb25zdCBwb2ludHMgPSB0aGlzLnBvaW50cztcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBwb2ludHMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBwb2ludHNbaWR4XTtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50VmlzdWFsID0gcG9pbnQudmlzdWFsO1xuICAgICAgICAgICAgaWYgKHBvaW50VmlzdWFsICYmIGRlZmluZWQocG9pbnRWaXN1YWwub3B0aW9ucy56SW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgcG9pbnQub3B0aW9ucy5hbmltYXRpb24gPSB0aGlzLm9wdGlvbnMuYW5pbWF0aW9uO1xuICAgICAgICAgICAgICAgIHBvaW50LmNyZWF0ZUFuaW1hdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3NldEFuaW1hdGlvbk9wdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGFuaW1hdGlvbiA9IG9wdGlvbnMuYW5pbWF0aW9uIHx8IHt9O1xuICAgICAgICBsZXQgb3JpZ2luO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmlzU3RhY2tlZCkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWVBeGlzID0gdGhpcy5zZXJpZXNWYWx1ZUF4aXMob3B0aW9ucy5zZXJpZXNbMF0pO1xuICAgICAgICAgICAgb3JpZ2luID0gdmFsdWVBeGlzLmdldFNsb3QodmFsdWVBeGlzLnN0YXJ0VmFsdWUoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvcmlnaW4gPSB0aGlzLmNhdGVnb3J5QXhpcy5nZXRTbG90KDApO1xuICAgICAgICB9XG5cbiAgICAgICAgYW5pbWF0aW9uLm9yaWdpbiA9IG5ldyBnZW9tLlBvaW50KG9yaWdpbi54MSwgb3JpZ2luLnkxKTtcbiAgICAgICAgYW5pbWF0aW9uLnZlcnRpY2FsID0gIW9wdGlvbnMuaW52ZXJ0QXhlcztcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKEJhckNoYXJ0LCB7XG4gICAgYW5pbWF0aW9uOiB7XG4gICAgICAgIHR5cGU6IEJBUlxuICAgIH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBCYXJDaGFydDsiLCJpbXBvcnQgeyBkcmF3aW5nIGFzIGRyYXcsIENvbG9yIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgeyBDaGFydEVsZW1lbnQsIFBvaW50IH0gZnJvbSAnLi4vLi4vY29yZSc7XG5pbXBvcnQgUG9pbnRFdmVudHNNaXhpbiBmcm9tICcuLi9taXhpbnMvcG9pbnQtZXZlbnRzLW1peGluJztcbmltcG9ydCBOb3RlTWl4aW4gZnJvbSAnLi4vbWl4aW5zL25vdGUtbWl4aW4nO1xuXG5pbXBvcnQgeyBUT09MVElQX09GRlNFVCB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgaGFzR3JhZGllbnRPdmVybGF5IGZyb20gJy4uL3V0aWxzL2hhcy1ncmFkaWVudC1vdmVybGF5JztcblxuaW1wb3J0IHsgV0hJVEUsIExFRlQsIFRPUCB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgYWxpZ25QYXRoVG9QaXhlbCwgZGVlcEV4dGVuZCwgZGVmaW5lZCwgc2V0RGVmYXVsdE9wdGlvbnMsIHZhbHVlT3JEZWZhdWx0IH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgQ2FuZGxlc3RpY2sgZXh0ZW5kcyBDaGFydEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcmVmbG93KGJveCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIHZhbHVlLCBvd25lcjogY2hhcnQgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHZhbHVlQXhpcyA9IGNoYXJ0LnNlcmllc1ZhbHVlQXhpcyhvcHRpb25zKTtcbiAgICAgICAgY29uc3Qgb2NTbG90ID0gdmFsdWVBeGlzLmdldFNsb3QodmFsdWUub3BlbiwgdmFsdWUuY2xvc2UpO1xuICAgICAgICBjb25zdCBsaFNsb3QgPSB2YWx1ZUF4aXMuZ2V0U2xvdCh2YWx1ZS5sb3csIHZhbHVlLmhpZ2gpO1xuXG4gICAgICAgIG9jU2xvdC54MSA9IGxoU2xvdC54MSA9IGJveC54MTtcbiAgICAgICAgb2NTbG90LngyID0gbGhTbG90LngyID0gYm94LngyO1xuXG4gICAgICAgIHRoaXMucmVhbEJvZHkgPSBvY1Nsb3Q7XG5cbiAgICAgICAgY29uc3QgbWlkID0gbGhTbG90LmNlbnRlcigpLng7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IFtdO1xuXG4gICAgICAgIHBvaW50cy5wdXNoKFsgWyBtaWQsIGxoU2xvdC55MSBdLCBbIG1pZCwgb2NTbG90LnkxIF0gXSk7XG4gICAgICAgIHBvaW50cy5wdXNoKFsgWyBtaWQsIG9jU2xvdC55MiBdLCBbIG1pZCwgbGhTbG90LnkyIF0gXSk7XG5cbiAgICAgICAgdGhpcy5saW5lcyA9IHBvaW50cztcblxuICAgICAgICB0aGlzLmJveCA9IGxoU2xvdC5jbG9uZSgpLndyYXAob2NTbG90KTtcblxuICAgICAgICBpZiAoIXRoaXMuX3JlbmRlcmVkKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZU5vdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVmbG93Tm90ZSgpO1xuICAgIH1cblxuICAgIHJlZmxvd05vdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLm5vdGUpIHtcbiAgICAgICAgICAgIHRoaXMubm90ZS5yZWZsb3codGhpcy5ib3gpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlVmlzdWFsKCkge1xuICAgICAgICBzdXBlci5jcmVhdGVWaXN1YWwoKTtcbiAgICAgICAgdGhpcy5fbWFpblZpc3VhbCA9IHRoaXMubWFpblZpc3VhbCh0aGlzLm9wdGlvbnMpO1xuICAgICAgICB0aGlzLnZpc3VhbC5hcHBlbmQoXG4gICAgICAgICAgICB0aGlzLl9tYWluVmlzdWFsXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVPdmVybGF5KCk7XG4gICAgfVxuXG4gICAgbWFpblZpc3VhbChvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gbmV3IGRyYXcuR3JvdXAoKTtcblxuICAgICAgICB0aGlzLmNyZWF0ZUJvZHkoZ3JvdXAsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmNyZWF0ZUxpbmVzKGdyb3VwLCBvcHRpb25zKTtcblxuICAgICAgICByZXR1cm4gZ3JvdXA7XG4gICAgfVxuXG4gICAgY3JlYXRlQm9keShjb250YWluZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IGRyYXcuUGF0aC5mcm9tUmVjdCh0aGlzLnJlYWxCb2R5LnRvUmVjdCgpLCB7XG4gICAgICAgICAgICBmaWxsOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IHRoaXMuY29sb3IsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogb3B0aW9ucy5vcGFjaXR5XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3Ryb2tlOiBudWxsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmJvcmRlci53aWR0aCA+IDApIHtcbiAgICAgICAgICAgIGJvZHkub3B0aW9ucy5zZXQoXCJzdHJva2VcIiwge1xuICAgICAgICAgICAgICAgIGNvbG9yOiB0aGlzLmdldEJvcmRlckNvbG9yKCksXG4gICAgICAgICAgICAgICAgd2lkdGg6IG9wdGlvbnMuYm9yZGVyLndpZHRoLFxuICAgICAgICAgICAgICAgIGRhc2hUeXBlOiBvcHRpb25zLmJvcmRlci5kYXNoVHlwZSxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiB2YWx1ZU9yRGVmYXVsdChvcHRpb25zLmJvcmRlci5vcGFjaXR5LCBvcHRpb25zLm9wYWNpdHkpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFsaWduUGF0aFRvUGl4ZWwoYm9keSk7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmQoYm9keSk7XG5cbiAgICAgICAgaWYgKGhhc0dyYWRpZW50T3ZlcmxheShvcHRpb25zKSkge1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZCh0aGlzLmNyZWF0ZUdyYWRpZW50T3ZlcmxheShib2R5LCB7IGJhc2VDb2xvcjogdGhpcy5jb2xvciB9LCBkZWVwRXh0ZW5kKHtcbiAgICAgICAgICAgICAgICBlbmQ6ICFvcHRpb25zLnZlcnRpY2FsID8gWyAwLCAxIF0gOiB1bmRlZmluZWRcbiAgICAgICAgICAgIH0sIG9wdGlvbnMub3ZlcmxheSkpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZUxpbmVzKGNvbnRhaW5lciwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmRyYXdMaW5lcyhjb250YWluZXIsIG9wdGlvbnMsIHRoaXMubGluZXMsIG9wdGlvbnMubGluZSk7XG4gICAgfVxuXG4gICAgZHJhd0xpbmVzKGNvbnRhaW5lciwgb3B0aW9ucywgbGluZXMsIGxpbmVPcHRpb25zKSB7XG4gICAgICAgIGlmICghbGluZXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxpbmVTdHlsZSA9IHtcbiAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBsaW5lT3B0aW9ucy5jb2xvciB8fCB0aGlzLmNvbG9yLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IHZhbHVlT3JEZWZhdWx0KGxpbmVPcHRpb25zLm9wYWNpdHksIG9wdGlvbnMub3BhY2l0eSksXG4gICAgICAgICAgICAgICAgd2lkdGg6IGxpbmVPcHRpb25zLndpZHRoLFxuICAgICAgICAgICAgICAgIGRhc2hUeXBlOiBsaW5lT3B0aW9ucy5kYXNoVHlwZSxcbiAgICAgICAgICAgICAgICBsaW5lQ2FwOiBcImJ1dHRcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmUgPSBkcmF3LlBhdGguZnJvbVBvaW50cyhsaW5lc1tpXSwgbGluZVN0eWxlKTtcbiAgICAgICAgICAgIGFsaWduUGF0aFRvUGl4ZWwobGluZSk7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kKGxpbmUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0Qm9yZGVyQ29sb3IoKSB7XG4gICAgICAgIGNvbnN0IGJvcmRlciA9IHRoaXMub3B0aW9ucy5ib3JkZXI7XG4gICAgICAgIGxldCBib3JkZXJDb2xvciA9IGJvcmRlci5jb2xvcjtcblxuICAgICAgICBpZiAoIWRlZmluZWQoYm9yZGVyQ29sb3IpKSB7XG4gICAgICAgICAgICBib3JkZXJDb2xvciA9IG5ldyBDb2xvcih0aGlzLmNvbG9yKS5icmlnaHRuZXNzKGJvcmRlci5fYnJpZ2h0bmVzcykudG9IZXgoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBib3JkZXJDb2xvcjtcbiAgICB9XG5cbiAgICBjcmVhdGVPdmVybGF5KCkge1xuICAgICAgICBjb25zdCBvdmVybGF5ID0gZHJhdy5QYXRoLmZyb21SZWN0KHRoaXMuYm94LnRvUmVjdCgpLCB7XG4gICAgICAgICAgICBmaWxsOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IFdISVRFLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdHJva2U6IG51bGxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy52aXN1YWwuYXBwZW5kKG92ZXJsYXkpO1xuICAgIH1cblxuICAgIGNyZWF0ZUhpZ2hsaWdodCgpIHtcbiAgICAgICAgY29uc3QgaGlnaGxpZ2h0ID0gdGhpcy5vcHRpb25zLmhpZ2hsaWdodDtcbiAgICAgICAgY29uc3Qgbm9ybWFsQ29sb3IgPSB0aGlzLmNvbG9yO1xuXG4gICAgICAgIHRoaXMuY29sb3IgPSBoaWdobGlnaHQuY29sb3IgfHwgdGhpcy5jb2xvcjtcbiAgICAgICAgY29uc3Qgb3ZlcmxheSA9IHRoaXMubWFpblZpc3VhbChcbiAgICAgICAgICAgIGRlZXBFeHRlbmQoe30sIHRoaXMub3B0aW9ucywge1xuICAgICAgICAgICAgICAgIGxpbmU6IHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IHRoaXMuZ2V0Qm9yZGVyQ29sb3IoKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGhpZ2hsaWdodClcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5jb2xvciA9IG5vcm1hbENvbG9yO1xuXG4gICAgICAgIHJldHVybiBvdmVybGF5O1xuICAgIH1cblxuICAgIGhpZ2hsaWdodFZpc3VhbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21haW5WaXN1YWw7XG4gICAgfVxuXG4gICAgaGlnaGxpZ2h0VmlzdWFsQXJncygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICAgIHJlY3Q6IHRoaXMuYm94LnRvUmVjdCgpLFxuICAgICAgICAgICAgdmlzdWFsOiB0aGlzLl9tYWluVmlzdWFsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdG9vbHRpcEFuY2hvcigpIHtcbiAgICAgICAgY29uc3QgYm94ID0gdGhpcy5ib3g7XG4gICAgICAgIGNvbnN0IGNsaXBCb3ggPSB0aGlzLm93bmVyLnBhbmUuY2xpcEJveCgpIHx8IGJveDtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcG9pbnQ6IG5ldyBQb2ludChib3gueDIgKyBUT09MVElQX09GRlNFVCwgTWF0aC5tYXgoYm94LnkxLCBjbGlwQm94LnkxKSArIFRPT0xUSVBfT0ZGU0VUKSxcbiAgICAgICAgICAgIGFsaWduOiB7XG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbDogTEVGVCxcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogVE9QXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZm9ybWF0VmFsdWUoZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLm93bmVyLmZvcm1hdFBvaW50VmFsdWUodGhpcywgZm9ybWF0KTtcbiAgICB9XG5cbiAgICBvdmVybGFwc0JveChib3gpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYm94Lm92ZXJsYXBzKGJveCk7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhDYW5kbGVzdGljaywge1xuICAgIHZlcnRpY2FsOiB0cnVlLFxuICAgIGJvcmRlcjoge1xuICAgICAgICBfYnJpZ2h0bmVzczogMC44XG4gICAgfSxcbiAgICBsaW5lOiB7XG4gICAgICAgIHdpZHRoOiAyXG4gICAgfSxcbiAgICBvdmVybGF5OiB7XG4gICAgICAgIGdyYWRpZW50OiBcImdsYXNzXCJcbiAgICB9LFxuICAgIHRvb2x0aXA6IHtcbiAgICAgICAgZm9ybWF0OiBcIjx0YWJsZT5cIiArXG4gICAgICAgICAgICAgICAgICAgIFwiPHRyPjx0aCBjb2xzcGFuPScyJz57NDpkfTwvdGg+PC90cj5cIiArXG4gICAgICAgICAgICAgICAgICAgIFwiPHRyPjx0ZD5PcGVuOjwvdGQ+PHRkPnswOkN9PC90ZD48L3RyPlwiICtcbiAgICAgICAgICAgICAgICAgICAgXCI8dHI+PHRkPkhpZ2g6PC90ZD48dGQ+ezE6Q308L3RkPjwvdHI+XCIgK1xuICAgICAgICAgICAgICAgICAgICBcIjx0cj48dGQ+TG93OjwvdGQ+PHRkPnsyOkN9PC90ZD48L3RyPlwiICtcbiAgICAgICAgICAgICAgICAgICAgXCI8dHI+PHRkPkNsb3NlOjwvdGQ+PHRkPnszOkN9PC90ZD48L3RyPlwiICtcbiAgICAgICAgICAgICAgICBcIjwvdGFibGU+XCJcbiAgICB9LFxuICAgIGhpZ2hsaWdodDoge1xuICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICBib3JkZXI6IHtcbiAgICAgICAgICAgIHdpZHRoOiAxLFxuICAgICAgICAgICAgb3BhY2l0eTogMVxuICAgICAgICB9LFxuICAgICAgICBsaW5lOiB7XG4gICAgICAgICAgICB3aWR0aDogMSxcbiAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbm90ZXM6IHtcbiAgICAgICAgdmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgbGFiZWw6IHt9XG4gICAgfVxufSk7XG5cbmRlZXBFeHRlbmQoQ2FuZGxlc3RpY2sucHJvdG90eXBlLCBQb2ludEV2ZW50c01peGluKTtcbmRlZXBFeHRlbmQoQ2FuZGxlc3RpY2sucHJvdG90eXBlLCBOb3RlTWl4aW4pO1xuXG5leHBvcnQgZGVmYXVsdCBDYW5kbGVzdGljazsiLCJpbXBvcnQgY291bnROdW1iZXJzIGZyb20gJy4vY291bnQtbnVtYmVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFyZU51bWJlcnModmFsdWVzKSB7XG4gICAgcmV0dXJuIGNvdW50TnVtYmVycyh2YWx1ZXMpID09PSB2YWx1ZXMubGVuZ3RoO1xufSIsImltcG9ydCBDYXRlZ29yaWNhbENoYXJ0IGZyb20gJy4uL2NhdGVnb3JpY2FsLWNoYXJ0JztcbmltcG9ydCBDbHVzdGVyTGF5b3V0IGZyb20gJy4uL2xheW91dC9jbHVzdGVyLWxheW91dCc7XG5pbXBvcnQgQ2FuZGxlc3RpY2sgZnJvbSAnLi9jYW5kbGVzdGljayc7XG5cbmltcG9ydCBDbGlwQW5pbWF0aW9uTWl4aW4gZnJvbSAnLi4vbWl4aW5zL2NsaXAtYW5pbWF0aW9uLW1peGluJztcbmltcG9ydCB7IENBTkRMRVNUSUNLIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCBhcmVOdW1iZXJzIGZyb20gJy4uL3V0aWxzL2FyZS1udW1iZXJzJztcblxuaW1wb3J0IHsgTUlOX1ZBTFVFLCBNQVhfVkFMVUUgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGRlZXBFeHRlbmQsIGlzRnVuY3Rpb24gfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBDYW5kbGVzdGlja0NoYXJ0IGV4dGVuZHMgQ2F0ZWdvcmljYWxDaGFydCB7XG5cbiAgICByZWZsb3dDYXRlZ29yaWVzKGNhdGVnb3J5U2xvdHMpIHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuO1xuICAgICAgICBjb25zdCBjaGlsZHJlbkxlbmd0aCA9IGNoaWxkcmVuLmxlbmd0aDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNoaWxkcmVuW2ldLnJlZmxvdyhjYXRlZ29yeVNsb3RzW2ldKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFkZFZhbHVlKGRhdGEsIGZpZWxkcykge1xuICAgICAgICBjb25zdCB7IGNhdGVnb3J5SXgsIGNhdGVnb3J5LCBzZXJpZXMsIHNlcmllc0l4IH0gPSBmaWVsZHM7XG4gICAgICAgIGNvbnN0IHsgY2hpbGRyZW4sIG9wdGlvbnMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gZGF0YS52YWx1ZUZpZWxkcztcbiAgICAgICAgY29uc3QgdmFsdWVQYXJ0cyA9IHRoaXMuc3BsaXRWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGhhc1ZhbHVlID0gYXJlTnVtYmVycyh2YWx1ZVBhcnRzKTtcbiAgICAgICAgY29uc3QgZGF0YUl0ZW0gPSBzZXJpZXMuZGF0YVtjYXRlZ29yeUl4XTtcbiAgICAgICAgbGV0IGNhdGVnb3J5UG9pbnRzID0gdGhpcy5jYXRlZ29yeVBvaW50c1tjYXRlZ29yeUl4XTtcbiAgICAgICAgbGV0IHBvaW50O1xuXG4gICAgICAgIGlmICghY2F0ZWdvcnlQb2ludHMpIHtcbiAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnlQb2ludHNbY2F0ZWdvcnlJeF0gPSBjYXRlZ29yeVBvaW50cyA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc1ZhbHVlKSB7XG4gICAgICAgICAgICBwb2ludCA9IHRoaXMuY3JlYXRlUG9pbnQoZGF0YSwgZmllbGRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjbHVzdGVyID0gY2hpbGRyZW5bY2F0ZWdvcnlJeF07XG4gICAgICAgIGlmICghY2x1c3Rlcikge1xuICAgICAgICAgICAgY2x1c3RlciA9IG5ldyBDbHVzdGVyTGF5b3V0KHtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogb3B0aW9ucy5pbnZlcnRBeGVzLFxuICAgICAgICAgICAgICAgIGdhcDogb3B0aW9ucy5nYXAsXG4gICAgICAgICAgICAgICAgc3BhY2luZzogb3B0aW9ucy5zcGFjaW5nLFxuICAgICAgICAgICAgICAgIHJ0bDogIW9wdGlvbnMuaW52ZXJ0QXhlcyAmJiAodGhpcy5jaGFydFNlcnZpY2UgfHwge30pLnJ0bFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZChjbHVzdGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwb2ludCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVSYW5nZSh2YWx1ZSwgZmllbGRzKTtcblxuICAgICAgICAgICAgY2x1c3Rlci5hcHBlbmQocG9pbnQpO1xuXG4gICAgICAgICAgICBwb2ludC5jYXRlZ29yeUl4ID0gY2F0ZWdvcnlJeDtcbiAgICAgICAgICAgIHBvaW50LmNhdGVnb3J5ID0gY2F0ZWdvcnk7XG4gICAgICAgICAgICBwb2ludC5zZXJpZXMgPSBzZXJpZXM7XG4gICAgICAgICAgICBwb2ludC5zZXJpZXNJeCA9IHNlcmllc0l4O1xuICAgICAgICAgICAgcG9pbnQub3duZXIgPSB0aGlzO1xuICAgICAgICAgICAgcG9pbnQuZGF0YUl0ZW0gPSBkYXRhSXRlbTtcbiAgICAgICAgICAgIHBvaW50Lm5vdGVUZXh0ID0gZGF0YS5maWVsZHMubm90ZVRleHQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBvaW50cy5wdXNoKHBvaW50KTtcbiAgICAgICAgY2F0ZWdvcnlQb2ludHMucHVzaChwb2ludCk7XG4gICAgfVxuXG4gICAgcG9pbnRUeXBlKCkge1xuICAgICAgICByZXR1cm4gQ2FuZGxlc3RpY2s7XG4gICAgfVxuXG4gICAgY3JlYXRlUG9pbnQoZGF0YSwgZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IHsgY2F0ZWdvcnlJeCwgY2F0ZWdvcnksIHNlcmllcywgc2VyaWVzSXggfSA9IGZpZWxkcztcbiAgICAgICAgY29uc3QgcG9pbnRUeXBlID0gdGhpcy5wb2ludFR5cGUoKTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBkYXRhLnZhbHVlRmllbGRzO1xuICAgICAgICBsZXQgcG9pbnRPcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgc2VyaWVzKTtcbiAgICAgICAgbGV0IGNvbG9yID0gZGF0YS5maWVsZHMuY29sb3IgfHwgc2VyaWVzLmNvbG9yO1xuXG4gICAgICAgIHBvaW50T3B0aW9ucyA9IHRoaXMuZXZhbFBvaW50T3B0aW9ucyhcbiAgICAgICAgICAgIHBvaW50T3B0aW9ucywgdmFsdWUsIGNhdGVnb3J5LCBjYXRlZ29yeUl4LCBzZXJpZXMsIHNlcmllc0l4XG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKHNlcmllcy50eXBlID09PSBDQU5ETEVTVElDSykge1xuICAgICAgICAgICAgaWYgKHZhbHVlLm9wZW4gPiB2YWx1ZS5jbG9zZSkge1xuICAgICAgICAgICAgICAgIGNvbG9yID0gZGF0YS5maWVsZHMuZG93bkNvbG9yIHx8IHNlcmllcy5kb3duQ29sb3IgfHwgc2VyaWVzLmNvbG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oc2VyaWVzLmNvbG9yKSkge1xuICAgICAgICAgICAgY29sb3IgPSBwb2ludE9wdGlvbnMuY29sb3I7XG4gICAgICAgIH1cblxuICAgICAgICBwb2ludE9wdGlvbnMudmVydGljYWwgPSAhdGhpcy5vcHRpb25zLmludmVydEF4ZXM7XG5cbiAgICAgICAgY29uc3QgcG9pbnQgPSBuZXcgcG9pbnRUeXBlKHZhbHVlLCBwb2ludE9wdGlvbnMpO1xuICAgICAgICBwb2ludC5jb2xvciA9IGNvbG9yO1xuXG4gICAgICAgIHJldHVybiBwb2ludDtcbiAgICB9XG5cbiAgICBzcGxpdFZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBbIHZhbHVlLmxvdywgdmFsdWUub3BlbiwgdmFsdWUuY2xvc2UsIHZhbHVlLmhpZ2ggXTtcbiAgICB9XG5cbiAgICB1cGRhdGVSYW5nZSh2YWx1ZSwgZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IGF4aXNOYW1lID0gZmllbGRzLnNlcmllcy5heGlzO1xuICAgICAgICBjb25zdCBwYXJ0cyA9IHRoaXMuc3BsaXRWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIGxldCBheGlzUmFuZ2UgPSB0aGlzLnZhbHVlQXhpc1Jhbmdlc1theGlzTmFtZV07XG5cbiAgICAgICAgYXhpc1JhbmdlID0gdGhpcy52YWx1ZUF4aXNSYW5nZXNbYXhpc05hbWVdID1cbiAgICAgICAgICAgIGF4aXNSYW5nZSB8fCB7IG1pbjogTUFYX1ZBTFVFLCBtYXg6IE1JTl9WQUxVRSB9O1xuXG4gICAgICAgIGF4aXNSYW5nZSA9IHRoaXMudmFsdWVBeGlzUmFuZ2VzW2F4aXNOYW1lXSA9IHtcbiAgICAgICAgICAgIG1pbjogTWF0aC5taW4uYXBwbHkoTWF0aCwgcGFydHMuY29uY2F0KFsgYXhpc1JhbmdlLm1pbiBdKSksXG4gICAgICAgICAgICBtYXg6IE1hdGgubWF4LmFwcGx5KE1hdGgsIHBhcnRzLmNvbmNhdChbIGF4aXNSYW5nZS5tYXggXSkpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZm9ybWF0UG9pbnRWYWx1ZShwb2ludCwgZm9ybWF0KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcG9pbnQudmFsdWU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhcnRTZXJ2aWNlLmZvcm1hdC5hdXRvKGZvcm1hdCxcbiAgICAgICAgICAgIHZhbHVlLm9wZW4sIHZhbHVlLmhpZ2gsXG4gICAgICAgICAgICB2YWx1ZS5sb3csIHZhbHVlLmNsb3NlLCBwb2ludC5jYXRlZ29yeVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFuaW1hdGlvblBvaW50cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9pbnRzO1xuICAgIH1cbn1cblxuZGVlcEV4dGVuZChDYW5kbGVzdGlja0NoYXJ0LnByb3RvdHlwZSwgQ2xpcEFuaW1hdGlvbk1peGluKTtcblxuZXhwb3J0IGRlZmF1bHQgQ2FuZGxlc3RpY2tDaGFydDsiLCJpbXBvcnQgeyBDb2xvciB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IENhbmRsZXN0aWNrIGZyb20gJy4uL2NhbmRsZXN0aWNrLWNoYXJ0L2NhbmRsZXN0aWNrJztcbmltcG9ydCBQb2ludEV2ZW50c01peGluIGZyb20gJy4uL21peGlucy9wb2ludC1ldmVudHMtbWl4aW4nO1xuaW1wb3J0IHsgU2hhcGVFbGVtZW50IH0gZnJvbSAnLi4vLi4vY29yZSc7XG5cbmltcG9ydCB7IExJTkVfTUFSS0VSX1NJWkUsIEJPUkRFUl9CUklHSFRORVNTIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuaW1wb3J0IHsgQ1JPU1MsIENJUkNMRSwgV0hJVEUgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGRlZXBFeHRlbmQsIGRlZmluZWQsIHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgQm94UGxvdCBleHRlbmRzIENhbmRsZXN0aWNrIHtcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcih2YWx1ZSwgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVOb3RlKCk7XG4gICAgfVxuXG4gICAgcmVmbG93KGJveCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIHZhbHVlLCBvd25lcjogY2hhcnQgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHZhbHVlQXhpcyA9IGNoYXJ0LnNlcmllc1ZhbHVlQXhpcyhvcHRpb25zKTtcbiAgICAgICAgbGV0IHdoaXNrZXJTbG90LCBib3hTbG90O1xuXG4gICAgICAgIHRoaXMuYm94U2xvdCA9IGJveFNsb3QgPSB2YWx1ZUF4aXMuZ2V0U2xvdCh2YWx1ZS5xMSwgdmFsdWUucTMpO1xuICAgICAgICB0aGlzLnJlYWxCb2R5ID0gYm94U2xvdDtcbiAgICAgICAgdGhpcy5yZWZsb3dCb3hTbG90KGJveCk7XG5cbiAgICAgICAgdGhpcy53aGlza2VyU2xvdCA9IHdoaXNrZXJTbG90ID0gdmFsdWVBeGlzLmdldFNsb3QodmFsdWUubG93ZXIsIHZhbHVlLnVwcGVyKTtcbiAgICAgICAgdGhpcy5yZWZsb3dXaGlza2VyU2xvdChib3gpO1xuXG4gICAgICAgIGNvbnN0IG1lZGlhblNsb3QgPSB2YWx1ZUF4aXMuZ2V0U2xvdCh2YWx1ZS5tZWRpYW4pO1xuXG4gICAgICAgIGlmICh2YWx1ZS5tZWFuKSB7XG4gICAgICAgICAgICBjb25zdCBtZWFuU2xvdCA9IHZhbHVlQXhpcy5nZXRTbG90KHZhbHVlLm1lYW4pO1xuICAgICAgICAgICAgdGhpcy5tZWFuUG9pbnRzID0gdGhpcy5jYWxjTWVhblBvaW50cyhib3gsIG1lYW5TbG90KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMud2hpc2tlclBvaW50cyA9IHRoaXMuY2FsY1doaXNrZXJQb2ludHMoYm94U2xvdCwgd2hpc2tlclNsb3QpO1xuICAgICAgICB0aGlzLm1lZGlhblBvaW50cyA9IHRoaXMuY2FsY01lZGlhblBvaW50cyhib3gsIG1lZGlhblNsb3QpO1xuXG4gICAgICAgIHRoaXMuYm94ID0gd2hpc2tlclNsb3QuY2xvbmUoKS53cmFwKGJveFNsb3QpO1xuICAgICAgICB0aGlzLnJlZmxvd05vdGUoKTtcbiAgICB9XG5cbiAgICByZWZsb3dCb3hTbG90KGJveCkge1xuICAgICAgICB0aGlzLmJveFNsb3QueDEgPSBib3gueDE7XG4gICAgICAgIHRoaXMuYm94U2xvdC54MiA9IGJveC54MjtcbiAgICB9XG5cbiAgICByZWZsb3dXaGlza2VyU2xvdChib3gpIHtcbiAgICAgICAgdGhpcy53aGlza2VyU2xvdC54MSA9IGJveC54MTtcbiAgICAgICAgdGhpcy53aGlza2VyU2xvdC54MiA9IGJveC54MjtcbiAgICB9XG5cbiAgICBjYWxjTWVhblBvaW50cyhib3gsIG1lYW5TbG90KSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBbIFsgYm94LngxLCBtZWFuU2xvdC55MSBdLCBbIGJveC54MiwgbWVhblNsb3QueTEgXSBdXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgY2FsY1doaXNrZXJQb2ludHMoYm94U2xvdCwgd2hpc2tlclNsb3QpIHtcbiAgICAgICAgY29uc3QgbWlkID0gd2hpc2tlclNsb3QuY2VudGVyKCkueDtcbiAgICAgICAgcmV0dXJuIFsgW1xuICAgICAgICAgICAgWyBtaWQgLSA1LCB3aGlza2VyU2xvdC55MSBdLCBbIG1pZCArIDUsIHdoaXNrZXJTbG90LnkxIF0sXG4gICAgICAgICAgICBbIG1pZCwgd2hpc2tlclNsb3QueTEgXSwgWyBtaWQsIGJveFNsb3QueTEgXVxuICAgICAgICBdLCBbXG4gICAgICAgICAgICBbIG1pZCAtIDUsIHdoaXNrZXJTbG90LnkyIF0sIFsgbWlkICsgNSwgd2hpc2tlclNsb3QueTIgXSxcbiAgICAgICAgICAgIFsgbWlkLCB3aGlza2VyU2xvdC55MiBdLCBbIG1pZCwgYm94U2xvdC55MiBdXG4gICAgICAgIF0gXTtcbiAgICB9XG5cbiAgICBjYWxjTWVkaWFuUG9pbnRzKGJveCwgbWVkaWFuU2xvdCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgWyBbIGJveC54MSwgbWVkaWFuU2xvdC55MSBdLCBbIGJveC54MiwgbWVkaWFuU2xvdC55MSBdIF1cbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICByZW5kZXJPdXRsaWVycyhvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICAgICAgY29uc3Qgb3V0bGllcnMgPSB2YWx1ZS5vdXRsaWVycyB8fCBbXTtcbiAgICAgICAgY29uc3Qgb3V0ZXJGZW5jZSA9IE1hdGguYWJzKHZhbHVlLnEzIC0gdmFsdWUucTEpICogMztcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBbXTtcbiAgICAgICAgbGV0IG1hcmtlcnMgPSBvcHRpb25zLm1hcmtlcnMgfHwge307XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvdXRsaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgb3V0bGllclZhbHVlID0gb3V0bGllcnNbaV07XG4gICAgICAgICAgICBpZiAob3V0bGllclZhbHVlIDwgdmFsdWUucTMgKyBvdXRlckZlbmNlICYmIG91dGxpZXJWYWx1ZSA+IHZhbHVlLnExIC0gb3V0ZXJGZW5jZSkge1xuICAgICAgICAgICAgICAgIG1hcmtlcnMgPSBvcHRpb25zLm91dGxpZXJzO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtYXJrZXJzID0gb3B0aW9ucy5leHRyZW1lcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBtYXJrZXJzQm9yZGVyID0gZGVlcEV4dGVuZCh7fSwgbWFya2Vycy5ib3JkZXIpO1xuXG4gICAgICAgICAgICBpZiAoIWRlZmluZWQobWFya2Vyc0JvcmRlci5jb2xvcikpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGVmaW5lZCh0aGlzLmNvbG9yKSkge1xuICAgICAgICAgICAgICAgICAgICBtYXJrZXJzQm9yZGVyLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtYXJrZXJzQm9yZGVyLmNvbG9yID1cbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBDb2xvcihtYXJrZXJzLmJhY2tncm91bmQpLmJyaWdodG5lc3MoQk9SREVSX0JSSUdIVE5FU1MpLnRvSGV4KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBzaGFwZSA9IG5ldyBTaGFwZUVsZW1lbnQoe1xuICAgICAgICAgICAgICAgIHR5cGU6IG1hcmtlcnMudHlwZSxcbiAgICAgICAgICAgICAgICB3aWR0aDogbWFya2Vycy5zaXplLFxuICAgICAgICAgICAgICAgIGhlaWdodDogbWFya2Vycy5zaXplLFxuICAgICAgICAgICAgICAgIHJvdGF0aW9uOiBtYXJrZXJzLnJvdGF0aW9uLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IG1hcmtlcnMuYmFja2dyb3VuZCxcbiAgICAgICAgICAgICAgICBib3JkZXI6IG1hcmtlcnNCb3JkZXIsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogbWFya2Vycy5vcGFjaXR5XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc2hhcGUudmFsdWUgPSBvdXRsaWVyVmFsdWU7XG5cbiAgICAgICAgICAgIGVsZW1lbnRzLnB1c2goc2hhcGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZWZsb3dPdXRsaWVycyhlbGVtZW50cyk7XG4gICAgICAgIHJldHVybiBlbGVtZW50cztcbiAgICB9XG5cbiAgICByZWZsb3dPdXRsaWVycyhvdXRsaWVycykge1xuICAgICAgICBjb25zdCB2YWx1ZUF4aXMgPSB0aGlzLm93bmVyLnNlcmllc1ZhbHVlQXhpcyh0aGlzLm9wdGlvbnMpO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSB0aGlzLmJveC5jZW50ZXIoKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG91dGxpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBvdXRsaWVyVmFsdWUgPSBvdXRsaWVyc1tpXS52YWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IG1hcmtlckJveCA9IHZhbHVlQXhpcy5nZXRTbG90KG91dGxpZXJWYWx1ZSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMudmVydGljYWwpIHtcbiAgICAgICAgICAgICAgICBtYXJrZXJCb3gubW92ZShjZW50ZXIueCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1hcmtlckJveC5tb3ZlKHVuZGVmaW5lZCwgY2VudGVyLnkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmJveCA9IHRoaXMuYm94LndyYXAobWFya2VyQm94KTtcbiAgICAgICAgICAgIG91dGxpZXJzW2ldLnJlZmxvdyhtYXJrZXJCb3gpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbWFpblZpc3VhbChvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gc3VwZXIubWFpblZpc3VhbChvcHRpb25zKTtcbiAgICAgICAgY29uc3Qgb3V0bGllcnMgPSB0aGlzLnJlbmRlck91dGxpZXJzKG9wdGlvbnMpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3V0bGllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBvdXRsaWVyc1tpXS5nZXRFbGVtZW50KCk7XG4gICAgICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGdyb3VwLmFwcGVuZChlbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBncm91cDtcbiAgICB9XG5cbiAgICBjcmVhdGVMaW5lcyhjb250YWluZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5kcmF3TGluZXMoY29udGFpbmVyLCBvcHRpb25zLCB0aGlzLndoaXNrZXJQb2ludHMsIG9wdGlvbnMud2hpc2tlcnMpO1xuICAgICAgICB0aGlzLmRyYXdMaW5lcyhjb250YWluZXIsIG9wdGlvbnMsIHRoaXMubWVkaWFuUG9pbnRzLCBvcHRpb25zLm1lZGlhbik7XG4gICAgICAgIHRoaXMuZHJhd0xpbmVzKGNvbnRhaW5lciwgb3B0aW9ucywgdGhpcy5tZWFuUG9pbnRzLCBvcHRpb25zLm1lYW4pO1xuICAgIH1cblxuICAgIGdldEJvcmRlckNvbG9yKCkge1xuICAgICAgICBpZiAoKHRoaXMub3B0aW9ucy5ib3JkZXIgfHwge30pLmNvbG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmJvcmRlci5jb2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNvbG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdXBlci5nZXRCb3JkZXJDb2xvcigpO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoQm94UGxvdCwge1xuICAgIGJvcmRlcjoge1xuICAgICAgICBfYnJpZ2h0bmVzczogMC44XG4gICAgfSxcbiAgICBsaW5lOiB7XG4gICAgICAgIHdpZHRoOiAyXG4gICAgfSxcbiAgICBtZWRpYW46IHtcbiAgICAgICAgY29sb3I6IFwiI2Y2ZjZmNlwiXG4gICAgfSxcbiAgICBtZWFuOiB7XG4gICAgICAgIHdpZHRoOiAyLFxuICAgICAgICBkYXNoVHlwZTogXCJkYXNoXCIsXG4gICAgICAgIGNvbG9yOiBcIiNmNmY2ZjZcIlxuICAgIH0sXG4gICAgb3ZlcmxheToge1xuICAgICAgICBncmFkaWVudDogXCJnbGFzc1wiXG4gICAgfSxcbiAgICB0b29sdGlwOiB7XG4gICAgICAgIGZvcm1hdDogXCI8dGFibGU+XCIgK1xuICAgICAgICAgICAgICAgICAgICBcIjx0cj48dGggY29sc3Bhbj0nMic+ezY6ZH08L3RoPjwvdHI+XCIgK1xuICAgICAgICAgICAgICAgICAgICBcIjx0cj48dGQ+TG93ZXI6PC90ZD48dGQ+ezA6Q308L3RkPjwvdHI+XCIgK1xuICAgICAgICAgICAgICAgICAgICBcIjx0cj48dGQ+UTE6PC90ZD48dGQ+ezE6Q308L3RkPjwvdHI+XCIgK1xuICAgICAgICAgICAgICAgICAgICBcIjx0cj48dGQ+TWVkaWFuOjwvdGQ+PHRkPnsyOkN9PC90ZD48L3RyPlwiICtcbiAgICAgICAgICAgICAgICAgICAgXCI8dHI+PHRkPk1lYW46PC90ZD48dGQ+ezU6Q308L3RkPjwvdHI+XCIgK1xuICAgICAgICAgICAgICAgICAgICBcIjx0cj48dGQ+UTM6PC90ZD48dGQ+ezM6Q308L3RkPjwvdHI+XCIgK1xuICAgICAgICAgICAgICAgICAgICBcIjx0cj48dGQ+VXBwZXI6PC90ZD48dGQ+ezQ6Q308L3RkPjwvdHI+XCIgK1xuICAgICAgICAgICAgICAgIFwiPC90YWJsZT5cIlxuICAgIH0sXG4gICAgaGlnaGxpZ2h0OiB7XG4gICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgIGJvcmRlcjoge1xuICAgICAgICAgICAgd2lkdGg6IDEsXG4gICAgICAgICAgICBvcGFjaXR5OiAxXG4gICAgICAgIH0sXG4gICAgICAgIGxpbmU6IHtcbiAgICAgICAgICAgIHdpZHRoOiAxLFxuICAgICAgICAgICAgb3BhY2l0eTogMVxuICAgICAgICB9XG4gICAgfSxcbiAgICBub3Rlczoge1xuICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICBsYWJlbDoge31cbiAgICB9LFxuICAgIG91dGxpZXJzOiB7XG4gICAgICAgIHZpc2libGU6IHRydWUsXG4gICAgICAgIHNpemU6IExJTkVfTUFSS0VSX1NJWkUsXG4gICAgICAgIHR5cGU6IENST1NTLFxuICAgICAgICBiYWNrZ3JvdW5kOiBXSElURSxcbiAgICAgICAgYm9yZGVyOiB7XG4gICAgICAgICAgICB3aWR0aDogMixcbiAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgfSxcbiAgICAgICAgb3BhY2l0eTogMFxuICAgIH0sXG4gICAgZXh0cmVtZXM6IHtcbiAgICAgICAgdmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgc2l6ZTogTElORV9NQVJLRVJfU0laRSxcbiAgICAgICAgdHlwZTogQ0lSQ0xFLFxuICAgICAgICBiYWNrZ3JvdW5kOiBXSElURSxcbiAgICAgICAgYm9yZGVyOiB7XG4gICAgICAgICAgICB3aWR0aDogMixcbiAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgfSxcbiAgICAgICAgb3BhY2l0eTogMFxuICAgIH1cbn0pO1xuXG5kZWVwRXh0ZW5kKEJveFBsb3QucHJvdG90eXBlLCBQb2ludEV2ZW50c01peGluKTtcblxuZXhwb3J0IGRlZmF1bHQgQm94UGxvdDsiLCJpbXBvcnQgQm94UGxvdCBmcm9tICcuL2JveC1wbG90JztcblxuY2xhc3MgVmVydGljYWxCb3hQbG90IGV4dGVuZHMgQm94UGxvdCB7XG4gICAgcmVmbG93Qm94U2xvdChib3gpIHtcbiAgICAgICAgdGhpcy5ib3hTbG90LnkxID0gYm94LnkxO1xuICAgICAgICB0aGlzLmJveFNsb3QueTIgPSBib3gueTI7XG4gICAgfVxuXG4gICAgcmVmbG93V2hpc2tlclNsb3QoYm94KSB7XG4gICAgICAgIHRoaXMud2hpc2tlclNsb3QueTEgPSBib3gueTE7XG4gICAgICAgIHRoaXMud2hpc2tlclNsb3QueTIgPSBib3gueTI7XG4gICAgfVxuXG4gICAgY2FsY01lYW5Qb2ludHMoYm94LCBtZWFuU2xvdCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgWyBbIG1lYW5TbG90LngxLCBib3gueTEgXSwgWyBtZWFuU2xvdC54MSwgYm94LnkyIF0gXVxuICAgICAgICBdO1xuICAgIH1cblxuICAgIGNhbGNXaGlza2VyUG9pbnRzKGJveFNsb3QsIHdoaXNrZXJTbG90KSB7XG4gICAgICAgIGNvbnN0IG1pZCA9IHdoaXNrZXJTbG90LmNlbnRlcigpLnk7XG4gICAgICAgIHJldHVybiBbIFtcbiAgICAgICAgICAgIFsgd2hpc2tlclNsb3QueDEsIG1pZCAtIDUgXSwgWyB3aGlza2VyU2xvdC54MSwgbWlkICsgNSBdLFxuICAgICAgICAgICAgWyB3aGlza2VyU2xvdC54MSwgbWlkIF0sIFsgYm94U2xvdC54MSwgbWlkIF1cbiAgICAgICAgXSwgW1xuICAgICAgICAgICAgWyB3aGlza2VyU2xvdC54MiwgbWlkIC0gNSBdLCBbIHdoaXNrZXJTbG90LngyLCBtaWQgKyA1IF0sXG4gICAgICAgICAgICBbIHdoaXNrZXJTbG90LngyLCBtaWQgXSwgWyBib3hTbG90LngyLCBtaWQgXVxuICAgICAgICBdIF07XG4gICAgfVxuXG4gICAgY2FsY01lZGlhblBvaW50cyhib3gsIG1lZGlhblNsb3QpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIFsgWyBtZWRpYW5TbG90LngxLCBib3gueTEgXSwgWyBtZWRpYW5TbG90LngxLCBib3gueTIgXSBdXG4gICAgICAgIF07XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWZXJ0aWNhbEJveFBsb3Q7IiwiaW1wb3J0IENhbmRsZXN0aWNrQ2hhcnQgZnJvbSAnLi4vY2FuZGxlc3RpY2stY2hhcnQvY2FuZGxlc3RpY2stY2hhcnQnO1xuaW1wb3J0IFZlcnRpY2FsQm94UGxvdCBmcm9tICcuL3ZlcnRpY2FsLWJveC1wbG90JztcbmltcG9ydCBCb3hQbG90IGZyb20gJy4vYm94LXBsb3QnO1xuaW1wb3J0IENsdXN0ZXJMYXlvdXQgZnJvbSAnLi4vbGF5b3V0L2NsdXN0ZXItbGF5b3V0JztcblxuaW1wb3J0IGFyZU51bWJlcnMgZnJvbSAnLi4vdXRpbHMvYXJlLW51bWJlcnMnO1xuXG5pbXBvcnQgeyBNSU5fVkFMVUUsIE1BWF9WQUxVRSB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZGVmaW5lZCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIEJveFBsb3RDaGFydCBleHRlbmRzIENhbmRsZXN0aWNrQ2hhcnQge1xuICAgIGFkZFZhbHVlKGRhdGEsIGZpZWxkcykge1xuICAgICAgICBjb25zdCB7IGNhdGVnb3J5SXgsIGNhdGVnb3J5LCBzZXJpZXMsIHNlcmllc0l4IH0gPSBmaWVsZHM7XG4gICAgICAgIGNvbnN0IHsgY2hpbGRyZW4sIG9wdGlvbnMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gZGF0YS52YWx1ZUZpZWxkcztcbiAgICAgICAgY29uc3QgdmFsdWVQYXJ0cyA9IHRoaXMuc3BsaXRWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGhhc1ZhbHVlID0gYXJlTnVtYmVycyh2YWx1ZVBhcnRzKTtcbiAgICAgICAgY29uc3QgZGF0YUl0ZW0gPSBzZXJpZXMuZGF0YVtjYXRlZ29yeUl4XTtcbiAgICAgICAgbGV0IGNhdGVnb3J5UG9pbnRzID0gdGhpcy5jYXRlZ29yeVBvaW50c1tjYXRlZ29yeUl4XTtcbiAgICAgICAgbGV0IHBvaW50O1xuXG4gICAgICAgIGlmICghY2F0ZWdvcnlQb2ludHMpIHtcbiAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnlQb2ludHNbY2F0ZWdvcnlJeF0gPSBjYXRlZ29yeVBvaW50cyA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc1ZhbHVlKSB7XG4gICAgICAgICAgICBwb2ludCA9IHRoaXMuY3JlYXRlUG9pbnQoZGF0YSwgZmllbGRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjbHVzdGVyID0gY2hpbGRyZW5bY2F0ZWdvcnlJeF07XG4gICAgICAgIGlmICghY2x1c3Rlcikge1xuICAgICAgICAgICAgY2x1c3RlciA9IG5ldyBDbHVzdGVyTGF5b3V0KHtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogb3B0aW9ucy5pbnZlcnRBeGVzLFxuICAgICAgICAgICAgICAgIGdhcDogb3B0aW9ucy5nYXAsXG4gICAgICAgICAgICAgICAgc3BhY2luZzogb3B0aW9ucy5zcGFjaW5nLFxuICAgICAgICAgICAgICAgIHJ0bDogIW9wdGlvbnMuaW52ZXJ0QXhlcyAmJiAodGhpcy5jaGFydFNlcnZpY2UgfHwge30pLnJ0bFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZChjbHVzdGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwb2ludCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVSYW5nZSh2YWx1ZSwgZmllbGRzKTtcblxuICAgICAgICAgICAgY2x1c3Rlci5hcHBlbmQocG9pbnQpO1xuXG4gICAgICAgICAgICBwb2ludC5jYXRlZ29yeUl4ID0gY2F0ZWdvcnlJeDtcbiAgICAgICAgICAgIHBvaW50LmNhdGVnb3J5ID0gY2F0ZWdvcnk7XG4gICAgICAgICAgICBwb2ludC5zZXJpZXMgPSBzZXJpZXM7XG4gICAgICAgICAgICBwb2ludC5zZXJpZXNJeCA9IHNlcmllc0l4O1xuICAgICAgICAgICAgcG9pbnQub3duZXIgPSB0aGlzO1xuICAgICAgICAgICAgcG9pbnQuZGF0YUl0ZW0gPSBkYXRhSXRlbTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucG9pbnRzLnB1c2gocG9pbnQpO1xuICAgICAgICBjYXRlZ29yeVBvaW50cy5wdXNoKHBvaW50KTtcbiAgICB9XG5cbiAgICBwb2ludFR5cGUoKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaW52ZXJ0QXhlcykge1xuICAgICAgICAgICAgcmV0dXJuIFZlcnRpY2FsQm94UGxvdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBCb3hQbG90O1xuICAgIH1cblxuICAgIHNwbGl0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHZhbHVlLmxvd2VyLCB2YWx1ZS5xMSwgdmFsdWUubWVkaWFuLFxuICAgICAgICAgICAgdmFsdWUucTMsIHZhbHVlLnVwcGVyXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgdXBkYXRlUmFuZ2UodmFsdWUsIGZpZWxkcykge1xuICAgICAgICBjb25zdCBheGlzTmFtZSA9IGZpZWxkcy5zZXJpZXMuYXhpcztcbiAgICAgICAgbGV0IGF4aXNSYW5nZSA9IHRoaXMudmFsdWVBeGlzUmFuZ2VzW2F4aXNOYW1lXTtcbiAgICAgICAgbGV0IHBhcnRzID0gdGhpcy5zcGxpdFZhbHVlKHZhbHVlKS5jb25jYXQodGhpcy5maWx0ZXJPdXRsaWVycyh2YWx1ZS5vdXRsaWVycykpO1xuXG4gICAgICAgIGlmIChkZWZpbmVkKHZhbHVlLm1lYW4pKSB7XG4gICAgICAgICAgICBwYXJ0cyA9IHBhcnRzLmNvbmNhdCh2YWx1ZS5tZWFuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF4aXNSYW5nZSA9IHRoaXMudmFsdWVBeGlzUmFuZ2VzW2F4aXNOYW1lXSA9XG4gICAgICAgICAgICBheGlzUmFuZ2UgfHwgeyBtaW46IE1BWF9WQUxVRSwgbWF4OiBNSU5fVkFMVUUgfTtcblxuICAgICAgICBheGlzUmFuZ2UgPSB0aGlzLnZhbHVlQXhpc1Jhbmdlc1theGlzTmFtZV0gPSB7XG4gICAgICAgICAgICBtaW46IE1hdGgubWluLmFwcGx5KE1hdGgsIHBhcnRzLmNvbmNhdChbIGF4aXNSYW5nZS5taW4gXSkpLFxuICAgICAgICAgICAgbWF4OiBNYXRoLm1heC5hcHBseShNYXRoLCBwYXJ0cy5jb25jYXQoWyBheGlzUmFuZ2UubWF4IF0pKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZvcm1hdFBvaW50VmFsdWUocG9pbnQsIGZvcm1hdCkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHBvaW50LnZhbHVlO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmNoYXJ0U2VydmljZS5mb3JtYXQuYXV0byhmb3JtYXQsXG4gICAgICAgICAgICB2YWx1ZS5sb3dlciwgdmFsdWUucTEsIHZhbHVlLm1lZGlhbixcbiAgICAgICAgICAgIHZhbHVlLnEzLCB2YWx1ZS51cHBlciwgdmFsdWUubWVhbiwgcG9pbnQuY2F0ZWdvcnlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBmaWx0ZXJPdXRsaWVycyhpdGVtcykge1xuICAgICAgICBjb25zdCBsZW5ndGggPSAoaXRlbXMgfHwgW10pLmxlbmd0aDtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IGl0ZW1zW2ldO1xuICAgICAgICAgICAgaWYgKGRlZmluZWQoaXRlbSkgJiYgaXRlbSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJveFBsb3RDaGFydDsiLCJpbXBvcnQgRXJyb3JCYXJCYXNlIGZyb20gJy4vZXJyb3ItYmFyLWJhc2UnO1xuXG5jbGFzcyBTY2F0dGVyRXJyb3JCYXIgZXh0ZW5kcyBFcnJvckJhckJhc2Uge1xuICAgIGdldEF4aXMoKSB7XG4gICAgICAgIGNvbnN0IGF4ZXMgPSB0aGlzLmNoYXJ0LnNlcmllc0F4ZXModGhpcy5zZXJpZXMpO1xuICAgICAgICBjb25zdCBheGlzID0gdGhpcy5pc1ZlcnRpY2FsID8gYXhlcy55IDogYXhlcy54O1xuXG4gICAgICAgIHJldHVybiBheGlzO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2NhdHRlckVycm9yQmFyOyIsImltcG9ydCB7IGRlZmluZWQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYXNWYWx1ZSh2YWx1ZSkge1xuICAgIHJldHVybiBkZWZpbmVkKHZhbHVlKSAmJiB2YWx1ZSAhPT0gbnVsbDtcbn0iLCJpbXBvcnQgeyBDaGFydEVsZW1lbnQsIEJveCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuXG5pbXBvcnQgQ2xpcEFuaW1hdGlvbk1peGluIGZyb20gJy4uL21peGlucy9jbGlwLWFuaW1hdGlvbi1taXhpbic7XG5pbXBvcnQgRXJyb3JSYW5nZUNhbGN1bGF0b3IgZnJvbSAnLi4vZXJyb3ItYmFycy9lcnJvci1yYW5nZS1jYWxjdWxhdG9yJztcbmltcG9ydCBTY2F0dGVyRXJyb3JCYXIgZnJvbSAnLi4vZXJyb3ItYmFycy9zY2F0dGVyLWVycm9yLWJhcic7XG5pbXBvcnQgTGluZVBvaW50IGZyb20gJy4uL2xpbmUtY2hhcnQvbGluZS1wb2ludCc7XG5pbXBvcnQgQ2F0ZWdvcmljYWxDaGFydCBmcm9tICcuLi9jYXRlZ29yaWNhbC1jaGFydCc7XG5cbmltcG9ydCBoYXNWYWx1ZSBmcm9tICcuLi91dGlscy9oYXMtdmFsdWUnO1xuaW1wb3J0IGV2YWxPcHRpb25zIGZyb20gJy4uL3V0aWxzL2V2YWwtb3B0aW9ucyc7XG5cbmltcG9ydCB7IGRlZXBFeHRlbmQsIGlzTnVtYmVyLCBpc1N0cmluZywgZGVmaW5lZCwgaXNGdW5jdGlvbiwgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuaW1wb3J0IHsgWCwgWSwgTUlOX1ZBTFVFLCBNQVhfVkFMVUUgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IHBhcnNlRGF0ZSB9IGZyb20gJy4uLy4uL2RhdGUtdXRpbHMnO1xuXG5jbGFzcyBTY2F0dGVyQ2hhcnQgZXh0ZW5kcyBDaGFydEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKHBsb3RBcmVhLCBvcHRpb25zKSB7XG5cbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5wbG90QXJlYSA9IHBsb3RBcmVhO1xuICAgICAgICB0aGlzLmNoYXJ0U2VydmljZSA9IHBsb3RBcmVhLmNoYXJ0U2VydmljZTtcbiAgICAgICAgdGhpcy5faW5pdEZpZWxkcygpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuXG4gICAgX2luaXRGaWVsZHMoKSB7XG4gICAgICAgIC8vIFggYW5kIFkgYXhpcyByYW5nZXMgZ3JvdXBlZCBieSBuYW1lLCBlLmcuOlxuICAgICAgICAvLyBwcmltYXJ5OiB7IG1pbjogMCwgbWF4OiAxIH1cbiAgICAgICAgdGhpcy54QXhpc1JhbmdlcyA9IHt9O1xuICAgICAgICB0aGlzLnlBeGlzUmFuZ2VzID0ge307XG5cbiAgICAgICAgdGhpcy5wb2ludHMgPSBbXTtcbiAgICAgICAgdGhpcy5zZXJpZXNQb2ludHMgPSBbXTtcbiAgICAgICAgdGhpcy5zZXJpZXNPcHRpb25zID0gW107XG4gICAgICAgIHRoaXMuX2V2YWxTZXJpZXMgPSBbXTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHRoaXMudHJhdmVyc2VEYXRhUG9pbnRzKHRoaXMuYWRkVmFsdWUuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgYWRkRXJyb3JCYXIocG9pbnQsIGZpZWxkLCBmaWVsZHMpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwb2ludC52YWx1ZVtmaWVsZF07XG4gICAgICAgIGNvbnN0IHZhbHVlRXJyb3JGaWVsZCA9IGZpZWxkICsgXCJWYWx1ZVwiO1xuICAgICAgICBjb25zdCBsb3dGaWVsZCA9IGZpZWxkICsgXCJFcnJvckxvd1wiO1xuICAgICAgICBjb25zdCBoaWdoRmllbGQgPSBmaWVsZCArIFwiRXJyb3JIaWdoXCI7XG4gICAgICAgIGNvbnN0IHsgc2VyaWVzSXgsIHNlcmllcyB9ID0gZmllbGRzO1xuICAgICAgICBjb25zdCBlcnJvckJhcnMgPSBwb2ludC5vcHRpb25zLmVycm9yQmFycztcbiAgICAgICAgY29uc3QgbG93VmFsdWUgPSBmaWVsZHNbbG93RmllbGRdO1xuICAgICAgICBjb25zdCBoaWdoVmFsdWUgPSBmaWVsZHNbaGlnaEZpZWxkXTtcblxuICAgICAgICBpZiAoaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgICAgICBsZXQgZXJyb3JSYW5nZTtcbiAgICAgICAgICAgIGlmIChpc051bWJlcihsb3dWYWx1ZSkgJiYgaXNOdW1iZXIoaGlnaFZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGVycm9yUmFuZ2UgPSB7IGxvdzogbG93VmFsdWUsIGhpZ2g6IGhpZ2hWYWx1ZSB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZXJyb3JCYXJzICYmIGRlZmluZWQoZXJyb3JCYXJzW3ZhbHVlRXJyb3JGaWVsZF0pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXJpZXNFcnJvclJhbmdlcyA9IHRoaXMuc2VyaWVzRXJyb3JSYW5nZXMgfHwgeyB4OiBbXSwgeTogW10gfTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlcmllc0Vycm9yUmFuZ2VzW2ZpZWxkXVtzZXJpZXNJeF0gPSB0aGlzLnNlcmllc0Vycm9yUmFuZ2VzW2ZpZWxkXVtzZXJpZXNJeF0gfHxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEVycm9yUmFuZ2VDYWxjdWxhdG9yKGVycm9yQmFyc1t2YWx1ZUVycm9yRmllbGRdLCBzZXJpZXMsIGZpZWxkKTtcblxuICAgICAgICAgICAgICAgIGVycm9yUmFuZ2UgPSB0aGlzLnNlcmllc0Vycm9yUmFuZ2VzW2ZpZWxkXVtzZXJpZXNJeF0uZ2V0RXJyb3JSYW5nZSh2YWx1ZSwgZXJyb3JCYXJzW3ZhbHVlRXJyb3JGaWVsZF0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZXJyb3JSYW5nZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkUG9pbnRFcnJvckJhcihlcnJvclJhbmdlLCBwb2ludCwgZmllbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkUG9pbnRFcnJvckJhcihlcnJvclJhbmdlLCBwb2ludCwgZmllbGQpIHtcbiAgICAgICAgY29uc3QgeyBsb3csIGhpZ2ggfSA9IGVycm9yUmFuZ2U7XG4gICAgICAgIGNvbnN0IHsgc2VyaWVzLCBvcHRpb25zOiB7IGVycm9yQmFyczogb3B0aW9ucyB9IH0gPSBwb2ludDtcbiAgICAgICAgY29uc3QgaXNWZXJ0aWNhbCA9IGZpZWxkID09PSBZO1xuICAgICAgICBjb25zdCBpdGVtID0ge307XG5cbiAgICAgICAgcG9pbnRbZmllbGQgKyBcIkxvd1wiXSA9IGxvdztcbiAgICAgICAgcG9pbnRbZmllbGQgKyBcIkhpZ2hcIl0gPSBoaWdoO1xuXG4gICAgICAgIHBvaW50LmVycm9yQmFycyA9IHBvaW50LmVycm9yQmFycyB8fCBbXTtcbiAgICAgICAgY29uc3QgZXJyb3JCYXIgPSBuZXcgU2NhdHRlckVycm9yQmFyKGxvdywgaGlnaCwgaXNWZXJ0aWNhbCwgdGhpcywgc2VyaWVzLCBvcHRpb25zKTtcbiAgICAgICAgcG9pbnQuZXJyb3JCYXJzLnB1c2goZXJyb3JCYXIpO1xuICAgICAgICBwb2ludC5hcHBlbmQoZXJyb3JCYXIpO1xuXG4gICAgICAgIGl0ZW1bZmllbGRdID0gbG93O1xuICAgICAgICB0aGlzLnVwZGF0ZVJhbmdlKGl0ZW0sIHNlcmllcyk7XG4gICAgICAgIGl0ZW1bZmllbGRdID0gaGlnaDtcbiAgICAgICAgdGhpcy51cGRhdGVSYW5nZShpdGVtLCBzZXJpZXMpO1xuICAgIH1cblxuICAgIGFkZFZhbHVlKHZhbHVlLCBmaWVsZHMpIHtcbiAgICAgICAgY29uc3QgeyB4LCB5IH0gPSB2YWx1ZTtcbiAgICAgICAgY29uc3Qgc2VyaWVzSXggPSBmaWVsZHMuc2VyaWVzSXg7XG4gICAgICAgIGNvbnN0IHNlcmllcyA9IHRoaXMub3B0aW9ucy5zZXJpZXNbc2VyaWVzSXhdO1xuICAgICAgICBjb25zdCBtaXNzaW5nVmFsdWVzID0gdGhpcy5zZXJpZXNNaXNzaW5nVmFsdWVzKHNlcmllcyk7XG4gICAgICAgIGNvbnN0IHNlcmllc1BvaW50cyA9IHRoaXMuc2VyaWVzUG9pbnRzW3Nlcmllc0l4XTtcblxuICAgICAgICBsZXQgcG9pbnRWYWx1ZSA9IHZhbHVlO1xuICAgICAgICBpZiAoIShoYXNWYWx1ZSh4KSAmJiBoYXNWYWx1ZSh5KSkpIHtcbiAgICAgICAgICAgIHBvaW50VmFsdWUgPSB0aGlzLmNyZWF0ZU1pc3NpbmdWYWx1ZShwb2ludFZhbHVlLCBtaXNzaW5nVmFsdWVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwb2ludDtcbiAgICAgICAgaWYgKHBvaW50VmFsdWUpIHtcbiAgICAgICAgICAgIHBvaW50ID0gdGhpcy5jcmVhdGVQb2ludChwb2ludFZhbHVlLCBmaWVsZHMpO1xuICAgICAgICAgICAgaWYgKHBvaW50KSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihwb2ludCwgZmllbGRzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZEVycm9yQmFyKHBvaW50LCBYLCBmaWVsZHMpO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkRXJyb3JCYXIocG9pbnQsIFksIGZpZWxkcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVJhbmdlKHBvaW50VmFsdWUsIGZpZWxkcy5zZXJpZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wb2ludHMucHVzaChwb2ludCk7XG4gICAgICAgIHNlcmllc1BvaW50cy5wdXNoKHBvaW50KTtcbiAgICB9XG5cbiAgICBzZXJpZXNNaXNzaW5nVmFsdWVzKHNlcmllcykge1xuICAgICAgICByZXR1cm4gc2VyaWVzLm1pc3NpbmdWYWx1ZXM7XG4gICAgfVxuXG4gICAgY3JlYXRlTWlzc2luZ1ZhbHVlKCkge31cblxuICAgIHVwZGF0ZVJhbmdlKHZhbHVlLCBzZXJpZXMpIHtcbiAgICAgICAgY29uc3QgaW50bFNlcnZpY2UgPSB0aGlzLmNoYXJ0U2VydmljZS5pbnRsO1xuICAgICAgICBjb25zdCB7IHhBeGlzOiB4QXhpc05hbWUsIHlBeGlzOiB5QXhpc05hbWUgfSA9IHNlcmllcztcbiAgICAgICAgbGV0IHsgeCwgeSB9ID0gdmFsdWU7XG4gICAgICAgIGxldCB4QXhpc1JhbmdlID0gdGhpcy54QXhpc1Jhbmdlc1t4QXhpc05hbWVdO1xuICAgICAgICBsZXQgeUF4aXNSYW5nZSA9IHRoaXMueUF4aXNSYW5nZXNbeUF4aXNOYW1lXTtcblxuICAgICAgICBpZiAoaGFzVmFsdWUoeCkpIHtcbiAgICAgICAgICAgIHhBeGlzUmFuZ2UgPSB0aGlzLnhBeGlzUmFuZ2VzW3hBeGlzTmFtZV0gPVxuICAgICAgICAgICAgICAgIHhBeGlzUmFuZ2UgfHwgeyBtaW46IE1BWF9WQUxVRSwgbWF4OiBNSU5fVkFMVUUgfTtcblxuICAgICAgICAgICAgaWYgKGlzU3RyaW5nKHgpKSB7XG4gICAgICAgICAgICAgICAgeCA9IHBhcnNlRGF0ZShpbnRsU2VydmljZSwgeCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHhBeGlzUmFuZ2UubWluID0gTWF0aC5taW4oeEF4aXNSYW5nZS5taW4sIHgpO1xuICAgICAgICAgICAgeEF4aXNSYW5nZS5tYXggPSBNYXRoLm1heCh4QXhpc1JhbmdlLm1heCwgeCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzVmFsdWUoeSkpIHtcbiAgICAgICAgICAgIHlBeGlzUmFuZ2UgPSB0aGlzLnlBeGlzUmFuZ2VzW3lBeGlzTmFtZV0gPVxuICAgICAgICAgICAgICAgIHlBeGlzUmFuZ2UgfHwgeyBtaW46IE1BWF9WQUxVRSwgbWF4OiBNSU5fVkFMVUUgfTtcblxuICAgICAgICAgICAgaWYgKGlzU3RyaW5nKHkpKSB7XG4gICAgICAgICAgICAgICAgeSA9IHBhcnNlRGF0ZShpbnRsU2VydmljZSwgeSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHlBeGlzUmFuZ2UubWluID0gTWF0aC5taW4oeUF4aXNSYW5nZS5taW4sIHkpO1xuICAgICAgICAgICAgeUF4aXNSYW5nZS5tYXggPSBNYXRoLm1heCh5QXhpc1JhbmdlLm1heCwgeSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBldmFsUG9pbnRPcHRpb25zKG9wdGlvbnMsIHZhbHVlLCBmaWVsZHMpIHtcbiAgICAgICAgY29uc3QgeyBzZXJpZXMsIHNlcmllc0l4IH0gPSBmaWVsZHM7XG4gICAgICAgIGNvbnN0IHN0YXRlID0geyBkZWZhdWx0czogc2VyaWVzLl9kZWZhdWx0cywgZXhjbHVkZWQ6IFsgXCJkYXRhXCIsIFwidG9vbHRpcFwiLCBcImNvbnRlbnRcIiwgXCJ0ZW1wbGF0ZVwiLCBcInZpc3VhbFwiLCBcInRvZ2dsZVwiLCBcIl9vdXRPZlJhbmdlTWluUG9pbnRcIiwgXCJfb3V0T2ZSYW5nZU1heFBvaW50XCIgXSB9O1xuXG4gICAgICAgIGxldCBkb0V2YWwgPSB0aGlzLl9ldmFsU2VyaWVzW3Nlcmllc0l4XTtcbiAgICAgICAgaWYgKCFkZWZpbmVkKGRvRXZhbCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2V2YWxTZXJpZXNbc2VyaWVzSXhdID0gZG9FdmFsID0gZXZhbE9wdGlvbnMob3B0aW9ucywge30sIHN0YXRlLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwb2ludE9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICBpZiAoZG9FdmFsKSB7XG4gICAgICAgICAgICBwb2ludE9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCBvcHRpb25zKTtcbiAgICAgICAgICAgIGV2YWxPcHRpb25zKHBvaW50T3B0aW9ucywge1xuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICBzZXJpZXM6IHNlcmllcyxcbiAgICAgICAgICAgICAgICBkYXRhSXRlbTogZmllbGRzLmRhdGFJdGVtXG4gICAgICAgICAgICB9LCBzdGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcG9pbnRPcHRpb25zO1xuICAgIH1cblxuICAgIHBvaW50VHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIExpbmVQb2ludDtcbiAgICB9XG5cbiAgICBwb2ludE9wdGlvbnMoc2VyaWVzLCBzZXJpZXNJeCkge1xuICAgICAgICBsZXQgb3B0aW9ucyA9IHRoaXMuc2VyaWVzT3B0aW9uc1tzZXJpZXNJeF07XG4gICAgICAgIGlmICghb3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgZGVmYXVsdHMgPSB0aGlzLnBvaW50VHlwZSgpLnByb3RvdHlwZS5kZWZhdWx0cztcbiAgICAgICAgICAgIHRoaXMuc2VyaWVzT3B0aW9uc1tzZXJpZXNJeF0gPSBvcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgZGVmYXVsdHMsIHtcbiAgICAgICAgICAgICAgICBtYXJrZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IHNlcmllcy5vcGFjaXR5XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0b29sdGlwOiB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdDogdGhpcy5vcHRpb25zLnRvb2x0aXAuZm9ybWF0XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBsYWJlbHM6IHtcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiB0aGlzLm9wdGlvbnMubGFiZWxzLmZvcm1hdFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHNlcmllcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9XG5cbiAgICBjcmVhdGVQb2ludCh2YWx1ZSwgZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IHNlcmllcyA9IGZpZWxkcy5zZXJpZXM7XG4gICAgICAgIGxldCBwb2ludE9wdGlvbnMgPSB0aGlzLnBvaW50T3B0aW9ucyhzZXJpZXMsIGZpZWxkcy5zZXJpZXNJeCk7XG4gICAgICAgIGxldCBjb2xvciA9IGZpZWxkcy5jb2xvciB8fCBzZXJpZXMuY29sb3I7XG5cbiAgICAgICAgcG9pbnRPcHRpb25zID0gdGhpcy5ldmFsUG9pbnRPcHRpb25zKHBvaW50T3B0aW9ucywgdmFsdWUsIGZpZWxkcyk7XG5cbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oc2VyaWVzLmNvbG9yKSkge1xuICAgICAgICAgICAgY29sb3IgPSBwb2ludE9wdGlvbnMuY29sb3I7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwb2ludCA9IG5ldyBMaW5lUG9pbnQodmFsdWUsIHBvaW50T3B0aW9ucyk7XG4gICAgICAgIHBvaW50LmNvbG9yID0gY29sb3I7XG5cbiAgICAgICAgdGhpcy5hcHBlbmQocG9pbnQpO1xuXG4gICAgICAgIHJldHVybiBwb2ludDtcbiAgICB9XG5cbiAgICBzZXJpZXNBeGVzKHNlcmllcykge1xuICAgICAgICBjb25zdCB7IHhBeGlzOiB4QXhpc05hbWUsIHlBeGlzOiB5QXhpc05hbWUgfSA9IHNlcmllcztcbiAgICAgICAgY29uc3QgcGxvdEFyZWEgPSB0aGlzLnBsb3RBcmVhO1xuICAgICAgICBjb25zdCB4QXhpcyA9IHhBeGlzTmFtZSA/IHBsb3RBcmVhLm5hbWVkWEF4ZXNbeEF4aXNOYW1lXSA6IHBsb3RBcmVhLmF4aXNYO1xuICAgICAgICBjb25zdCB5QXhpcyA9IHlBeGlzTmFtZSA/IHBsb3RBcmVhLm5hbWVkWUF4ZXNbeUF4aXNOYW1lXSA6IHBsb3RBcmVhLmF4aXNZO1xuXG4gICAgICAgIGlmICgheEF4aXMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBsb2NhdGUgWCBheGlzIHdpdGggbmFtZSBcIiArIHhBeGlzTmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXlBeGlzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gbG9jYXRlIFkgYXhpcyB3aXRoIG5hbWUgXCIgKyB5QXhpc05hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHhBeGlzLFxuICAgICAgICAgICAgeTogeUF4aXNcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZWZsb3codGFyZ2V0Qm94KSB7XG4gICAgICAgIGNvbnN0IGNoYXJ0UG9pbnRzID0gdGhpcy5wb2ludHM7XG4gICAgICAgIGNvbnN0IGxpbWl0ID0gIXRoaXMub3B0aW9ucy5jbGlwO1xuICAgICAgICBsZXQgcG9pbnRJeCA9IDA7XG5cblxuICAgICAgICB0aGlzLnRyYXZlcnNlRGF0YVBvaW50cygodmFsdWUsIGZpZWxkcykgPT4ge1xuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBjaGFydFBvaW50c1twb2ludEl4KytdO1xuICAgICAgICAgICAgY29uc3Qgc2VyaWVzQXhlcyA9IHRoaXMuc2VyaWVzQXhlcyhmaWVsZHMuc2VyaWVzKTtcbiAgICAgICAgICAgIGNvbnN0IHNsb3RYID0gc2VyaWVzQXhlcy54LmdldFNsb3QodmFsdWUueCwgdmFsdWUueCwgbGltaXQpO1xuICAgICAgICAgICAgY29uc3Qgc2xvdFkgPSBzZXJpZXNBeGVzLnkuZ2V0U2xvdCh2YWx1ZS55LCB2YWx1ZS55LCBsaW1pdCk7XG5cbiAgICAgICAgICAgIGlmIChwb2ludCkge1xuICAgICAgICAgICAgICAgIGlmIChzbG90WCAmJiBzbG90WSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2ludFNsb3QgPSB0aGlzLnBvaW50U2xvdChzbG90WCwgc2xvdFkpO1xuICAgICAgICAgICAgICAgICAgICBwb2ludC5yZWZsb3cocG9pbnRTbG90KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwb2ludC52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmJveCA9IHRhcmdldEJveDtcbiAgICB9XG5cbiAgICBwb2ludFNsb3Qoc2xvdFgsIHNsb3RZKSB7XG4gICAgICAgIHJldHVybiBuZXcgQm94KHNsb3RYLngxLCBzbG90WS55MSwgc2xvdFgueDIsIHNsb3RZLnkyKTtcbiAgICB9XG5cbiAgICB0cmF2ZXJzZURhdGFQb2ludHMoY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zOiB7IHNlcmllcyB9LCBzZXJpZXNQb2ludHMgfSA9IHRoaXM7XG5cbiAgICAgICAgZm9yIChsZXQgc2VyaWVzSXggPSAwOyBzZXJpZXNJeCA8IHNlcmllcy5sZW5ndGg7IHNlcmllc0l4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZXJpZXMgPSBzZXJpZXNbc2VyaWVzSXhdO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFNlcmllc1BvaW50cyA9IHNlcmllc1BvaW50c1tzZXJpZXNJeF07XG4gICAgICAgICAgICBpZiAoIWN1cnJlbnRTZXJpZXNQb2ludHMpIHtcbiAgICAgICAgICAgICAgICBzZXJpZXNQb2ludHNbc2VyaWVzSXhdID0gW107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAobGV0IHBvaW50SXggPSAwOyBwb2ludEl4IDwgY3VycmVudFNlcmllcy5kYXRhLmxlbmd0aDsgcG9pbnRJeCsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB2YWx1ZUZpZWxkczogdmFsdWUsIGZpZWxkcyB9ID0gdGhpcy5fYmluZFBvaW50KGN1cnJlbnRTZXJpZXMsIHNlcmllc0l4LCBwb2ludEl4KTtcblxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHZhbHVlLCBkZWVwRXh0ZW5kKHtcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRJeDogcG9pbnRJeCxcbiAgICAgICAgICAgICAgICAgICAgc2VyaWVzOiBjdXJyZW50U2VyaWVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJpZXNJeDogc2VyaWVzSXgsXG4gICAgICAgICAgICAgICAgICAgIGRhdGFJdGVtOiBjdXJyZW50U2VyaWVzLmRhdGFbcG9pbnRJeF0sXG4gICAgICAgICAgICAgICAgICAgIG93bmVyOiB0aGlzXG4gICAgICAgICAgICAgICAgfSwgZmllbGRzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmb3JtYXRQb2ludFZhbHVlKHBvaW50LCBmb3JtYXQpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwb2ludC52YWx1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhcnRTZXJ2aWNlLmZvcm1hdC5hdXRvKGZvcm1hdCwgdmFsdWUueCwgdmFsdWUueSk7XG4gICAgfVxuXG4gICAgYW5pbWF0aW9uUG9pbnRzKCkge1xuICAgICAgICBjb25zdCBwb2ludHMgPSB0aGlzLnBvaW50cztcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHBvaW50cy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCgocG9pbnRzW2lkeF0gfHwge30pLm1hcmtlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG5zZXREZWZhdWx0T3B0aW9ucyhTY2F0dGVyQ2hhcnQsIHtcbiAgICBzZXJpZXM6IFtdLFxuICAgIHRvb2x0aXA6IHtcbiAgICAgICAgZm9ybWF0OiBcInswfSwgezF9XCJcbiAgICB9LFxuICAgIGxhYmVsczoge1xuICAgICAgICBmb3JtYXQ6IFwiezB9LCB7MX1cIlxuICAgIH0sXG4gICAgY2xpcDogdHJ1ZVxufSk7XG5kZWVwRXh0ZW5kKFNjYXR0ZXJDaGFydC5wcm90b3R5cGUsIENsaXBBbmltYXRpb25NaXhpbiwge1xuICAgIF9iaW5kUG9pbnQ6IENhdGVnb3JpY2FsQ2hhcnQucHJvdG90eXBlLl9iaW5kUG9pbnRcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBTY2F0dGVyQ2hhcnQ7IiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3LCBnZW9tZXRyeSBhcyBnZW9tLCBDb2xvciB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IExpbmVQb2ludCBmcm9tICcuLi9saW5lLWNoYXJ0L2xpbmUtcG9pbnQnO1xuaW1wb3J0IHsgQk9SREVSX0JSSUdIVE5FU1MgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5pbXBvcnQgeyBDRU5URVIgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGRlZXBFeHRlbmQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBCdWJibGUgZXh0ZW5kcyBMaW5lUG9pbnQge1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHZhbHVlLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLmNhdGVnb3J5ID0gdmFsdWUuY2F0ZWdvcnk7XG4gICAgfVxuXG4gICAgY3JlYXRlSGlnaGxpZ2h0KCkge1xuICAgICAgICBjb25zdCBoaWdobGlnaHQgPSB0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0O1xuICAgICAgICBjb25zdCBib3JkZXIgPSBoaWdobGlnaHQuYm9yZGVyO1xuICAgICAgICBjb25zdCBtYXJrZXJzID0gdGhpcy5vcHRpb25zLm1hcmtlcnM7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IHRoaXMuYm94LmNlbnRlcigpO1xuICAgICAgICBjb25zdCByYWRpdXMgPSAobWFya2Vycy5zaXplICsgbWFya2Vycy5ib3JkZXIud2lkdGggKyBib3JkZXIud2lkdGgpIC8gMjtcbiAgICAgICAgY29uc3QgaGlnaGxpZ2h0R3JvdXAgPSBuZXcgZHJhdy5Hcm91cCgpO1xuICAgICAgICBjb25zdCBzaGFkb3cgPSBuZXcgZHJhdy5DaXJjbGUobmV3IGdlb20uQ2lyY2xlKFsgY2VudGVyLngsIGNlbnRlci55ICsgcmFkaXVzIC8gNSArIGJvcmRlci53aWR0aCAvIDIgXSwgcmFkaXVzICsgYm9yZGVyLndpZHRoIC8gMiksIHtcbiAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgIGNvbG9yOiAnbm9uZSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmaWxsOiB0aGlzLmNyZWF0ZUdyYWRpZW50KHtcbiAgICAgICAgICAgICAgICBncmFkaWVudDogJ2J1YmJsZVNoYWRvdycsXG4gICAgICAgICAgICAgICAgY29sb3I6IG1hcmtlcnMuYmFja2dyb3VuZCxcbiAgICAgICAgICAgICAgICBzdG9wczogWyB7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IG1hcmtlcnMuYmFja2dyb3VuZCxcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMC4zXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IDEsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBtYXJrZXJzLmJhY2tncm91bmQsXG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgICAgICAgICB9IF1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBvdmVybGF5ID0gbmV3IGRyYXcuQ2lyY2xlKG5ldyBnZW9tLkNpcmNsZShbIGNlbnRlci54LCBjZW50ZXIueSBdLCByYWRpdXMpLCB7XG4gICAgICAgICAgICBzdHJva2U6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogYm9yZGVyLmNvbG9yIHx8XG4gICAgICAgICAgICAgICAgICAgIG5ldyBDb2xvcihtYXJrZXJzLmJhY2tncm91bmQpLmJyaWdodG5lc3MoQk9SREVSX0JSSUdIVE5FU1MpLnRvSGV4KCksXG4gICAgICAgICAgICAgICAgd2lkdGg6IGJvcmRlci53aWR0aCxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBib3JkZXIub3BhY2l0eVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpbGw6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogbWFya2Vycy5iYWNrZ3JvdW5kLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IGhpZ2hsaWdodC5vcGFjaXR5XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGhpZ2hsaWdodEdyb3VwLmFwcGVuZChzaGFkb3csIG92ZXJsYXkpO1xuXG4gICAgICAgIHJldHVybiBoaWdobGlnaHRHcm91cDtcbiAgICB9XG59XG5cbkJ1YmJsZS5wcm90b3R5cGUuZGVmYXVsdHMgPSBkZWVwRXh0ZW5kKHt9LCBCdWJibGUucHJvdG90eXBlLmRlZmF1bHRzLCB7XG4gICAgbGFiZWxzOiB7XG4gICAgICAgIHBvc2l0aW9uOiBDRU5URVJcbiAgICB9LFxuICAgIGhpZ2hsaWdodDoge1xuICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICBib3JkZXI6IHtcbiAgICAgICAgICAgIGNvbG9yOiBcIiNmZmZcIixcbiAgICAgICAgICAgIHdpZHRoOiAyLFxuICAgICAgICAgICAgb3BhY2l0eTogMVxuICAgICAgICB9XG4gICAgfVxufSk7XG5cbkJ1YmJsZS5wcm90b3R5cGUuZGVmYXVsdHMuaGlnaGxpZ2h0LnpJbmRleCA9IHVuZGVmaW5lZDtcblxuZXhwb3J0IGRlZmF1bHQgQnViYmxlOyIsImltcG9ydCBTY2F0dGVyQ2hhcnQgZnJvbSAnLi4vc2NhdHRlci1jaGFydHMvc2NhdHRlci1jaGFydCc7XG5pbXBvcnQgQnViYmxlIGZyb20gJy4vYnViYmxlJztcblxuaW1wb3J0IHsgSU5JVElBTF9BTklNQVRJT05fRFVSQVRJT04sIEJVQkJMRSB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmltcG9ydCB7IE1JTl9WQUxVRSwgQ0lSQ0xFIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBkZWVwRXh0ZW5kLCBpc0Z1bmN0aW9uLCBzZXREZWZhdWx0T3B0aW9ucywgdmFsdWVPckRlZmF1bHQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBCdWJibGVDaGFydCBleHRlbmRzIFNjYXR0ZXJDaGFydCB7XG4gICAgX2luaXRGaWVsZHMoKSB7XG4gICAgICAgIHRoaXMuX21heFNpemUgPSBNSU5fVkFMVUU7XG4gICAgICAgIHN1cGVyLl9pbml0RmllbGRzKCk7XG4gICAgfVxuXG4gICAgYWRkVmFsdWUodmFsdWUsIGZpZWxkcykge1xuICAgICAgICBpZiAodmFsdWUuc2l6ZSAhPT0gbnVsbCAmJiAodmFsdWUuc2l6ZSA+IDAgfHwgKHZhbHVlLnNpemUgPCAwICYmIGZpZWxkcy5zZXJpZXMubmVnYXRpdmVWYWx1ZXMudmlzaWJsZSkpKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXhTaXplID0gTWF0aC5tYXgodGhpcy5fbWF4U2l6ZSwgTWF0aC5hYnModmFsdWUuc2l6ZSkpO1xuICAgICAgICAgICAgc3VwZXIuYWRkVmFsdWUodmFsdWUsIGZpZWxkcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBvaW50cy5wdXNoKG51bGwpO1xuICAgICAgICAgICAgdGhpcy5zZXJpZXNQb2ludHNbZmllbGRzLnNlcmllc0l4XS5wdXNoKG51bGwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVmbG93KGJveCkge1xuICAgICAgICB0aGlzLnVwZGF0ZUJ1YmJsZXNTaXplKGJveCk7XG4gICAgICAgIHN1cGVyLnJlZmxvdyhib3gpO1xuICAgIH1cblxuICAgIHBvaW50VHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIEJ1YmJsZTtcbiAgICB9XG5cbiAgICBjcmVhdGVQb2ludCh2YWx1ZSwgZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IHNlcmllcyA9IGZpZWxkcy5zZXJpZXM7XG4gICAgICAgIGNvbnN0IHBvaW50c0NvdW50ID0gc2VyaWVzLmRhdGEubGVuZ3RoO1xuICAgICAgICBjb25zdCBkZWxheSA9IGZpZWxkcy5wb2ludEl4ICogKElOSVRJQUxfQU5JTUFUSU9OX0RVUkFUSU9OIC8gcG9pbnRzQ291bnQpO1xuICAgICAgICBjb25zdCBhbmltYXRpb25PcHRpb25zID0ge1xuICAgICAgICAgICAgZGVsYXk6IGRlbGF5LFxuICAgICAgICAgICAgZHVyYXRpb246IElOSVRJQUxfQU5JTUFUSU9OX0RVUkFUSU9OIC0gZGVsYXksXG4gICAgICAgICAgICB0eXBlOiBCVUJCTEVcbiAgICAgICAgfTtcblxuICAgICAgICBsZXQgY29sb3IgPSBmaWVsZHMuY29sb3IgfHwgc2VyaWVzLmNvbG9yO1xuICAgICAgICBpZiAodmFsdWUuc2l6ZSA8IDAgJiYgc2VyaWVzLm5lZ2F0aXZlVmFsdWVzLnZpc2libGUpIHtcbiAgICAgICAgICAgIGNvbG9yID0gdmFsdWVPckRlZmF1bHQoXG4gICAgICAgICAgICAgICAgc2VyaWVzLm5lZ2F0aXZlVmFsdWVzLmNvbG9yLCBjb2xvclxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwb2ludE9wdGlvbnMgPSBkZWVwRXh0ZW5kKHtcbiAgICAgICAgICAgIGxhYmVsczoge1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBkZWxheTogZGVsYXksXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBJTklUSUFMX0FOSU1BVElPTl9EVVJBVElPTiAtIGRlbGF5XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzLnBvaW50T3B0aW9ucyhzZXJpZXMsIGZpZWxkcy5zZXJpZXNJeCksIHtcbiAgICAgICAgICAgIG1hcmtlcnM6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBDSVJDTEUsXG4gICAgICAgICAgICAgICAgYm9yZGVyOiBzZXJpZXMuYm9yZGVyLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IHNlcmllcy5vcGFjaXR5LFxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogYW5pbWF0aW9uT3B0aW9uc1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBwb2ludE9wdGlvbnMgPSB0aGlzLmV2YWxQb2ludE9wdGlvbnMocG9pbnRPcHRpb25zLCB2YWx1ZSwgZmllbGRzKTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oc2VyaWVzLmNvbG9yKSkge1xuICAgICAgICAgICAgY29sb3IgPSBwb2ludE9wdGlvbnMuY29sb3I7XG4gICAgICAgIH1cblxuICAgICAgICBwb2ludE9wdGlvbnMubWFya2Vycy5iYWNrZ3JvdW5kID0gY29sb3I7XG5cbiAgICAgICAgY29uc3QgcG9pbnQgPSBuZXcgQnViYmxlKHZhbHVlLCBwb2ludE9wdGlvbnMpO1xuICAgICAgICBwb2ludC5jb2xvciA9IGNvbG9yO1xuXG4gICAgICAgIHRoaXMuYXBwZW5kKHBvaW50KTtcblxuICAgICAgICByZXR1cm4gcG9pbnQ7XG4gICAgfVxuXG4gICAgdXBkYXRlQnViYmxlc1NpemUoYm94KSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9uczogeyBzZXJpZXMgfSB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgYm94U2l6ZSA9IE1hdGgubWluKGJveC53aWR0aCgpLCBib3guaGVpZ2h0KCkpO1xuXG4gICAgICAgIGZvciAobGV0IHNlcmllc0l4ID0gMDsgc2VyaWVzSXggPCBzZXJpZXMubGVuZ3RoOyBzZXJpZXNJeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50U2VyaWVzID0gc2VyaWVzW3Nlcmllc0l4XTtcbiAgICAgICAgICAgIGNvbnN0IHNlcmllc1BvaW50cyA9IHRoaXMuc2VyaWVzUG9pbnRzW3Nlcmllc0l4XTtcbiAgICAgICAgICAgIGNvbnN0IG1pblNpemUgPSBjdXJyZW50U2VyaWVzLm1pblNpemUgfHwgTWF0aC5tYXgoYm94U2l6ZSAqIDAuMDIsIDEwKTtcbiAgICAgICAgICAgIGNvbnN0IG1heFNpemUgPSBjdXJyZW50U2VyaWVzLm1heFNpemUgfHwgYm94U2l6ZSAqIDAuMjtcbiAgICAgICAgICAgIGNvbnN0IG1pblIgPSBtaW5TaXplIC8gMjtcbiAgICAgICAgICAgIGNvbnN0IG1heFIgPSBtYXhTaXplIC8gMjtcbiAgICAgICAgICAgIGNvbnN0IG1pbkFyZWEgPSBNYXRoLlBJICogbWluUiAqIG1pblI7XG4gICAgICAgICAgICBjb25zdCBtYXhBcmVhID0gTWF0aC5QSSAqIG1heFIgKiBtYXhSO1xuICAgICAgICAgICAgY29uc3QgYXJlYVJhbmdlID0gbWF4QXJlYSAtIG1pbkFyZWE7XG4gICAgICAgICAgICBjb25zdCBhcmVhUmF0aW8gPSBhcmVhUmFuZ2UgLyB0aGlzLl9tYXhTaXplO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBwb2ludEl4ID0gMDsgcG9pbnRJeCA8IHNlcmllc1BvaW50cy5sZW5ndGg7IHBvaW50SXgrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gc2VyaWVzUG9pbnRzW3BvaW50SXhdO1xuICAgICAgICAgICAgICAgIGlmIChwb2ludCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhcmVhID0gTWF0aC5hYnMocG9pbnQudmFsdWUuc2l6ZSkgKiBhcmVhUmF0aW87XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhZGl1cyA9IE1hdGguc3FydCgobWluQXJlYSArIGFyZWEpIC8gTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhc2VaSW5kZXggPSB2YWx1ZU9yRGVmYXVsdChwb2ludC5vcHRpb25zLnpJbmRleCwgMCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHpJbmRleCA9IGJhc2VaSW5kZXggKyAoMSAtIHJhZGl1cyAvIG1heFIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGRlZXBFeHRlbmQocG9pbnQub3B0aW9ucywge1xuICAgICAgICAgICAgICAgICAgICAgICAgekluZGV4OiB6SW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogcmFkaXVzICogMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IHpJbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpJbmRleDogekluZGV4ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmb3JtYXRQb2ludFZhbHVlKHBvaW50LCBmb3JtYXQpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwb2ludC52YWx1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhcnRTZXJ2aWNlLmZvcm1hdC5hdXRvKGZvcm1hdCwgdmFsdWUueCwgdmFsdWUueSwgdmFsdWUuc2l6ZSwgcG9pbnQuY2F0ZWdvcnkpO1xuICAgIH1cblxuICAgIGNyZWF0ZUFuaW1hdGlvbigpIHt9XG4gICAgY3JlYXRlVmlzdWFsKCkge31cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoQnViYmxlQ2hhcnQsIHtcbiAgICB0b29sdGlwOiB7XG4gICAgICAgIGZvcm1hdDogXCJ7M31cIlxuICAgIH0sXG4gICAgbGFiZWxzOiB7XG4gICAgICAgIGZvcm1hdDogXCJ7M31cIlxuICAgIH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBCdWJibGVDaGFydDsiLCJpbXBvcnQgeyBTaGFwZUVsZW1lbnQgfSBmcm9tICcuLi8uLi9jb3JlJztcbmltcG9ydCB7IGRlZXBFeHRlbmQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuaW1wb3J0IFBvaW50RXZlbnRzTWl4aW4gZnJvbSAnLi4vbWl4aW5zL3BvaW50LWV2ZW50cy1taXhpbic7XG5cbmNsYXNzIFRhcmdldCBleHRlbmRzIFNoYXBlRWxlbWVudCB7IH1cblxuZGVlcEV4dGVuZChUYXJnZXQucHJvdG90eXBlLCBQb2ludEV2ZW50c01peGluKTtcblxuZXhwb3J0IGRlZmF1bHQgVGFyZ2V0OyIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IFRhcmdldCBmcm9tICcuL3RhcmdldCc7XG5cbmltcG9ydCB7IENoYXJ0RWxlbWVudCwgQm94IH0gZnJvbSAnLi4vLi4vY29yZSc7XG5cbmltcG9ydCBQb2ludEV2ZW50c01peGluIGZyb20gJy4uL21peGlucy9wb2ludC1ldmVudHMtbWl4aW4nO1xuaW1wb3J0IE5vdGVNaXhpbiBmcm9tICcuLi9taXhpbnMvbm90ZS1taXhpbic7XG5pbXBvcnQgQmFyIGZyb20gJy4uL2Jhci1jaGFydC9iYXInO1xuXG5pbXBvcnQgeyBXSElURSwgVE9QLCBSSUdIVCB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgYWxpZ25QYXRoVG9QaXhlbCwgZGVlcEV4dGVuZCwgZGVmaW5lZCwgc2V0RGVmYXVsdE9wdGlvbnMsIHZhbHVlT3JEZWZhdWx0IH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgQnVsbGV0IGV4dGVuZHMgQ2hhcnRFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcblxuICAgICAgICB0aGlzLmFib3ZlQXhpcyA9IHRoaXMub3B0aW9ucy5hYm92ZUF4aXM7XG4gICAgICAgIHRoaXMuY29sb3IgPSBvcHRpb25zLmNvbG9yIHx8IFdISVRFO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIGlmICghdGhpcy5fcmVuZGVyZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgaWYgKGRlZmluZWQodGhpcy52YWx1ZS50YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXQgPSBuZXcgVGFyZ2V0KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogb3B0aW9ucy50YXJnZXQuc2hhcGUsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IG9wdGlvbnMudGFyZ2V0LmNvbG9yIHx8IHRoaXMuY29sb3IsXG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IG9wdGlvbnMub3BhY2l0eSxcbiAgICAgICAgICAgICAgICAgICAgekluZGV4OiBvcHRpb25zLnpJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBvcHRpb25zLnRhcmdldC5ib3JkZXIsXG4gICAgICAgICAgICAgICAgICAgIHZBbGlnbjogVE9QLFxuICAgICAgICAgICAgICAgICAgICBhbGlnbjogUklHSFRcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0LnZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldC5kYXRhSXRlbSA9IHRoaXMuZGF0YUl0ZW07XG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXQuc2VyaWVzID0gdGhpcy5zZXJpZXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZCh0aGlzLnRhcmdldCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY3JlYXRlTm90ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVmbG93KGJveCkge1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuXG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgdGFyZ2V0LCBvd25lcjogY2hhcnQgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGludmVydEF4ZXMgPSBvcHRpb25zLmludmVydEF4ZXM7XG4gICAgICAgIGNvbnN0IHZhbHVlQXhpcyA9IGNoYXJ0LnNlcmllc1ZhbHVlQXhpcyh0aGlzLm9wdGlvbnMpO1xuICAgICAgICBjb25zdCBjYXRlZ29yeVNsb3QgPSBjaGFydC5jYXRlZ29yeVNsb3QoY2hhcnQuY2F0ZWdvcnlBeGlzLCBvcHRpb25zLmNhdGVnb3J5SXgsIHZhbHVlQXhpcyk7XG4gICAgICAgIGNvbnN0IHRhcmdldFZhbHVlU2xvdCA9IHZhbHVlQXhpcy5nZXRTbG90KHRoaXMudmFsdWUudGFyZ2V0KTtcbiAgICAgICAgY29uc3QgdGFyZ2V0U2xvdFggPSBpbnZlcnRBeGVzID8gdGFyZ2V0VmFsdWVTbG90IDogY2F0ZWdvcnlTbG90O1xuICAgICAgICBjb25zdCB0YXJnZXRTbG90WSA9IGludmVydEF4ZXMgPyBjYXRlZ29yeVNsb3QgOiB0YXJnZXRWYWx1ZVNsb3Q7XG5cbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0U2xvdCA9IG5ldyBCb3goXG4gICAgICAgICAgICAgICAgdGFyZ2V0U2xvdFgueDEsIHRhcmdldFNsb3RZLnkxLFxuICAgICAgICAgICAgICAgIHRhcmdldFNsb3RYLngyLCB0YXJnZXRTbG90WS55MlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRhcmdldC5vcHRpb25zLmhlaWdodCA9IGludmVydEF4ZXMgPyB0YXJnZXRTbG90LmhlaWdodCgpIDogb3B0aW9ucy50YXJnZXQubGluZS53aWR0aDtcbiAgICAgICAgICAgIHRhcmdldC5vcHRpb25zLndpZHRoID0gaW52ZXJ0QXhlcyA/IG9wdGlvbnMudGFyZ2V0LmxpbmUud2lkdGggOiB0YXJnZXRTbG90LndpZHRoKCk7XG4gICAgICAgICAgICB0YXJnZXQucmVmbG93KHRhcmdldFNsb3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubm90ZSkge1xuICAgICAgICAgICAgdGhpcy5ub3RlLnJlZmxvdyhib3gpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ib3ggPSBib3g7XG4gICAgfVxuXG4gICAgY3JlYXRlVmlzdWFsKCkge1xuICAgICAgICBzdXBlci5jcmVhdGVWaXN1YWwoKTtcblxuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBib2R5ID0gZHJhdy5QYXRoLmZyb21SZWN0KHRoaXMuYm94LnRvUmVjdCgpLCB7XG4gICAgICAgICAgICBmaWxsOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IHRoaXMuY29sb3IsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogb3B0aW9ucy5vcGFjaXR5XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3Ryb2tlOiBudWxsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmJvcmRlci53aWR0aCA+IDApIHtcbiAgICAgICAgICAgIGJvZHkub3B0aW9ucy5zZXQoXCJzdHJva2VcIiwge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBvcHRpb25zLmJvcmRlci5jb2xvciB8fCB0aGlzLmNvbG9yLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBvcHRpb25zLmJvcmRlci53aWR0aCxcbiAgICAgICAgICAgICAgICBkYXNoVHlwZTogb3B0aW9ucy5ib3JkZXIuZGFzaFR5cGUsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogdmFsdWVPckRlZmF1bHQob3B0aW9ucy5ib3JkZXIub3BhY2l0eSwgb3B0aW9ucy5vcGFjaXR5KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJvZHlWaXN1YWwgPSBib2R5O1xuXG4gICAgICAgIGFsaWduUGF0aFRvUGl4ZWwoYm9keSk7XG4gICAgICAgIHRoaXMudmlzdWFsLmFwcGVuZChib2R5KTtcbiAgICB9XG5cbiAgICBjcmVhdGVBbmltYXRpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmJvZHlWaXN1YWwpIHtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uID0gZHJhdy5BbmltYXRpb24uY3JlYXRlKFxuICAgICAgICAgICAgICAgIHRoaXMuYm9keVZpc3VhbCwgdGhpcy5vcHRpb25zLmFuaW1hdGlvblxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZUhpZ2hsaWdodChzdHlsZSkge1xuICAgICAgICByZXR1cm4gZHJhdy5QYXRoLmZyb21SZWN0KHRoaXMuYm94LnRvUmVjdCgpLCBzdHlsZSk7XG4gICAgfVxuXG4gICAgaGlnaGxpZ2h0VmlzdWFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ib2R5VmlzdWFsO1xuICAgIH1cblxuICAgIGhpZ2hsaWdodFZpc3VhbEFyZ3MoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZWN0OiB0aGlzLmJveC50b1JlY3QoKSxcbiAgICAgICAgICAgIHZpc3VhbDogdGhpcy5ib2R5VmlzdWFsLFxuICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZm9ybWF0VmFsdWUoZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLm93bmVyLmZvcm1hdFBvaW50VmFsdWUodGhpcywgZm9ybWF0KTtcbiAgICB9XG59XG5cbkJ1bGxldC5wcm90b3R5cGUudG9vbHRpcEFuY2hvciA9IEJhci5wcm90b3R5cGUudG9vbHRpcEFuY2hvcjtcblxuc2V0RGVmYXVsdE9wdGlvbnMoQnVsbGV0LCB7XG4gICAgYm9yZGVyOiB7XG4gICAgICAgIHdpZHRoOiAxXG4gICAgfSxcbiAgICB2ZXJ0aWNhbDogZmFsc2UsXG4gICAgb3BhY2l0eTogMSxcbiAgICB0YXJnZXQ6IHtcbiAgICAgICAgc2hhcGU6IFwiXCIsXG4gICAgICAgIGJvcmRlcjoge1xuICAgICAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgICAgICBjb2xvcjogXCJncmVlblwiXG4gICAgICAgIH0sXG4gICAgICAgIGxpbmU6IHtcbiAgICAgICAgICAgIHdpZHRoOiAyXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHRvb2x0aXA6IHtcbiAgICAgICAgZm9ybWF0OiBcIkN1cnJlbnQ6IHswfTxiciAvPlRhcmdldDogezF9XCJcbiAgICB9XG59KTtcblxuZGVlcEV4dGVuZChCdWxsZXQucHJvdG90eXBlLCBQb2ludEV2ZW50c01peGluKTtcbmRlZXBFeHRlbmQoQnVsbGV0LnByb3RvdHlwZSwgTm90ZU1peGluKTtcblxuZXhwb3J0IGRlZmF1bHQgQnVsbGV0OyIsIlxuaW1wb3J0IENhdGVnb3JpY2FsQ2hhcnQgZnJvbSAnLi4vY2F0ZWdvcmljYWwtY2hhcnQnO1xuaW1wb3J0IEJhckNoYXJ0IGZyb20gJy4uL2Jhci1jaGFydC9iYXItY2hhcnQnO1xuaW1wb3J0IEJ1bGxldCBmcm9tICcuL2J1bGxldCc7XG5pbXBvcnQgQ2x1c3RlckxheW91dCBmcm9tICcuLi9sYXlvdXQvY2x1c3Rlci1sYXlvdXQnO1xuaW1wb3J0IHsgQkFSIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuaW1wb3J0IHsgTUlOX1ZBTFVFLCBNQVhfVkFMVUUgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGRlZXBFeHRlbmQsIGRlZmluZWQsIGlzQXJyYXksIGlzRnVuY3Rpb24sIGlzT2JqZWN0LCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIEJ1bGxldENoYXJ0IGV4dGVuZHMgQ2F0ZWdvcmljYWxDaGFydCB7XG4gICAgY29uc3RydWN0b3IocGxvdEFyZWEsIG9wdGlvbnMpIHtcblxuICAgICAgICB3cmFwRGF0YShvcHRpb25zKTtcblxuICAgICAgICBzdXBlcihwbG90QXJlYSwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgcmVmbG93Q2F0ZWdvcmllcyhjYXRlZ29yeVNsb3RzKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbjtcbiAgICAgICAgY29uc3QgY2hpbGRyZW5MZW5ndGggPSBjaGlsZHJlbi5sZW5ndGg7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbkxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjaGlsZHJlbltpXS5yZWZsb3coY2F0ZWdvcnlTbG90c1tpXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwbG90UmFuZ2UocG9pbnQpIHtcbiAgICAgICAgY29uc3Qgc2VyaWVzID0gcG9pbnQuc2VyaWVzO1xuICAgICAgICBjb25zdCB2YWx1ZUF4aXMgPSB0aGlzLnNlcmllc1ZhbHVlQXhpcyhzZXJpZXMpO1xuICAgICAgICBjb25zdCBheGlzQ3Jvc3NpbmdWYWx1ZSA9IHRoaXMuY2F0ZWdvcnlBeGlzQ3Jvc3NpbmdWYWx1ZSh2YWx1ZUF4aXMpO1xuXG4gICAgICAgIHJldHVybiBbIGF4aXNDcm9zc2luZ1ZhbHVlLCBwb2ludC52YWx1ZS5jdXJyZW50IHx8IGF4aXNDcm9zc2luZ1ZhbHVlIF07XG4gICAgfVxuXG4gICAgY3JlYXRlUG9pbnQoZGF0YSwgZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IHsgY2F0ZWdvcnlJeCwgY2F0ZWdvcnksIHNlcmllcywgc2VyaWVzSXggfSA9IGZpZWxkcztcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBjaGlsZHJlbiB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgdmFsdWUgPSBkYXRhLnZhbHVlRmllbGRzO1xuXG4gICAgICAgIGxldCBidWxsZXRPcHRpb25zID0gZGVlcEV4dGVuZCh7XG4gICAgICAgICAgICB2ZXJ0aWNhbDogIW9wdGlvbnMuaW52ZXJ0QXhlcyxcbiAgICAgICAgICAgIG92ZXJsYXk6IHNlcmllcy5vdmVybGF5LFxuICAgICAgICAgICAgY2F0ZWdvcnlJeDogY2F0ZWdvcnlJeCxcbiAgICAgICAgICAgIGludmVydEF4ZXM6IG9wdGlvbnMuaW52ZXJ0QXhlc1xuICAgICAgICB9LCBzZXJpZXMpO1xuXG4gICAgICAgIGxldCBjb2xvciA9IGRhdGEuZmllbGRzLmNvbG9yIHx8IHNlcmllcy5jb2xvcjtcbiAgICAgICAgYnVsbGV0T3B0aW9ucyA9IHRoaXMuZXZhbFBvaW50T3B0aW9ucyhcbiAgICAgICAgICAgIGJ1bGxldE9wdGlvbnMsIHZhbHVlLCBjYXRlZ29yeSwgY2F0ZWdvcnlJeCwgc2VyaWVzLCBzZXJpZXNJeFxuICAgICAgICApO1xuXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHNlcmllcy5jb2xvcikpIHtcbiAgICAgICAgICAgIGNvbG9yID0gYnVsbGV0T3B0aW9ucy5jb2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGJ1bGxldCA9IG5ldyBCdWxsZXQodmFsdWUsIGJ1bGxldE9wdGlvbnMpO1xuICAgICAgICBidWxsZXQuY29sb3IgPSBjb2xvcjtcblxuICAgICAgICBsZXQgY2x1c3RlciA9IGNoaWxkcmVuW2NhdGVnb3J5SXhdO1xuICAgICAgICBpZiAoIWNsdXN0ZXIpIHtcbiAgICAgICAgICAgIGNsdXN0ZXIgPSBuZXcgQ2x1c3RlckxheW91dCh7XG4gICAgICAgICAgICAgICAgdmVydGljYWw6IG9wdGlvbnMuaW52ZXJ0QXhlcyxcbiAgICAgICAgICAgICAgICBnYXA6IG9wdGlvbnMuZ2FwLFxuICAgICAgICAgICAgICAgIHNwYWNpbmc6IG9wdGlvbnMuc3BhY2luZyxcbiAgICAgICAgICAgICAgICBydGw6ICFvcHRpb25zLmludmVydEF4ZXMgJiYgKHRoaXMuY2hhcnRTZXJ2aWNlIHx8IHt9KS5ydGxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5hcHBlbmQoY2x1c3Rlcik7XG4gICAgICAgIH1cblxuICAgICAgICBjbHVzdGVyLmFwcGVuZChidWxsZXQpO1xuXG4gICAgICAgIHJldHVybiBidWxsZXQ7XG4gICAgfVxuXG4gICAgdXBkYXRlUmFuZ2UodmFsdWUsIGZpZWxkcykge1xuICAgICAgICBjb25zdCB7IGN1cnJlbnQsIHRhcmdldCB9ID0gdmFsdWU7XG4gICAgICAgIGNvbnN0IGF4aXNOYW1lID0gZmllbGRzLnNlcmllcy5heGlzO1xuICAgICAgICBsZXQgYXhpc1JhbmdlID0gdGhpcy52YWx1ZUF4aXNSYW5nZXNbYXhpc05hbWVdO1xuXG4gICAgICAgIGlmIChkZWZpbmVkKGN1cnJlbnQpICYmICFpc05hTihjdXJyZW50KSAmJiBkZWZpbmVkKHRhcmdldCAmJiAhaXNOYU4odGFyZ2V0KSkpIHtcbiAgICAgICAgICAgIGF4aXNSYW5nZSA9IHRoaXMudmFsdWVBeGlzUmFuZ2VzW2F4aXNOYW1lXSA9XG4gICAgICAgICAgICAgICAgYXhpc1JhbmdlIHx8IHsgbWluOiBNQVhfVkFMVUUsIG1heDogTUlOX1ZBTFVFIH07XG5cbiAgICAgICAgICAgIGF4aXNSYW5nZS5taW4gPSBNYXRoLm1pbihheGlzUmFuZ2UubWluLCBjdXJyZW50LCB0YXJnZXQpO1xuICAgICAgICAgICAgYXhpc1JhbmdlLm1heCA9IE1hdGgubWF4KGF4aXNSYW5nZS5tYXgsIGN1cnJlbnQsIHRhcmdldCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmb3JtYXRQb2ludFZhbHVlKHBvaW50LCBmb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhcnRTZXJ2aWNlLmZvcm1hdC5hdXRvKGZvcm1hdCwgcG9pbnQudmFsdWUuY3VycmVudCwgcG9pbnQudmFsdWUudGFyZ2V0KTtcbiAgICB9XG5cbiAgICBwb2ludFZhbHVlKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIGRhdGEudmFsdWVGaWVsZHMuY3VycmVudDtcbiAgICB9XG5cbiAgICBhYm92ZUF4aXMocG9pbnQpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwb2ludC52YWx1ZS5jdXJyZW50O1xuXG4gICAgICAgIHJldHVybiB2YWx1ZSA+IDA7XG4gICAgfVxuXG4gICAgY3JlYXRlQW5pbWF0aW9uKCkge1xuICAgICAgICBjb25zdCBwb2ludHMgPSB0aGlzLnBvaW50cztcblxuICAgICAgICB0aGlzLl9zZXRBbmltYXRpb25PcHRpb25zKCk7XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgcG9pbnRzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzW2lkeF07XG4gICAgICAgICAgICBwb2ludC5vcHRpb25zLmFuaW1hdGlvbiA9IHRoaXMub3B0aW9ucy5hbmltYXRpb247XG4gICAgICAgICAgICBwb2ludC5jcmVhdGVBbmltYXRpb24oKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuQnVsbGV0Q2hhcnQucHJvdG90eXBlLl9zZXRBbmltYXRpb25PcHRpb25zID0gQmFyQ2hhcnQucHJvdG90eXBlLl9zZXRBbmltYXRpb25PcHRpb25zO1xuXG5zZXREZWZhdWx0T3B0aW9ucyhCdWxsZXRDaGFydCwge1xuICAgIGFuaW1hdGlvbjoge1xuICAgICAgICB0eXBlOiBCQVJcbiAgICB9XG59KTtcblxuZnVuY3Rpb24gd3JhcERhdGEob3B0aW9ucykge1xuICAgIGNvbnN0IHNlcmllcyA9IG9wdGlvbnMuc2VyaWVzO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgc2VyaWVzSXRlbSA9IHNlcmllc1tpXTtcbiAgICAgICAgY29uc3QgZGF0YSA9IHNlcmllc0l0ZW0uZGF0YTtcbiAgICAgICAgaWYgKGRhdGEgJiYgIWlzQXJyYXkoZGF0YVswXSkgJiYgIWlzT2JqZWN0KGRhdGFbMF0pKSB7XG4gICAgICAgICAgICBzZXJpZXNJdGVtLmRhdGEgPSBbIGRhdGEgXTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQnVsbGV0Q2hhcnQ7IiwiaW1wb3J0IHsgQ29sb3IgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCB7IENsYXNzLCBkZWZpbmVkLCBkZWVwRXh0ZW5kLCBzZXREZWZhdWx0T3B0aW9ucywgdmFsdWVPckRlZmF1bHQsIGdldFNwYWNpbmcsIHN0eWxlVmFsdWUgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuaW1wb3J0IHsgU0hPV19UT09MVElQLCBISURFX1RPT0xUSVAgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5jbGFzcyBCYXNlVG9vbHRpcCBleHRlbmRzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcihjaGFydFNlcnZpY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLmNoYXJ0U2VydmljZSA9IGNoYXJ0U2VydmljZTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBnZXRTdHlsZShvcHRpb25zLCBwb2ludCkge1xuICAgICAgICBsZXQgeyBiYWNrZ3JvdW5kLCBib3JkZXI6IHsgY29sb3I6IGJvcmRlciB9IH0gPSBvcHRpb25zO1xuXG4gICAgICAgIGlmIChwb2ludCkge1xuICAgICAgICAgICAgY29uc3QgcG9pbnRDb2xvciA9IHBvaW50LmNvbG9yIHx8IHBvaW50Lm9wdGlvbnMuY29sb3I7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kID0gdmFsdWVPckRlZmF1bHQoYmFja2dyb3VuZCwgcG9pbnRDb2xvcik7XG4gICAgICAgICAgICBib3JkZXIgPSB2YWx1ZU9yRGVmYXVsdChib3JkZXIsIHBvaW50Q29sb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGFkZGluZyA9IGdldFNwYWNpbmcob3B0aW9ucy5wYWRkaW5nIHx8IHt9LCBcImF1dG9cIik7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogYmFja2dyb3VuZCxcbiAgICAgICAgICAgIGJvcmRlckNvbG9yOiBib3JkZXIsXG4gICAgICAgICAgICBmb250OiBvcHRpb25zLmZvbnQsXG4gICAgICAgICAgICBjb2xvcjogb3B0aW9ucy5jb2xvcixcbiAgICAgICAgICAgIG9wYWNpdHk6IG9wdGlvbnMub3BhY2l0eSxcbiAgICAgICAgICAgIGJvcmRlcldpZHRoOiBzdHlsZVZhbHVlKG9wdGlvbnMuYm9yZGVyLndpZHRoKSxcbiAgICAgICAgICAgIHBhZGRpbmdUb3A6IHN0eWxlVmFsdWUocGFkZGluZy50b3ApLFxuICAgICAgICAgICAgcGFkZGluZ0JvdHRvbTogc3R5bGVWYWx1ZShwYWRkaW5nLmJvdHRvbSksXG4gICAgICAgICAgICBwYWRkaW5nTGVmdDogc3R5bGVWYWx1ZShwYWRkaW5nLmxlZnQpLFxuICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiBzdHlsZVZhbHVlKHBhZGRpbmcucmlnaHQpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc2hvdyhvcHRpb25zLCB0b29sdGlwT3B0aW9ucywgcG9pbnQpIHtcbiAgICAgICAgb3B0aW9ucy5mb3JtYXQgPSB0b29sdGlwT3B0aW9ucy5mb3JtYXQ7XG5cbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdldFN0eWxlKHRvb2x0aXBPcHRpb25zLCBwb2ludCk7XG4gICAgICAgIG9wdGlvbnMuc3R5bGUgPSBzdHlsZTtcblxuICAgICAgICBpZiAoIWRlZmluZWQodG9vbHRpcE9wdGlvbnMuY29sb3IpICYmIG5ldyBDb2xvcihzdHlsZS5iYWNrZ3JvdW5kQ29sb3IpLnBlcmNCcmlnaHRuZXNzKCkgPiAxODApIHtcbiAgICAgICAgICAgIG9wdGlvbnMuY2xhc3NOYW1lID0gXCJrLWNoYXJ0LXRvb2x0aXAtaW52ZXJzZVwiO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jaGFydFNlcnZpY2Uubm90aWZ5KFNIT1dfVE9PTFRJUCwgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBoaWRlKCkge1xuICAgICAgICBpZiAodGhpcy5jaGFydFNlcnZpY2UpIHtcbiAgICAgICAgICAgIHRoaXMuY2hhcnRTZXJ2aWNlLm5vdGlmeShISURFX1RPT0xUSVApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuY2hhcnRTZXJ2aWNlO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoQmFzZVRvb2x0aXAsIHtcbiAgICBib3JkZXI6IHtcbiAgICAgICAgd2lkdGg6IDFcbiAgICB9LFxuICAgIG9wYWNpdHk6IDFcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBCYXNlVG9vbHRpcDtcbiIsImltcG9ydCBCYXNlVG9vbHRpcCBmcm9tICcuLi90b29sdGlwL2Jhc2UtdG9vbHRpcCc7XG5cbmltcG9ydCB7IEhJREVfVE9PTFRJUCB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBUT1AsIEJPVFRPTSwgTEVGVCwgUklHSFQsIENFTlRFUiwgREFURSB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBDcm9zc2hhaXJUb29sdGlwIGV4dGVuZHMgQmFzZVRvb2x0aXAge1xuICAgIGNvbnN0cnVjdG9yKGNoYXJ0U2VydmljZSwgY3Jvc3NoYWlyLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKGNoYXJ0U2VydmljZSwgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5jcm9zc2hhaXIgPSBjcm9zc2hhaXI7XG4gICAgICAgIHRoaXMuZm9ybWF0U2VydmljZSA9IGNoYXJ0U2VydmljZS5mb3JtYXQ7XG4gICAgICAgIHRoaXMuaW5pdEF4aXNOYW1lKCk7XG4gICAgfVxuXG4gICAgaW5pdEF4aXNOYW1lKCkge1xuICAgICAgICBjb25zdCBheGlzID0gdGhpcy5jcm9zc2hhaXIuYXhpcztcbiAgICAgICAgY29uc3QgcGxvdEFyZWEgPSBheGlzLnBsb3RBcmVhO1xuICAgICAgICBsZXQgbmFtZTtcbiAgICAgICAgaWYgKHBsb3RBcmVhLmNhdGVnb3J5QXhpcykge1xuICAgICAgICAgICAgbmFtZSA9IGF4aXMuZ2V0Q2F0ZWdvcnkgPyBcImNhdGVnb3J5QXhpc1wiIDogXCJ2YWx1ZUF4aXNcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5hbWUgPSBheGlzLm9wdGlvbnMudmVydGljYWwgPyBcInlBeGlzXCIgOiBcInhBeGlzXCI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5heGlzTmFtZSA9IG5hbWU7XG4gICAgfVxuXG4gICAgc2hvd0F0KHBvaW50KSB7XG4gICAgICAgIGNvbnN0IHsgY3Jvc3NoYWlyOiB7IGF4aXMgfSwgb3B0aW9ucyB9ID0gdGhpcztcbiAgICAgICAgbGV0IHZhbHVlID0gYXhpc1tvcHRpb25zLnN0aWNreU1vZGUgPyBcImdldENhdGVnb3J5XCIgOiBcImdldFZhbHVlXCJdKHBvaW50KTtcbiAgICAgICAgbGV0IGZvcm1hdHRlZFZhbHVlID0gdmFsdWU7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuZm9ybWF0KSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IHRoaXMuZm9ybWF0U2VydmljZS5hdXRvKG9wdGlvbnMuZm9ybWF0LCB2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoYXhpcy5vcHRpb25zLnR5cGUgPT09IERBVEUpIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlID0gdGhpcy5mb3JtYXRTZXJ2aWNlLmF1dG8oYXhpcy5vcHRpb25zLmxhYmVscy5kYXRlRm9ybWF0c1theGlzLm9wdGlvbnMuYmFzZVVuaXRdLCB2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNob3coe1xuICAgICAgICAgICAgcG9pbnQ6IHBvaW50LFxuICAgICAgICAgICAgYW5jaG9yOiB0aGlzLmdldEFuY2hvcigpLFxuICAgICAgICAgICAgY3Jvc3NoYWlyOiB0aGlzLmNyb3NzaGFpcixcbiAgICAgICAgICAgIHZhbHVlOiBmb3JtYXR0ZWRWYWx1ZSxcbiAgICAgICAgICAgIGF4aXNOYW1lOiB0aGlzLmF4aXNOYW1lLFxuICAgICAgICAgICAgYXhpc0luZGV4OiB0aGlzLmNyb3NzaGFpci5heGlzLmF4aXNJbmRleFxuICAgICAgICB9LCB0aGlzLm9wdGlvbnMpO1xuICAgIH1cblxuICAgIGhpZGUoKSB7XG4gICAgICAgIHRoaXMuY2hhcnRTZXJ2aWNlLm5vdGlmeShISURFX1RPT0xUSVAsIHtcbiAgICAgICAgICAgIGNyb3NzaGFpcjogdGhpcy5jcm9zc2hhaXIsXG4gICAgICAgICAgICBheGlzTmFtZTogdGhpcy5heGlzTmFtZSxcbiAgICAgICAgICAgIGF4aXNJbmRleDogdGhpcy5jcm9zc2hhaXIuYXhpcy5heGlzSW5kZXhcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0QW5jaG9yKCkge1xuICAgICAgICBjb25zdCB7IGNyb3NzaGFpciwgb3B0aW9uczogeyBwb3NpdGlvbiwgcGFkZGluZyB9IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB2ZXJ0aWNhbCA9ICFjcm9zc2hhaXIuYXhpcy5vcHRpb25zLnZlcnRpY2FsO1xuICAgICAgICBjb25zdCBsaW5lQm94ID0gY3Jvc3NoYWlyLmxpbmUuYmJveCgpO1xuICAgICAgICBsZXQgaG9yaXpvbnRhbEFsaWduLCB2ZXJ0aWNhbEFsaWduLCBwb2ludDtcblxuICAgICAgICBpZiAodmVydGljYWwpIHtcbiAgICAgICAgICAgIGhvcml6b250YWxBbGlnbiA9IENFTlRFUjtcbiAgICAgICAgICAgIGlmIChwb3NpdGlvbiA9PT0gQk9UVE9NKSB7XG4gICAgICAgICAgICAgICAgdmVydGljYWxBbGlnbiA9IFRPUDtcbiAgICAgICAgICAgICAgICBwb2ludCA9IGxpbmVCb3guYm90dG9tTGVmdCgpLnRyYW5zbGF0ZSgwLCBwYWRkaW5nKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmVydGljYWxBbGlnbiA9IEJPVFRPTTtcbiAgICAgICAgICAgICAgICBwb2ludCA9IGxpbmVCb3gudG9wTGVmdCgpLnRyYW5zbGF0ZSgwLCAtcGFkZGluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2ZXJ0aWNhbEFsaWduID0gQ0VOVEVSO1xuICAgICAgICAgICAgaWYgKHBvc2l0aW9uID09PSBMRUZUKSB7XG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbEFsaWduID0gUklHSFQ7XG4gICAgICAgICAgICAgICAgcG9pbnQgPSBsaW5lQm94LnRvcExlZnQoKS50cmFuc2xhdGUoLXBhZGRpbmcsIDApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsQWxpZ24gPSBMRUZUO1xuICAgICAgICAgICAgICAgIHBvaW50ID0gbGluZUJveC50b3BSaWdodCgpLnRyYW5zbGF0ZShwYWRkaW5nLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwb2ludDogcG9pbnQsXG4gICAgICAgICAgICBhbGlnbjoge1xuICAgICAgICAgICAgICAgIGhvcml6b250YWw6IGhvcml6b250YWxBbGlnbixcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogdmVydGljYWxBbGlnblxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoQ3Jvc3NoYWlyVG9vbHRpcCwge1xuICAgIHBhZGRpbmc6IDEwXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgQ3Jvc3NoYWlyVG9vbHRpcDtcblxuIiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3LCBnZW9tZXRyeSBhcyBnZW9tIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgeyBDaGFydEVsZW1lbnQsIENhdGVnb3J5QXhpcyB9IGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0IENyb3NzaGFpclRvb2x0aXAgZnJvbSAnLi9jcm9zc2hhaXItdG9vbHRpcCc7XG5cbmltcG9ydCB7IEJMQUNLLCBYLCBZIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBkZWVwRXh0ZW5kLCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIENyb3NzaGFpciBleHRlbmRzIENoYXJ0RWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoY2hhcnRTZXJ2aWNlLCBheGlzLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuYXhpcyA9IGF4aXM7XG4gICAgICAgIHRoaXMuc3RpY2t5TW9kZSA9IGF4aXMgaW5zdGFuY2VvZiBDYXRlZ29yeUF4aXM7XG5cbiAgICAgICAgY29uc3QgdG9vbHRpcE9wdGlvbnMgPSB0aGlzLm9wdGlvbnMudG9vbHRpcDtcblxuICAgICAgICBpZiAodG9vbHRpcE9wdGlvbnMudmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy50b29sdGlwID0gbmV3IENyb3NzaGFpclRvb2x0aXAoY2hhcnRTZXJ2aWNlLCB0aGlzLFxuICAgICAgICAgICAgICAgIGRlZXBFeHRlbmQoe30sIHRvb2x0aXBPcHRpb25zLCB7IHN0aWNreU1vZGU6IHRoaXMuc3RpY2t5TW9kZSB9KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNob3dBdChwb2ludCkge1xuICAgICAgICB0aGlzLnBvaW50ID0gcG9pbnQ7XG4gICAgICAgIHRoaXMubW92ZUxpbmUoKTtcbiAgICAgICAgdGhpcy5saW5lLnZpc2libGUodHJ1ZSk7XG5cbiAgICAgICAgaWYgKHRoaXMudG9vbHRpcCkge1xuICAgICAgICAgICAgdGhpcy50b29sdGlwLnNob3dBdChwb2ludCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoaWRlKCkge1xuICAgICAgICB0aGlzLmxpbmUudmlzaWJsZShmYWxzZSk7XG5cbiAgICAgICAgaWYgKHRoaXMudG9vbHRpcCkge1xuICAgICAgICAgICAgdGhpcy50b29sdGlwLmhpZGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG1vdmVMaW5lKCkge1xuICAgICAgICBjb25zdCB7IGF4aXMsIHBvaW50IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB2ZXJ0aWNhbCA9IGF4aXMub3B0aW9ucy52ZXJ0aWNhbDtcbiAgICAgICAgY29uc3QgYm94ID0gdGhpcy5nZXRCb3goKTtcbiAgICAgICAgY29uc3QgZGltID0gdmVydGljYWwgPyBZIDogWDtcbiAgICAgICAgY29uc3QgbGluZVN0YXJ0ID0gbmV3IGdlb20uUG9pbnQoYm94LngxLCBib3gueTEpO1xuICAgICAgICBsZXQgbGluZUVuZDtcblxuICAgICAgICBpZiAodmVydGljYWwpIHtcbiAgICAgICAgICAgIGxpbmVFbmQgPSBuZXcgZ2VvbS5Qb2ludChib3gueDIsIGJveC55MSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsaW5lRW5kID0gbmV3IGdlb20uUG9pbnQoYm94LngxLCBib3gueTIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvaW50KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGlja3lNb2RlKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2xvdCA9IGF4aXMuZ2V0U2xvdChheGlzLnBvaW50Q2F0ZWdvcnlJbmRleChwb2ludCkpO1xuICAgICAgICAgICAgICAgIGxpbmVTdGFydFtkaW1dID0gbGluZUVuZFtkaW1dID0gc2xvdC5jZW50ZXIoKVtkaW1dO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsaW5lU3RhcnRbZGltXSA9IGxpbmVFbmRbZGltXSA9IHBvaW50W2RpbV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJveCA9IGJveDtcblxuICAgICAgICB0aGlzLmxpbmUubW92ZVRvKGxpbmVTdGFydCkubGluZVRvKGxpbmVFbmQpO1xuICAgIH1cblxuICAgIGdldEJveCgpIHtcbiAgICAgICAgY29uc3QgYXhpcyA9IHRoaXMuYXhpcztcbiAgICAgICAgY29uc3QgYXhlcyA9IGF4aXMucGFuZS5heGVzO1xuICAgICAgICBjb25zdCBsZW5ndGggPSBheGVzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgdmVydGljYWwgPSBheGlzLm9wdGlvbnMudmVydGljYWw7XG4gICAgICAgIGNvbnN0IGJveCA9IGF4aXMubGluZUJveCgpLmNsb25lKCk7XG4gICAgICAgIGNvbnN0IGRpbSA9IHZlcnRpY2FsID8gWCA6IFk7XG4gICAgICAgIGxldCBheGlzTGluZUJveDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50QXhpcyA9IGF4ZXNbaV07XG4gICAgICAgICAgICBpZiAoY3VycmVudEF4aXMub3B0aW9ucy52ZXJ0aWNhbCAhPT0gdmVydGljYWwpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWF4aXNMaW5lQm94KSB7XG4gICAgICAgICAgICAgICAgICAgIGF4aXNMaW5lQm94ID0gY3VycmVudEF4aXMubGluZUJveCgpLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXhpc0xpbmVCb3gud3JhcChjdXJyZW50QXhpcy5saW5lQm94KCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGJveFtkaW0gKyAxXSA9IGF4aXNMaW5lQm94W2RpbSArIDFdO1xuICAgICAgICBib3hbZGltICsgMl0gPSBheGlzTGluZUJveFtkaW0gKyAyXTtcblxuICAgICAgICByZXR1cm4gYm94O1xuICAgIH1cblxuICAgIGNyZWF0ZVZpc3VhbCgpIHtcbiAgICAgICAgc3VwZXIuY3JlYXRlVmlzdWFsKCk7XG5cbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgdGhpcy5saW5lID0gbmV3IGRyYXcuUGF0aCh7XG4gICAgICAgICAgICBzdHJva2U6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogb3B0aW9ucy5jb2xvcixcbiAgICAgICAgICAgICAgICB3aWR0aDogb3B0aW9ucy53aWR0aCxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBvcHRpb25zLm9wYWNpdHksXG4gICAgICAgICAgICAgICAgZGFzaFR5cGU6IG9wdGlvbnMuZGFzaFR5cGVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLm1vdmVMaW5lKCk7XG4gICAgICAgIHRoaXMudmlzdWFsLmFwcGVuZCh0aGlzLmxpbmUpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLnRvb2x0aXApIHtcbiAgICAgICAgICAgIHRoaXMudG9vbHRpcC5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhDcm9zc2hhaXIsIHtcbiAgICBjb2xvcjogQkxBQ0ssXG4gICAgd2lkdGg6IDIsXG4gICAgekluZGV4OiAtMSxcbiAgICB0b29sdGlwOiB7XG4gICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IENyb3NzaGFpcjsiLCJpbXBvcnQgeyBkcmF3aW5nIGFzIGRyYXcgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5pbXBvcnQgeyBhbGlnblBhdGhUb1BpeGVsIH0gZnJvbSAnLi4vY29tbW9uJztcblxuaW1wb3J0IHsgQ2hhcnRFbGVtZW50IH0gZnJvbSAnLi4vY29yZSc7XG5cbmNsYXNzIENoYXJ0Q29udGFpbmVyIGV4dGVuZHMgQ2hhcnRFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zLCBwYW5lKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnBhbmUgPSBwYW5lO1xuICAgIH1cblxuICAgIHNob3VsZENsaXAoKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbjtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gY2hpbGRyZW4ubGVuZ3RoO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChjaGlsZHJlbltpXS5vcHRpb25zLmNsaXAgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgX2NsaXBCb3goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhbmUuY2hhcnRzQm94KCk7XG4gICAgfVxuXG4gICAgY3JlYXRlVmlzdWFsKCkge1xuICAgICAgICB0aGlzLnZpc3VhbCA9IG5ldyBkcmF3Lkdyb3VwKHtcbiAgICAgICAgICAgIHpJbmRleDogMFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodGhpcy5zaG91bGRDbGlwKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsaXBCb3ggPSB0aGlzLmNsaXBCb3ggPSB0aGlzLl9jbGlwQm94KCk7XG4gICAgICAgICAgICBjb25zdCBjbGlwUmVjdCA9IGNsaXBCb3gudG9SZWN0KCk7XG4gICAgICAgICAgICBjb25zdCBjbGlwUGF0aCA9IGRyYXcuUGF0aC5mcm9tUmVjdChjbGlwUmVjdCk7XG4gICAgICAgICAgICBhbGlnblBhdGhUb1BpeGVsKGNsaXBQYXRoKTtcblxuICAgICAgICAgICAgdGhpcy52aXN1YWwuY2xpcChjbGlwUGF0aCk7XG4gICAgICAgICAgICB0aGlzLnVuY2xpcExhYmVscygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhY2tSb290KCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB1bmNsaXBMYWJlbHMoKSB7XG4gICAgICAgIGNvbnN0IHsgY2hpbGRyZW46IGNoYXJ0cywgY2xpcEJveCB9ID0gdGhpcztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcG9pbnRzID0gY2hhcnRzW2ldLnBvaW50cyB8fCB7fTtcbiAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IHBvaW50cy5sZW5ndGg7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwb2ludCA9IHBvaW50c1tqXTtcbiAgICAgICAgICAgICAgICBpZiAocG9pbnQgJiYgcG9pbnQudmlzaWJsZSAhPT0gZmFsc2UgJiYgcG9pbnQub3ZlcmxhcHNCb3ggJiYgcG9pbnQub3ZlcmxhcHNCb3goY2xpcEJveCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvaW50LnVuY2xpcEVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludC51bmNsaXBFbGVtZW50cygpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBsYWJlbCwgbm90ZSB9ID0gcG9pbnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYWJlbCAmJiBsYWJlbC5vcHRpb25zLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGFiZWwuYWxpZ25Ub0NsaXBCb3gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwuYWxpZ25Ub0NsaXBCb3goY2xpcEJveCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsLm9wdGlvbnMubm9jbGlwID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdGUgJiYgbm90ZS5vcHRpb25zLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RlLm9wdGlvbnMubm9jbGlwID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcblxuICAgICAgICBkZWxldGUgdGhpcy5wYXJlbnQ7XG4gICAgfVxufVxuXG5DaGFydENvbnRhaW5lci5wcm90b3R5cGUuaXNTdGFja1Jvb3QgPSB0cnVlO1xuXG5leHBvcnQgZGVmYXVsdCBDaGFydENvbnRhaW5lcjsiLCJpbXBvcnQgeyBDaGFydEVsZW1lbnQsIEJveEVsZW1lbnQsIFRpdGxlLCBCb3ggfSBmcm9tICcuLi9jb3JlJztcbmltcG9ydCB7IENoYXJ0UGFuZSB9IGZyb20gJy4vYXBpLWVsZW1lbnRzJztcbmltcG9ydCBDaGFydENvbnRhaW5lciBmcm9tICcuL2NoYXJ0LWNvbnRhaW5lcic7XG5cbmltcG9ydCB7IFBBTkVfUkVOREVSIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgVE9QLCBMRUZULCBYLCBZIH0gZnJvbSAnLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBhcHBlbmQsIGRlZXBFeHRlbmQsIGlzT2JqZWN0LCBsYXN0LCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uL2NvbW1vbic7XG5cbmNsYXNzIFBhbmUgZXh0ZW5kcyBCb3hFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuaWQgPSBwYW5lSUQoKTtcblxuICAgICAgICB0aGlzLmNyZWF0ZVRpdGxlKCk7XG5cbiAgICAgICAgdGhpcy5jb250ZW50ID0gbmV3IENoYXJ0RWxlbWVudCgpO1xuXG4gICAgICAgIHRoaXMuY2hhcnRDb250YWluZXIgPSBuZXcgQ2hhcnRDb250YWluZXIoe30sIHRoaXMpO1xuICAgICAgICB0aGlzLmFwcGVuZCh0aGlzLmNvbnRlbnQpO1xuXG4gICAgICAgIHRoaXMuYXhlcyA9IFtdO1xuICAgICAgICB0aGlzLmNoYXJ0cyA9IFtdO1xuICAgIH1cblxuICAgIGNyZWF0ZVRpdGxlKCkge1xuICAgICAgICBsZXQgdGl0bGVPcHRpb25zID0gdGhpcy5vcHRpb25zLnRpdGxlO1xuICAgICAgICBpZiAoaXNPYmplY3QodGl0bGVPcHRpb25zKSkge1xuICAgICAgICAgICAgdGl0bGVPcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgdGl0bGVPcHRpb25zLCB7XG4gICAgICAgICAgICAgICAgYWxpZ246IHRpdGxlT3B0aW9ucy5wb3NpdGlvbixcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogVE9QXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudGl0bGUgPSBUaXRsZS5idWlsZFRpdGxlKHRpdGxlT3B0aW9ucywgdGhpcywgUGFuZS5wcm90b3R5cGUub3B0aW9ucy50aXRsZSk7XG4gICAgfVxuXG4gICAgYXBwZW5kQXhpcyhheGlzKSB7XG4gICAgICAgIHRoaXMuY29udGVudC5hcHBlbmQoYXhpcyk7XG4gICAgICAgIHRoaXMuYXhlcy5wdXNoKGF4aXMpO1xuICAgICAgICBheGlzLnBhbmUgPSB0aGlzO1xuICAgIH1cblxuICAgIGFwcGVuZEF4aXNBdChheGlzLCBwb3MpIHtcbiAgICAgICAgdGhpcy5jb250ZW50LmFwcGVuZChheGlzKTtcbiAgICAgICAgdGhpcy5heGVzLnNwbGljZShwb3MsIDAsIGF4aXMpO1xuICAgICAgICBheGlzLnBhbmUgPSB0aGlzO1xuICAgIH1cblxuICAgIGFwcGVuZENoYXJ0KGNoYXJ0KSB7XG4gICAgICAgIGlmICh0aGlzLmNoYXJ0Q29udGFpbmVyLnBhcmVudCAhPT0gdGhpcy5jb250ZW50KSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnQuYXBwZW5kKHRoaXMuY2hhcnRDb250YWluZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jaGFydHMucHVzaChjaGFydCk7XG4gICAgICAgIHRoaXMuY2hhcnRDb250YWluZXIuYXBwZW5kKGNoYXJ0KTtcbiAgICAgICAgY2hhcnQucGFuZSA9IHRoaXM7XG4gICAgfVxuXG4gICAgZW1wdHkoKSB7XG4gICAgICAgIGNvbnN0IHBsb3RBcmVhID0gdGhpcy5wYXJlbnQ7XG5cbiAgICAgICAgaWYgKHBsb3RBcmVhKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHBsb3RBcmVhLnJlbW92ZUF4aXModGhpcy5heGVzW2ldKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHBsb3RBcmVhLnJlbW92ZUNoYXJ0KHRoaXMuY2hhcnRzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYXhlcyA9IFtdO1xuICAgICAgICB0aGlzLmNoYXJ0cyA9IFtdO1xuXG4gICAgICAgIHRoaXMuY29udGVudC5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuY29udGVudC5jaGlsZHJlbiA9IFtdO1xuICAgICAgICB0aGlzLmNoYXJ0Q29udGFpbmVyLmNoaWxkcmVuID0gW107XG4gICAgfVxuXG4gICAgcmVmbG93KHRhcmdldEJveCkge1xuICAgICAgICAvLyBDb250ZW50IChzdWNoIGFzIGNoYXJ0cykgaXMgcmVuZGVyZWQsIGJ1dCBleGNsdWRlZCBmcm9tIHJlZmxvd3NcbiAgICAgICAgbGV0IGNvbnRlbnQ7XG4gICAgICAgIGlmIChsYXN0KHRoaXMuY2hpbGRyZW4pID09PSB0aGlzLmNvbnRlbnQpIHtcbiAgICAgICAgICAgIGNvbnRlbnQgPSB0aGlzLmNoaWxkcmVuLnBvcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIucmVmbG93KHRhcmdldEJveCk7XG5cbiAgICAgICAgaWYgKGNvbnRlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChjb250ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnRpdGxlKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRCb3gueTEgKz0gdGhpcy50aXRsZS5ib3guaGVpZ2h0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2aXN1YWxTdHlsZSgpIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBzdXBlci52aXN1YWxTdHlsZSgpO1xuICAgICAgICBzdHlsZS56SW5kZXggPSAtMTA7XG5cbiAgICAgICAgcmV0dXJuIHN0eWxlO1xuICAgIH1cblxuICAgIHJlbmRlckNvbXBsZXRlKCkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlR3JpZExpbmVzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGFja1Jvb3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGNsaXBSb290KCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBjcmVhdGVHcmlkTGluZXMoKSB7XG4gICAgICAgIGNvbnN0IGF4ZXMgPSB0aGlzLmF4ZXM7XG4gICAgICAgIGNvbnN0IGFsbEF4ZXMgPSBheGVzLmNvbmNhdCh0aGlzLnBhcmVudC5heGVzKTtcbiAgICAgICAgY29uc3QgdkdyaWRMaW5lcyA9IFtdO1xuICAgICAgICBjb25zdCBoR3JpZExpbmVzID0gW107XG5cbiAgICAgICAgLy8gVE9ET1xuICAgICAgICAvLyBJcyBmdWxsIGNvbWJpbmF0aW9uIHJlYWxseSBuZWNlc3Nhcnk/XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgYXhpcyA9IGF4ZXNbaV07XG4gICAgICAgICAgICBjb25zdCB2ZXJ0aWNhbCA9IGF4aXMub3B0aW9ucy52ZXJ0aWNhbDtcbiAgICAgICAgICAgIGNvbnN0IGdyaWRMaW5lcyA9IHZlcnRpY2FsID8gdkdyaWRMaW5lcyA6IGhHcmlkTGluZXM7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGFsbEF4ZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoZ3JpZExpbmVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbHRBeGlzID0gYWxsQXhlc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZlcnRpY2FsICE9PSBhbHRBeGlzLm9wdGlvbnMudmVydGljYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZChncmlkTGluZXMsIGF4aXMuY3JlYXRlR3JpZExpbmVzKGFsdEF4aXMpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlZnJlc2goKSB7XG4gICAgICAgIHRoaXMudmlzdWFsLmNsZWFyKCk7XG5cbiAgICAgICAgdGhpcy5jb250ZW50LnBhcmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuY29udGVudC5jcmVhdGVHcmFkaWVudCA9IHRoaXMuY3JlYXRlR3JhZGllbnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5jb250ZW50LnJlbmRlclZpc3VhbCgpO1xuICAgICAgICB0aGlzLmNvbnRlbnQucGFyZW50ID0gdGhpcztcblxuICAgICAgICBpZiAodGhpcy50aXRsZSkge1xuICAgICAgICAgICAgdGhpcy52aXN1YWwuYXBwZW5kKHRoaXMudGl0bGUudmlzdWFsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudmlzdWFsLmFwcGVuZCh0aGlzLmNvbnRlbnQudmlzdWFsKTtcblxuICAgICAgICB0aGlzLnJlbmRlckNvbXBsZXRlKCk7XG4gICAgICAgIHRoaXMubm90aWZ5UmVuZGVyKCk7XG4gICAgfVxuXG4gICAgY2hhcnRzQm94KCkge1xuICAgICAgICBjb25zdCBheGVzID0gdGhpcy5heGVzO1xuICAgICAgICBjb25zdCBsZW5ndGggPSBheGVzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgY2hhcnRzQm94ID0gbmV3IEJveCgpO1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF4aXMgPSBheGVzW2lkeF07XG4gICAgICAgICAgICBjb25zdCBheGlzVmFsdWVGaWVsZCA9IGF4aXMub3B0aW9ucy52ZXJ0aWNhbCA/IFkgOiBYO1xuICAgICAgICAgICAgY29uc3QgbGluZUJveCA9IGF4aXMubGluZUJveCgpO1xuICAgICAgICAgICAgY2hhcnRzQm94W2F4aXNWYWx1ZUZpZWxkICsgMV0gPSBsaW5lQm94W2F4aXNWYWx1ZUZpZWxkICsgMV07XG4gICAgICAgICAgICBjaGFydHNCb3hbYXhpc1ZhbHVlRmllbGQgKyAyXSA9IGxpbmVCb3hbYXhpc1ZhbHVlRmllbGQgKyAyXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGFydHNCb3gueDIgPT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGFsbEF4ZXMgPSB0aGlzLnBhcmVudC5heGVzO1xuICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gYWxsQXhlcy5sZW5ndGg7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBheGlzID0gYWxsQXhlc1tpZHhdO1xuICAgICAgICAgICAgICAgIGlmICghYXhpcy5vcHRpb25zLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVCb3ggPSBheGlzLmxpbmVCb3goKTtcbiAgICAgICAgICAgICAgICAgICAgY2hhcnRzQm94LngxID0gbGluZUJveC54MTtcbiAgICAgICAgICAgICAgICAgICAgY2hhcnRzQm94LngyID0gbGluZUJveC54MjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoYXJ0c0JveDtcbiAgICB9XG5cbiAgICBjbGlwQm94KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFydENvbnRhaW5lci5jbGlwQm94O1xuICAgIH1cblxuICAgIG5vdGlmeVJlbmRlcigpIHtcbiAgICAgICAgY29uc3Qgc2VydmljZSA9IHRoaXMuZ2V0U2VydmljZSgpO1xuICAgICAgICBpZiAoc2VydmljZSkge1xuICAgICAgICAgICAgc2VydmljZS5ub3RpZnkoUEFORV9SRU5ERVIsIHtcbiAgICAgICAgICAgICAgICBwYW5lOiBuZXcgQ2hhcnRQYW5lKHRoaXMpLFxuICAgICAgICAgICAgICAgIGluZGV4OiB0aGlzLnBhbmVJbmRleCxcbiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLm9wdGlvbnMubmFtZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmxldCBJRCA9IDE7XG5cbmZ1bmN0aW9uIHBhbmVJRCgpIHtcbiAgICByZXR1cm4gXCJwYW5lXCIgKyBJRCsrO1xufVxuXG5QYW5lLnByb3RvdHlwZS5pc1N0YWNrUm9vdCA9IHRydWU7XG5cbnNldERlZmF1bHRPcHRpb25zKFBhbmUsIHtcbiAgICB6SW5kZXg6IC0xLFxuICAgIHNocmlua1RvRml0OiB0cnVlLFxuICAgIHRpdGxlOiB7XG4gICAgICAgIGFsaWduOiBMRUZUXG4gICAgfSxcbiAgICB2aXNpYmxlOiB0cnVlXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgUGFuZTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFwcGVuZElmTm90TnVsbChhcnJheSwgZWxlbWVudCkge1xuICAgIGlmIChlbGVtZW50ICE9PSBudWxsKSB7XG4gICAgICAgIGFycmF5LnB1c2goZWxlbWVudCk7XG4gICAgfVxufSIsImltcG9ydCB7IGRlZmluZWQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZWdtZW50VmlzaWJsZShzZXJpZXMsIGZpZWxkcywgaW5kZXgpIHtcbiAgICBjb25zdCB2aXNpYmxlID0gZmllbGRzLnZpc2libGU7XG4gICAgaWYgKGRlZmluZWQodmlzaWJsZSkpIHtcbiAgICAgICAgcmV0dXJuIHZpc2libGU7XG4gICAgfVxuXG4gICAgY29uc3QgcG9pbnRWaXNpYmlsaXR5ID0gc2VyaWVzLnBvaW50VmlzaWJpbGl0eTtcbiAgICBpZiAocG9pbnRWaXNpYmlsaXR5KSB7XG4gICAgICAgIHJldHVybiBwb2ludFZpc2liaWxpdHlbaW5kZXhdO1xuICAgIH1cbn1cblxuIiwiaW1wb3J0IHsgaXNOdW1iZXIsIGlzU3RyaW5nIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcbmltcG9ydCBTZXJpZXNCaW5kZXIgZnJvbSAnLi4vc2VyaWVzLWJpbmRlcic7XG5pbXBvcnQgc2VnbWVudFZpc2libGUgZnJvbSAnLi9zZWdtZW50LXZpc2libGUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBiaW5kU2VnbWVudHMoc2VyaWVzKSB7XG4gICAgY29uc3QgZGF0YSA9IHNlcmllcy5kYXRhO1xuICAgIGNvbnN0IHBvaW50cyA9IFtdO1xuICAgIGxldCBzdW0gPSAwO1xuICAgIGxldCBjb3VudCA9IDA7XG5cbiAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBkYXRhLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgY29uc3QgcG9pbnREYXRhID0gU2VyaWVzQmluZGVyLmN1cnJlbnQuYmluZFBvaW50KHNlcmllcywgaWR4KTtcbiAgICAgICAgbGV0IHZhbHVlID0gcG9pbnREYXRhLnZhbHVlRmllbGRzLnZhbHVlO1xuXG5cbiAgICAgICAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgICAgICAgdmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgICAgIHBvaW50RGF0YS52aXNpYmxlID0gc2VnbWVudFZpc2libGUoc2VyaWVzLCBwb2ludERhdGEuZmllbGRzLCBpZHgpICE9PSBmYWxzZTtcblxuICAgICAgICAgICAgcG9pbnREYXRhLnZhbHVlID0gTWF0aC5hYnModmFsdWUpO1xuICAgICAgICAgICAgcG9pbnRzLnB1c2gocG9pbnREYXRhKTtcblxuICAgICAgICAgICAgaWYgKHBvaW50RGF0YS52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgc3VtICs9IHBvaW50RGF0YS52YWx1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKG51bGwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG90YWw6IHN1bSxcbiAgICAgICAgcG9pbnRzOiBwb2ludHMsXG4gICAgICAgIGNvdW50OiBjb3VudFxuICAgIH07XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZXF1YWxzSWdub3JlQ2FzZShhLCBiKSB7XG4gICAgaWYgKGEgJiYgYikge1xuICAgICAgICByZXR1cm4gYS50b0xvd2VyQ2FzZSgpID09PSBiLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGEgPT09IGI7XG59IiwiaW1wb3J0IHsgaW5BcnJheSB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZpbHRlclNlcmllc0J5VHlwZShzZXJpZXMsIHR5cGVzKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG5cbiAgICBjb25zdCBzZXJpZXNUeXBlcyA9IFtdLmNvbmNhdCh0eXBlcyk7XG4gICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgc2VyaWVzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgY29uc3QgY3VycmVudFNlcmllcyA9IHNlcmllc1tpZHhdO1xuICAgICAgICBpZiAoaW5BcnJheShjdXJyZW50U2VyaWVzLnR5cGUsIHNlcmllc1R5cGVzKSkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goY3VycmVudFNlcmllcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufSIsImltcG9ydCB7IHBhcnNlRGF0ZSB9IGZyb20gJy4uLy4uL2RhdGUtdXRpbHMnO1xuaW1wb3J0IHsgZ2V0dGVyIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0RGF0ZUZpZWxkKGZpZWxkLCByb3csIGludGxTZXJ2aWNlKSB7XG4gICAgaWYgKHJvdyA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gcm93O1xuICAgIH1cblxuICAgIGNvbnN0IGtleSA9IFwiX2RhdGVfXCIgKyBmaWVsZDtcbiAgICBsZXQgdmFsdWUgPSByb3dba2V5XTtcblxuICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgdmFsdWUgPSBwYXJzZURhdGUoaW50bFNlcnZpY2UsIGdldHRlcihmaWVsZCwgdHJ1ZSkocm93KSk7XG4gICAgICAgIHJvd1trZXldID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xufSIsImltcG9ydCBlcXVhbHNJZ25vcmVDYXNlIGZyb20gJy4vZXF1YWxzLWlnbm9yZS1jYXNlJztcblxuaW1wb3J0IHsgREFURSB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0RhdGVBeGlzKGF4aXNPcHRpb25zLCBzYW1wbGVDYXRlZ29yeSkge1xuICAgIGNvbnN0IHR5cGUgPSBheGlzT3B0aW9ucy50eXBlO1xuICAgIGNvbnN0IGRhdGVDYXRlZ29yeSA9IHNhbXBsZUNhdGVnb3J5IGluc3RhbmNlb2YgRGF0ZTtcblxuICAgIHJldHVybiAoIXR5cGUgJiYgZGF0ZUNhdGVnb3J5KSB8fCBlcXVhbHNJZ25vcmVDYXNlKHR5cGUsIERBVEUpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNpbmdsZUl0ZW1PckFycmF5KGFycmF5KSB7XG4gICAgcmV0dXJuIGFycmF5Lmxlbmd0aCA9PT0gMSA/IGFycmF5WzBdIDogYXJyYXk7XG59IiwiaW1wb3J0IHsgSU5URVJQT0xBVEUsIFpFUk8gfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgY29udmVydGFibGVUb051bWJlciB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5pbXBvcnQgU2VyaWVzQmluZGVyIGZyb20gJy4uL3Nlcmllcy1iaW5kZXInO1xuXG5jb25zdCBBUkVBX1JFR0VYID0gL2FyZWEvaTtcblxuZnVuY3Rpb24gc2VyaWVzTWlzc2luZ1ZhbHVlcyhzZXJpZXMpIHtcbiAgICBpZiAoc2VyaWVzLm1pc3NpbmdWYWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIHNlcmllcy5taXNzaW5nVmFsdWVzO1xuICAgIH1cblxuICAgIHJldHVybiBBUkVBX1JFR0VYLnRlc3Qoc2VyaWVzLnR5cGUpIHx8IHNlcmllcy5zdGFjayA/IFpFUk8gOiBJTlRFUlBPTEFURTtcbn1cblxuZnVuY3Rpb24gaGFzVmFsdWUoc2VyaWVzLCBpdGVtKSB7XG4gICAgY29uc3QgZmllbGRzID0gU2VyaWVzQmluZGVyLmN1cnJlbnQuYmluZFBvaW50KHNlcmllcywgbnVsbCwgaXRlbSk7XG4gICAgY29uc3QgdmFsdWVGaWVsZHMgPSBmaWVsZHMudmFsdWVGaWVsZHM7XG5cbiAgICBmb3IgKGxldCBmaWVsZCBpbiB2YWx1ZUZpZWxkcykge1xuICAgICAgICBpZiAoY29udmVydGFibGVUb051bWJlcih2YWx1ZUZpZWxkc1tmaWVsZF0pKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZmluZE5leHQoeyBzdGFydCwgZGlyLCBtaW4sIG1heCwgZ2V0dGVyLCBoYXNJdGVtLCBzZXJpZXMgfSkge1xuICAgIGxldCBwb2ludEhhc1ZhbHVlLCBvdXRQb2ludDtcbiAgICBsZXQgaWR4ID0gc3RhcnQ7XG4gICAgZG8ge1xuICAgICAgICBpZHggKz0gZGlyO1xuICAgICAgICAvL2FnZ3JlZ2F0aW5nIGFuZCBiaW5kaW5nIHRoZSBpdGVtIHRha2VzIHRvbyBtdWNoIHRpbWUgZm9yIGxhcmdlIG51bWJlciBvZiBjYXRlZ29yaWVzXG4gICAgICAgIC8vd2lsbCBhc3N1bWUgdGhhdCBpZiB0aGUgYWdncmVnYXRpb24gZG9lcyBub3QgY3JlYXRlIHZhbHVlIGZvciBhIG1pc3NpbmcgaXRlbSBmb3Igb25lIGl0IHdpbGwgbm90IGNyZWF0ZSBmb3Igb3RoZXJzXG4gICAgICAgIGlmIChoYXNJdGVtKGlkeCkpIHtcbiAgICAgICAgICAgIG91dFBvaW50ID0gZ2V0dGVyKGlkeCk7XG4gICAgICAgICAgICBwb2ludEhhc1ZhbHVlID0gaGFzVmFsdWUoc2VyaWVzLCBvdXRQb2ludC5pdGVtKTtcbiAgICAgICAgfVxuICAgIH0gd2hpbGUgKG1pbiA8PSBpZHggJiYgaWR4IDw9IG1heCAmJiAhcG9pbnRIYXNWYWx1ZSk7XG5cbiAgICBpZiAocG9pbnRIYXNWYWx1ZSkge1xuICAgICAgICByZXR1cm4gb3V0UG9pbnQ7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVPdXRPZlJhbmdlUG9pbnRzKHNlcmllcywgcmFuZ2UsIGNvdW50LCBnZXR0ZXIsIGhhc0l0ZW0pIHtcbiAgICBjb25zdCB7IG1pbiwgbWF4IH0gPSByYW5nZTtcbiAgICBjb25zdCBoYXNNaW5Qb2ludCA9IG1pbiA+IDAgJiYgbWluIDwgY291bnQ7XG4gICAgY29uc3QgaGFzTWF4UG9pbnQgPSBtYXggKyAxIDwgY291bnQ7XG5cbiAgICBpZiAoaGFzTWluUG9pbnQgfHwgaGFzTWF4UG9pbnQpIHtcbiAgICAgICAgY29uc3QgbWlzc2luZ1ZhbHVlcyA9IHNlcmllc01pc3NpbmdWYWx1ZXMoc2VyaWVzKTtcbiAgICAgICAgbGV0IG1pblBvaW50LCBtYXhQb2ludDtcbiAgICAgICAgaWYgKG1pc3NpbmdWYWx1ZXMgIT09IElOVEVSUE9MQVRFKSB7XG4gICAgICAgICAgICBpZiAoaGFzTWluUG9pbnQpIHtcbiAgICAgICAgICAgICAgICBtaW5Qb2ludCA9IGdldHRlcihtaW4gLSAxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGhhc01heFBvaW50KSB7XG4gICAgICAgICAgICAgICAgbWF4UG9pbnQgPSBnZXR0ZXIobWF4ICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgb3V0UG9pbnQsIHBvaW50SGFzVmFsdWU7XG4gICAgICAgICAgICBpZiAoaGFzTWluUG9pbnQpIHtcbiAgICAgICAgICAgICAgICBvdXRQb2ludCA9IGdldHRlcihtaW4gLSAxKTtcbiAgICAgICAgICAgICAgICBwb2ludEhhc1ZhbHVlID0gaGFzVmFsdWUoc2VyaWVzLCBvdXRQb2ludC5pdGVtKTtcbiAgICAgICAgICAgICAgICBpZiAoIXBvaW50SGFzVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgbWluUG9pbnQgPSBmaW5kTmV4dCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogbWluLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlyOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heDogY291bnQgLSAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0dGVyOiBnZXR0ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNJdGVtOiBoYXNJdGVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VyaWVzOiBzZXJpZXNcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbWluUG9pbnQgPSBvdXRQb2ludDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChoYXNNYXhQb2ludCkge1xuICAgICAgICAgICAgICAgIG91dFBvaW50ID0gZ2V0dGVyKG1heCArIDEpO1xuICAgICAgICAgICAgICAgIHBvaW50SGFzVmFsdWUgPSBoYXNWYWx1ZShzZXJpZXMsIG91dFBvaW50Lml0ZW0pO1xuICAgICAgICAgICAgICAgIGlmICghcG9pbnRIYXNWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBtYXhQb2ludCA9IGZpbmROZXh0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBtYXgsXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXI6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXg6IGNvdW50IC0gMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldHRlcjogZ2V0dGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzSXRlbTogaGFzSXRlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcmllczogc2VyaWVzXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1heFBvaW50ID0gb3V0UG9pbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1pblBvaW50KSB7XG4gICAgICAgICAgICBzZXJpZXMuX291dE9mUmFuZ2VNaW5Qb2ludCA9IG1pblBvaW50O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1heFBvaW50KSB7XG4gICAgICAgICAgICBzZXJpZXMuX291dE9mUmFuZ2VNYXhQb2ludCA9IG1heFBvaW50O1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHsgQ2hhcnRFbGVtZW50LCBCb3ggfSBmcm9tICcuLi8uLi9jb3JlJztcbmltcG9ydCBDcm9zc2hhaXIgZnJvbSAnLi4vY3Jvc3NoYWlyL2Nyb3NzaGFpcic7XG5pbXBvcnQgUGFuZSBmcm9tICcuLi9wYW5lJztcbmltcG9ydCB7IGhhc1ZhbHVlIH0gZnJvbSAnLi4vdXRpbHMnO1xuXG5pbXBvcnQgeyBXSElURSwgQkxBQ0ssIFgsIFksIENPT1JEX1BSRUNJU0lPTiwgVE9QLCBCT1RUT00sIExFRlQsIFJJR0hULCBTVEFSVCwgRU5EIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBhcHBlbmQsIGRlZXBFeHRlbmQsIGRlZmluZWQsIGdldFNwYWNpbmcsIGdldFRlbXBsYXRlLCBpbkFycmF5LCBpc0Z1bmN0aW9uLCBpc1N0cmluZywgbGltaXRWYWx1ZSwgcm91bmQsIHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgUGxvdEFyZWFCYXNlIGV4dGVuZHMgQ2hhcnRFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihzZXJpZXMsIG9wdGlvbnMsIGNoYXJ0U2VydmljZSkge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcblxuICAgICAgICB0aGlzLmluaXRGaWVsZHMoc2VyaWVzLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5zZXJpZXMgPSBzZXJpZXM7XG4gICAgICAgIHRoaXMuaW5pdFNlcmllcygpO1xuICAgICAgICB0aGlzLmNoYXJ0cyA9IFtdO1xuICAgICAgICB0aGlzLm9wdGlvbnMubGVnZW5kID0gdGhpcy5vcHRpb25zLmxlZ2VuZCB8fCB7fTtcbiAgICAgICAgdGhpcy5vcHRpb25zLmxlZ2VuZC5pdGVtcyA9IFtdO1xuICAgICAgICB0aGlzLmF4ZXMgPSBbXTtcbiAgICAgICAgdGhpcy5jcm9zc2hhaXJzID0gW107XG4gICAgICAgIHRoaXMuY2hhcnRTZXJ2aWNlID0gY2hhcnRTZXJ2aWNlO1xuICAgICAgICB0aGlzLm9yaWdpbmFsT3B0aW9ucyA9IG9wdGlvbnM7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVQYW5lcygpO1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB0aGlzLmNyZWF0ZUNyb3NzaGFpcnMoKTtcbiAgICB9XG5cbiAgICBpbml0RmllbGRzKCkgeyB9XG5cbiAgICBpbml0U2VyaWVzKCkge1xuICAgICAgICBjb25zdCBzZXJpZXMgPSB0aGlzLnNlcmllcztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlcmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgc2VyaWVzW2ldLmluZGV4ID0gaTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZVBhbmVzKCkge1xuICAgICAgICBjb25zdCBkZWZhdWx0cyA9IHsgdGl0bGU6IHsgY29sb3I6ICh0aGlzLm9wdGlvbnMudGl0bGUgfHwge30pLmNvbG9yIH0gfTtcbiAgICAgICAgY29uc3QgcGFuZXMgPSBbXTtcbiAgICAgICAgY29uc3QgcGFuZU9wdGlvbnMgPSB0aGlzLm9wdGlvbnMucGFuZXMgfHwgW107XG4gICAgICAgIGNvbnN0IHBhbmVzTGVuZ3RoID0gTWF0aC5tYXgocGFuZU9wdGlvbnMubGVuZ3RoLCAxKTtcblxuICAgICAgICBmdW5jdGlvbiBzZXRUaXRsZShvcHRpb25zLCBkZWZhdWx0cykge1xuICAgICAgICAgICAgaWYgKGlzU3RyaW5nKG9wdGlvbnMudGl0bGUpKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy50aXRsZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogb3B0aW9ucy50aXRsZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9wdGlvbnMudGl0bGUgPSBkZWVwRXh0ZW5kKHt9LCBkZWZhdWx0cy50aXRsZSwgb3B0aW9ucy50aXRsZSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhbmVzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSBwYW5lT3B0aW9uc1tpXSB8fCB7fTtcbiAgICAgICAgICAgIHNldFRpdGxlKG9wdGlvbnMsIGRlZmF1bHRzKTtcblxuICAgICAgICAgICAgY29uc3QgY3VycmVudFBhbmUgPSBuZXcgUGFuZShvcHRpb25zKTtcbiAgICAgICAgICAgIGN1cnJlbnRQYW5lLnBhbmVJbmRleCA9IGk7XG5cbiAgICAgICAgICAgIHBhbmVzLnB1c2goY3VycmVudFBhbmUpO1xuICAgICAgICAgICAgdGhpcy5hcHBlbmQoY3VycmVudFBhbmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wYW5lcyA9IHBhbmVzO1xuICAgIH1cblxuICAgIGNyZWF0ZUNyb3NzaGFpcnMocGFuZXMgPSB0aGlzLnBhbmVzKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFuZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBhbmUgPSBwYW5lc1tpXTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcGFuZS5heGVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXhpcyA9IHBhbmUuYXhlc1tqXTtcbiAgICAgICAgICAgICAgICBpZiAoYXhpcy5vcHRpb25zLmNyb3NzaGFpciAmJiBheGlzLm9wdGlvbnMuY3Jvc3NoYWlyLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudENyb3NzaGFpciA9IG5ldyBDcm9zc2hhaXIodGhpcy5jaGFydFNlcnZpY2UsIGF4aXMsIGF4aXMub3B0aW9ucy5jcm9zc2hhaXIpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3Jvc3NoYWlycy5wdXNoKGN1cnJlbnRDcm9zc2hhaXIpO1xuICAgICAgICAgICAgICAgICAgICBwYW5lLmNvbnRlbnQuYXBwZW5kKGN1cnJlbnRDcm9zc2hhaXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbW92ZUNyb3NzaGFpcnMocGFuZSkge1xuICAgICAgICBjb25zdCBjcm9zc2hhaXJzID0gdGhpcy5jcm9zc2hhaXJzO1xuICAgICAgICBjb25zdCBheGVzID0gcGFuZS5heGVzO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSBjcm9zc2hhaXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGF4ZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoY3Jvc3NoYWlyc1tpXS5heGlzID09PSBheGVzW2pdKSB7XG4gICAgICAgICAgICAgICAgICAgIGNyb3NzaGFpcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoaWRlQ3Jvc3NoYWlycygpIHtcbiAgICAgICAgY29uc3QgY3Jvc3NoYWlycyA9IHRoaXMuY3Jvc3NoYWlycztcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgY3Jvc3NoYWlycy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBjcm9zc2hhaXJzW2lkeF0uaGlkZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZmluZFBhbmUobmFtZSkge1xuICAgICAgICBjb25zdCBwYW5lcyA9IHRoaXMucGFuZXM7XG4gICAgICAgIGxldCBtYXRjaGluZ1BhbmU7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHBhbmVzW2ldLm9wdGlvbnMubmFtZSA9PT0gbmFtZSkge1xuICAgICAgICAgICAgICAgIG1hdGNoaW5nUGFuZSA9IHBhbmVzW2ldO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1hdGNoaW5nUGFuZSB8fCBwYW5lc1swXTtcbiAgICB9XG5cbiAgICBmaW5kUG9pbnRQYW5lKHBvaW50KSB7XG4gICAgICAgIGNvbnN0IHBhbmVzID0gdGhpcy5wYW5lcztcbiAgICAgICAgbGV0IG1hdGNoaW5nUGFuZTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAocGFuZXNbaV0uYm94LmNvbnRhaW5zUG9pbnQocG9pbnQpKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hpbmdQYW5lID0gcGFuZXNbaV07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWF0Y2hpbmdQYW5lO1xuICAgIH1cblxuICAgIGFwcGVuZEF4aXMoYXhpcykge1xuICAgICAgICBjb25zdCBwYW5lID0gdGhpcy5maW5kUGFuZShheGlzLm9wdGlvbnMucGFuZSk7XG5cbiAgICAgICAgcGFuZS5hcHBlbmRBeGlzKGF4aXMpO1xuICAgICAgICB0aGlzLmF4ZXMucHVzaChheGlzKTtcbiAgICAgICAgYXhpcy5wbG90QXJlYSA9IHRoaXM7XG4gICAgfVxuXG4gICAgcmVtb3ZlQXhpcyhheGlzVG9SZW1vdmUpIHtcbiAgICAgICAgY29uc3QgZmlsdGVyZWRBeGVzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmF4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF4aXMgPSB0aGlzLmF4ZXNbaV07XG4gICAgICAgICAgICBpZiAoYXhpc1RvUmVtb3ZlICE9PSBheGlzKSB7XG4gICAgICAgICAgICAgICAgZmlsdGVyZWRBeGVzLnB1c2goYXhpcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGF4aXMuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5heGVzID0gZmlsdGVyZWRBeGVzO1xuICAgIH1cblxuICAgIGFwcGVuZENoYXJ0KGNoYXJ0LCBwYW5lKSB7XG4gICAgICAgIHRoaXMuY2hhcnRzLnB1c2goY2hhcnQpO1xuICAgICAgICBpZiAocGFuZSkge1xuICAgICAgICAgICAgcGFuZS5hcHBlbmRDaGFydChjaGFydCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZChjaGFydCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW1vdmVDaGFydChjaGFydFRvUmVtb3ZlKSB7XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkQ2hhcnRzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY2hhcnQgPSB0aGlzLmNoYXJ0c1tpXTtcbiAgICAgICAgICAgIGlmIChjaGFydCAhPT0gY2hhcnRUb1JlbW92ZSkge1xuICAgICAgICAgICAgICAgIGZpbHRlcmVkQ2hhcnRzLnB1c2goY2hhcnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjaGFydC5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNoYXJ0cyA9IGZpbHRlcmVkQ2hhcnRzO1xuICAgIH1cblxuICAgIGFkZFRvTGVnZW5kKHNlcmllcykge1xuICAgICAgICBjb25zdCBjb3VudCA9IHNlcmllcy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGxlZ2VuZCA9IHRoaXMub3B0aW9ucy5sZWdlbmQ7XG4gICAgICAgIGNvbnN0IGxhYmVscyA9IGxlZ2VuZC5sYWJlbHMgfHwge307XG4gICAgICAgIGNvbnN0IGluYWN0aXZlSXRlbXMgPSBsZWdlbmQuaW5hY3RpdmVJdGVtcyB8fCB7fTtcbiAgICAgICAgY29uc3QgaW5hY3RpdmVJdGVtc0xhYmVscyA9IGluYWN0aXZlSXRlbXMubGFiZWxzIHx8IHt9O1xuICAgICAgICBjb25zdCBkYXRhID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50U2VyaWVzID0gc2VyaWVzW2ldO1xuICAgICAgICAgICAgY29uc3Qgc2VyaWVzVmlzaWJsZSA9IGN1cnJlbnRTZXJpZXMudmlzaWJsZSAhPT0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoY3VycmVudFNlcmllcy52aXNpYmxlSW5MZWdlbmQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCB0ZXh0ID0gY3VycmVudFNlcmllcy5uYW1lO1xuICAgICAgICAgICAgY29uc3QgbGFiZWxUZW1wbGF0ZSA9IHNlcmllc1Zpc2libGUgPyBnZXRUZW1wbGF0ZShsYWJlbHMpIDogZ2V0VGVtcGxhdGUoaW5hY3RpdmVJdGVtc0xhYmVscykgfHwgZ2V0VGVtcGxhdGUobGFiZWxzKTtcbiAgICAgICAgICAgIGlmIChsYWJlbFRlbXBsYXRlKSB7XG4gICAgICAgICAgICAgICAgdGV4dCA9IGxhYmVsVGVtcGxhdGUoe1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBoYXNWYWx1ZSh0ZXh0KSA/IHRleHQgOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICBzZXJpZXM6IGN1cnJlbnRTZXJpZXNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZGVmYXVsdHMgPSBjdXJyZW50U2VyaWVzLl9kZWZhdWx0cztcbiAgICAgICAgICAgIGxldCBjb2xvciA9IGN1cnJlbnRTZXJpZXMuY29sb3I7XG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihjb2xvcikgJiYgZGVmYXVsdHMpIHtcbiAgICAgICAgICAgICAgICBjb2xvciA9IGRlZmF1bHRzLmNvbG9yO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgaXRlbUxhYmVsT3B0aW9ucywgbWFya2VyQ29sb3I7XG4gICAgICAgICAgICBpZiAoc2VyaWVzVmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIGl0ZW1MYWJlbE9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICBtYXJrZXJDb2xvciA9IGNvbG9yO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpdGVtTGFiZWxPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogaW5hY3RpdmVJdGVtc0xhYmVscy5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgZm9udDogaW5hY3RpdmVJdGVtc0xhYmVscy5mb250XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBtYXJrZXJDb2xvciA9IGluYWN0aXZlSXRlbXMubWFya2Vycy5jb2xvcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGhhc1ZhbHVlKHRleHQpICYmIHRleHQgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICBkYXRhLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0ZXh0LFxuICAgICAgICAgICAgICAgICAgICBsYWJlbHM6IGl0ZW1MYWJlbE9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlckNvbG9yOiBtYXJrZXJDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgc2VyaWVzOiBjdXJyZW50U2VyaWVzLFxuICAgICAgICAgICAgICAgICAgICBhY3RpdmU6IHNlcmllc1Zpc2libGVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGFwcGVuZChsZWdlbmQuaXRlbXMsIGRhdGEpO1xuICAgIH1cblxuICAgIGdyb3VwQXhlcyhwYW5lcykge1xuICAgICAgICBjb25zdCB4QXhlcyA9IFtdO1xuICAgICAgICBjb25zdCB5QXhlcyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IHBhbmVJeCA9IDA7IHBhbmVJeCA8IHBhbmVzLmxlbmd0aDsgcGFuZUl4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBhbmVBeGVzID0gcGFuZXNbcGFuZUl4XS5heGVzO1xuICAgICAgICAgICAgZm9yIChsZXQgYXhpc0l4ID0gMDsgYXhpc0l4IDwgcGFuZUF4ZXMubGVuZ3RoOyBheGlzSXgrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGF4aXMgPSBwYW5lQXhlc1theGlzSXhdO1xuICAgICAgICAgICAgICAgIGlmIChheGlzLm9wdGlvbnMudmVydGljYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgeUF4ZXMucHVzaChheGlzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB4QXhlcy5wdXNoKGF4aXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IHg6IHhBeGVzLCB5OiB5QXhlcywgYW55OiB4QXhlcy5jb25jYXQoeUF4ZXMpIH07XG4gICAgfVxuXG4gICAgZ3JvdXBTZXJpZXNCeVBhbmUoKSB7XG4gICAgICAgIGNvbnN0IHNlcmllcyA9IHRoaXMuc2VyaWVzO1xuICAgICAgICBjb25zdCBzZXJpZXNCeVBhbmUgPSB7fTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlcmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFNlcmllcyA9IHNlcmllc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHBhbmUgPSB0aGlzLnNlcmllc1BhbmVOYW1lKGN1cnJlbnRTZXJpZXMpO1xuXG4gICAgICAgICAgICBpZiAoc2VyaWVzQnlQYW5lW3BhbmVdKSB7XG4gICAgICAgICAgICAgICAgc2VyaWVzQnlQYW5lW3BhbmVdLnB1c2goY3VycmVudFNlcmllcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlcmllc0J5UGFuZVtwYW5lXSA9IFsgY3VycmVudFNlcmllcyBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlcmllc0J5UGFuZTtcbiAgICB9XG5cbiAgICBmaWx0ZXJWaXNpYmxlU2VyaWVzKHNlcmllcykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlcmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFNlcmllcyA9IHNlcmllc1tpXTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50U2VyaWVzLnZpc2libGUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY3VycmVudFNlcmllcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJlZmxvdyh0YXJnZXRCb3gpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucy5wbG90QXJlYTtcbiAgICAgICAgY29uc3QgcGFuZXMgPSB0aGlzLnBhbmVzO1xuICAgICAgICBjb25zdCBtYXJnaW4gPSBnZXRTcGFjaW5nKG9wdGlvbnMubWFyZ2luKTtcblxuICAgICAgICB0aGlzLmJveCA9IHRhcmdldEJveC5jbG9uZSgpLnVucGFkKG1hcmdpbik7XG4gICAgICAgIHRoaXMucmVmbG93UGFuZXMoKTtcblxuICAgICAgICB0aGlzLmRldGFjaExhYmVscygpO1xuICAgICAgICB0aGlzLnJlZmxvd0F4ZXMocGFuZXMpO1xuICAgICAgICB0aGlzLnJlZmxvd0NoYXJ0cyhwYW5lcyk7XG4gICAgfVxuXG4gICAgcmVkcmF3KHBhbmVzKSB7XG4gICAgICAgIGNvbnN0IHBhbmVzQXJyYXkgPSBbXS5jb25jYXQocGFuZXMpO1xuICAgICAgICB0aGlzLmluaXRTZXJpZXMoKTtcblxuICAgICAgICAvL3ByZXZlbnRzIGxlYWsgZHVyaW5nIHBhcnRpYWwgcmVkcmF3cy4gdGhlIGNhY2hlZCBncmFkaWVudHMgb2JzZXJ2ZXJzIHJldGFpbiByZWZlcmVuY2UgdG8gdGhlIGRlc3Ryb3llZCBlbGVtZW50cy5cbiAgICAgICAgY29uc3Qgcm9vdCA9IHRoaXMuZ2V0Um9vdCgpO1xuICAgICAgICBpZiAocm9vdCkge1xuICAgICAgICAgICAgcm9vdC5jbGVhbkdyYWRpZW50cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYW5lc0FycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUNyb3NzaGFpcnMocGFuZXNBcnJheVtpXSk7XG4gICAgICAgICAgICBwYW5lc0FycmF5W2ldLmVtcHR5KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlbmRlcihwYW5lc0FycmF5KTtcbiAgICAgICAgdGhpcy5kZXRhY2hMYWJlbHMoKTtcbiAgICAgICAgdGhpcy5yZWZsb3dBeGVzKHRoaXMucGFuZXMpO1xuICAgICAgICB0aGlzLnJlZmxvd0NoYXJ0cyhwYW5lc0FycmF5KTtcblxuICAgICAgICB0aGlzLmNyZWF0ZUNyb3NzaGFpcnMocGFuZXNBcnJheSk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYW5lc0FycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwYW5lc0FycmF5W2ldLnJlZnJlc2goKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGF4aXNDcm9zc2luZ1ZhbHVlcyhheGlzLCBjcm9zc2luZ0F4ZXMpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGF4aXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgY3Jvc3NpbmdWYWx1ZXMgPSBbXS5jb25jYXQoXG4gICAgICAgICAgICBvcHRpb25zLmF4aXNDcm9zc2luZ1ZhbHVlcyB8fCBvcHRpb25zLmF4aXNDcm9zc2luZ1ZhbHVlXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHZhbHVlc1RvQWRkID0gY3Jvc3NpbmdBeGVzLmxlbmd0aCAtIGNyb3NzaW5nVmFsdWVzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgZGVmYXVsdFZhbHVlID0gY3Jvc3NpbmdWYWx1ZXNbMF0gfHwgMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlc1RvQWRkOyBpKyspIHtcbiAgICAgICAgICAgIGNyb3NzaW5nVmFsdWVzLnB1c2goZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjcm9zc2luZ1ZhbHVlcztcbiAgICB9XG5cbiAgICBhbGlnbkF4aXNUbyhheGlzLCB0YXJnZXRBeGlzLCBjcm9zc2luZ1ZhbHVlLCB0YXJnZXRDcm9zc2luZ1ZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHNsb3QgPSBheGlzLmdldFNsb3QoY3Jvc3NpbmdWYWx1ZSwgY3Jvc3NpbmdWYWx1ZSwgdHJ1ZSk7XG4gICAgICAgIGNvbnN0IHNsb3RFZGdlID0gYXhpcy5vcHRpb25zLnJldmVyc2UgPyAyIDogMTtcbiAgICAgICAgY29uc3QgdGFyZ2V0U2xvdCA9IHRhcmdldEF4aXMuZ2V0U2xvdCh0YXJnZXRDcm9zc2luZ1ZhbHVlLCB0YXJnZXRDcm9zc2luZ1ZhbHVlLCB0cnVlKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0RWRnZSA9IHRhcmdldEF4aXMub3B0aW9ucy5yZXZlcnNlID8gMiA6IDE7XG4gICAgICAgIGNvbnN0IGF4aXNCb3ggPSBheGlzLmJveC50cmFuc2xhdGUoXG4gICAgICAgICAgICB0YXJnZXRTbG90W1ggKyB0YXJnZXRFZGdlXSAtIHNsb3RbWCArIHNsb3RFZGdlXSxcbiAgICAgICAgICAgIHRhcmdldFNsb3RbWSArIHRhcmdldEVkZ2VdIC0gc2xvdFtZICsgc2xvdEVkZ2VdXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKGF4aXMucGFuZSAhPT0gdGFyZ2V0QXhpcy5wYW5lKSB7XG4gICAgICAgICAgICBheGlzQm94LnRyYW5zbGF0ZSgwLCBheGlzLnBhbmUuYm94LnkxIC0gdGFyZ2V0QXhpcy5wYW5lLmJveC55MSk7XG4gICAgICAgIH1cblxuICAgICAgICBheGlzLnJlZmxvdyhheGlzQm94KTtcbiAgICB9XG5cbiAgICBhbGlnbkF4ZXMoeEF4ZXMsIHlBeGVzKSB7XG4gICAgICAgIGNvbnN0IHhBbmNob3IgPSB4QXhlc1swXTtcbiAgICAgICAgY29uc3QgeUFuY2hvciA9IHlBeGVzWzBdO1xuICAgICAgICBjb25zdCB4QW5jaG9yQ3Jvc3NpbmdzID0gdGhpcy5heGlzQ3Jvc3NpbmdWYWx1ZXMoeEFuY2hvciwgeUF4ZXMpO1xuICAgICAgICBjb25zdCB5QW5jaG9yQ3Jvc3NpbmdzID0gdGhpcy5heGlzQ3Jvc3NpbmdWYWx1ZXMoeUFuY2hvciwgeEF4ZXMpO1xuICAgICAgICBjb25zdCBsZWZ0QW5jaG9ycyA9IHt9O1xuICAgICAgICBjb25zdCByaWdodEFuY2hvcnMgPSB7fTtcbiAgICAgICAgY29uc3QgdG9wQW5jaG9ycyA9IHt9O1xuICAgICAgICBjb25zdCBib3R0b21BbmNob3JzID0ge307XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB5QXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgYXhpcyA9IHlBeGVzW2ldO1xuICAgICAgICAgICAgY29uc3QgcGFuZSA9IGF4aXMucGFuZTtcbiAgICAgICAgICAgIGNvbnN0IHBhbmVJZCA9IHBhbmUuaWQ7XG4gICAgICAgICAgICBjb25zdCB2aXNpYmxlID0gYXhpcy5vcHRpb25zLnZpc2libGUgIT09IGZhbHNlO1xuXG4gICAgICAgICAgICAvLyBMb2NhdGUgcGFuZSBhbmNob3IsIGlmIGFueSwgYW5kIHVzZSBpdHMgYXhpc0Nyb3NzaW5nVmFsdWVzXG4gICAgICAgICAgICBjb25zdCBhbmNob3IgPSBwYW5lQW5jaG9yKHhBeGVzLCBwYW5lKSB8fCB4QW5jaG9yO1xuICAgICAgICAgICAgbGV0IGFuY2hvckNyb3NzaW5ncyA9IHhBbmNob3JDcm9zc2luZ3M7XG5cbiAgICAgICAgICAgIGlmIChhbmNob3IgIT09IHhBbmNob3IpIHtcbiAgICAgICAgICAgICAgICBhbmNob3JDcm9zc2luZ3MgPSB0aGlzLmF4aXNDcm9zc2luZ1ZhbHVlcyhhbmNob3IsIHlBeGVzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5hbGlnbkF4aXNUbyhheGlzLCBhbmNob3IsIHlBbmNob3JDcm9zc2luZ3NbaV0sIGFuY2hvckNyb3NzaW5nc1tpXSk7XG5cbiAgICAgICAgICAgIGlmIChheGlzLm9wdGlvbnMuX292ZXJsYXApIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJvdW5kKGF4aXMubGluZUJveCgpLngxKSA9PT0gcm91bmQoYW5jaG9yLmxpbmVCb3goKS54MSkpIHtcbiAgICAgICAgICAgICAgICAvLyBQdXNoIHRoZSBheGlzIHRvIHRoZSBsZWZ0IHRoZSBwcmV2aW91cyB5LWF4aXMgc28gdGhleSBkb24ndCBvdmVybGFwXG4gICAgICAgICAgICAgICAgaWYgKGxlZnRBbmNob3JzW3BhbmVJZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgYXhpcy5yZWZsb3coYXhpcy5ib3hcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hbGlnblRvKGxlZnRBbmNob3JzW3BhbmVJZF0uYm94LCBMRUZUKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRyYW5zbGF0ZSgtYXhpcy5vcHRpb25zLm1hcmdpbiwgMClcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICBsZWZ0QW5jaG9yc1twYW5lSWRdID0gYXhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyb3VuZChheGlzLmxpbmVCb3goKS54MikgPT09IHJvdW5kKGFuY2hvci5saW5lQm94KCkueDIpKSB7XG4gICAgICAgICAgICAgICAgLy8gRmxpcCB0aGUgbGFiZWxzIG9uIHRoZSByaWdodCBpZiB3ZSdyZSBhdCB0aGUgcmlnaHQgZW5kIG9mIHRoZSBwYW5lXG4gICAgICAgICAgICAgICAgaWYgKCFheGlzLl9taXJyb3JlZCkge1xuICAgICAgICAgICAgICAgICAgICBheGlzLm9wdGlvbnMubGFiZWxzLm1pcnJvciA9ICFheGlzLm9wdGlvbnMubGFiZWxzLm1pcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgYXhpcy5fbWlycm9yZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuYWxpZ25BeGlzVG8oYXhpcywgYW5jaG9yLCB5QW5jaG9yQ3Jvc3NpbmdzW2ldLCBhbmNob3JDcm9zc2luZ3NbaV0pO1xuXG4gICAgICAgICAgICAgICAgLy8gUHVzaCB0aGUgYXhpcyB0byB0aGUgcmlnaHQgdGhlIHByZXZpb3VzIHktYXhpcyBzbyB0aGV5IGRvbid0IG92ZXJsYXBcbiAgICAgICAgICAgICAgICBpZiAocmlnaHRBbmNob3JzW3BhbmVJZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgYXhpcy5yZWZsb3coYXhpcy5ib3hcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hbGlnblRvKHJpZ2h0QW5jaG9yc1twYW5lSWRdLmJveCwgUklHSFQpXG4gICAgICAgICAgICAgICAgICAgICAgICAudHJhbnNsYXRlKGF4aXMub3B0aW9ucy5tYXJnaW4sIDApXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmlnaHRBbmNob3JzW3BhbmVJZF0gPSBheGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGkgIT09IDAgJiYgeUFuY2hvci5wYW5lID09PSBheGlzLnBhbmUpIHtcbiAgICAgICAgICAgICAgICBheGlzLmFsaWduVG8oeUFuY2hvcik7XG4gICAgICAgICAgICAgICAgYXhpcy5yZWZsb3coYXhpcy5ib3gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB4QXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgYXhpcyA9IHhBeGVzW2ldO1xuICAgICAgICAgICAgY29uc3QgcGFuZSA9IGF4aXMucGFuZTtcbiAgICAgICAgICAgIGNvbnN0IHBhbmVJZCA9IHBhbmUuaWQ7XG4gICAgICAgICAgICBjb25zdCB2aXNpYmxlID0gYXhpcy5vcHRpb25zLnZpc2libGUgIT09IGZhbHNlO1xuXG4gICAgICAgICAgICAvLyBMb2NhdGUgcGFuZSBhbmNob3IgYW5kIHVzZSBpdHMgYXhpc0Nyb3NzaW5nVmFsdWVzXG4gICAgICAgICAgICBjb25zdCBhbmNob3IgPSBwYW5lQW5jaG9yKHlBeGVzLCBwYW5lKSB8fCB5QW5jaG9yO1xuICAgICAgICAgICAgbGV0IGFuY2hvckNyb3NzaW5ncyA9IHlBbmNob3JDcm9zc2luZ3M7XG4gICAgICAgICAgICBpZiAoYW5jaG9yICE9PSB5QW5jaG9yKSB7XG4gICAgICAgICAgICAgICAgYW5jaG9yQ3Jvc3NpbmdzID0gdGhpcy5heGlzQ3Jvc3NpbmdWYWx1ZXMoYW5jaG9yLCB4QXhlcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYWxpZ25BeGlzVG8oYXhpcywgYW5jaG9yLCB4QW5jaG9yQ3Jvc3NpbmdzW2ldLCBhbmNob3JDcm9zc2luZ3NbaV0pO1xuXG4gICAgICAgICAgICBpZiAoYXhpcy5vcHRpb25zLl9vdmVybGFwKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyb3VuZChheGlzLmxpbmVCb3goKS55MSkgPT09IHJvdW5kKGFuY2hvci5saW5lQm94KCkueTEpKSB7XG4gICAgICAgICAgICAgICAgLy8gRmxpcCB0aGUgbGFiZWxzIG9uIHRvcCBpZiB3ZSdyZSBhdCB0aGUgdG9wIG9mIHRoZSBwYW5lXG4gICAgICAgICAgICAgICAgaWYgKCFheGlzLl9taXJyb3JlZCkge1xuICAgICAgICAgICAgICAgICAgICBheGlzLm9wdGlvbnMubGFiZWxzLm1pcnJvciA9ICFheGlzLm9wdGlvbnMubGFiZWxzLm1pcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgYXhpcy5fbWlycm9yZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmFsaWduQXhpc1RvKGF4aXMsIGFuY2hvciwgeEFuY2hvckNyb3NzaW5nc1tpXSwgYW5jaG9yQ3Jvc3NpbmdzW2ldKTtcblxuICAgICAgICAgICAgICAgIC8vIFB1c2ggdGhlIGF4aXMgYWJvdmUgdGhlIHByZXZpb3VzIHgtYXhpcyBzbyB0aGV5IGRvbid0IG92ZXJsYXBcbiAgICAgICAgICAgICAgICBpZiAodG9wQW5jaG9yc1twYW5lSWRdKSB7XG4gICAgICAgICAgICAgICAgICAgIGF4aXMucmVmbG93KGF4aXMuYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAuYWxpZ25Ubyh0b3BBbmNob3JzW3BhbmVJZF0uYm94LCBUT1ApXG4gICAgICAgICAgICAgICAgICAgICAgICAudHJhbnNsYXRlKDAsIC1heGlzLm9wdGlvbnMubWFyZ2luKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh2aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvcEFuY2hvcnNbcGFuZUlkXSA9IGF4aXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocm91bmQoYXhpcy5saW5lQm94KCkueTIsIENPT1JEX1BSRUNJU0lPTikgPT09IHJvdW5kKGFuY2hvci5saW5lQm94KCkueTIsIENPT1JEX1BSRUNJU0lPTikpIHtcbiAgICAgICAgICAgICAgICAvLyBQdXNoIHRoZSBheGlzIGJlbG93IHRoZSBwcmV2aW91cyB4LWF4aXMgc28gdGhleSBkb24ndCBvdmVybGFwXG4gICAgICAgICAgICAgICAgaWYgKGJvdHRvbUFuY2hvcnNbcGFuZUlkXSkge1xuICAgICAgICAgICAgICAgICAgICBheGlzLnJlZmxvdyhheGlzLmJveFxuICAgICAgICAgICAgICAgICAgICAgICAgLmFsaWduVG8oYm90dG9tQW5jaG9yc1twYW5lSWRdLmJveCwgQk9UVE9NKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRyYW5zbGF0ZSgwLCBheGlzLm9wdGlvbnMubWFyZ2luKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh2aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbUFuY2hvcnNbcGFuZUlkXSA9IGF4aXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGF4aXMuYWxpZ25Ubyh4QW5jaG9yKTtcbiAgICAgICAgICAgICAgICBheGlzLnJlZmxvdyhheGlzLmJveCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzaHJpbmtBeGlzV2lkdGgocGFuZXMpIHtcbiAgICAgICAgY29uc3QgYXhlcyA9IHRoaXMuZ3JvdXBBeGVzKHBhbmVzKS5hbnk7XG4gICAgICAgIGNvbnN0IGF4aXNCb3ggPSBheGlzR3JvdXBCb3goYXhlcyk7XG4gICAgICAgIGxldCBvdmVyZmxvd1ggPSAwO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFuZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQYW5lID0gcGFuZXNbaV07XG5cbiAgICAgICAgICAgIGlmIChjdXJyZW50UGFuZS5heGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBvdmVyZmxvd1ggPSBNYXRoLm1heChcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dYLFxuICAgICAgICAgICAgICAgICAgICBheGlzQm94LndpZHRoKCkgLSBjdXJyZW50UGFuZS5jb250ZW50Qm94LndpZHRoKClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG92ZXJmbG93WCAhPT0gMCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBheGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudEF4aXMgPSBheGVzW2ldO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50QXhpcy5vcHRpb25zLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRBeGlzLnJlZmxvdyhjdXJyZW50QXhpcy5ib3guc2hyaW5rKG92ZXJmbG93WCwgMCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNocmlua0F4aXNIZWlnaHQocGFuZXMpIHtcbiAgICAgICAgbGV0IHNocmlua2VkO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFuZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQYW5lID0gcGFuZXNbaV07XG4gICAgICAgICAgICBjb25zdCBheGVzID0gY3VycmVudFBhbmUuYXhlcztcbiAgICAgICAgICAgIGNvbnN0IG92ZXJmbG93WSA9IE1hdGgubWF4KDAsIGF4aXNHcm91cEJveChheGVzKS5oZWlnaHQoKSAtIGN1cnJlbnRQYW5lLmNvbnRlbnRCb3guaGVpZ2h0KCkpO1xuXG4gICAgICAgICAgICBpZiAob3ZlcmZsb3dZICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBheGVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRBeGlzID0gYXhlc1tqXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudEF4aXMub3B0aW9ucy52ZXJ0aWNhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEF4aXMucmVmbG93KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRBeGlzLmJveC5zaHJpbmsoMCwgb3ZlcmZsb3dZKVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzaHJpbmtlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2hyaW5rZWQ7XG4gICAgfVxuXG4gICAgZml0QXhlcyhwYW5lcykge1xuICAgICAgICBjb25zdCBheGVzID0gdGhpcy5ncm91cEF4ZXMocGFuZXMpLmFueTtcbiAgICAgICAgbGV0IG9mZnNldFggPSAwO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFuZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQYW5lID0gcGFuZXNbaV07XG4gICAgICAgICAgICBjb25zdCBwYW5lQXhlcyA9IGN1cnJlbnRQYW5lLmF4ZXM7XG4gICAgICAgICAgICBjb25zdCBwYW5lQm94ID0gY3VycmVudFBhbmUuY29udGVudEJveDtcblxuICAgICAgICAgICAgaWYgKHBhbmVBeGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBheGlzQm94ID0gYXhpc0dyb3VwQm94KHBhbmVBeGVzKTtcbiAgICAgICAgICAgICAgICAvLyBPZmZzZXRZIGlzIGNhbGN1bGF0ZWQgYW5kIGFwcGxpZWQgcGVyIHBhbmVcbiAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXRZID0gTWF0aC5tYXgocGFuZUJveC55MSAtIGF4aXNCb3gueTEsIHBhbmVCb3gueTIgLSBheGlzQm94LnkyKTtcblxuICAgICAgICAgICAgICAgIC8vIE9mZnNldFggaXMgY2FsY3VsYXRlZCBhbmQgYXBwbGllZCBnbG9iYWxseVxuICAgICAgICAgICAgICAgIG9mZnNldFggPSBNYXRoLm1heChvZmZzZXRYLCBwYW5lQm94LngxIC0gYXhpc0JveC54MSk7XG5cblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcGFuZUF4ZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudEF4aXMgPSBwYW5lQXhlc1tqXTtcblxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50QXhpcy5yZWZsb3coXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50QXhpcy5ib3gudHJhbnNsYXRlKDAsIG9mZnNldFkpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBheGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50QXhpcyA9IGF4ZXNbaV07XG5cbiAgICAgICAgICAgIGN1cnJlbnRBeGlzLnJlZmxvdyhcbiAgICAgICAgICAgICAgICBjdXJyZW50QXhpcy5ib3gudHJhbnNsYXRlKG9mZnNldFgsIDApXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVmbG93QXhlcyhwYW5lcykge1xuICAgICAgICBjb25zdCBheGVzID0gdGhpcy5ncm91cEF4ZXMocGFuZXMpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFuZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMucmVmbG93UGFuZUF4ZXMocGFuZXNbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGF4ZXMueC5sZW5ndGggPiAwICYmIGF4ZXMueS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmFsaWduQXhlcyhheGVzLngsIGF4ZXMueSk7XG4gICAgICAgICAgICB0aGlzLnNocmlua0F4aXNXaWR0aChwYW5lcyk7XG5cbiAgICAgICAgICAgIHRoaXMuYXV0b1JvdGF0ZUF4aXNMYWJlbHMoYXhlcyk7XG5cbiAgICAgICAgICAgIHRoaXMuYWxpZ25BeGVzKGF4ZXMueCwgYXhlcy55KTtcbiAgICAgICAgICAgIGlmICh0aGlzLnNocmlua0F4aXNXaWR0aChwYW5lcykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFsaWduQXhlcyhheGVzLngsIGF4ZXMueSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc2hyaW5rQXhpc0hlaWdodChwYW5lcyk7XG4gICAgICAgICAgICB0aGlzLmFsaWduQXhlcyhheGVzLngsIGF4ZXMueSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnNocmlua0F4aXNIZWlnaHQocGFuZXMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbGlnbkF4ZXMoYXhlcy54LCBheGVzLnkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmZpdEF4ZXMocGFuZXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXV0b1JvdGF0ZUF4aXNMYWJlbHMoZ3JvdXBlZEF4ZXMpIHtcbiAgICAgICAgY29uc3QgeyBwYW5lcyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgYXhlcyA9IGFsbFBhbmVBeGVzKHBhbmVzKTtcbiAgICAgICAgbGV0IHJvdGF0ZWQ7XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgYXhlcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBheGlzID0gYXhlc1tpZHhdO1xuICAgICAgICAgICAgaWYgKGF4aXMuYXV0b1JvdGF0ZUxhYmVscygpKSB7XG4gICAgICAgICAgICAgICAgcm90YXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocm90YXRlZCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgcGFuZXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgICAgIHRoaXMucmVmbG93UGFuZUF4ZXMocGFuZXNbaWR4XSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChncm91cGVkQXhlcy54Lmxlbmd0aCA+IDAgJiYgZ3JvdXBlZEF4ZXMueS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbGlnbkF4ZXMoZ3JvdXBlZEF4ZXMueCwgZ3JvdXBlZEF4ZXMueSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zaHJpbmtBeGlzV2lkdGgocGFuZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVmbG93UGFuZUF4ZXMocGFuZSkge1xuICAgICAgICBjb25zdCBheGVzID0gcGFuZS5heGVzO1xuICAgICAgICBjb25zdCBsZW5ndGggPSBheGVzLmxlbmd0aDtcblxuICAgICAgICBpZiAobGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGF4ZXNbaV0ucmVmbG93KHBhbmUuY29udGVudEJveCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWZsb3dDaGFydHMocGFuZXMpIHtcbiAgICAgICAgY29uc3QgY2hhcnRzID0gdGhpcy5jaGFydHM7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gY2hhcnRzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgYm94ID0gdGhpcy5ib3g7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjaGFydFBhbmUgPSBjaGFydHNbaV0ucGFuZTtcbiAgICAgICAgICAgIGlmICghY2hhcnRQYW5lIHx8IGluQXJyYXkoY2hhcnRQYW5lLCBwYW5lcykpIHtcbiAgICAgICAgICAgICAgICBjaGFydHNbaV0ucmVmbG93KGJveCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWZsb3dQYW5lcygpIHtcbiAgICAgICAgY29uc3QgeyBib3gsIHBhbmVzIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBwYW5lc0xlbmd0aCA9IHBhbmVzLmxlbmd0aDtcbiAgICAgICAgbGV0IHJlbWFpbmluZ0hlaWdodCA9IGJveC5oZWlnaHQoKTtcbiAgICAgICAgbGV0IHJlbWFpbmluZ1BhbmVzID0gcGFuZXNMZW5ndGg7XG4gICAgICAgIGxldCBhdXRvSGVpZ2h0UGFuZXMgPSAwO1xuICAgICAgICBsZXQgdG9wID0gYm94LnkxO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFuZXNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFBhbmUgPSBwYW5lc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IGN1cnJlbnRQYW5lLm9wdGlvbnMuaGVpZ2h0O1xuXG4gICAgICAgICAgICBjdXJyZW50UGFuZS5vcHRpb25zLndpZHRoID0gYm94LndpZHRoKCk7XG5cbiAgICAgICAgICAgIGlmICghY3VycmVudFBhbmUub3B0aW9ucy5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBhdXRvSGVpZ2h0UGFuZXMrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGhlaWdodC5pbmRleE9mICYmIGhlaWdodC5pbmRleE9mKFwiJVwiKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwZXJjZW50cyA9IHBhcnNlSW50KGhlaWdodCwgMTApIC8gMTAwO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFuZS5vcHRpb25zLmhlaWdodCA9IHBlcmNlbnRzICogYm94LmhlaWdodCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGN1cnJlbnRQYW5lLnJlZmxvdyhib3guY2xvbmUoKSk7XG5cbiAgICAgICAgICAgICAgICByZW1haW5pbmdIZWlnaHQgLT0gY3VycmVudFBhbmUub3B0aW9ucy5oZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhbmVzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQYW5lID0gcGFuZXNbaV07XG5cbiAgICAgICAgICAgIGlmICghY3VycmVudFBhbmUub3B0aW9ucy5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFuZS5vcHRpb25zLmhlaWdodCA9IHJlbWFpbmluZ0hlaWdodCAvIGF1dG9IZWlnaHRQYW5lcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFuZXNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFBhbmUgPSBwYW5lc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHBhbmVCb3ggPSBib3hcbiAgICAgICAgICAgICAgICAuY2xvbmUoKVxuICAgICAgICAgICAgICAgIC5tb3ZlKGJveC54MSwgdG9wKTtcblxuICAgICAgICAgICAgY3VycmVudFBhbmUucmVmbG93KHBhbmVCb3gpO1xuXG4gICAgICAgICAgICByZW1haW5pbmdQYW5lcy0tO1xuICAgICAgICAgICAgdG9wICs9IGN1cnJlbnRQYW5lLm9wdGlvbnMuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYmFja2dyb3VuZEJveCgpIHtcbiAgICAgICAgY29uc3QgYXhlcyA9IHRoaXMuYXhlcztcbiAgICAgICAgY29uc3QgYXhlc0NvdW50ID0gYXhlcy5sZW5ndGg7XG4gICAgICAgIGxldCBib3g7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBheGVzQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgYXhpc0EgPSBheGVzW2ldO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGF4ZXNDb3VudDsgaisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXhpc0IgPSBheGVzW2pdO1xuXG4gICAgICAgICAgICAgICAgaWYgKGF4aXNBLm9wdGlvbnMudmVydGljYWwgIT09IGF4aXNCLm9wdGlvbnMudmVydGljYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluZUJveCA9IGF4aXNBLmxpbmVCb3goKS5jbG9uZSgpLndyYXAoYXhpc0IubGluZUJveCgpKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIWJveCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm94ID0gbGluZUJveDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveCA9IGJveC53cmFwKGxpbmVCb3gpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJveCB8fCB0aGlzLmJveDtcbiAgICB9XG5cbiAgICBjaGFydHNCb3hlcygpIHtcbiAgICAgICAgY29uc3QgcGFuZXMgPSB0aGlzLnBhbmVzO1xuICAgICAgICBjb25zdCBib3hlcyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHBhbmVzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGJveGVzLnB1c2gocGFuZXNbaWR4XS5jaGFydHNCb3goKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYm94ZXM7XG4gICAgfVxuXG4gICAgYWRkQmFja2dyb3VuZFBhdGhzKG11bHRpcGF0aCkge1xuICAgICAgICBjb25zdCBib3hlcyA9IHRoaXMuY2hhcnRzQm94ZXMoKTtcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgYm94ZXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgbXVsdGlwYXRoLnBhdGhzLnB1c2goZHJhdy5QYXRoLmZyb21SZWN0KGJveGVzW2lkeF0udG9SZWN0KCkpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGJhY2tncm91bmRDb250YWluc1BvaW50KHBvaW50KSB7XG4gICAgICAgIGNvbnN0IGJveGVzID0gdGhpcy5jaGFydHNCb3hlcygpO1xuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBib3hlcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBpZiAoYm94ZXNbaWR4XS5jb250YWluc1BvaW50KHBvaW50KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlVmlzdWFsKCkge1xuICAgICAgICBzdXBlci5jcmVhdGVWaXN1YWwoKTtcblxuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zLnBsb3RBcmVhO1xuICAgICAgICBsZXQgeyBvcGFjaXR5LCBiYWNrZ3JvdW5kLCBib3JkZXIgPSB7fSB9ID0gb3B0aW9ucztcbiAgICAgICAgaWYgKGlzVHJhbnNwYXJlbnQoYmFja2dyb3VuZCkpIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQgPSBXSElURTtcbiAgICAgICAgICAgIG9wYWNpdHkgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYmcgPSB0aGlzLl9iZ1Zpc3VhbCA9IG5ldyBkcmF3Lk11bHRpUGF0aCh7XG4gICAgICAgICAgICBmaWxsOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IGJhY2tncm91bmQsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogb3BhY2l0eVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBib3JkZXIud2lkdGggPyBib3JkZXIuY29sb3IgOiBcIlwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBib3JkZXIud2lkdGgsXG4gICAgICAgICAgICAgICAgZGFzaFR5cGU6IGJvcmRlci5kYXNoVHlwZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHpJbmRleDogLTFcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5hZGRCYWNrZ3JvdW5kUGF0aHMoYmcpO1xuXG4gICAgICAgIHRoaXMuYXBwZW5kVmlzdWFsKGJnKTtcbiAgICB9XG5cbiAgICBwb2ludHNCeUNhdGVnb3J5SW5kZXgoY2F0ZWdvcnlJbmRleCkge1xuICAgICAgICBjb25zdCBjaGFydHMgPSB0aGlzLmNoYXJ0cztcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG5cbiAgICAgICAgaWYgKGNhdGVnb3J5SW5kZXggIT09IG51bGwpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hhcnQgPSBjaGFydHNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0LnBhbmUub3B0aW9ucy5uYW1lID09PSBcIl9uYXZpZ2F0b3JcIikge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBwb2ludHMgPSBjaGFydHNbaV0uY2F0ZWdvcnlQb2ludHNbY2F0ZWdvcnlJbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKHBvaW50cyAmJiBwb2ludHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcG9pbnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2ludCA9IHBvaW50c1tqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb2ludCAmJiBkZWZpbmVkKHBvaW50LnZhbHVlKSAmJiBwb2ludC52YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgcG9pbnRzQnlTZXJpZXNJbmRleChzZXJpZXNJbmRleCkge1xuICAgICAgICByZXR1cm4gdGhpcy5maWx0ZXJQb2ludHMoZnVuY3Rpb24ocG9pbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBwb2ludC5zZXJpZXMuaW5kZXggPT09IHNlcmllc0luZGV4O1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwb2ludHNCeVNlcmllc05hbWUobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5maWx0ZXJQb2ludHMoZnVuY3Rpb24ocG9pbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBwb2ludC5zZXJpZXMubmFtZSA9PT0gbmFtZTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZmlsdGVyUG9pbnRzKGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IGNoYXJ0cyA9IHRoaXMuY2hhcnRzO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY2hhcnQgPSBjaGFydHNbaV07XG4gICAgICAgICAgICBjb25zdCBwb2ludHMgPSBjaGFydC5wb2ludHM7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHBvaW50cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzW2pdO1xuICAgICAgICAgICAgICAgIGlmIChwb2ludCAmJiBwb2ludC52aXNpYmxlICE9PSBmYWxzZSAmJiBjYWxsYmFjayhwb2ludCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gocG9pbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgZmluZFBvaW50KGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IGNoYXJ0cyA9IHRoaXMuY2hhcnRzO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjaGFydCA9IGNoYXJ0c1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50cyA9IGNoYXJ0LnBvaW50cztcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcG9pbnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBwb2ludHNbal07XG4gICAgICAgICAgICAgICAgaWYgKHBvaW50ICYmIHBvaW50LnZpc2libGUgIT09IGZhbHNlICYmIGNhbGxiYWNrKHBvaW50KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9pbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcGFuZUJ5UG9pbnQocG9pbnQpIHtcbiAgICAgICAgY29uc3QgcGFuZXMgPSB0aGlzLnBhbmVzO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFuZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBhbmUgPSBwYW5lc1tpXTtcbiAgICAgICAgICAgIGlmIChwYW5lLmJveC5jb250YWluc1BvaW50KHBvaW50KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYW5lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGV0YWNoTGFiZWxzKCkge1xuICAgICAgICBjb25zdCBheGVzID0gdGhpcy5ncm91cEF4ZXModGhpcy5wYW5lcyk7XG4gICAgICAgIGNvbnN0IHhBeGVzID0gYXhlcy54O1xuICAgICAgICBjb25zdCB5QXhlcyA9IGF4ZXMueTtcblxuICAgICAgICB0aGlzLmRldGFjaEF4aXNHcm91cExhYmVscyh5QXhlcywgeEF4ZXMpO1xuICAgICAgICB0aGlzLmRldGFjaEF4aXNHcm91cExhYmVscyh4QXhlcywgeUF4ZXMpO1xuICAgIH1cblxuICAgIGRldGFjaEF4aXNHcm91cExhYmVscyhheGVzLCBjcm9zc2luZ0F4ZXMpIHtcbiAgICAgICAgbGV0IGxhYmVsQXhpc0NvdW50ID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF4aXMgPSBheGVzW2ldO1xuICAgICAgICAgICAgY29uc3QgcGFuZSA9IGF4aXMucGFuZTtcbiAgICAgICAgICAgIGNvbnN0IGFuY2hvciA9IHBhbmVBbmNob3IoY3Jvc3NpbmdBeGVzLCBwYW5lKSB8fCBjcm9zc2luZ0F4ZXNbMF07XG4gICAgICAgICAgICBjb25zdCBheGlzSW5kZXggPSBpICsgbGFiZWxBeGlzQ291bnQ7XG4gICAgICAgICAgICBjb25zdCBsYWJlbEF4aXMgPSB0aGlzLmNyZWF0ZUxhYmVsQXhpcyhheGlzLCBheGlzSW5kZXgsIGFuY2hvcik7XG5cbiAgICAgICAgICAgIGlmIChsYWJlbEF4aXMpIHtcbiAgICAgICAgICAgICAgICBsYWJlbEF4aXNDb3VudCsrO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgcG9zID0gcGFuZS5heGVzLmluZGV4T2YoYXhpcykgKyBsYWJlbEF4aXNDb3VudDtcbiAgICAgICAgICAgICAgICBwYW5lLmFwcGVuZEF4aXNBdChsYWJlbEF4aXMsIHBvcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVMYWJlbEF4aXMoYXhpcywgYXhpc0luZGV4LCBhbmNob3IpIHtcbiAgICAgICAgY29uc3QgbGFiZWxPcHRpb25zID0gYXhpcy5vcHRpb25zLmxhYmVscztcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSBsYWJlbE9wdGlvbnMucG9zaXRpb247XG4gICAgICAgIGNvbnN0IG9uQXhpcyA9IHBvc2l0aW9uICE9PSBFTkQgJiYgcG9zaXRpb24gIT09IFNUQVJUO1xuICAgICAgICBjb25zdCB2aXNpYmxlID0gbGFiZWxPcHRpb25zLnZpc2libGU7XG5cbiAgICAgICAgaWYgKG9uQXhpcyB8fCB2aXNpYmxlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhbGxBeGVzID0gdGhpcy5ncm91cEF4ZXModGhpcy5wYW5lcyk7XG4gICAgICAgIGNvbnN0IGNyb3NzaW5nQXhlcyA9IGFuY2hvci5vcHRpb25zLnZlcnRpY2FsID8gYWxsQXhlcy54IDogYWxsQXhlcy55O1xuICAgICAgICBjb25zdCBhbmNob3JDcm9zc2luZ3MgPSB0aGlzLmF4aXNDcm9zc2luZ1ZhbHVlcyhhbmNob3IsIGNyb3NzaW5nQXhlcyk7XG4gICAgICAgIGNvbnN0IGVuZCA9IHBvc2l0aW9uID09PSBFTkQ7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gYW5jaG9yLnJhbmdlKCk7XG4gICAgICAgIGNvbnN0IGVkZ2UgPSBlbmQgPyByYW5nZS5tYXggOiByYW5nZS5taW47XG4gICAgICAgIGNvbnN0IGNyb3NzaW5nVmFsdWUgPSBsaW1pdFZhbHVlKGFuY2hvckNyb3NzaW5nc1theGlzSW5kZXhdLCByYW5nZS5taW4sIHJhbmdlLm1heCk7XG5cbiAgICAgICAgaWYgKGNyb3NzaW5nVmFsdWUgLSBlZGdlID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGFuY2hvckNyb3NzaW5ncy5zcGxpY2UoYXhpc0luZGV4ICsgMSwgMCwgZWRnZSk7XG4gICAgICAgIGFuY2hvci5vcHRpb25zLmF4aXNDcm9zc2luZ1ZhbHVlcyA9IGFuY2hvckNyb3NzaW5ncztcblxuICAgICAgICBjb25zdCBsYWJlbEF4aXMgPSBheGlzLmNsb25lKCk7XG4gICAgICAgIGF4aXMuY2xlYXIoKTtcblxuICAgICAgICBsYWJlbEF4aXMub3B0aW9ucy5uYW1lID0gdW5kZWZpbmVkO1xuICAgICAgICBsYWJlbEF4aXMub3B0aW9ucy5saW5lLnZpc2libGUgPSBmYWxzZTtcblxuICAgICAgICBsYWJlbEF4aXMub3B0aW9ucy5jcm9zc2hhaXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxhYmVsQXhpcy5vcHRpb25zLm5vdGVzID0gdW5kZWZpbmVkO1xuICAgICAgICBsYWJlbEF4aXMub3B0aW9ucy5wbG90QmFuZHMgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgcmV0dXJuIGxhYmVsQXhpcztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGF4aXNHcm91cEJveChheGVzKSB7XG4gICAgY29uc3QgbGVuZ3RoID0gYXhlcy5sZW5ndGg7XG4gICAgbGV0IGJveDtcblxuICAgIGlmIChsZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF4aXNCb3ggPSBheGVzW2ldLmNvbnRlbnRCb3goKTtcblxuICAgICAgICAgICAgaWYgKCFib3gpIHtcbiAgICAgICAgICAgICAgICBib3ggPSBheGlzQm94LmNsb25lKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJveC53cmFwKGF4aXNCb3gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGJveCB8fCBuZXcgQm94KCk7XG59XG5cbmZ1bmN0aW9uIHBhbmVBbmNob3IoYXhlcywgcGFuZSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBhbmNob3IgPSBheGVzW2ldO1xuICAgICAgICBpZiAoYW5jaG9yICYmIGFuY2hvci5wYW5lID09PSBwYW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gYW5jaG9yO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpc1RyYW5zcGFyZW50KGNvbG9yKSB7XG4gICAgcmV0dXJuIGNvbG9yID09PSBcIlwiIHx8IGNvbG9yID09PSBudWxsIHx8IGNvbG9yID09PSBcIm5vbmVcIiB8fCBjb2xvciA9PT0gXCJ0cmFuc3BhcmVudFwiIHx8ICFkZWZpbmVkKGNvbG9yKTtcbn1cblxuY29uc3QgYWxsUGFuZUF4ZXMgPSAocGFuZXMpID0+IHBhbmVzLnJlZHVjZSgoYWNjLCBwYW5lKSA9PiBhY2MuY29uY2F0KHBhbmUuYXhlcyksIFtdKTtcblxuc2V0RGVmYXVsdE9wdGlvbnMoUGxvdEFyZWFCYXNlLCB7XG4gICAgc2VyaWVzOiBbXSxcbiAgICBwbG90QXJlYToge1xuICAgICAgICBtYXJnaW46IHt9XG4gICAgfSxcbiAgICBiYWNrZ3JvdW5kOiBcIlwiLFxuICAgIGJvcmRlcjoge1xuICAgICAgICBjb2xvcjogQkxBQ0ssXG4gICAgICAgIHdpZHRoOiAwXG4gICAgfSxcbiAgICBsZWdlbmQ6IHtcbiAgICAgICAgaW5hY3RpdmVJdGVtczoge1xuICAgICAgICAgICAgbGFiZWxzOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IFwiIzkxOTE5MVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbWFya2Vyczoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiM5MTkxOTFcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFBsb3RBcmVhQmFzZTtcbiIsImltcG9ydCB7IFBMT1RfQVJFQV9IT1ZFUiwgUExPVF9BUkVBX0NMSUNLIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuY29uc3QgUGxvdEFyZWFFdmVudHNNaXhpbiA9IHtcbiAgICBob3ZlcjogZnVuY3Rpb24oY2hhcnQsIGUpIHtcbiAgICAgICAgdGhpcy5fZGlzcGF0Y2hFdmVudChjaGFydCwgZSwgUExPVF9BUkVBX0hPVkVSKTtcbiAgICB9LFxuXG4gICAgY2xpY2s6IGZ1bmN0aW9uKGNoYXJ0LCBlKSB7XG4gICAgICAgIHRoaXMuX2Rpc3BhdGNoRXZlbnQoY2hhcnQsIGUsIFBMT1RfQVJFQV9DTElDSyk7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgUGxvdEFyZWFFdmVudHNNaXhpbjsiLCJpbXBvcnQgQWdncmVnYXRlcyBmcm9tICcuL2FnZ3JlZ2F0ZXMnO1xuXG5pbXBvcnQgeyBDbGFzcywgZGVmaW5lZCwgaW5BcnJheSwgaXNBcnJheSwgaXNGdW5jdGlvbiwgaXNOdW1iZXIsIGlzT2JqZWN0IH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgU2VyaWVzQWdncmVnYXRvciBleHRlbmRzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcihzZXJpZXMsIGJpbmRlciwgZGVmYXVsdEFnZ3JlZ2F0ZXMpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICBjb25zdCBjYW5vbmljYWxGaWVsZHMgPSBiaW5kZXIuY2Fub25pY2FsRmllbGRzKHNlcmllcyk7XG4gICAgICAgIGNvbnN0IHZhbHVlRmllbGRzID0gYmluZGVyLnZhbHVlRmllbGRzKHNlcmllcyk7XG4gICAgICAgIGNvbnN0IHNvdXJjZUZpZWxkcyA9IGJpbmRlci5zb3VyY2VGaWVsZHMoc2VyaWVzLCBjYW5vbmljYWxGaWVsZHMpO1xuICAgICAgICBjb25zdCBzZXJpZXNGaWVsZHMgPSB0aGlzLl9zZXJpZXNGaWVsZHMgPSBbXTtcbiAgICAgICAgY29uc3QgZGVmYXVsdHMgPSBkZWZhdWx0QWdncmVnYXRlcy5xdWVyeShzZXJpZXMudHlwZSk7XG4gICAgICAgIGNvbnN0IHJvb3RBZ2dyZWdhdGUgPSBzZXJpZXMuYWdncmVnYXRlIHx8IGRlZmF1bHRzO1xuXG4gICAgICAgIHRoaXMuX3NlcmllcyA9IHNlcmllcztcbiAgICAgICAgdGhpcy5fYmluZGVyID0gYmluZGVyO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2Fub25pY2FsRmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBmaWVsZCA9IGNhbm9uaWNhbEZpZWxkc1tpXTtcbiAgICAgICAgICAgIGxldCBmaWVsZEFnZ3JlZ2F0ZTtcblxuICAgICAgICAgICAgaWYgKGlzT2JqZWN0KHJvb3RBZ2dyZWdhdGUpKSB7XG4gICAgICAgICAgICAgICAgZmllbGRBZ2dyZWdhdGUgPSByb290QWdncmVnYXRlW2ZpZWxkXTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gMCB8fCBpbkFycmF5KGZpZWxkLCB2YWx1ZUZpZWxkcykpIHtcbiAgICAgICAgICAgICAgICBmaWVsZEFnZ3JlZ2F0ZSA9IHJvb3RBZ2dyZWdhdGU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZmllbGRBZ2dyZWdhdGUpIHtcbiAgICAgICAgICAgICAgICBzZXJpZXNGaWVsZHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGNhbm9uaWNhbE5hbWU6IGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBzb3VyY2VGaWVsZHNbaV0sXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogaXNGdW5jdGlvbihmaWVsZEFnZ3JlZ2F0ZSkgPyBmaWVsZEFnZ3JlZ2F0ZSA6IEFnZ3JlZ2F0ZXNbZmllbGRBZ2dyZWdhdGVdXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZ2dyZWdhdGVQb2ludHMoc3JjUG9pbnRzLCBncm91cCkge1xuICAgICAgICBjb25zdCB7IF9zZXJpZXM6IHNlcmllcywgX3Nlcmllc0ZpZWxkczogc2VyaWVzRmllbGRzIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5fYmluZFBvaW50cyhzcmNQb2ludHMgfHwgW10pO1xuICAgICAgICBjb25zdCBmaXJzdERhdGFJdGVtID0gZGF0YS5kYXRhSXRlbXNbMF07XG4gICAgICAgIGxldCByZXN1bHQgPSB7fTtcblxuICAgICAgICBpZiAoZmlyc3REYXRhSXRlbSAmJiAhaXNOdW1iZXIoZmlyc3REYXRhSXRlbSkgJiYgIWlzQXJyYXkoZmlyc3REYXRhSXRlbSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGZuID0gZnVuY3Rpb24oKSB7fTtcbiAgICAgICAgICAgIGZuLnByb3RvdHlwZSA9IGZpcnN0RGF0YUl0ZW07XG4gICAgICAgICAgICByZXN1bHQgPSBuZXcgZm4oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VyaWVzRmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBmaWVsZCA9IHNlcmllc0ZpZWxkc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHNyY1ZhbHVlcyA9IHRoaXMuX2JpbmRGaWVsZChkYXRhLnZhbHVlcywgZmllbGQuY2Fub25pY2FsTmFtZSk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGZpZWxkLnRyYW5zZm9ybShzcmNWYWx1ZXMsIHNlcmllcywgZGF0YS5kYXRhSXRlbXMsIGdyb3VwKTtcblxuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsICYmIGlzT2JqZWN0KHZhbHVlKSAmJiAhZGVmaW5lZCh2YWx1ZS5sZW5ndGgpICYmICEodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VmFsdWUoZmllbGQubmFtZSwgcmVzdWx0LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBfYmluZFBvaW50cyhwb2ludHMpIHtcbiAgICAgICAgY29uc3QgeyBfYmluZGVyOiBiaW5kZXIsIF9zZXJpZXM6IHNlcmllcyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgdmFsdWVzID0gW107XG4gICAgICAgIGNvbnN0IGRhdGFJdGVtcyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwb2ludEl4ID0gcG9pbnRzW2ldO1xuXG4gICAgICAgICAgICB2YWx1ZXMucHVzaChiaW5kZXIuYmluZFBvaW50KHNlcmllcywgcG9pbnRJeCkpO1xuICAgICAgICAgICAgZGF0YUl0ZW1zLnB1c2goc2VyaWVzLmRhdGFbcG9pbnRJeF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlczogdmFsdWVzLFxuICAgICAgICAgICAgZGF0YUl0ZW1zOiBkYXRhSXRlbXNcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfYmluZEZpZWxkKGRhdGEsIGZpZWxkKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xuICAgICAgICBjb25zdCBjb3VudCA9IGRhdGEubGVuZ3RoO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IGRhdGFbaV07XG4gICAgICAgICAgICBjb25zdCB2YWx1ZUZpZWxkcyA9IGl0ZW0udmFsdWVGaWVsZHM7XG4gICAgICAgICAgICBsZXQgdmFsdWU7XG5cbiAgICAgICAgICAgIGlmIChkZWZpbmVkKHZhbHVlRmllbGRzW2ZpZWxkXSkpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlRmllbGRzW2ZpZWxkXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBpdGVtLmZpZWxkc1tmaWVsZF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzZXRWYWx1ZShmaWVsZE5hbWUsIHRhcmdldCwgdmFsdWUpIHtcbiAgICBsZXQgcGFyZW50T2JqID0gdGFyZ2V0O1xuICAgIGxldCBmaWVsZCA9IGZpZWxkTmFtZTtcblxuICAgIGlmIChmaWVsZE5hbWUuaW5kZXhPZihcIi5cIikgPiAtMSkge1xuICAgICAgICBjb25zdCBwYXJ0cyA9IGZpZWxkTmFtZS5zcGxpdChcIi5cIik7XG5cbiAgICAgICAgd2hpbGUgKHBhcnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGZpZWxkID0gcGFydHMuc2hpZnQoKTtcbiAgICAgICAgICAgIGlmICghZGVmaW5lZChwYXJlbnRPYmpbZmllbGRdKSkge1xuICAgICAgICAgICAgICAgIHBhcmVudE9ialtmaWVsZF0gPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcmVudE9iaiA9IHBhcmVudE9ialtmaWVsZF07XG4gICAgICAgIH1cbiAgICAgICAgZmllbGQgPSBwYXJ0cy5zaGlmdCgpO1xuICAgIH1cblxuICAgIHBhcmVudE9ialtmaWVsZF0gPSB2YWx1ZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgU2VyaWVzQWdncmVnYXRvcjsiLCJpbXBvcnQgeyBDbGFzcyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIERlZmF1bHRBZ2dyZWdhdGVzIGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuX2RlZmF1bHRzID0ge307XG4gICAgfVxuXG4gICAgcmVnaXN0ZXIoc2VyaWVzVHlwZXMsIGFnZ3JlZ2F0ZXMpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXJpZXNUeXBlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5fZGVmYXVsdHNbc2VyaWVzVHlwZXNbaV1dID0gYWdncmVnYXRlcztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHF1ZXJ5KHNlcmllc1R5cGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZmF1bHRzW3Nlcmllc1R5cGVdO1xuICAgIH1cbn1cblxuRGVmYXVsdEFnZ3JlZ2F0ZXMuY3VycmVudCA9IG5ldyBEZWZhdWx0QWdncmVnYXRlcygpO1xuXG5leHBvcnQgZGVmYXVsdCBEZWZhdWx0QWdncmVnYXRlczsiLCJpbXBvcnQgQmFyIGZyb20gJy4uL2Jhci1jaGFydC9iYXInO1xuaW1wb3J0IEJhckxhYmVsIGZyb20gJy4uL2Jhci1jaGFydC9iYXItbGFiZWwnO1xuXG5pbXBvcnQgeyBkZWVwRXh0ZW5kLCBnZXRUZW1wbGF0ZSB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIFJhbmdlQmFyIGV4dGVuZHMgQmFyIHtcbiAgICBjcmVhdGVMYWJlbCgpIHtcbiAgICAgICAgY29uc3QgbGFiZWxzID0gdGhpcy5vcHRpb25zLmxhYmVscztcbiAgICAgICAgY29uc3QgZnJvbU9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCBsYWJlbHMsIGxhYmVscy5mcm9tKTtcbiAgICAgICAgY29uc3QgdG9PcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgbGFiZWxzLCBsYWJlbHMudG8pO1xuXG4gICAgICAgIGlmIChmcm9tT3B0aW9ucy52aXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLmxhYmVsRnJvbSA9IHRoaXMuX2NyZWF0ZUxhYmVsKGZyb21PcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kKHRoaXMubGFiZWxGcm9tKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0b09wdGlvbnMudmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy5sYWJlbFRvID0gdGhpcy5fY3JlYXRlTGFiZWwodG9PcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kKHRoaXMubGFiZWxUbyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY3JlYXRlTGFiZWwob3B0aW9ucykge1xuICAgICAgICBjb25zdCBsYWJlbFRlbXBsYXRlID0gZ2V0VGVtcGxhdGUob3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IHBvaW50RGF0YSA9IHRoaXMucG9pbnREYXRhKCk7XG5cbiAgICAgICAgbGV0IGxhYmVsVGV4dDtcblxuICAgICAgICBpZiAobGFiZWxUZW1wbGF0ZSkge1xuICAgICAgICAgICAgbGFiZWxUZXh0ID0gbGFiZWxUZW1wbGF0ZShwb2ludERhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGFiZWxUZXh0ID0gdGhpcy5mb3JtYXRWYWx1ZShvcHRpb25zLmZvcm1hdCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IEJhckxhYmVsKGxhYmVsVGV4dCxcbiAgICAgICAgICAgIGRlZXBFeHRlbmQoe1xuICAgICAgICAgICAgICAgIHZlcnRpY2FsOiB0aGlzLm9wdGlvbnMudmVydGljYWxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvcHRpb25zXG4gICAgICAgICksIHBvaW50RGF0YSk7XG4gICAgfVxuXG4gICAgcmVmbG93KHRhcmdldEJveCkge1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuXG4gICAgICAgIGNvbnN0IHsgbGFiZWxGcm9tLCBsYWJlbFRvLCB2YWx1ZSB9ID0gdGhpcztcblxuICAgICAgICB0aGlzLmJveCA9IHRhcmdldEJveDtcblxuICAgICAgICBpZiAobGFiZWxGcm9tKSB7XG4gICAgICAgICAgICBsYWJlbEZyb20ub3B0aW9ucy5hYm92ZUF4aXMgPSB2YWx1ZS5mcm9tID4gdmFsdWUudG87XG4gICAgICAgICAgICBsYWJlbEZyb20ucmVmbG93KHRhcmdldEJveCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGFiZWxUbykge1xuICAgICAgICAgICAgbGFiZWxUby5vcHRpb25zLmFib3ZlQXhpcyA9IHZhbHVlLnRvID4gdmFsdWUuZnJvbTtcbiAgICAgICAgICAgIGxhYmVsVG8ucmVmbG93KHRhcmdldEJveCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5ub3RlKSB7XG4gICAgICAgICAgICB0aGlzLm5vdGUucmVmbG93KHRhcmdldEJveCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblJhbmdlQmFyLnByb3RvdHlwZS5kZWZhdWx0cyA9IGRlZXBFeHRlbmQoe30sIFJhbmdlQmFyLnByb3RvdHlwZS5kZWZhdWx0cywge1xuICAgIGxhYmVsczoge1xuICAgICAgICBmb3JtYXQ6IFwiezB9IC0gezF9XCJcbiAgICB9LFxuICAgIHRvb2x0aXA6IHtcbiAgICAgICAgZm9ybWF0OiBcInsxfVwiXG4gICAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFJhbmdlQmFyOyIsImltcG9ydCBCYXJDaGFydCBmcm9tICcuLi9iYXItY2hhcnQvYmFyLWNoYXJ0JztcbmltcG9ydCBSYW5nZUJhciBmcm9tICcuL3JhbmdlLWJhcic7XG5pbXBvcnQgQ2F0ZWdvcmljYWxDaGFydCBmcm9tICcuLi9jYXRlZ29yaWNhbC1jaGFydCc7XG5cbmltcG9ydCB7IE1JTl9WQUxVRSwgTUFYX1ZBTFVFIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBpc051bWJlciB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIFJhbmdlQmFyQ2hhcnQgZXh0ZW5kcyBCYXJDaGFydCB7XG4gICAgcG9pbnRUeXBlKCkge1xuICAgICAgICByZXR1cm4gUmFuZ2VCYXI7XG4gICAgfVxuXG4gICAgcG9pbnRWYWx1ZShkYXRhKSB7XG4gICAgICAgIHJldHVybiBkYXRhLnZhbHVlRmllbGRzO1xuICAgIH1cblxuICAgIGZvcm1hdFBvaW50VmFsdWUocG9pbnQsIGZvcm1hdCkge1xuICAgICAgICBpZiAocG9pbnQudmFsdWUuZnJvbSA9PT0gbnVsbCAmJiBwb2ludC52YWx1ZS50byA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5jaGFydFNlcnZpY2UuZm9ybWF0LmF1dG8oZm9ybWF0LCBwb2ludC52YWx1ZS5mcm9tLCBwb2ludC52YWx1ZS50byk7XG4gICAgfVxuXG4gICAgcGxvdFJhbmdlKHBvaW50KSB7XG4gICAgICAgIGlmICghcG9pbnQpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFsgcG9pbnQudmFsdWUuZnJvbSwgcG9pbnQudmFsdWUudG8gXTtcbiAgICB9XG5cbiAgICB1cGRhdGVSYW5nZSh2YWx1ZSwgZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IGF4aXNOYW1lID0gZmllbGRzLnNlcmllcy5heGlzO1xuICAgICAgICBjb25zdCB7IGZyb20sIHRvIH0gPSB2YWx1ZTtcbiAgICAgICAgbGV0IGF4aXNSYW5nZSA9IHRoaXMudmFsdWVBeGlzUmFuZ2VzW2F4aXNOYW1lXTtcblxuICAgICAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgaXNOdW1iZXIoZnJvbSkgJiYgaXNOdW1iZXIodG8pKSB7XG4gICAgICAgICAgICBheGlzUmFuZ2UgPSB0aGlzLnZhbHVlQXhpc1Jhbmdlc1theGlzTmFtZV0gPSBheGlzUmFuZ2UgfHwgeyBtaW46IE1BWF9WQUxVRSwgbWF4OiBNSU5fVkFMVUUgfTtcblxuICAgICAgICAgICAgYXhpc1JhbmdlLm1pbiA9IE1hdGgubWluKGF4aXNSYW5nZS5taW4sIGZyb20pO1xuICAgICAgICAgICAgYXhpc1JhbmdlLm1heCA9IE1hdGgubWF4KGF4aXNSYW5nZS5tYXgsIGZyb20pO1xuXG4gICAgICAgICAgICBheGlzUmFuZ2UubWluID0gTWF0aC5taW4oYXhpc1JhbmdlLm1pbiwgdG8pO1xuICAgICAgICAgICAgYXhpc1JhbmdlLm1heCA9IE1hdGgubWF4KGF4aXNSYW5nZS5tYXgsIHRvKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFib3ZlQXhpcyhwb2ludCkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHBvaW50LnZhbHVlO1xuICAgICAgICByZXR1cm4gdmFsdWUuZnJvbSA8IHZhbHVlLnRvO1xuICAgIH1cbn1cblxuUmFuZ2VCYXJDaGFydC5wcm90b3R5cGUucGxvdExpbWl0cyA9IENhdGVnb3JpY2FsQ2hhcnQucHJvdG90eXBlLnBsb3RMaW1pdHM7XG5cbmV4cG9ydCBkZWZhdWx0IFJhbmdlQmFyQ2hhcnQ7IiwiaW1wb3J0IExpbmVQb2ludCBmcm9tICcuLi9saW5lLWNoYXJ0L2xpbmUtcG9pbnQnO1xuXG5jbGFzcyBSYW5nZUxpbmVQb2ludCBleHRlbmRzIExpbmVQb2ludCB7XG4gICAgYWxpYXNGb3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcmVudDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJhbmdlTGluZVBvaW50OyIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHsgQ2hhcnRFbGVtZW50LCBQb2ludCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0IFJhbmdlTGluZVBvaW50IGZyb20gJy4vcmFuZ2UtbGluZS1wb2ludCc7XG5pbXBvcnQgUG9pbnRFdmVudHNNaXhpbiBmcm9tICcuLi9taXhpbnMvcG9pbnQtZXZlbnRzLW1peGluJztcbmltcG9ydCBOb3RlTWl4aW4gZnJvbSAnLi4vbWl4aW5zL25vdGUtbWl4aW4nO1xuXG5pbXBvcnQgeyBMSU5FX01BUktFUl9TSVpFLCBGQURFSU4sIElOSVRJQUxfQU5JTUFUSU9OX0RVUkFUSU9OLCBUT09MVElQX09GRlNFVCwgQUJPVkUsIEJFTE9XIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCB7IFdISVRFLCBDSVJDTEUsIEhJR0hMSUdIVF9aSU5ERVgsIExFRlQsIFJJR0hULCBCT1RUT00sIENFTlRFUiB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZGVlcEV4dGVuZCwgdmFsdWVPckRlZmF1bHQsIGdldFNwYWNpbmcgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jb25zdCBBVVRPID0gJ2F1dG8nO1xuY29uc3QgREVGQVVMVF9GUk9NX0ZPUk1BVCA9ICd7MH0nO1xuY29uc3QgREVGQVVMVF9UT19GT1JNQVQgPSAnezF9JztcblxuY2xhc3MgUmFuZ2VBcmVhUG9pbnQgZXh0ZW5kcyBDaGFydEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLmFib3ZlQXhpcyA9IHZhbHVlT3JEZWZhdWx0KHRoaXMub3B0aW9ucy5hYm92ZUF4aXMsIHRydWUpO1xuICAgICAgICB0aGlzLnRvb2x0aXBUcmFja2luZyA9IHRydWU7XG4gICAgICAgIHRoaXMuaW5pdExhYmVsc0Zvcm1hdCgpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlbmRlcmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9yZW5kZXJlZCA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgeyBtYXJrZXJzLCBsYWJlbHMgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnZhbHVlO1xuXG4gICAgICAgIGNvbnN0IGZyb21Qb2ludCA9IHRoaXMuZnJvbVBvaW50ID0gbmV3IFJhbmdlTGluZVBvaW50KHZhbHVlLCBkZWVwRXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMsIHtcbiAgICAgICAgICAgIGxhYmVsczogbGFiZWxzLmZyb20sXG4gICAgICAgICAgICBtYXJrZXJzOiBtYXJrZXJzLmZyb21cbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGNvbnN0IHRvUG9pbnQgPSB0aGlzLnRvUG9pbnQgPSBuZXcgUmFuZ2VMaW5lUG9pbnQodmFsdWUsIGRlZXBFeHRlbmQoe30sIHRoaXMub3B0aW9ucywge1xuICAgICAgICAgICAgbGFiZWxzOiBsYWJlbHMudG8sXG4gICAgICAgICAgICBtYXJrZXJzOiBtYXJrZXJzLnRvXG4gICAgICAgIH0pKTtcblxuICAgICAgICB0aGlzLmNvcHlGaWVsZHMoZnJvbVBvaW50KTtcbiAgICAgICAgdGhpcy5jb3B5RmllbGRzKHRvUG9pbnQpO1xuXG4gICAgICAgIHRoaXMuYXBwZW5kKGZyb21Qb2ludCk7XG4gICAgICAgIHRoaXMuYXBwZW5kKHRvUG9pbnQpO1xuICAgIH1cblxuICAgIHJlZmxvdyh0YXJnZXRCb3gpIHtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcblxuICAgICAgICBjb25zdCB7IGZyb206IGZyb21Cb3gsIHRvOiB0b0JveCB9ID0gdGFyZ2V0Qm94O1xuXG4gICAgICAgIHRoaXMucG9zaXRpb25MYWJlbHMoZnJvbUJveCwgdG9Cb3gpO1xuXG4gICAgICAgIHRoaXMuZnJvbVBvaW50LnJlZmxvdyhmcm9tQm94KTtcbiAgICAgICAgdGhpcy50b1BvaW50LnJlZmxvdyh0b0JveCk7XG5cbiAgICAgICAgdGhpcy5ib3ggPSB0aGlzLmZyb21Qb2ludC5tYXJrZXJCb3goKS5jbG9uZSgpLndyYXAodGhpcy50b1BvaW50Lm1hcmtlckJveCgpKTtcbiAgICB9XG5cbiAgICBjcmVhdGVIaWdobGlnaHQoKSB7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gbmV3IGRyYXcuR3JvdXAoKTtcbiAgICAgICAgZ3JvdXAuYXBwZW5kKHRoaXMuZnJvbVBvaW50LmNyZWF0ZUhpZ2hsaWdodCgpKTtcbiAgICAgICAgZ3JvdXAuYXBwZW5kKHRoaXMudG9Qb2ludC5jcmVhdGVIaWdobGlnaHQoKSk7XG5cbiAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH1cblxuICAgIGhpZ2hsaWdodFZpc3VhbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlzdWFsO1xuICAgIH1cblxuICAgIGhpZ2hsaWdodFZpc3VhbEFyZ3MoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICBmcm9tOiB0aGlzLmZyb21Qb2ludC5oaWdobGlnaHRWaXN1YWxBcmdzKCksXG4gICAgICAgICAgICB0bzogdGhpcy50b1BvaW50LmhpZ2hsaWdodFZpc3VhbEFyZ3MoKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHRvb2x0aXBBbmNob3IoKSB7XG4gICAgICAgIGNvbnN0IGNsaXBCb3ggPSB0aGlzLm93bmVyLnBhbmUuY2xpcEJveCgpO1xuICAgICAgICBjb25zdCBzaG93VG9vbHRpcCA9ICFjbGlwQm94IHx8IGNsaXBCb3gub3ZlcmxhcHModGhpcy5ib3gpO1xuXG4gICAgICAgIGlmIChzaG93VG9vbHRpcCkge1xuICAgICAgICAgICAgY29uc3QgYm94ID0gdGhpcy5ib3g7XG4gICAgICAgICAgICBjb25zdCBjZW50ZXIgPSBib3guY2VudGVyKCk7XG4gICAgICAgICAgICBjb25zdCBob3Jpem9udGFsQWxpZ24gPSBMRUZUO1xuICAgICAgICAgICAgbGV0IHgsIHksIHZlcnRpY2FsQWxpZ247XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMudmVydGljYWwpIHtcbiAgICAgICAgICAgICAgICB4ID0gY2VudGVyLng7XG4gICAgICAgICAgICAgICAgeSA9IGJveC55MSAtIFRPT0xUSVBfT0ZGU0VUO1xuICAgICAgICAgICAgICAgIHZlcnRpY2FsQWxpZ24gPSBCT1RUT007XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHggPSBib3gueDIgKyBUT09MVElQX09GRlNFVDtcbiAgICAgICAgICAgICAgICB5ID0gY2VudGVyLnk7XG4gICAgICAgICAgICAgICAgdmVydGljYWxBbGlnbiA9IENFTlRFUjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBwb2ludDogbmV3IFBvaW50KHgsIHkpLFxuICAgICAgICAgICAgICAgIGFsaWduOiB7XG4gICAgICAgICAgICAgICAgICAgIGhvcml6b250YWw6IGhvcml6b250YWxBbGlnbixcbiAgICAgICAgICAgICAgICAgICAgdmVydGljYWw6IHZlcnRpY2FsQWxpZ25cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9ybWF0VmFsdWUoZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLm93bmVyLmZvcm1hdFBvaW50VmFsdWUodGhpcywgZm9ybWF0KTtcbiAgICB9XG5cbiAgICBvdmVybGFwc0JveChib3gpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYm94Lm92ZXJsYXBzKGJveCk7XG4gICAgfVxuXG4gICAgdW5jbGlwRWxlbWVudHMoKSB7XG4gICAgICAgIHRoaXMuZnJvbVBvaW50LnVuY2xpcEVsZW1lbnRzKCk7XG4gICAgICAgIHRoaXMudG9Qb2ludC51bmNsaXBFbGVtZW50cygpO1xuICAgIH1cblxuICAgIGluaXRMYWJlbHNGb3JtYXQoKSB7XG4gICAgICAgIGNvbnN0IGxhYmVscyA9IHRoaXMub3B0aW9ucy5sYWJlbHM7XG4gICAgICAgIGlmICghbGFiZWxzLmZvcm1hdCkge1xuICAgICAgICAgICAgaWYgKCFsYWJlbHMuZnJvbSB8fCAhbGFiZWxzLmZyb20uZm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgbGFiZWxzLmZyb20gPSBPYmplY3QuYXNzaWduKHt9LCBsYWJlbHMuZnJvbSwge1xuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IERFRkFVTFRfRlJPTV9GT1JNQVRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFsYWJlbHMudG8gfHwgIWxhYmVscy50by5mb3JtYXQpIHtcbiAgICAgICAgICAgICAgICBsYWJlbHMudG8gPSBPYmplY3QuYXNzaWduKHt9LCBsYWJlbHMudG8sIHtcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBERUZBVUxUX1RPX0ZPUk1BVFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcG9zaXRpb25MYWJlbHMoZnJvbUJveCwgdG9Cb3gpIHtcbiAgICAgICAgY29uc3QgeyBsYWJlbHMsIHZlcnRpY2FsIH0gPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgaWYgKGxhYmVscy5wb3NpdGlvbiA9PT0gQVVUTykge1xuICAgICAgICAgICAgbGV0IGZyb21MYWJlbFBvc2l0aW9uLCB0b0xhYmVsUG9zaXRpb247XG4gICAgICAgICAgICBpZiAodmVydGljYWwpIHtcbiAgICAgICAgICAgICAgICBpZiAodG9Cb3gueTEgPD0gZnJvbUJveC55MSkge1xuICAgICAgICAgICAgICAgICAgICB0b0xhYmVsUG9zaXRpb24gPSBBQk9WRTtcbiAgICAgICAgICAgICAgICAgICAgZnJvbUxhYmVsUG9zaXRpb24gPSBCRUxPVztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0b0xhYmVsUG9zaXRpb24gPSBCRUxPVztcbiAgICAgICAgICAgICAgICAgICAgZnJvbUxhYmVsUG9zaXRpb24gPSBBQk9WRTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0b0JveC54MSA8PSBmcm9tQm94LngxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvTGFiZWxQb3NpdGlvbiA9IExFRlQ7XG4gICAgICAgICAgICAgICAgICAgIGZyb21MYWJlbFBvc2l0aW9uID0gUklHSFQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdG9MYWJlbFBvc2l0aW9uID0gUklHSFQ7XG4gICAgICAgICAgICAgICAgICAgIGZyb21MYWJlbFBvc2l0aW9uID0gTEVGVDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghbGFiZWxzLmZyb20gfHwgIWxhYmVscy5mcm9tLnBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9tUG9pbnQub3B0aW9ucy5sYWJlbHMucG9zaXRpb24gPSBmcm9tTGFiZWxQb3NpdGlvbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFsYWJlbHMudG8gfHwgIWxhYmVscy50by5wb3NpdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMudG9Qb2ludC5vcHRpb25zLmxhYmVscy5wb3NpdGlvbiA9IHRvTGFiZWxQb3NpdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvcHlGaWVsZHMocG9pbnQpIHtcbiAgICAgICAgcG9pbnQuZGF0YUl0ZW0gPSB0aGlzLmRhdGFJdGVtO1xuICAgICAgICBwb2ludC5jYXRlZ29yeSA9IHRoaXMuY2F0ZWdvcnk7XG4gICAgICAgIHBvaW50LnNlcmllcyA9IHRoaXMuc2VyaWVzO1xuICAgICAgICBwb2ludC5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgIHBvaW50Lm93bmVyID0gdGhpcy5vd25lcjtcbiAgICB9XG59XG5cbmRlZXBFeHRlbmQoUmFuZ2VBcmVhUG9pbnQucHJvdG90eXBlLCBQb2ludEV2ZW50c01peGluKTtcbmRlZXBFeHRlbmQoUmFuZ2VBcmVhUG9pbnQucHJvdG90eXBlLCBOb3RlTWl4aW4pO1xuXG5SYW5nZUFyZWFQb2ludC5wcm90b3R5cGUuZGVmYXVsdHMgPSB7XG4gICAgbWFya2Vyczoge1xuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgYmFja2dyb3VuZDogV0hJVEUsXG4gICAgICAgIHNpemU6IExJTkVfTUFSS0VSX1NJWkUsXG4gICAgICAgIHR5cGU6IENJUkNMRSxcbiAgICAgICAgYm9yZGVyOiB7XG4gICAgICAgICAgICB3aWR0aDogMlxuICAgICAgICB9LFxuICAgICAgICBvcGFjaXR5OiAxXG4gICAgfSxcbiAgICBsYWJlbHM6IHtcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG1hcmdpbjogZ2V0U3BhY2luZygzKSxcbiAgICAgICAgcGFkZGluZzogZ2V0U3BhY2luZyg0KSxcbiAgICAgICAgYW5pbWF0aW9uOiB7XG4gICAgICAgICAgICB0eXBlOiBGQURFSU4sXG4gICAgICAgICAgICBkZWxheTogSU5JVElBTF9BTklNQVRJT05fRFVSQVRJT05cbiAgICAgICAgfSxcbiAgICAgICAgcG9zaXRpb246IEFVVE9cbiAgICB9LFxuICAgIG5vdGVzOiB7XG4gICAgICAgIGxhYmVsOiB7fVxuICAgIH0sXG4gICAgaGlnaGxpZ2h0OiB7XG4gICAgICAgIG1hcmtlcnM6IHtcbiAgICAgICAgICAgIGJvcmRlcjoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBXSElURSxcbiAgICAgICAgICAgICAgICB3aWR0aDogMlxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB6SW5kZXg6IEhJR0hMSUdIVF9aSU5ERVhcbiAgICB9LFxuICAgIHRvb2x0aXA6IHtcbiAgICAgICAgZm9ybWF0OiAnezB9IC0gezF9J1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IFJhbmdlQXJlYVBvaW50O1xuIiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuaW1wb3J0IEFyZWFTZWdtZW50IGZyb20gJy4uL2FyZWEtY2hhcnQvYXJlYS1zZWdtZW50JztcblxuY2xhc3MgUmFuZ2VBcmVhU2VnbWVudCBleHRlbmRzIEFyZWFTZWdtZW50IHtcblxuICAgIGNyZWF0ZVN0cm9rZVNlZ21lbnRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZWdtZW50c0Zyb21Qb2ludHModGhpcy50b0dlb21ldHJ5UG9pbnRzKHRoaXMudG9Qb2ludHMoKSkpO1xuICAgIH1cblxuICAgIHN0YWNrU2VnbWVudHMoKSB7XG4gICAgICAgIGxldCBmcm9tU2VnbWVudHMgPSB0aGlzLmZyb21TZWdtZW50cztcbiAgICAgICAgaWYgKCF0aGlzLmZyb21TZWdtZW50cykge1xuICAgICAgICAgICAgZnJvbVNlZ21lbnRzID0gdGhpcy5mcm9tU2VnbWVudHMgPSB0aGlzLnNlZ21lbnRzRnJvbVBvaW50cyh0aGlzLnRvR2VvbWV0cnlQb2ludHModGhpcy5mcm9tUG9pbnRzKCkucmV2ZXJzZSgpKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZnJvbVNlZ21lbnRzO1xuICAgIH1cblxuICAgIGNyZWF0ZVN0cm9rZShzdHlsZSkge1xuICAgICAgICBjb25zdCB0b1BhdGggPSBuZXcgZHJhdy5QYXRoKHN0eWxlKTtcbiAgICAgICAgY29uc3QgZnJvbVBhdGggPSBuZXcgZHJhdy5QYXRoKHN0eWxlKTtcblxuICAgICAgICB0b1BhdGguc2VnbWVudHMucHVzaC5hcHBseSh0b1BhdGguc2VnbWVudHMsIHRoaXMuc3Ryb2tlU2VnbWVudHMoKSk7XG4gICAgICAgIGZyb21QYXRoLnNlZ21lbnRzLnB1c2guYXBwbHkoZnJvbVBhdGguc2VnbWVudHMsIHRoaXMuc3RhY2tTZWdtZW50cygpKTtcblxuICAgICAgICB0aGlzLnZpc3VhbC5hcHBlbmQodG9QYXRoKTtcbiAgICAgICAgdGhpcy52aXN1YWwuYXBwZW5kKGZyb21QYXRoKTtcbiAgICB9XG5cbiAgICBoYXNTdGFja1NlZ21lbnQoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZyb21Qb2ludHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpbmVQb2ludHMubWFwKHBvaW50ID0+IHBvaW50LmZyb21Qb2ludCk7XG4gICAgfVxuXG4gICAgdG9Qb2ludHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpbmVQb2ludHMubWFwKHBvaW50ID0+IHBvaW50LnRvUG9pbnQpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmFuZ2VBcmVhU2VnbWVudDsiLCJpbXBvcnQgeyBDdXJ2ZVByb2Nlc3NvciB9IGZyb20gJy4uLy4uL2NvcmUnO1xuXG5pbXBvcnQgUmFuZ2VBcmVhU2VnbWVudCBmcm9tICcuL3JhbmdlLWFyZWEtc2VnbWVudCc7XG5cbmNsYXNzIFNwbGluZVJhbmdlQXJlYVNlZ21lbnQgZXh0ZW5kcyBSYW5nZUFyZWFTZWdtZW50IHtcblxuICAgIGNyZWF0ZVN0cm9rZVNlZ21lbnRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVDdXJ2ZVNlZ21lbnRzKHRoaXMudG9Qb2ludHMoKSk7XG4gICAgfVxuXG4gICAgc3RhY2tTZWdtZW50cygpIHtcbiAgICAgICAgbGV0IGZyb21TZWdtZW50cyA9IHRoaXMuZnJvbVNlZ21lbnRzO1xuICAgICAgICBpZiAoIXRoaXMuZnJvbVNlZ21lbnRzKSB7XG4gICAgICAgICAgICBmcm9tU2VnbWVudHMgPSB0aGlzLmZyb21TZWdtZW50cyA9IHRoaXMuY3JlYXRlQ3VydmVTZWdtZW50cyh0aGlzLmZyb21Qb2ludHMoKS5yZXZlcnNlKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZyb21TZWdtZW50cztcbiAgICB9XG5cbiAgICBjcmVhdGVDdXJ2ZVNlZ21lbnRzKHBvaW50cykge1xuICAgICAgICBjb25zdCBjdXJ2ZVByb2Nlc3NvciA9IG5ldyBDdXJ2ZVByb2Nlc3NvcigpO1xuXG4gICAgICAgIHJldHVybiBjdXJ2ZVByb2Nlc3Nvci5wcm9jZXNzKHRoaXMudG9HZW9tZXRyeVBvaW50cyhwb2ludHMpKTtcbiAgICB9XG5cblxufVxuXG5leHBvcnQgZGVmYXVsdCBTcGxpbmVSYW5nZUFyZWFTZWdtZW50OyIsImltcG9ydCBTdGVwTGluZU1peGluIGZyb20gJy4uL2xpbmUtY2hhcnQvc3RlcC1saW5lLW1peGluJztcbmltcG9ydCBSYW5nZUFyZWFTZWdtZW50IGZyb20gJy4vcmFuZ2UtYXJlYS1zZWdtZW50JztcbmltcG9ydCB7IGRlZXBFeHRlbmQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBTdGVwUmFuZ2VBcmVhU2VnbWVudCBleHRlbmRzIFJhbmdlQXJlYVNlZ21lbnQge1xuXG4gICAgY3JlYXRlU3Ryb2tlU2VnbWVudHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlZ21lbnRzRnJvbVBvaW50cyh0aGlzLmNhbGN1bGF0ZVN0ZXBQb2ludHModGhpcy50b1BvaW50cygpKSk7XG4gICAgfVxuXG4gICAgc3RhY2tTZWdtZW50cygpIHtcbiAgICAgICAgbGV0IGZyb21TZWdtZW50cyA9IHRoaXMuZnJvbVNlZ21lbnRzO1xuICAgICAgICBpZiAoIXRoaXMuZnJvbVNlZ21lbnRzKSB7XG4gICAgICAgICAgICBmcm9tU2VnbWVudHMgPSB0aGlzLmZyb21TZWdtZW50cyA9IHRoaXMuc2VnbWVudHNGcm9tUG9pbnRzKHRoaXMuY2FsY3VsYXRlU3RlcFBvaW50cyh0aGlzLmZyb21Qb2ludHMoKSkpO1xuICAgICAgICAgICAgZnJvbVNlZ21lbnRzLnJldmVyc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmcm9tU2VnbWVudHM7XG4gICAgfVxufVxuXG5kZWVwRXh0ZW5kKFN0ZXBSYW5nZUFyZWFTZWdtZW50LnByb3RvdHlwZSwgU3RlcExpbmVNaXhpbik7XG5cbmV4cG9ydCBkZWZhdWx0IFN0ZXBSYW5nZUFyZWFTZWdtZW50OyIsImltcG9ydCBDYXRlZ29yaWNhbENoYXJ0IGZyb20gJy4uL2NhdGVnb3JpY2FsLWNoYXJ0JztcbmltcG9ydCBMaW5lQ2hhcnRNaXhpbiBmcm9tICcuLi9taXhpbnMvbGluZS1jaGFydC1taXhpbic7XG5pbXBvcnQgQ2xpcEFuaW1hdGlvbk1peGluIGZyb20gJy4uL21peGlucy9jbGlwLWFuaW1hdGlvbi1taXhpbic7XG5pbXBvcnQgUmFuZ2VBcmVhUG9pbnQgZnJvbSAnLi9yYW5nZS1hcmVhLXBvaW50JztcbmltcG9ydCBSYW5nZUFyZWFTZWdtZW50IGZyb20gJy4vcmFuZ2UtYXJlYS1zZWdtZW50JztcbmltcG9ydCBTcGxpbmVSYW5nZUFyZWFTZWdtZW50IGZyb20gJy4vc3BsaW5lLXJhbmdlLWFyZWEtc2VnbWVudCc7XG5pbXBvcnQgU3RlcFJhbmdlQXJlYVNlZ21lbnQgZnJvbSAnLi9zdGVwLXJhbmdlLWFyZWEtc2VnbWVudCc7XG5cbmltcG9ydCB7IEJveCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0IHsgWkVSTyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBNSU5fVkFMVUUsIE1BWF9WQUxVRSB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgaXNOdW1iZXIgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuaW1wb3J0IHsgZGVlcEV4dGVuZCwgaXNGdW5jdGlvbiB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5pbXBvcnQgeyBoYXNWYWx1ZSB9IGZyb20gJy4uL3V0aWxzJztcblxuY2xhc3MgUmFuZ2VBcmVhQ2hhcnQgZXh0ZW5kcyBDYXRlZ29yaWNhbENoYXJ0IHtcblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgc3VwZXIucmVuZGVyKCk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJTZWdtZW50cygpO1xuICAgIH1cblxuICAgIHBvaW50VHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFJhbmdlQXJlYVBvaW50O1xuICAgIH1cblxuICAgIGNyZWF0ZVBvaW50KGRhdGEsIGZpZWxkcykge1xuICAgICAgICBjb25zdCB7IGNhdGVnb3J5SXgsIGNhdGVnb3J5LCBzZXJpZXMsIHNlcmllc0l4IH0gPSBmaWVsZHM7XG4gICAgICAgIGxldCB2YWx1ZSA9IGRhdGEudmFsdWVGaWVsZHM7XG5cbiAgICAgICAgaWYgKCFoYXNWYWx1ZSh2YWx1ZS5mcm9tKSAmJiAhaGFzVmFsdWUodmFsdWUudG8pKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zZXJpZXNNaXNzaW5nVmFsdWVzKHNlcmllcykgPT09IFpFUk8pIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogMCxcbiAgICAgICAgICAgICAgICAgICAgdG86IDBcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwb2ludE9wdGlvbnMgPSB0aGlzLnBvaW50T3B0aW9ucyhzZXJpZXMsIHNlcmllc0l4KTtcbiAgICAgICAgcG9pbnRPcHRpb25zID0gdGhpcy5ldmFsUG9pbnRPcHRpb25zKFxuICAgICAgICAgICAgcG9pbnRPcHRpb25zLCB2YWx1ZSwgY2F0ZWdvcnksIGNhdGVnb3J5SXgsIHNlcmllcywgc2VyaWVzSXhcbiAgICAgICAgKTtcblxuICAgICAgICBsZXQgY29sb3IgPSBkYXRhLmZpZWxkcy5jb2xvciB8fCBzZXJpZXMuY29sb3I7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHNlcmllcy5jb2xvcikpIHtcbiAgICAgICAgICAgIGNvbG9yID0gcG9pbnRPcHRpb25zLmNvbG9yO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcG9pbnQgPSBuZXcgUmFuZ2VBcmVhUG9pbnQodmFsdWUsIHBvaW50T3B0aW9ucyk7XG4gICAgICAgIHBvaW50LmNvbG9yID0gY29sb3I7XG5cbiAgICAgICAgdGhpcy5hcHBlbmQocG9pbnQpO1xuXG4gICAgICAgIHJldHVybiBwb2ludDtcbiAgICB9XG5cbiAgICBjcmVhdGVTZWdtZW50KGxpbmVQb2ludHMsIGN1cnJlbnRTZXJpZXMsIHNlcmllc0l4KSB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gKGN1cnJlbnRTZXJpZXMubGluZSB8fCB7fSkuc3R5bGU7XG4gICAgICAgIGxldCBzZWdtZW50VHlwZTtcbiAgICAgICAgaWYgKHN0eWxlID09PSBcInNtb290aFwiKSB7XG4gICAgICAgICAgICBzZWdtZW50VHlwZSA9IFNwbGluZVJhbmdlQXJlYVNlZ21lbnQ7XG4gICAgICAgIH0gZWxzZSBpZiAoc3R5bGUgPT09IFwic3RlcFwiKSB7XG4gICAgICAgICAgICBzZWdtZW50VHlwZSA9IFN0ZXBSYW5nZUFyZWFTZWdtZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VnbWVudFR5cGUgPSBSYW5nZUFyZWFTZWdtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBzZWdtZW50VHlwZShsaW5lUG9pbnRzLCBjdXJyZW50U2VyaWVzLCBzZXJpZXNJeCk7XG4gICAgfVxuXG4gICAgcGxvdFJhbmdlKHBvaW50LCBzdGFydFZhbHVlKSB7XG4gICAgICAgIGlmICghcG9pbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBbIHN0YXJ0VmFsdWUsIHN0YXJ0VmFsdWUgXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBbIHBvaW50LnZhbHVlLmZyb20sIHBvaW50LnZhbHVlLnRvIF07XG4gICAgfVxuXG4gICAgdmFsdWVTbG90KHZhbHVlQXhpcywgcGxvdFJhbmdlKSB7XG4gICAgICAgIGNvbnN0IGZyb21TbG90ID0gdmFsdWVBeGlzLmdldFNsb3QocGxvdFJhbmdlWzBdLCBwbG90UmFuZ2VbMF0sICF0aGlzLm9wdGlvbnMuY2xpcCk7XG4gICAgICAgIGNvbnN0IHRvU2xvdCA9IHZhbHVlQXhpcy5nZXRTbG90KHBsb3RSYW5nZVsxXSwgcGxvdFJhbmdlWzFdLCAhdGhpcy5vcHRpb25zLmNsaXApO1xuICAgICAgICBpZiAoZnJvbVNsb3QgJiYgdG9TbG90KSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGZyb206IGZyb21TbG90LFxuICAgICAgICAgICAgICAgIHRvOiB0b1Nsb3RcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwb2ludFNsb3QoY2F0ZWdvcnlTbG90LCB2YWx1ZVNsb3QpIHtcbiAgICAgICAgY29uc3QgeyBmcm9tLCB0byB9ID0gdmFsdWVTbG90O1xuICAgICAgICBsZXQgZnJvbVNsb3QsIHRvU2xvdDtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmludmVydEF4ZXMpIHtcbiAgICAgICAgICAgIGZyb21TbG90ID0gbmV3IEJveChmcm9tLngxLCBjYXRlZ29yeVNsb3QueTEsIGZyb20ueDIsIGNhdGVnb3J5U2xvdC55Mik7XG4gICAgICAgICAgICB0b1Nsb3QgPSBuZXcgQm94KHRvLngxLCBjYXRlZ29yeVNsb3QueTEsIHRvLngyLCBjYXRlZ29yeVNsb3QueTIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZnJvbVNsb3QgPSBuZXcgQm94KGNhdGVnb3J5U2xvdC54MSwgZnJvbS55MSwgY2F0ZWdvcnlTbG90LngyLCBmcm9tLnkyKTtcbiAgICAgICAgICAgIHRvU2xvdCA9IG5ldyBCb3goY2F0ZWdvcnlTbG90LngxLCB0by55MSwgY2F0ZWdvcnlTbG90LngyLCB0by55Mik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZnJvbTogZnJvbVNsb3QsXG4gICAgICAgICAgICB0bzogdG9TbG90XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYWRkVmFsdWUoZGF0YSwgZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlRmllbGRzID0gZGF0YS52YWx1ZUZpZWxkcztcbiAgICAgICAgaWYgKCFpc051bWJlcih2YWx1ZUZpZWxkcy5mcm9tKSkge1xuICAgICAgICAgICAgdmFsdWVGaWVsZHMuZnJvbSA9IHZhbHVlRmllbGRzLnRvO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc051bWJlcih2YWx1ZUZpZWxkcy50bykpIHtcbiAgICAgICAgICAgIHZhbHVlRmllbGRzLnRvID0gdmFsdWVGaWVsZHMuZnJvbTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyLmFkZFZhbHVlKGRhdGEsIGZpZWxkcyk7XG4gICAgfVxuXG4gICAgdXBkYXRlUmFuZ2UodmFsdWUsIGZpZWxkcykge1xuICAgICAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgaXNOdW1iZXIodmFsdWUuZnJvbSkgJiYgaXNOdW1iZXIodmFsdWUudG8pKSB7XG4gICAgICAgICAgICBjb25zdCBheGlzTmFtZSA9IGZpZWxkcy5zZXJpZXMuYXhpcztcbiAgICAgICAgICAgIGNvbnN0IGF4aXNSYW5nZSA9IHRoaXMudmFsdWVBeGlzUmFuZ2VzW2F4aXNOYW1lXSA9IHRoaXMudmFsdWVBeGlzUmFuZ2VzW2F4aXNOYW1lXSB8fCB7IG1pbjogTUFYX1ZBTFVFLCBtYXg6IE1JTl9WQUxVRSB9O1xuICAgICAgICAgICAgY29uc3QgeyBmcm9tLCB0byB9ID0gdmFsdWU7XG5cbiAgICAgICAgICAgIGF4aXNSYW5nZS5taW4gPSBNYXRoLm1pbihheGlzUmFuZ2UubWluLCBmcm9tLCB0byk7XG4gICAgICAgICAgICBheGlzUmFuZ2UubWF4ID0gTWF0aC5tYXgoYXhpc1JhbmdlLm1heCwgZnJvbSwgdG8pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9ybWF0UG9pbnRWYWx1ZShwb2ludCwgZm9ybWF0KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcG9pbnQudmFsdWU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhcnRTZXJ2aWNlLmZvcm1hdC5hdXRvKGZvcm1hdCwgdmFsdWUuZnJvbSwgdmFsdWUudG8pO1xuICAgIH1cblxuICAgIGFuaW1hdGlvblBvaW50cygpIHtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gdGhpcy5wb2ludHM7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBwb2ludHMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBwb2ludHNbaWR4XTtcbiAgICAgICAgICAgIGlmIChwb2ludCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKChwb2ludC5mcm9tUG9pbnQgfHwge30pLm1hcmtlcik7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goKHBvaW50LnRvUG9pbnQgfHwge30pLm1hcmtlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0LmNvbmNhdCh0aGlzLl9zZWdtZW50cyk7XG4gICAgfVxufVxuXG5kZWVwRXh0ZW5kKFJhbmdlQXJlYUNoYXJ0LnByb3RvdHlwZSwgTGluZUNoYXJ0TWl4aW4sIENsaXBBbmltYXRpb25NaXhpbik7XG5cbmV4cG9ydCBkZWZhdWx0IFJhbmdlQXJlYUNoYXJ0O1xuIiwiaW1wb3J0IENhbmRsZXN0aWNrIGZyb20gJy4uL2NhbmRsZXN0aWNrLWNoYXJ0L2NhbmRsZXN0aWNrJztcblxuY2xhc3MgT0hMQ1BvaW50IGV4dGVuZHMgQ2FuZGxlc3RpY2sge1xuICAgIHJlZmxvdyhib3gpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCB2YWx1ZSwgb3duZXI6IGNoYXJ0IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB2YWx1ZUF4aXMgPSBjaGFydC5zZXJpZXNWYWx1ZUF4aXMob3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IG9Qb2ludHMgPSBbXTtcbiAgICAgICAgY29uc3QgY1BvaW50cyA9IFtdO1xuICAgICAgICBjb25zdCBsaFBvaW50cyA9IFtdO1xuXG4gICAgICAgIGNvbnN0IGxoU2xvdCA9IHZhbHVlQXhpcy5nZXRTbG90KHZhbHVlLmxvdywgdmFsdWUuaGlnaCk7XG4gICAgICAgIGNvbnN0IG9TbG90ID0gdmFsdWVBeGlzLmdldFNsb3QodmFsdWUub3BlbiwgdmFsdWUub3Blbik7XG4gICAgICAgIGNvbnN0IGNTbG90ID0gdmFsdWVBeGlzLmdldFNsb3QodmFsdWUuY2xvc2UsIHZhbHVlLmNsb3NlKTtcblxuICAgICAgICBvU2xvdC54MSA9IGNTbG90LngxID0gbGhTbG90LngxID0gYm94LngxO1xuICAgICAgICBvU2xvdC54MiA9IGNTbG90LngyID0gbGhTbG90LngyID0gYm94LngyO1xuXG4gICAgICAgIGNvbnN0IG1pZCA9IGxoU2xvdC5jZW50ZXIoKS54O1xuXG4gICAgICAgIG9Qb2ludHMucHVzaChbIG9TbG90LngxLCBvU2xvdC55MSBdKTtcbiAgICAgICAgb1BvaW50cy5wdXNoKFsgbWlkLCBvU2xvdC55MSBdKTtcbiAgICAgICAgY1BvaW50cy5wdXNoKFsgbWlkLCBjU2xvdC55MSBdKTtcbiAgICAgICAgY1BvaW50cy5wdXNoKFsgY1Nsb3QueDIsIGNTbG90LnkxIF0pO1xuICAgICAgICBsaFBvaW50cy5wdXNoKFsgbWlkLCBsaFNsb3QueTEgXSk7XG4gICAgICAgIGxoUG9pbnRzLnB1c2goWyBtaWQsIGxoU2xvdC55MiBdKTtcblxuICAgICAgICB0aGlzLmxpbmVzID0gW1xuICAgICAgICAgICAgb1BvaW50cywgY1BvaW50cywgbGhQb2ludHNcbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLmJveCA9IGxoU2xvdC5jbG9uZSgpLndyYXAob1Nsb3QuY2xvbmUoKS53cmFwKGNTbG90KSk7XG5cbiAgICAgICAgdGhpcy5yZWZsb3dOb3RlKCk7XG4gICAgfVxuXG4gICAgY3JlYXRlQm9keSgpIHt9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE9ITENQb2ludDsiLCJpbXBvcnQgQ2FuZGxlc3RpY2tDaGFydCBmcm9tICcuLi9jYW5kbGVzdGljay1jaGFydC9jYW5kbGVzdGljay1jaGFydCc7XG5pbXBvcnQgT0hMQ1BvaW50IGZyb20gJy4vb2hsYy1wb2ludCc7XG5cbmNsYXNzIE9ITENDaGFydCBleHRlbmRzIENhbmRsZXN0aWNrQ2hhcnQge1xuICAgIHBvaW50VHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIE9ITENQb2ludDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE9ITENDaGFydDsiLCJpbXBvcnQgeyBkcmF3aW5nIGFzIGRyYXcgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCB7IENoYXJ0RWxlbWVudCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuXG5pbXBvcnQgeyBGQURFSU4sIElOSVRJQUxfQU5JTUFUSU9OX0RVUkFUSU9OIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuaW1wb3J0IHsgYWxpZ25QYXRoVG9QaXhlbCwgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBXYXRlcmZhbGxTZWdtZW50IGV4dGVuZHMgQ2hhcnRFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihmcm9tLCB0bywgc2VyaWVzKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICAgICAgdGhpcy50byA9IHRvO1xuICAgICAgICB0aGlzLnNlcmllcyA9IHNlcmllcztcbiAgICB9XG5cbiAgICBsaW5lUG9pbnRzKCkge1xuICAgICAgICBjb25zdCBmcm9tID0gdGhpcy5mcm9tO1xuICAgICAgICBjb25zdCB7IGZyb206IHsgYm94OiBmcm9tQm94IH0sIHRvOiB7IGJveDogdG9Cb3ggfSB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgcG9pbnRzID0gW107XG5cbiAgICAgICAgaWYgKGZyb20uaXNWZXJ0aWNhbCkge1xuICAgICAgICAgICAgY29uc3QgeSA9IGZyb20uYWJvdmVBeGlzID8gZnJvbUJveC55MSA6IGZyb21Cb3gueTI7XG4gICAgICAgICAgICBwb2ludHMucHVzaChcbiAgICAgICAgICAgICAgICBbIGZyb21Cb3gueDEsIHkgXSxcbiAgICAgICAgICAgICAgICBbIHRvQm94LngyLCB5IF1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB4ID0gZnJvbS5hYm92ZUF4aXMgPyBmcm9tQm94LngyIDogZnJvbUJveC54MTtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKFxuICAgICAgICAgICAgICAgIFsgeCwgZnJvbUJveC55MSBdLFxuICAgICAgICAgICAgICAgIFsgeCwgdG9Cb3gueTIgXVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwb2ludHM7XG4gICAgfVxuXG4gICAgY3JlYXRlVmlzdWFsKCkge1xuICAgICAgICBzdXBlci5jcmVhdGVWaXN1YWwoKTtcblxuICAgICAgICBjb25zdCBsaW5lID0gdGhpcy5zZXJpZXMubGluZSB8fCB7fTtcblxuICAgICAgICBjb25zdCBwYXRoID0gZHJhdy5QYXRoLmZyb21Qb2ludHModGhpcy5saW5lUG9pbnRzKCksIHtcbiAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBsaW5lLmNvbG9yLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBsaW5lLndpZHRoLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IGxpbmUub3BhY2l0eSxcbiAgICAgICAgICAgICAgICBkYXNoVHlwZTogbGluZS5kYXNoVHlwZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBhbGlnblBhdGhUb1BpeGVsKHBhdGgpO1xuICAgICAgICB0aGlzLnZpc3VhbC5hcHBlbmQocGF0aCk7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhXYXRlcmZhbGxTZWdtZW50LCB7XG4gICAgYW5pbWF0aW9uOiB7XG4gICAgICAgIHR5cGU6IEZBREVJTixcbiAgICAgICAgZGVsYXk6IElOSVRJQUxfQU5JTUFUSU9OX0RVUkFUSU9OXG4gICAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFdhdGVyZmFsbFNlZ21lbnQ7IiwiaW1wb3J0IEJhckNoYXJ0IGZyb20gJy4uL2Jhci1jaGFydC9iYXItY2hhcnQnO1xuaW1wb3J0IFNlcmllc0JpbmRlciBmcm9tICcuLi9zZXJpZXMtYmluZGVyJztcbmltcG9ydCBXYXRlcmZhbGxTZWdtZW50IGZyb20gJy4vd2F0ZXJmYWxsLXNlZ21lbnQnO1xuXG5pbXBvcnQgY2F0ZWdvcmllc0NvdW50IGZyb20gJy4uL3V0aWxzL2NhdGVnb3JpZXMtY291bnQnO1xuXG5pbXBvcnQgeyBpc051bWJlciB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIFdhdGVyZmFsbENoYXJ0IGV4dGVuZHMgQmFyQ2hhcnQge1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgc3VwZXIucmVuZGVyKCk7XG4gICAgICAgIHRoaXMuY3JlYXRlU2VnbWVudHMoKTtcbiAgICB9XG5cbiAgICB0cmF2ZXJzZURhdGFQb2ludHMoY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3Qgc2VyaWVzID0gdGhpcy5vcHRpb25zLnNlcmllcztcbiAgICAgICAgY29uc3QgdG90YWxDYXRlZ29yaWVzID0gY2F0ZWdvcmllc0NvdW50KHNlcmllcyk7XG4gICAgICAgIGNvbnN0IGlzVmVydGljYWwgPSAhdGhpcy5vcHRpb25zLmludmVydEF4ZXM7XG5cbiAgICAgICAgZm9yIChsZXQgc2VyaWVzSXggPSAwOyBzZXJpZXNJeCA8IHNlcmllcy5sZW5ndGg7IHNlcmllc0l4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZXJpZXMgPSBzZXJpZXNbc2VyaWVzSXhdO1xuICAgICAgICAgICAgbGV0IHRvdGFsID0gMDtcbiAgICAgICAgICAgIGxldCBydW5uaW5nVG90YWwgPSAwO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBjYXRlZ29yeUl4ID0gMDsgY2F0ZWdvcnlJeCA8IHRvdGFsQ2F0ZWdvcmllczsgY2F0ZWdvcnlJeCsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IFNlcmllc0JpbmRlci5jdXJyZW50LmJpbmRQb2ludChjdXJyZW50U2VyaWVzLCBjYXRlZ29yeUl4KTtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGRhdGEudmFsdWVGaWVsZHMudmFsdWU7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3VtbWFyeSA9IGRhdGEuZmllbGRzLnN1bW1hcnk7XG4gICAgICAgICAgICAgICAgbGV0IGZyb20gPSB0b3RhbDtcbiAgICAgICAgICAgICAgICBsZXQgdG87XG5cbiAgICAgICAgICAgICAgICBpZiAoc3VtbWFyeSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3VtbWFyeS50b0xvd2VyQ2FzZSgpID09PSBcInRvdGFsXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEudmFsdWVGaWVsZHMudmFsdWUgPSB0b3RhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG8gPSB0b3RhbDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEudmFsdWVGaWVsZHMudmFsdWUgPSBydW5uaW5nVG90YWw7XG4gICAgICAgICAgICAgICAgICAgICAgICB0byA9IGZyb20gLSBydW5uaW5nVG90YWw7XG4gICAgICAgICAgICAgICAgICAgICAgICBydW5uaW5nVG90YWwgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcnVubmluZ1RvdGFsICs9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB0b3RhbCArPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdG8gPSB0b3RhbDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjYWxsYmFjayhkYXRhLCB7XG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiB0aGlzLmNhdGVnb3J5QXhpcy5jYXRlZ29yeUF0KGNhdGVnb3J5SXgpLFxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeUl4OiBjYXRlZ29yeUl4LFxuICAgICAgICAgICAgICAgICAgICBzZXJpZXM6IGN1cnJlbnRTZXJpZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcmllc0l4OiBzZXJpZXNJeCxcbiAgICAgICAgICAgICAgICAgICAgdG90YWw6IHRvdGFsLFxuICAgICAgICAgICAgICAgICAgICBydW5uaW5nVG90YWw6IHJ1bm5pbmdUb3RhbCxcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogZnJvbSxcbiAgICAgICAgICAgICAgICAgICAgdG86IHRvLFxuICAgICAgICAgICAgICAgICAgICBpc1ZlcnRpY2FsOiBpc1ZlcnRpY2FsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVSYW5nZSh2YWx1ZSwgZmllbGRzKSB7XG4gICAgICAgIHN1cGVyLnVwZGF0ZVJhbmdlKHsgdmFsdWU6IGZpZWxkcy50byB9LCBmaWVsZHMpO1xuICAgIH1cblxuICAgIGFib3ZlQXhpcyhwb2ludCkge1xuICAgICAgICByZXR1cm4gcG9pbnQudmFsdWUgPj0gMDtcbiAgICB9XG5cbiAgICBwbG90UmFuZ2UocG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIFsgcG9pbnQuZnJvbSwgcG9pbnQudG8gXTtcbiAgICB9XG5cbiAgICBjcmVhdGVTZWdtZW50cygpIHtcbiAgICAgICAgY29uc3Qgc2VyaWVzID0gdGhpcy5vcHRpb25zLnNlcmllcztcbiAgICAgICAgY29uc3Qgc2VyaWVzUG9pbnRzID0gdGhpcy5zZXJpZXNQb2ludHM7XG4gICAgICAgIGNvbnN0IHNlZ21lbnRzID0gdGhpcy5zZWdtZW50cyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IHNlcmllc0l4ID0gMDsgc2VyaWVzSXggPCBzZXJpZXMubGVuZ3RoOyBzZXJpZXNJeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50U2VyaWVzID0gc2VyaWVzW3Nlcmllc0l4XTtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50cyA9IHNlcmllc1BvaW50c1tzZXJpZXNJeF07XG5cbiAgICAgICAgICAgIGlmIChwb2ludHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgcHJldlBvaW50O1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHBvaW50SXggPSAwOyBwb2ludEl4IDwgcG9pbnRzLmxlbmd0aDsgcG9pbnRJeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzW3BvaW50SXhdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChwb2ludCAmJiBwcmV2UG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlZ21lbnQgPSBuZXcgV2F0ZXJmYWxsU2VnbWVudChwcmV2UG9pbnQsIHBvaW50LCBjdXJyZW50U2VyaWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlZ21lbnRzLnB1c2goc2VnbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZChzZWdtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHByZXZQb2ludCA9IHBvaW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgV2F0ZXJmYWxsQ2hhcnQ7IiwiaW1wb3J0IFBsb3RBcmVhQmFzZSBmcm9tICcuL3Bsb3RhcmVhLWJhc2UnO1xuaW1wb3J0IEF4aXNHcm91cFJhbmdlVHJhY2tlciBmcm9tICcuLi9heGlzLWdyb3VwLXJhbmdlLXRyYWNrZXInO1xuaW1wb3J0IFBsb3RBcmVhRXZlbnRzTWl4aW4gZnJvbSAnLi4vbWl4aW5zL3Bsb3RhcmVhLWV2ZW50cy1taXhpbic7XG5pbXBvcnQgU2VyaWVzQWdncmVnYXRvciBmcm9tICcuLi9hZ2dyZWdhdGVzL3Nlcmllcy1hZ2dyZWdhdG9yJztcbmltcG9ydCBEZWZhdWx0QWdncmVnYXRlcyBmcm9tICcuLi9hZ2dyZWdhdGVzL2RlZmF1bHQtYWdncmVnYXRlcyc7XG5pbXBvcnQgU2VyaWVzQmluZGVyIGZyb20gJy4uL3Nlcmllcy1iaW5kZXInO1xuaW1wb3J0IEJhckNoYXJ0IGZyb20gJy4uL2Jhci1jaGFydC9iYXItY2hhcnQnO1xuaW1wb3J0IFJhbmdlQmFyQ2hhcnQgZnJvbSAnLi4vcmFuZ2UtYmFyLWNoYXJ0L3JhbmdlLWJhci1jaGFydCc7XG5pbXBvcnQgQnVsbGV0Q2hhcnQgZnJvbSAnLi4vYnVsbGV0LWNoYXJ0L2J1bGxldC1jaGFydCc7XG5pbXBvcnQgTGluZUNoYXJ0IGZyb20gJy4uL2xpbmUtY2hhcnQvbGluZS1jaGFydCc7XG5pbXBvcnQgQXJlYUNoYXJ0IGZyb20gJy4uL2FyZWEtY2hhcnQvYXJlYS1jaGFydCc7XG5pbXBvcnQgUmFuZ2VBcmVhQ2hhcnQgZnJvbSAnLi4vcmFuZ2UtYXJlYS1jaGFydC9yYW5nZS1hcmVhLWNoYXJ0JztcbmltcG9ydCBPSExDQ2hhcnQgZnJvbSAnLi4vb2hsYy1jaGFydC9vaGxjLWNoYXJ0JztcbmltcG9ydCBDYW5kbGVzdGlja0NoYXJ0IGZyb20gJy4uL2NhbmRsZXN0aWNrLWNoYXJ0L2NhbmRsZXN0aWNrLWNoYXJ0JztcbmltcG9ydCBCb3hQbG90Q2hhcnQgZnJvbSAnLi4vYm94LXBsb3QtY2hhcnQvYm94LXBsb3QtY2hhcnQnO1xuaW1wb3J0IFdhdGVyZmFsbENoYXJ0IGZyb20gJy4uL3dhdGVyZmFsbC1jaGFydC93YXRlcmZhbGwtY2hhcnQnO1xuXG5pbXBvcnQgeyBDYXRlZ29yeUF4aXMsIERhdGVDYXRlZ29yeUF4aXMsIE51bWVyaWNBeGlzLCBMb2dhcml0aG1pY0F4aXMsIFBvaW50IH0gZnJvbSAnLi4vLi4vY29yZSc7XG5cbmltcG9ydCB7IGFwcGVuZElmTm90TnVsbCwgY2F0ZWdvcmllc0NvdW50LCBjcmVhdGVPdXRPZlJhbmdlUG9pbnRzLCBlcXVhbHNJZ25vcmVDYXNlLCBmaWx0ZXJTZXJpZXNCeVR5cGUsXG4gICAgZ2V0RGF0ZUZpZWxkLCBnZXRGaWVsZCwgaXNEYXRlQXhpcywgc2luZ2xlSXRlbU9yQXJyYXkgfSBmcm9tICcuLi91dGlscyc7XG5cbmltcG9ydCB7IEJBUiwgQ09MVU1OLCBCVUxMRVQsIFZFUlRJQ0FMX0JVTExFVCwgTElORSwgVkVSVElDQUxfTElORSwgQVJFQSwgVkVSVElDQUxfQVJFQSxcbiAgICBSQU5HRV9BUkVBLCBWRVJUSUNBTF9SQU5HRV9BUkVBLCBSQU5HRV9DT0xVTU4sIFJBTkdFX0JBUiwgV0FURVJGQUxMLCBIT1JJWk9OVEFMX1dBVEVSRkFMTCxcbiAgICBCT1hfUExPVCwgVkVSVElDQUxfQk9YX1BMT1QsIE9ITEMsIENBTkRMRVNUSUNLLCBMT0dBUklUSE1JQywgU1RFUCwgRVFVQUxMWV9TUEFDRURfU0VSSUVTIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuaW1wb3J0IHsgREFURSwgTUFYX1ZBTFVFIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBzZXREZWZhdWx0T3B0aW9ucywgaW5BcnJheSwgaXNOdW1iZXIsIGRlZXBFeHRlbmQsIGRlZmluZWQsIGV2ZW50RWxlbWVudCwgZ3JlcCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNvbnN0IEFSRUFfU0VSSUVTID0gWyBBUkVBLCBWRVJUSUNBTF9BUkVBLCBSQU5HRV9BUkVBLCBWRVJUSUNBTF9SQU5HRV9BUkVBIF07XG5jb25zdCBPVVRfT0ZfUkFOR0VfU0VSSUVTID0gWyBMSU5FLCBWRVJUSUNBTF9MSU5FIF0uY29uY2F0KEFSRUFfU0VSSUVTKTtcblxuY2xhc3MgQ2F0ZWdvcmljYWxQbG90QXJlYSBleHRlbmRzIFBsb3RBcmVhQmFzZSB7XG5cbiAgICBpbml0RmllbGRzKHNlcmllcykge1xuICAgICAgICB0aGlzLm5hbWVkQ2F0ZWdvcnlBeGVzID0ge307XG4gICAgICAgIHRoaXMubmFtZWRWYWx1ZUF4ZXMgPSB7fTtcbiAgICAgICAgdGhpcy52YWx1ZUF4aXNSYW5nZVRyYWNrZXIgPSBuZXcgQXhpc0dyb3VwUmFuZ2VUcmFja2VyKCk7XG5cbiAgICAgICAgaWYgKHNlcmllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmludmVydEF4ZXMgPSBpbkFycmF5KFxuICAgICAgICAgICAgICAgIHNlcmllc1swXS50eXBlLCBbIEJBUiwgQlVMTEVULCBWRVJUSUNBTF9MSU5FLCBWRVJUSUNBTF9BUkVBLCBWRVJUSUNBTF9SQU5HRV9BUkVBLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUkFOR0VfQkFSLCBIT1JJWk9OVEFMX1dBVEVSRkFMTCwgVkVSVElDQUxfQk9YX1BMT1QgXVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFjayA9IHNlcmllc1tpXS5zdGFjaztcbiAgICAgICAgICAgICAgICBpZiAoc3RhY2sgJiYgc3RhY2sudHlwZSA9PT0gXCIxMDAlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFjazEwMCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgcmVuZGVyKHBhbmVzID0gdGhpcy5wYW5lcykge1xuICAgICAgICB0aGlzLmNyZWF0ZUNhdGVnb3J5QXhlcyhwYW5lcyk7XG4gICAgICAgIHRoaXMuYWdncmVnYXRlQ2F0ZWdvcmllcyhwYW5lcyk7XG4gICAgICAgIHRoaXMuY3JlYXRlQ2F0ZWdvcnlBeGVzTGFiZWxzKHBhbmVzKTtcbiAgICAgICAgdGhpcy5jcmVhdGVDaGFydHMocGFuZXMpO1xuICAgICAgICB0aGlzLmNyZWF0ZVZhbHVlQXhlcyhwYW5lcyk7XG4gICAgfVxuXG4gICAgcmVtb3ZlQXhpcyhheGlzKSB7XG4gICAgICAgIGNvbnN0IGF4aXNOYW1lID0gYXhpcy5vcHRpb25zLm5hbWU7XG5cbiAgICAgICAgc3VwZXIucmVtb3ZlQXhpcyhheGlzKTtcblxuICAgICAgICBpZiAoYXhpcyBpbnN0YW5jZW9mIENhdGVnb3J5QXhpcykge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMubmFtZWRDYXRlZ29yeUF4ZXNbYXhpc05hbWVdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy52YWx1ZUF4aXNSYW5nZVRyYWNrZXIucmVzZXQoYXhpc05hbWUpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMubmFtZWRWYWx1ZUF4ZXNbYXhpc05hbWVdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGF4aXMgPT09IHRoaXMuY2F0ZWdvcnlBeGlzKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5jYXRlZ29yeUF4aXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXhpcyA9PT0gdGhpcy52YWx1ZUF4aXMpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnZhbHVlQXhpcztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZUNoYXJ0cyhwYW5lcykge1xuICAgICAgICBjb25zdCBzZXJpZXNCeVBhbmUgPSB0aGlzLmdyb3VwU2VyaWVzQnlQYW5lKCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcGFuZSA9IHBhbmVzW2ldO1xuICAgICAgICAgICAgY29uc3QgcGFuZVNlcmllcyA9IHNlcmllc0J5UGFuZVtwYW5lLm9wdGlvbnMubmFtZSB8fCBcImRlZmF1bHRcIl0gfHwgW107XG4gICAgICAgICAgICB0aGlzLmFkZFRvTGVnZW5kKHBhbmVTZXJpZXMpO1xuXG4gICAgICAgICAgICBjb25zdCB2aXNpYmxlU2VyaWVzID0gdGhpcy5maWx0ZXJWaXNpYmxlU2VyaWVzKHBhbmVTZXJpZXMpO1xuICAgICAgICAgICAgaWYgKCF2aXNpYmxlU2VyaWVzKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGdyb3VwcyA9IHRoaXMuZ3JvdXBTZXJpZXNCeUNhdGVnb3J5QXhpcyh2aXNpYmxlU2VyaWVzKTtcbiAgICAgICAgICAgIGZvciAobGV0IGdyb3VwSXggPSAwOyBncm91cEl4IDwgZ3JvdXBzLmxlbmd0aDsgZ3JvdXBJeCsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVDaGFydEdyb3VwKGdyb3Vwc1tncm91cEl4XSwgcGFuZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVDaGFydEdyb3VwKHNlcmllcywgcGFuZSkge1xuICAgICAgICB0aGlzLmNyZWF0ZUFyZWFDaGFydChcbiAgICAgICAgICAgIGZpbHRlclNlcmllc0J5VHlwZShzZXJpZXMsIFsgQVJFQSwgVkVSVElDQUxfQVJFQSBdKSwgcGFuZVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlUmFuZ2VBcmVhQ2hhcnQoXG4gICAgICAgICAgICBmaWx0ZXJTZXJpZXNCeVR5cGUoc2VyaWVzLCBbIFJBTkdFX0FSRUEsIFZFUlRJQ0FMX1JBTkdFX0FSRUEgXSksIHBhbmVcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmNyZWF0ZUJhckNoYXJ0KFxuICAgICAgICAgICAgZmlsdGVyU2VyaWVzQnlUeXBlKHNlcmllcywgWyBDT0xVTU4sIEJBUiBdKSwgcGFuZVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlUmFuZ2VCYXJDaGFydChcbiAgICAgICAgICAgIGZpbHRlclNlcmllc0J5VHlwZShzZXJpZXMsIFsgUkFOR0VfQ09MVU1OLCBSQU5HRV9CQVIgXSksIHBhbmVcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmNyZWF0ZUJ1bGxldENoYXJ0KFxuICAgICAgICAgICAgZmlsdGVyU2VyaWVzQnlUeXBlKHNlcmllcywgWyBCVUxMRVQsIFZFUlRJQ0FMX0JVTExFVCBdKSwgcGFuZVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlQ2FuZGxlc3RpY2tDaGFydChcbiAgICAgICAgICAgIGZpbHRlclNlcmllc0J5VHlwZShzZXJpZXMsIENBTkRMRVNUSUNLKSwgcGFuZVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlQm94UGxvdENoYXJ0KFxuICAgICAgICAgICAgZmlsdGVyU2VyaWVzQnlUeXBlKHNlcmllcywgWyBCT1hfUExPVCwgVkVSVElDQUxfQk9YX1BMT1QgXSksIHBhbmVcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmNyZWF0ZU9ITENDaGFydChcbiAgICAgICAgICAgIGZpbHRlclNlcmllc0J5VHlwZShzZXJpZXMsIE9ITEMpLCBwYW5lXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVXYXRlcmZhbGxDaGFydChcbiAgICAgICAgICAgIGZpbHRlclNlcmllc0J5VHlwZShzZXJpZXMsIFsgV0FURVJGQUxMLCBIT1JJWk9OVEFMX1dBVEVSRkFMTCBdKSwgcGFuZVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlTGluZUNoYXJ0KFxuICAgICAgICAgICAgZmlsdGVyU2VyaWVzQnlUeXBlKHNlcmllcywgWyBMSU5FLCBWRVJUSUNBTF9MSU5FIF0pLCBwYW5lXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYWdncmVnYXRlQ2F0ZWdvcmllcyhwYW5lcykge1xuICAgICAgICBjb25zdCBzZXJpZXMgPSB0aGlzLnNyY1NlcmllcyB8fCB0aGlzLnNlcmllcztcbiAgICAgICAgY29uc3QgcHJvY2Vzc2VkU2VyaWVzID0gW107XG4gICAgICAgIHRoaXMuX2N1cnJlbnRQb2ludHNDYWNoZSA9IHt9O1xuICAgICAgICB0aGlzLl9zZXJpZXNQb2ludHNDYWNoZSA9IHRoaXMuX3Nlcmllc1BvaW50c0NhY2hlIHx8IHt9O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgY3VycmVudFNlcmllcyA9IHNlcmllc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5QXhpcyA9IHRoaXMuc2VyaWVzQ2F0ZWdvcnlBeGlzKGN1cnJlbnRTZXJpZXMpO1xuICAgICAgICAgICAgY29uc3QgYXhpc1BhbmUgPSB0aGlzLmZpbmRQYW5lKGNhdGVnb3J5QXhpcy5vcHRpb25zLnBhbmUpO1xuICAgICAgICAgICAgY29uc3QgZGF0ZUF4aXMgPSBlcXVhbHNJZ25vcmVDYXNlKGNhdGVnb3J5QXhpcy5vcHRpb25zLnR5cGUsIERBVEUpO1xuXG4gICAgICAgICAgICBpZiAoKGRhdGVBeGlzIHx8IGN1cnJlbnRTZXJpZXMuY2F0ZWdvcnlGaWVsZCkgJiYgaW5BcnJheShheGlzUGFuZSwgcGFuZXMpKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFNlcmllcyA9IHRoaXMuYWdncmVnYXRlU2VyaWVzKGN1cnJlbnRTZXJpZXMsIGNhdGVnb3J5QXhpcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRTZXJpZXMgPSB0aGlzLmZpbHRlclNlcmllcyhjdXJyZW50U2VyaWVzLCBjYXRlZ29yeUF4aXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwcm9jZXNzZWRTZXJpZXMucHVzaChjdXJyZW50U2VyaWVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Nlcmllc1BvaW50c0NhY2hlID0gdGhpcy5fY3VycmVudFBvaW50c0NhY2hlO1xuICAgICAgICB0aGlzLl9jdXJyZW50UG9pbnRzQ2FjaGUgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuc3JjU2VyaWVzID0gc2VyaWVzO1xuICAgICAgICB0aGlzLnNlcmllcyA9IHByb2Nlc3NlZFNlcmllcztcbiAgICB9XG5cbiAgICBmaWx0ZXJTZXJpZXMoc2VyaWVzLCBjYXRlZ29yeUF4aXMpIHtcbiAgICAgICAgY29uc3QgZGF0YUxlbmd0aCA9IChzZXJpZXMuZGF0YSB8fCB7fSkubGVuZ3RoO1xuICAgICAgICBjYXRlZ29yeUF4aXMuX3Nlcmllc01heCA9IE1hdGgubWF4KGNhdGVnb3J5QXhpcy5fc2VyaWVzTWF4IHx8IDAsIGRhdGFMZW5ndGgpO1xuXG4gICAgICAgIGlmICghKGlzTnVtYmVyKGNhdGVnb3J5QXhpcy5vcHRpb25zLm1pbikgfHwgaXNOdW1iZXIoY2F0ZWdvcnlBeGlzLm9wdGlvbnMubWF4KSkpIHtcbiAgICAgICAgICAgIHJldHVybiBzZXJpZXM7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByYW5nZSA9IGNhdGVnb3J5QXhpcy5jdXJyZW50UmFuZ2VJbmRpY2VzKCk7XG4gICAgICAgIGNvbnN0IG91dE9mUmFuZ2VQb2ludHMgPSBpbkFycmF5KHNlcmllcy50eXBlLCBPVVRfT0ZfUkFOR0VfU0VSSUVTKTtcbiAgICAgICAgY29uc3QgY3VycmVudFNlcmllcyA9IGRlZXBFeHRlbmQoe30sIHNlcmllcyk7XG5cbiAgICAgICAgY3VycmVudFNlcmllcy5kYXRhID0gKGN1cnJlbnRTZXJpZXMuZGF0YSB8fCBbXSkuc2xpY2UocmFuZ2UubWluLCByYW5nZS5tYXggKyAxKTtcblxuICAgICAgICBpZiAob3V0T2ZSYW5nZVBvaW50cykge1xuICAgICAgICAgICAgY3JlYXRlT3V0T2ZSYW5nZVBvaW50cyhjdXJyZW50U2VyaWVzLCByYW5nZSwgZGF0YUxlbmd0aCwgKGlkeCkgPT4gKHtcbiAgICAgICAgICAgICAgICBpdGVtOiBzZXJpZXMuZGF0YVtpZHhdLFxuICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeUF4aXMuY2F0ZWdvcnlBdChpZHgsIHRydWUpLFxuICAgICAgICAgICAgICAgIGNhdGVnb3J5SXg6IGlkeCAtIHJhbmdlLm1pblxuICAgICAgICAgICAgfSksIChpZHgpID0+IGRlZmluZWQoc2VyaWVzLmRhdGFbaWR4XSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGN1cnJlbnRTZXJpZXM7XG4gICAgfVxuXG4gICAgY2xlYXJTZXJpZXNQb2ludHNDYWNoZSgpIHtcbiAgICAgICAgdGhpcy5fc2VyaWVzUG9pbnRzQ2FjaGUgPSB7fTtcbiAgICB9XG5cbiAgICBzZXJpZXNTb3VyY2VQb2ludHMoc2VyaWVzLCBjYXRlZ29yeUF4aXMpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gYCR7IHNlcmllcy5pbmRleCB9OyR7IGNhdGVnb3J5QXhpcy5jYXRlZ29yaWVzSGFzaCgpIH1gO1xuICAgICAgICBpZiAodGhpcy5fc2VyaWVzUG9pbnRzQ2FjaGVba2V5XSkge1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudFBvaW50c0NhY2hlW2tleV0gPSB0aGlzLl9zZXJpZXNQb2ludHNDYWNoZVtrZXldO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Nlcmllc1BvaW50c0NhY2hlW2tleV07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBheGlzT3B0aW9ucyA9IGNhdGVnb3J5QXhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBzcmNDYXRlZ29yaWVzID0gYXhpc09wdGlvbnMuc3JjQ2F0ZWdvcmllcztcbiAgICAgICAgY29uc3QgZGF0ZUF4aXMgPSBlcXVhbHNJZ25vcmVDYXNlKGF4aXNPcHRpb25zLnR5cGUsIERBVEUpO1xuICAgICAgICBjb25zdCBzcmNEYXRhID0gc2VyaWVzLmRhdGE7XG4gICAgICAgIGNvbnN0IGdldEZuID0gZGF0ZUF4aXMgPyBnZXREYXRlRmllbGQgOiBnZXRGaWVsZDtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIGlmICghZGF0ZUF4aXMpIHtcbiAgICAgICAgICAgIGNhdGVnb3J5QXhpcy5tYXBDYXRlZ29yaWVzKCk7Ly9maXhlcyBtYWpvciBwZXJmb3JtYW5jZSBpc3N1ZSBjYXVzZWQgYnkgc2VhcmNoaW5nIGZvciB0aGUgaW5kZXggZm9yIGxhcmdlIGRhdGFcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHNyY0RhdGEubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgbGV0IGNhdGVnb3J5O1xuICAgICAgICAgICAgaWYgKHNlcmllcy5jYXRlZ29yeUZpZWxkKSB7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnkgPSBnZXRGbihzZXJpZXMuY2F0ZWdvcnlGaWVsZCwgc3JjRGF0YVtpZHhdLCB0aGlzLmNoYXJ0U2VydmljZS5pbnRsKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnkgPSBzcmNDYXRlZ29yaWVzW2lkeF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkZWZpbmVkKGNhdGVnb3J5KSAmJiBjYXRlZ29yeSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5SXggPSBjYXRlZ29yeUF4aXMudG90YWxJbmRleChjYXRlZ29yeSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2NhdGVnb3J5SXhdID0gcmVzdWx0W2NhdGVnb3J5SXhdIHx8IHsgaXRlbXM6IFtdLCBjYXRlZ29yeTogY2F0ZWdvcnkgfTtcbiAgICAgICAgICAgICAgICByZXN1bHRbY2F0ZWdvcnlJeF0uaXRlbXMucHVzaChpZHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY3VycmVudFBvaW50c0NhY2hlW2tleV0gPSByZXN1bHQ7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBhZ2dyZWdhdGVTZXJpZXMoc2VyaWVzLCBjYXRlZ29yeUF4aXMpIHtcbiAgICAgICAgY29uc3Qgc3JjRGF0YSA9IHNlcmllcy5kYXRhO1xuICAgICAgICBpZiAoIXNyY0RhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VyaWVzO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3JjUG9pbnRzID0gdGhpcy5zZXJpZXNTb3VyY2VQb2ludHMoc2VyaWVzLCBjYXRlZ29yeUF4aXMpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBkZWVwRXh0ZW5kKHt9LCBzZXJpZXMpO1xuICAgICAgICBjb25zdCBhZ2dyZWdhdG9yID0gbmV3IFNlcmllc0FnZ3JlZ2F0b3IoZGVlcEV4dGVuZCh7fSwgc2VyaWVzKSwgU2VyaWVzQmluZGVyLmN1cnJlbnQsIERlZmF1bHRBZ2dyZWdhdGVzLmN1cnJlbnQpO1xuICAgICAgICBjb25zdCBkYXRhID0gcmVzdWx0LmRhdGEgPSBbXTtcbiAgICAgICAgY29uc3QgZGF0YUl0ZW1zID0gY2F0ZWdvcnlBeGlzLm9wdGlvbnMuZGF0YUl0ZW1zIHx8IFtdO1xuXG4gICAgICAgIGNvbnN0IHJhbmdlID0gY2F0ZWdvcnlBeGlzLmN1cnJlbnRSYW5nZUluZGljZXMoKTtcbiAgICAgICAgY29uc3QgY2F0ZWdvcnlJdGVtID0gKGlkeCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnlJZHggPSBpZHggLSByYW5nZS5taW47XG4gICAgICAgICAgICBsZXQgcG9pbnQgPSBzcmNQb2ludHNbaWR4XTtcbiAgICAgICAgICAgIGlmICghcG9pbnQpIHtcbiAgICAgICAgICAgICAgICBwb2ludCA9IHNyY1BvaW50c1tpZHhdID0ge307XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBvaW50LmNhdGVnb3J5SXggPSBjYXRlZ29yeUlkeDtcblxuICAgICAgICAgICAgaWYgKCFwb2ludC5pdGVtKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnkgPSBjYXRlZ29yeUF4aXMuY2F0ZWdvcnlBdChpZHgsIHRydWUpO1xuICAgICAgICAgICAgICAgIHBvaW50LmNhdGVnb3J5ID0gY2F0ZWdvcnk7XG4gICAgICAgICAgICAgICAgcG9pbnQuaXRlbSA9IGFnZ3JlZ2F0b3IuYWdncmVnYXRlUG9pbnRzKHBvaW50Lml0ZW1zLCBjYXRlZ29yeSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBwb2ludDtcbiAgICAgICAgfTtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSByYW5nZS5taW47IGlkeCA8PSByYW5nZS5tYXg7IGlkeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBwb2ludCA9IGNhdGVnb3J5SXRlbShpZHgpO1xuICAgICAgICAgICAgZGF0YVtwb2ludC5jYXRlZ29yeUl4XSA9IHBvaW50Lml0ZW07XG5cbiAgICAgICAgICAgIGlmIChwb2ludC5pdGVtcyAmJiBwb2ludC5pdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBkYXRhSXRlbXNbcG9pbnQuY2F0ZWdvcnlJeF0gPSBwb2ludC5pdGVtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluQXJyYXkocmVzdWx0LnR5cGUsIE9VVF9PRl9SQU5HRV9TRVJJRVMpKSB7XG4gICAgICAgICAgICBjcmVhdGVPdXRPZlJhbmdlUG9pbnRzKHJlc3VsdCwgcmFuZ2UsIGNhdGVnb3J5QXhpcy50b3RhbENvdW50KCksIGNhdGVnb3J5SXRlbSwgKGlkeCkgPT4gc3JjUG9pbnRzW2lkeF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY2F0ZWdvcnlBeGlzLm9wdGlvbnMuZGF0YUl0ZW1zID0gZGF0YUl0ZW1zO1xuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgYXBwZW5kQ2hhcnQoY2hhcnQsIHBhbmUpIHtcbiAgICAgICAgY29uc3Qgc2VyaWVzID0gY2hhcnQub3B0aW9ucy5zZXJpZXM7XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5QXhpcyA9IHRoaXMuc2VyaWVzQ2F0ZWdvcnlBeGlzKHNlcmllc1swXSk7XG4gICAgICAgIGxldCBjYXRlZ29yaWVzID0gY2F0ZWdvcnlBeGlzLm9wdGlvbnMuY2F0ZWdvcmllcztcbiAgICAgICAgbGV0IGNhdGVnb3JpZXNUb0FkZCA9IE1hdGgubWF4KDAsIGNhdGVnb3JpZXNDb3VudChzZXJpZXMpIC0gY2F0ZWdvcmllcy5sZW5ndGgpO1xuXG4gICAgICAgIGlmIChjYXRlZ29yaWVzVG9BZGQgPiAwKSB7Ly9jb25zaWRlciBzZXR0aW5nIGFuIG9wdGlvbiB0byBheGlzIGluc3RlYWQgb2YgYWRkaW5nIGZha2UgY2F0ZWdvcmllc1xuICAgICAgICAgICAgY2F0ZWdvcmllcyA9IGNhdGVnb3J5QXhpcy5vcHRpb25zLmNhdGVnb3JpZXMgPSBjYXRlZ29yeUF4aXMub3B0aW9ucy5jYXRlZ29yaWVzLnNsaWNlKDApO1xuICAgICAgICAgICAgd2hpbGUgKGNhdGVnb3JpZXNUb0FkZC0tKSB7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllcy5wdXNoKFwiXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52YWx1ZUF4aXNSYW5nZVRyYWNrZXIudXBkYXRlKGNoYXJ0LnZhbHVlQXhpc1Jhbmdlcyk7XG5cbiAgICAgICAgc3VwZXIuYXBwZW5kQ2hhcnQoY2hhcnQsIHBhbmUpO1xuICAgIH1cblxuICAgIC8vIFRPRE86IFJlZmFjdG9yLCBvcHRpb25hbGx5IHVzZSBzZXJpZXMucGFuZSBvcHRpb25cbiAgICBzZXJpZXNQYW5lTmFtZShzZXJpZXMpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgYXhpc05hbWUgPSBzZXJpZXMuYXhpcztcbiAgICAgICAgY29uc3QgYXhpc09wdGlvbnMgPSBbXS5jb25jYXQob3B0aW9ucy52YWx1ZUF4aXMpO1xuICAgICAgICBjb25zdCBheGlzID0gZ3JlcChheGlzT3B0aW9ucywgZnVuY3Rpb24oYSkgeyByZXR1cm4gYS5uYW1lID09PSBheGlzTmFtZTsgfSlbMF07XG4gICAgICAgIGNvbnN0IHBhbmVzID0gb3B0aW9ucy5wYW5lcyB8fCBbIHt9IF07XG4gICAgICAgIGNvbnN0IGRlZmF1bHRQYW5lTmFtZSA9IChwYW5lc1swXSB8fCB7fSkubmFtZSB8fCBcImRlZmF1bHRcIjtcbiAgICAgICAgY29uc3QgcGFuZU5hbWUgPSAoYXhpcyB8fCB7fSkucGFuZSB8fCBkZWZhdWx0UGFuZU5hbWU7XG5cbiAgICAgICAgcmV0dXJuIHBhbmVOYW1lO1xuICAgIH1cblxuICAgIHNlcmllc0NhdGVnb3J5QXhpcyhzZXJpZXMpIHtcbiAgICAgICAgY29uc3QgYXhpc05hbWUgPSBzZXJpZXMuY2F0ZWdvcnlBeGlzO1xuICAgICAgICBjb25zdCBheGlzID0gYXhpc05hbWUgPyB0aGlzLm5hbWVkQ2F0ZWdvcnlBeGVzW2F4aXNOYW1lXSA6IHRoaXMuY2F0ZWdvcnlBeGlzO1xuXG4gICAgICAgIGlmICghYXhpcykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGxvY2F0ZSBjYXRlZ29yeSBheGlzIHdpdGggbmFtZSBcIiArIGF4aXNOYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBheGlzO1xuICAgIH1cblxuICAgIHN0YWNrYWJsZUNoYXJ0T3B0aW9ucyhmaXJzdFNlcmllcywgcGFuZSkge1xuICAgICAgICBjb25zdCBzdGFjayA9IGZpcnN0U2VyaWVzLnN0YWNrO1xuICAgICAgICBjb25zdCBpc1N0YWNrZWQxMDAgPSBzdGFjayAmJiBzdGFjay50eXBlID09PSBcIjEwMCVcIjtcbiAgICAgICAgY29uc3QgY2xpcCA9IHBhbmUub3B0aW9ucy5jbGlwO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpc1N0YWNrZWQ6IHN0YWNrLFxuICAgICAgICAgICAgaXNTdGFja2VkMTAwOiBpc1N0YWNrZWQxMDAsXG4gICAgICAgICAgICBjbGlwOiBjbGlwXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZ3JvdXBTZXJpZXNCeUNhdGVnb3J5QXhpcyhzZXJpZXMpIHtcbiAgICAgICAgY29uc3QgY2F0ZWdvcnlBeGVzID0gW107XG4gICAgICAgIGNvbnN0IHVuaXF1ZSA9IHt9O1xuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBzZXJpZXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IHNlcmllc1tpZHhdLmNhdGVnb3J5QXhpcyB8fCBcIiQkZGVmYXVsdCQkXCI7XG4gICAgICAgICAgICBpZiAoIXVuaXF1ZS5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgICAgICAgIHVuaXF1ZVtuYW1lXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnlBeGVzLnB1c2gobmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBncm91cHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgYXhpc0l4ID0gMDsgYXhpc0l4IDwgY2F0ZWdvcnlBeGVzLmxlbmd0aDsgYXhpc0l4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF4aXMgPSBjYXRlZ29yeUF4ZXNbYXhpc0l4XTtcbiAgICAgICAgICAgIGNvbnN0IGF4aXNTZXJpZXMgPSBncm91cFNlcmllcyhzZXJpZXMsIGF4aXMsIGF4aXNJeCk7XG4gICAgICAgICAgICBpZiAoYXhpc1Nlcmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZ3JvdXBzLnB1c2goYXhpc1Nlcmllcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZ3JvdXBzO1xuICAgIH1cblxuICAgIGNyZWF0ZUJhckNoYXJ0KHNlcmllcywgcGFuZSkge1xuICAgICAgICBpZiAoc2VyaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZmlyc3RTZXJpZXMgPSBzZXJpZXNbMF07XG4gICAgICAgIGNvbnN0IGJhckNoYXJ0ID0gbmV3IEJhckNoYXJ0KHRoaXMsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgc2VyaWVzOiBzZXJpZXMsXG4gICAgICAgICAgICBpbnZlcnRBeGVzOiB0aGlzLmludmVydEF4ZXMsXG4gICAgICAgICAgICBnYXA6IGZpcnN0U2VyaWVzLmdhcCxcbiAgICAgICAgICAgIHNwYWNpbmc6IGZpcnN0U2VyaWVzLnNwYWNpbmdcbiAgICAgICAgfSwgdGhpcy5zdGFja2FibGVDaGFydE9wdGlvbnMoZmlyc3RTZXJpZXMsIHBhbmUpKSk7XG5cbiAgICAgICAgdGhpcy5hcHBlbmRDaGFydChiYXJDaGFydCwgcGFuZSk7XG4gICAgfVxuXG4gICAgY3JlYXRlUmFuZ2VCYXJDaGFydChzZXJpZXMsIHBhbmUpIHtcbiAgICAgICAgaWYgKHNlcmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpcnN0U2VyaWVzID0gc2VyaWVzWzBdO1xuICAgICAgICBjb25zdCByYW5nZUNvbHVtbkNoYXJ0ID0gbmV3IFJhbmdlQmFyQ2hhcnQodGhpcywge1xuICAgICAgICAgICAgc2VyaWVzOiBzZXJpZXMsXG4gICAgICAgICAgICBpbnZlcnRBeGVzOiB0aGlzLmludmVydEF4ZXMsXG4gICAgICAgICAgICBnYXA6IGZpcnN0U2VyaWVzLmdhcCxcbiAgICAgICAgICAgIHNwYWNpbmc6IGZpcnN0U2VyaWVzLnNwYWNpbmdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5hcHBlbmRDaGFydChyYW5nZUNvbHVtbkNoYXJ0LCBwYW5lKTtcbiAgICB9XG5cbiAgICBjcmVhdGVCdWxsZXRDaGFydChzZXJpZXMsIHBhbmUpIHtcbiAgICAgICAgaWYgKHNlcmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpcnN0U2VyaWVzID0gc2VyaWVzWzBdO1xuICAgICAgICBjb25zdCBidWxsZXRDaGFydCA9IG5ldyBCdWxsZXRDaGFydCh0aGlzLCB7XG4gICAgICAgICAgICBzZXJpZXM6IHNlcmllcyxcbiAgICAgICAgICAgIGludmVydEF4ZXM6IHRoaXMuaW52ZXJ0QXhlcyxcbiAgICAgICAgICAgIGdhcDogZmlyc3RTZXJpZXMuZ2FwLFxuICAgICAgICAgICAgc3BhY2luZzogZmlyc3RTZXJpZXMuc3BhY2luZyxcbiAgICAgICAgICAgIGNsaXA6IHBhbmUub3B0aW9ucy5jbGlwXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYXBwZW5kQ2hhcnQoYnVsbGV0Q2hhcnQsIHBhbmUpO1xuICAgIH1cblxuICAgIGNyZWF0ZUxpbmVDaGFydChzZXJpZXMsIHBhbmUpIHtcbiAgICAgICAgaWYgKHNlcmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpcnN0U2VyaWVzID0gc2VyaWVzWzBdO1xuICAgICAgICBjb25zdCBsaW5lQ2hhcnQgPSBuZXcgTGluZUNoYXJ0KHRoaXMsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgaW52ZXJ0QXhlczogdGhpcy5pbnZlcnRBeGVzLFxuICAgICAgICAgICAgc2VyaWVzOiBzZXJpZXNcbiAgICAgICAgfSwgdGhpcy5zdGFja2FibGVDaGFydE9wdGlvbnMoZmlyc3RTZXJpZXMsIHBhbmUpKSk7XG5cbiAgICAgICAgdGhpcy5hcHBlbmRDaGFydChsaW5lQ2hhcnQsIHBhbmUpO1xuICAgIH1cblxuICAgIGNyZWF0ZUFyZWFDaGFydChzZXJpZXMsIHBhbmUpIHtcbiAgICAgICAgaWYgKHNlcmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpcnN0U2VyaWVzID0gc2VyaWVzWzBdO1xuICAgICAgICBjb25zdCBhcmVhQ2hhcnQgPSBuZXcgQXJlYUNoYXJ0KHRoaXMsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgaW52ZXJ0QXhlczogdGhpcy5pbnZlcnRBeGVzLFxuICAgICAgICAgICAgc2VyaWVzOiBzZXJpZXNcbiAgICAgICAgfSwgdGhpcy5zdGFja2FibGVDaGFydE9wdGlvbnMoZmlyc3RTZXJpZXMsIHBhbmUpKSk7XG5cbiAgICAgICAgdGhpcy5hcHBlbmRDaGFydChhcmVhQ2hhcnQsIHBhbmUpO1xuICAgIH1cblxuICAgIGNyZWF0ZVJhbmdlQXJlYUNoYXJ0KHNlcmllcywgcGFuZSkge1xuICAgICAgICBpZiAoc2VyaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmFuZ2VBcmVhQ2hhcnQgPSBuZXcgUmFuZ2VBcmVhQ2hhcnQodGhpcywge1xuICAgICAgICAgICAgaW52ZXJ0QXhlczogdGhpcy5pbnZlcnRBeGVzLFxuICAgICAgICAgICAgc2VyaWVzOiBzZXJpZXMsXG4gICAgICAgICAgICBjbGlwOiBwYW5lLm9wdGlvbnMuY2xpcFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmFwcGVuZENoYXJ0KHJhbmdlQXJlYUNoYXJ0LCBwYW5lKTtcbiAgICB9XG5cbiAgICBjcmVhdGVPSExDQ2hhcnQoc2VyaWVzLCBwYW5lKSB7XG4gICAgICAgIGlmIChzZXJpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaXJzdFNlcmllcyA9IHNlcmllc1swXTtcbiAgICAgICAgY29uc3QgY2hhcnQgPSBuZXcgT0hMQ0NoYXJ0KHRoaXMsIHtcbiAgICAgICAgICAgIGludmVydEF4ZXM6IHRoaXMuaW52ZXJ0QXhlcyxcbiAgICAgICAgICAgIGdhcDogZmlyc3RTZXJpZXMuZ2FwLFxuICAgICAgICAgICAgc2VyaWVzOiBzZXJpZXMsXG4gICAgICAgICAgICBzcGFjaW5nOiBmaXJzdFNlcmllcy5zcGFjaW5nLFxuICAgICAgICAgICAgY2xpcDogcGFuZS5vcHRpb25zLmNsaXBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5hcHBlbmRDaGFydChjaGFydCwgcGFuZSk7XG4gICAgfVxuXG4gICAgY3JlYXRlQ2FuZGxlc3RpY2tDaGFydChzZXJpZXMsIHBhbmUpIHtcbiAgICAgICAgaWYgKHNlcmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpcnN0U2VyaWVzID0gc2VyaWVzWzBdO1xuICAgICAgICBjb25zdCBjaGFydCA9IG5ldyBDYW5kbGVzdGlja0NoYXJ0KHRoaXMsIHtcbiAgICAgICAgICAgIGludmVydEF4ZXM6IHRoaXMuaW52ZXJ0QXhlcyxcbiAgICAgICAgICAgIGdhcDogZmlyc3RTZXJpZXMuZ2FwLFxuICAgICAgICAgICAgc2VyaWVzOiBzZXJpZXMsXG4gICAgICAgICAgICBzcGFjaW5nOiBmaXJzdFNlcmllcy5zcGFjaW5nLFxuICAgICAgICAgICAgY2xpcDogcGFuZS5vcHRpb25zLmNsaXBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5hcHBlbmRDaGFydChjaGFydCwgcGFuZSk7XG4gICAgfVxuXG4gICAgY3JlYXRlQm94UGxvdENoYXJ0KHNlcmllcywgcGFuZSkge1xuICAgICAgICBpZiAoc2VyaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZmlyc3RTZXJpZXMgPSBzZXJpZXNbMF07XG4gICAgICAgIGNvbnN0IGNoYXJ0ID0gbmV3IEJveFBsb3RDaGFydCh0aGlzLCB7XG4gICAgICAgICAgICBpbnZlcnRBeGVzOiB0aGlzLmludmVydEF4ZXMsXG4gICAgICAgICAgICBnYXA6IGZpcnN0U2VyaWVzLmdhcCxcbiAgICAgICAgICAgIHNlcmllczogc2VyaWVzLFxuICAgICAgICAgICAgc3BhY2luZzogZmlyc3RTZXJpZXMuc3BhY2luZyxcbiAgICAgICAgICAgIGNsaXA6IHBhbmUub3B0aW9ucy5jbGlwXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYXBwZW5kQ2hhcnQoY2hhcnQsIHBhbmUpO1xuICAgIH1cblxuICAgIGNyZWF0ZVdhdGVyZmFsbENoYXJ0KHNlcmllcywgcGFuZSkge1xuICAgICAgICBpZiAoc2VyaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZmlyc3RTZXJpZXMgPSBzZXJpZXNbMF07XG4gICAgICAgIGNvbnN0IHdhdGVyZmFsbENoYXJ0ID0gbmV3IFdhdGVyZmFsbENoYXJ0KHRoaXMsIHtcbiAgICAgICAgICAgIHNlcmllczogc2VyaWVzLFxuICAgICAgICAgICAgaW52ZXJ0QXhlczogdGhpcy5pbnZlcnRBeGVzLFxuICAgICAgICAgICAgZ2FwOiBmaXJzdFNlcmllcy5nYXAsXG4gICAgICAgICAgICBzcGFjaW5nOiBmaXJzdFNlcmllcy5zcGFjaW5nXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYXBwZW5kQ2hhcnQod2F0ZXJmYWxsQ2hhcnQsIHBhbmUpO1xuICAgIH1cblxuICAgIGF4aXNSZXF1aXJlc1JvdW5kaW5nKGNhdGVnb3J5QXhpc05hbWUsIGNhdGVnb3J5QXhpc0luZGV4KSB7XG4gICAgICAgIGNvbnN0IGNlbnRlcmVkU2VyaWVzID0gZmlsdGVyU2VyaWVzQnlUeXBlKHRoaXMuc2VyaWVzLCBFUVVBTExZX1NQQUNFRF9TRVJJRVMpO1xuXG4gICAgICAgIGZvciAobGV0IHNlcmllc0l4ID0gMDsgc2VyaWVzSXggPCB0aGlzLnNlcmllcy5sZW5ndGg7IHNlcmllc0l4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZXJpZXMgPSB0aGlzLnNlcmllc1tzZXJpZXNJeF07XG4gICAgICAgICAgICBpZiAoaW5BcnJheShjdXJyZW50U2VyaWVzLnR5cGUsIEFSRUFfU0VSSUVTKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmUgPSBjdXJyZW50U2VyaWVzLmxpbmU7XG4gICAgICAgICAgICAgICAgaWYgKGxpbmUgJiYgbGluZS5zdHlsZSA9PT0gU1RFUCkge1xuICAgICAgICAgICAgICAgICAgICBjZW50ZXJlZFNlcmllcy5wdXNoKGN1cnJlbnRTZXJpZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IHNlcmllc0l4ID0gMDsgc2VyaWVzSXggPCBjZW50ZXJlZFNlcmllcy5sZW5ndGg7IHNlcmllc0l4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IHNlcmllc0F4aXMgPSBjZW50ZXJlZFNlcmllc1tzZXJpZXNJeF0uY2F0ZWdvcnlBeGlzIHx8IFwiXCI7XG4gICAgICAgICAgICBpZiAoc2VyaWVzQXhpcyA9PT0gY2F0ZWdvcnlBeGlzTmFtZSB8fCAoIXNlcmllc0F4aXMgJiYgY2F0ZWdvcnlBeGlzSW5kZXggPT09IDApKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZ2dyZWdhdGVkQXhpcyhjYXRlZ29yeUF4aXNOYW1lLCBjYXRlZ29yeUF4aXNJbmRleCkge1xuICAgICAgICBjb25zdCBzZXJpZXMgPSB0aGlzLnNlcmllcztcblxuICAgICAgICBmb3IgKGxldCBzZXJpZXNJeCA9IDA7IHNlcmllc0l4IDwgc2VyaWVzLmxlbmd0aDsgc2VyaWVzSXgrKykge1xuICAgICAgICAgICAgY29uc3Qgc2VyaWVzQXhpcyA9IHNlcmllc1tzZXJpZXNJeF0uY2F0ZWdvcnlBeGlzIHx8IFwiXCI7XG4gICAgICAgICAgICBpZiAoKHNlcmllc0F4aXMgPT09IGNhdGVnb3J5QXhpc05hbWUgfHwgKCFzZXJpZXNBeGlzICYmIGNhdGVnb3J5QXhpc0luZGV4ID09PSAwKSkgJiYgc2VyaWVzW3Nlcmllc0l4XS5jYXRlZ29yeUZpZWxkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVDYXRlZ29yeUF4ZXNMYWJlbHMoKSB7XG4gICAgICAgIGNvbnN0IGF4ZXMgPSB0aGlzLmF4ZXM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGF4ZXNbaV0gaW5zdGFuY2VvZiBDYXRlZ29yeUF4aXMpIHtcbiAgICAgICAgICAgICAgICBheGVzW2ldLmNyZWF0ZUxhYmVscygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlQ2F0ZWdvcnlBeGVzKHBhbmVzKSB7XG4gICAgICAgIGNvbnN0IGludmVydEF4ZXMgPSB0aGlzLmludmVydEF4ZXM7XG4gICAgICAgIGNvbnN0IGRlZmluaXRpb25zID0gW10uY29uY2F0KHRoaXMub3B0aW9ucy5jYXRlZ29yeUF4aXMpO1xuICAgICAgICBjb25zdCBheGVzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWZpbml0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGF4aXNPcHRpb25zID0gZGVmaW5pdGlvbnNbaV07XG4gICAgICAgICAgICBjb25zdCBheGlzUGFuZSA9IHRoaXMuZmluZFBhbmUoYXhpc09wdGlvbnMucGFuZSk7XG5cbiAgICAgICAgICAgIGlmIChpbkFycmF5KGF4aXNQYW5lLCBwYW5lcykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IG5hbWUsIGNhdGVnb3JpZXMgPSBbXSB9ID0gYXhpc09wdGlvbnM7XG4gICAgICAgICAgICAgICAgYXhpc09wdGlvbnMgPSBkZWVwRXh0ZW5kKHtcbiAgICAgICAgICAgICAgICAgICAgdmVydGljYWw6IGludmVydEF4ZXMsXG4gICAgICAgICAgICAgICAgICAgIHJldmVyc2U6ICFpbnZlcnRBeGVzICYmIHRoaXMuY2hhcnRTZXJ2aWNlLnJ0bCxcbiAgICAgICAgICAgICAgICAgICAgYXhpc0Nyb3NzaW5nVmFsdWU6IGludmVydEF4ZXMgPyBNQVhfVkFMVUUgOiAwXG4gICAgICAgICAgICAgICAgfSwgYXhpc09wdGlvbnMpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFkZWZpbmVkKGF4aXNPcHRpb25zLmp1c3RpZmllZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYXhpc09wdGlvbnMuanVzdGlmaWVkID0gdGhpcy5pc0p1c3RpZmllZCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmF4aXNSZXF1aXJlc1JvdW5kaW5nKG5hbWUsIGkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGF4aXNPcHRpb25zLmp1c3RpZmllZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBjYXRlZ29yeUF4aXM7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNEYXRlQXhpcyhheGlzT3B0aW9ucywgY2F0ZWdvcmllc1swXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlBeGlzID0gbmV3IERhdGVDYXRlZ29yeUF4aXMoYXhpc09wdGlvbnMsIHRoaXMuY2hhcnRTZXJ2aWNlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeUF4aXMgPSBuZXcgQ2F0ZWdvcnlBeGlzKGF4aXNPcHRpb25zLCB0aGlzLmNoYXJ0U2VydmljZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGVmaW5pdGlvbnNbaV0uY2F0ZWdvcmllcyA9IGNhdGVnb3J5QXhpcy5vcHRpb25zLnNyY0NhdGVnb3JpZXM7XG5cbiAgICAgICAgICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5uYW1lZENhdGVnb3J5QXhlc1tuYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYXRlZ29yeSBheGlzIHdpdGggbmFtZSAkeyBuYW1lIH0gaXMgYWxyZWFkeSBkZWZpbmVkYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uYW1lZENhdGVnb3J5QXhlc1tuYW1lXSA9IGNhdGVnb3J5QXhpcztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjYXRlZ29yeUF4aXMuYXhpc0luZGV4ID0gaTtcbiAgICAgICAgICAgICAgICBheGVzLnB1c2goY2F0ZWdvcnlBeGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZEF4aXMoY2F0ZWdvcnlBeGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHByaW1hcnlBeGlzID0gdGhpcy5jYXRlZ29yeUF4aXMgfHwgYXhlc1swXTtcbiAgICAgICAgdGhpcy5jYXRlZ29yeUF4aXMgPSBwcmltYXJ5QXhpcztcblxuICAgICAgICBpZiAoaW52ZXJ0QXhlcykge1xuICAgICAgICAgICAgdGhpcy5heGlzWSA9IHByaW1hcnlBeGlzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5heGlzWCA9IHByaW1hcnlBeGlzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNKdXN0aWZpZWQoKSB7XG4gICAgICAgIGNvbnN0IHNlcmllcyA9IHRoaXMuc2VyaWVzO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50U2VyaWVzID0gc2VyaWVzW2ldO1xuICAgICAgICAgICAgaWYgKCFpbkFycmF5KGN1cnJlbnRTZXJpZXMudHlwZSwgQVJFQV9TRVJJRVMpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgY3JlYXRlVmFsdWVBeGVzKHBhbmVzKSB7XG4gICAgICAgIGNvbnN0IHRyYWNrZXIgPSB0aGlzLnZhbHVlQXhpc1JhbmdlVHJhY2tlcjtcbiAgICAgICAgY29uc3QgZGVmYXVsdFJhbmdlID0gdHJhY2tlci5xdWVyeSgpO1xuICAgICAgICBjb25zdCBkZWZpbml0aW9ucyA9IFtdLmNvbmNhdCh0aGlzLm9wdGlvbnMudmFsdWVBeGlzKTtcbiAgICAgICAgY29uc3QgaW52ZXJ0QXhlcyA9IHRoaXMuaW52ZXJ0QXhlcztcbiAgICAgICAgY29uc3QgYmFzZU9wdGlvbnMgPSB7IHZlcnRpY2FsOiAhaW52ZXJ0QXhlcywgcmV2ZXJzZTogaW52ZXJ0QXhlcyAmJiB0aGlzLmNoYXJ0U2VydmljZS5ydGwgfTtcbiAgICAgICAgY29uc3QgYXhlcyA9IFtdO1xuXG4gICAgICAgIGlmICh0aGlzLnN0YWNrMTAwKSB7XG4gICAgICAgICAgICBiYXNlT3B0aW9ucy5yb3VuZFRvTWFqb3JVbml0ID0gZmFsc2U7XG4gICAgICAgICAgICBiYXNlT3B0aW9ucy5sYWJlbHMgPSB7IGZvcm1hdDogXCJQMFwiIH07XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlZmluaXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBheGlzT3B0aW9ucyA9IGRlZmluaXRpb25zW2ldO1xuICAgICAgICAgICAgY29uc3QgYXhpc1BhbmUgPSB0aGlzLmZpbmRQYW5lKGF4aXNPcHRpb25zLnBhbmUpO1xuXG4gICAgICAgICAgICBpZiAoaW5BcnJheShheGlzUGFuZSwgcGFuZXMpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IGF4aXNPcHRpb25zLm5hbWU7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVmYXVsdEF4aXNSYW5nZSA9IGVxdWFsc0lnbm9yZUNhc2UoYXhpc09wdGlvbnMudHlwZSwgTE9HQVJJVEhNSUMpID8geyBtaW46IDAuMSwgbWF4OiAxIH0gOiB7IG1pbjogMCwgbWF4OiAxIH07XG4gICAgICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSB0cmFja2VyLnF1ZXJ5KG5hbWUpIHx8IGRlZmF1bHRSYW5nZSB8fCBkZWZhdWx0QXhpc1JhbmdlO1xuXG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IDAgJiYgcmFuZ2UgJiYgZGVmYXVsdFJhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLm1pbiA9IE1hdGgubWluKHJhbmdlLm1pbiwgZGVmYXVsdFJhbmdlLm1pbik7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLm1heCA9IE1hdGgubWF4KHJhbmdlLm1heCwgZGVmYXVsdFJhbmdlLm1heCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IGF4aXNUeXBlO1xuICAgICAgICAgICAgICAgIGlmIChlcXVhbHNJZ25vcmVDYXNlKGF4aXNPcHRpb25zLnR5cGUsIExPR0FSSVRITUlDKSkge1xuICAgICAgICAgICAgICAgICAgICBheGlzVHlwZSA9IExvZ2FyaXRobWljQXhpcztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBheGlzVHlwZSA9IE51bWVyaWNBeGlzO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlQXhpcyA9IG5ldyBheGlzVHlwZShyYW5nZS5taW4sIHJhbmdlLm1heCxcbiAgICAgICAgICAgICAgICAgICAgZGVlcEV4dGVuZCh7fSwgYmFzZU9wdGlvbnMsIGF4aXNPcHRpb25zKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFydFNlcnZpY2VcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubmFtZWRWYWx1ZUF4ZXNbbmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVmFsdWUgYXhpcyB3aXRoIG5hbWUgJHsgbmFtZSB9IGlzIGFscmVhZHkgZGVmaW5lZGApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmFtZWRWYWx1ZUF4ZXNbbmFtZV0gPSB2YWx1ZUF4aXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhbHVlQXhpcy5heGlzSW5kZXggPSBpO1xuXG4gICAgICAgICAgICAgICAgYXhlcy5wdXNoKHZhbHVlQXhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBlbmRBeGlzKHZhbHVlQXhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwcmltYXJ5QXhpcyA9IHRoaXMudmFsdWVBeGlzIHx8IGF4ZXNbMF07XG4gICAgICAgIHRoaXMudmFsdWVBeGlzID0gcHJpbWFyeUF4aXM7XG5cbiAgICAgICAgaWYgKGludmVydEF4ZXMpIHtcbiAgICAgICAgICAgIHRoaXMuYXhpc1ggPSBwcmltYXJ5QXhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYXhpc1kgPSBwcmltYXJ5QXhpcztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9kaXNwYXRjaEV2ZW50KGNoYXJ0LCBlLCBldmVudFR5cGUpIHtcbiAgICAgICAgY29uc3QgY29vcmRzID0gY2hhcnQuX2V2ZW50Q29vcmRpbmF0ZXMoZSk7XG4gICAgICAgIGNvbnN0IHBvaW50ID0gbmV3IFBvaW50KGNvb3Jkcy54LCBjb29yZHMueSk7XG4gICAgICAgIGNvbnN0IHBhbmUgPSB0aGlzLnBvaW50UGFuZShwb2ludCk7XG4gICAgICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBbXTtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gW107XG5cbiAgICAgICAgaWYgKCFwYW5lKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhbGxBeGVzID0gcGFuZS5heGVzO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbEF4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF4aXMgPSBhbGxBeGVzW2ldO1xuICAgICAgICAgICAgaWYgKGF4aXMuZ2V0VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBhcHBlbmRJZk5vdE51bGwodmFsdWVzLCBheGlzLmdldFZhbHVlKHBvaW50KSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFwcGVuZElmTm90TnVsbChjYXRlZ29yaWVzLCBheGlzLmdldENhdGVnb3J5KHBvaW50KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2F0ZWdvcmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGFwcGVuZElmTm90TnVsbChjYXRlZ29yaWVzLCB0aGlzLmNhdGVnb3J5QXhpcy5nZXRDYXRlZ29yeShwb2ludCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNhdGVnb3JpZXMubGVuZ3RoID4gMCAmJiB2YWx1ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY2hhcnQudHJpZ2dlcihldmVudFR5cGUsIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50OiBldmVudEVsZW1lbnQoZSksXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZSxcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogc2luZ2xlSXRlbU9yQXJyYXkoY2F0ZWdvcmllcyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHNpbmdsZUl0ZW1PckFycmF5KHZhbHVlcylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcG9pbnRQYW5lKHBvaW50KSB7XG4gICAgICAgIGNvbnN0IHBhbmVzID0gdGhpcy5wYW5lcztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50UGFuZSA9IHBhbmVzW2ldO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRQYW5lLmNvbnRlbnRCb3guY29udGFpbnNQb2ludChwb2ludCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudFBhbmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVBeGlzT3B0aW9ucyhheGlzLCBvcHRpb25zKSB7XG4gICAgICAgIHVwZGF0ZUF4aXNPcHRpb25zKHRoaXMub3B0aW9ucywgYXhpcywgb3B0aW9ucyk7XG4gICAgICAgIHVwZGF0ZUF4aXNPcHRpb25zKHRoaXMub3JpZ2luYWxPcHRpb25zLCBheGlzLCBvcHRpb25zKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUF4aXNPcHRpb25zKHRhcmdldE9wdGlvbnMsIGF4aXMsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBheGVzT3B0aW9ucyA9IGF4aXMgaW5zdGFuY2VvZiBDYXRlZ29yeUF4aXMgPyBbXS5jb25jYXQodGFyZ2V0T3B0aW9ucy5jYXRlZ29yeUF4aXMpIDogW10uY29uY2F0KHRhcmdldE9wdGlvbnMudmFsdWVBeGlzKTtcbiAgICBkZWVwRXh0ZW5kKGF4ZXNPcHRpb25zW2F4aXMuYXhpc0luZGV4XSwgb3B0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIGdyb3VwU2VyaWVzKHNlcmllcywgYXhpcywgYXhpc0l4KSB7XG4gICAgcmV0dXJuIGdyZXAoc2VyaWVzLCBmdW5jdGlvbihzKSB7XG4gICAgICAgIHJldHVybiAoYXhpc0l4ID09PSAwICYmICFzLmNhdGVnb3J5QXhpcykgfHwgKHMuY2F0ZWdvcnlBeGlzID09PSBheGlzKTtcbiAgICB9KTtcbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoQ2F0ZWdvcmljYWxQbG90QXJlYSwge1xuICAgIGNhdGVnb3J5QXhpczoge30sXG4gICAgdmFsdWVBeGlzOiB7fVxufSk7XG5cbmRlZXBFeHRlbmQoQ2F0ZWdvcmljYWxQbG90QXJlYS5wcm90b3R5cGUsIFBsb3RBcmVhRXZlbnRzTWl4aW4pO1xuXG5leHBvcnQgZGVmYXVsdCBDYXRlZ29yaWNhbFBsb3RBcmVhOyIsImltcG9ydCB7IENsYXNzIH0gZnJvbSAnLi4vY29tbW9uJztcblxuY2xhc3MgSGlnaGxpZ2h0IGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuX3BvaW50cyA9IFtdO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuX3BvaW50cyA9IFtdO1xuICAgIH1cblxuICAgIHNob3cocG9pbnRzKSB7XG4gICAgICAgIGNvbnN0IGFycmF5UG9pbnRzID0gW10uY29uY2F0KHBvaW50cyk7XG4gICAgICAgIHRoaXMuaGlkZSgpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXlQb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gYXJyYXlQb2ludHNbaV07XG4gICAgICAgICAgICBpZiAocG9pbnQgJiYgcG9pbnQudG9nZ2xlSGlnaGxpZ2h0ICYmIHBvaW50Lmhhc0hpZ2hsaWdodCgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGVQb2ludEhpZ2hsaWdodChwb2ludCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcG9pbnRzLnB1c2gocG9pbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdG9nZ2xlUG9pbnRIaWdobGlnaHQocG9pbnQsIHNob3cpIHtcbiAgICAgICAgY29uc3QgdG9nZ2xlSGFuZGxlciA9IChwb2ludC5vcHRpb25zLmhpZ2hsaWdodCB8fCB7fSkudG9nZ2xlO1xuICAgICAgICBpZiAodG9nZ2xlSGFuZGxlcikge1xuICAgICAgICAgICAgY29uc3QgZXZlbnRBcmdzID0ge1xuICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBwb2ludC5jYXRlZ29yeSxcbiAgICAgICAgICAgICAgICBzZXJpZXM6IHBvaW50LnNlcmllcyxcbiAgICAgICAgICAgICAgICBkYXRhSXRlbTogcG9pbnQuZGF0YUl0ZW0sXG4gICAgICAgICAgICAgICAgdmFsdWU6IHBvaW50LnZhbHVlLFxuICAgICAgICAgICAgICAgIHN0YWNrVmFsdWU6IHBvaW50LnN0YWNrVmFsdWUsXG4gICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQ6IHByZXZlbnREZWZhdWx0LFxuICAgICAgICAgICAgICAgIHZpc3VhbDogcG9pbnQuaGlnaGxpZ2h0VmlzdWFsKCksXG4gICAgICAgICAgICAgICAgc2hvdzogc2hvd1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRvZ2dsZUhhbmRsZXIoZXZlbnRBcmdzKTtcbiAgICAgICAgICAgIGlmICghZXZlbnRBcmdzLl9kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgICAgICAgcG9pbnQudG9nZ2xlSGlnaGxpZ2h0KHNob3cpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcG9pbnQudG9nZ2xlSGlnaGxpZ2h0KHNob3cpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGlkZSgpIHtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gdGhpcy5fcG9pbnRzO1xuICAgICAgICB3aGlsZSAocG9pbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy50b2dnbGVQb2ludEhpZ2hsaWdodChwb2ludHMucG9wKCksIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzSGlnaGxpZ2h0ZWQoZWxlbWVudCkge1xuICAgICAgICBjb25zdCBwb2ludHMgPSB0aGlzLl9wb2ludHM7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzW2ldO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQgPT09IHBvaW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBwcmV2ZW50RGVmYXVsdCgpIHtcbiAgICB0aGlzLl9kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgSGlnaGxpZ2h0OyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFjY2VwdEtleShlLCBtb3VzZUtleSkge1xuICAgIGNvbnN0IGtleSA9IChtb3VzZUtleSB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IGV2ZW50ID0gZS5ldmVudDtcbiAgICBjb25zdCBhY2NlcHQgPSAoa2V5ID09PSBcIm5vbmVcIiAmJiAhKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQuc2hpZnRLZXkgfHwgZXZlbnQuYWx0S2V5KSkgfHwgZXZlbnRba2V5ICsgXCJLZXlcIl07XG5cbiAgICByZXR1cm4gYWNjZXB0O1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvQ2hhcnRBeGlzUmFuZ2VzKGF4aXNSYW5nZXMpIHtcbiAgICBjb25zdCByYW5nZXMgPSB7fTtcbiAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBheGlzUmFuZ2VzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgY29uc3QgYXhpc1JhbmdlID0gYXhpc1Jhbmdlc1tpZHhdO1xuICAgICAgICBpZiAoYXhpc1JhbmdlLmF4aXMub3B0aW9ucy5uYW1lKSB7XG4gICAgICAgICAgICByYW5nZXNbYXhpc1JhbmdlLmF4aXMub3B0aW9ucy5uYW1lXSA9IHtcbiAgICAgICAgICAgICAgICBtaW46IGF4aXNSYW5nZS5yYW5nZS5taW4sXG4gICAgICAgICAgICAgICAgbWF4OiBheGlzUmFuZ2UucmFuZ2UubWF4XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByYW5nZXM7XG59IiwiaW1wb3J0IGFjY2VwdEtleSBmcm9tICcuL2FjY2VwdC1rZXknO1xuaW1wb3J0IHRvQ2hhcnRBeGlzUmFuZ2VzIGZyb20gJy4vdG8tY2hhcnQtYXhpcy1yYW5nZXMnO1xuXG5pbXBvcnQgeyBYLCBZIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBDbGFzcywgZGVlcEV4dGVuZCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIFBhbm5hYmxlIGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKHBsb3RBcmVhLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5wbG90QXJlYSA9IHBsb3RBcmVhO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHN0YXJ0KGUpIHtcbiAgICAgICAgdGhpcy5fYWN0aXZlID0gYWNjZXB0S2V5KGUsIHRoaXMub3B0aW9ucy5rZXkpO1xuICAgICAgICByZXR1cm4gdGhpcy5fYWN0aXZlO1xuICAgIH1cblxuICAgIG1vdmUoZSkge1xuICAgICAgICBpZiAodGhpcy5fYWN0aXZlKSB7XG4gICAgICAgICAgICBjb25zdCBheGlzUmFuZ2VzID0gdGhpcy5heGlzUmFuZ2VzID0gdGhpcy5fcGFuQXhlcyhlLCBYKS5jb25jYXQodGhpcy5fcGFuQXhlcyhlLCBZKSk7XG4gICAgICAgICAgICBpZiAoYXhpc1Jhbmdlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmF4aXNSYW5nZXMgPSBheGlzUmFuZ2VzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0b0NoYXJ0QXhpc1JhbmdlcyhheGlzUmFuZ2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVuZCgpIHtcbiAgICAgICAgY29uc3QgYWN0aXZlID0gdGhpcy5fYWN0aXZlO1xuICAgICAgICB0aGlzLl9hY3RpdmUgPSBmYWxzZTtcblxuICAgICAgICByZXR1cm4gYWN0aXZlO1xuICAgIH1cblxuICAgIHBhbigpIHtcbiAgICAgICAgY29uc3QgeyBwbG90QXJlYSwgYXhpc1JhbmdlcyB9ID0gdGhpcztcbiAgICAgICAgaWYgKGF4aXNSYW5nZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBheGlzUmFuZ2VzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCByYW5nZSA9IGF4aXNSYW5nZXNbaWR4XTtcbiAgICAgICAgICAgICAgICBwbG90QXJlYS51cGRhdGVBeGlzT3B0aW9ucyhyYW5nZS5heGlzLCByYW5nZS5yYW5nZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwbG90QXJlYS5yZWRyYXcocGxvdEFyZWEucGFuZXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMucGxvdEFyZWE7XG4gICAgfVxuXG4gICAgX3BhbkF4ZXMoZSwgcG9zaXRpb24pIHtcbiAgICAgICAgY29uc3QgcGxvdEFyZWEgPSB0aGlzLnBsb3RBcmVhO1xuICAgICAgICBjb25zdCBkZWx0YSA9IC1lW3Bvc2l0aW9uXS5kZWx0YTtcbiAgICAgICAgY29uc3QgbG9jayA9ICh0aGlzLm9wdGlvbnMubG9jayB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBjb25zdCB1cGRhdGVkQXhlcyA9IFtdO1xuXG4gICAgICAgIGlmIChkZWx0YSAhPT0gMCAmJiAobG9jayB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpICE9PSBwb3NpdGlvbikge1xuICAgICAgICAgICAgY29uc3QgYXhlcyA9IHBsb3RBcmVhLmF4ZXM7XG4gICAgICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBheGVzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBheGlzID0gYXhlc1tpZHhdO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uID09PSBYICYmICFheGlzLm9wdGlvbnMudmVydGljYWwgfHwgcG9zaXRpb24gPT09IFkgJiYgYXhpcy5vcHRpb25zLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gYXhpcy5wYW4oZGVsdGEpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UubGltaXRSYW5nZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkQXhlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBheGlzOiBheGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlOiByYW5nZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdXBkYXRlZEF4ZXM7XG4gICAgfVxufVxuXG5QYW5uYWJsZS5wcm90b3R5cGUub3B0aW9ucyA9IHtcbiAgICBrZXk6IFwibm9uZVwiLFxuICAgIGxvY2s6IFwibm9uZVwiXG59O1xuXG5leHBvcnQgZGVmYXVsdCBQYW5uYWJsZTsiLCJpbXBvcnQgYWNjZXB0S2V5IGZyb20gJy4vYWNjZXB0LWtleSc7XG5pbXBvcnQgdG9DaGFydEF4aXNSYW5nZXMgZnJvbSAnLi90by1jaGFydC1heGlzLXJhbmdlcyc7XG5cbmltcG9ydCB7IFgsIFkgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IENsYXNzLCBkZWVwRXh0ZW5kLCBlbGVtZW50U3R5bGVzLCBlbGVtZW50T2Zmc2V0LCBkZWZpbmVkIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgWm9vbVNlbGVjdGlvbiBleHRlbmRzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcihjaGFydCwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuY2hhcnQgPSBjaGFydDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5jcmVhdGVFbGVtZW50KCk7XG4gICAgfVxuXG4gICAgY3JlYXRlRWxlbWVudCgpIHtcbiAgICAgICAgY29uc3QgbWFycXVlZSA9IHRoaXMuX21hcnF1ZWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBtYXJxdWVlLmNsYXNzTmFtZSA9IFwiay1tYXJxdWVlXCI7XG4gICAgICAgIGNvbnN0IG1hcnF1ZWVDb2xvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIG1hcnF1ZWVDb2xvci5jbGFzc05hbWUgPSBcImstbWFycXVlZS1jb2xvclwiO1xuICAgICAgICBtYXJxdWVlLmFwcGVuZENoaWxkKG1hcnF1ZWVDb2xvcik7XG4gICAgfVxuXG4gICAgcmVtb3ZlRWxlbWVudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX21hcnF1ZWUucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy5fbWFycXVlZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX21hcnF1ZWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0U3R5bGVzKHN0eWxlcykge1xuICAgICAgICBlbGVtZW50U3R5bGVzKHRoaXMuX21hcnF1ZWUsIHN0eWxlcyk7XG4gICAgfVxuXG4gICAgc3RhcnQoZSkge1xuICAgICAgICBpZiAoYWNjZXB0S2V5KGUsIHRoaXMub3B0aW9ucy5rZXkpKSB7XG4gICAgICAgICAgICBjb25zdCBjaGFydCA9IHRoaXMuY2hhcnQ7XG4gICAgICAgICAgICBjb25zdCBwb2ludCA9IGNoYXJ0Ll9ldmVudENvb3JkaW5hdGVzKGUpO1xuICAgICAgICAgICAgY29uc3Qgem9vbVBhbmUgPSB0aGlzLl96b29tUGFuZSA9IGNoYXJ0Ll9wbG90QXJlYS5wYW5lQnlQb2ludChwb2ludCk7XG4gICAgICAgICAgICBjb25zdCBjbGlwQm94ID0gem9vbVBhbmUgPyB6b29tUGFuZS5jaGFydHNCb3goKS5jbG9uZSgpIDogbnVsbDtcblxuICAgICAgICAgICAgaWYgKHpvb21QYW5lICYmIGNsaXBCb3gpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSB0aGlzLl9lbGVtZW50T2Zmc2V0KCk7XG5cbiAgICAgICAgICAgICAgICBjbGlwQm94LnRyYW5zbGF0ZShvZmZzZXQubGVmdCwgb2Zmc2V0LnRvcCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fem9vbVBhbmVDbGlwQm94ID0gY2xpcEJveDtcblxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5fbWFycXVlZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdHlsZXMoe1xuICAgICAgICAgICAgICAgICAgICBsZWZ0OiBlLnBhZ2VYICsgMSxcbiAgICAgICAgICAgICAgICAgICAgdG9wOiBlLnBhZ2VZICsgMSxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogMFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIF9lbGVtZW50T2Zmc2V0KCkge1xuICAgICAgICBjb25zdCBjaGFydEVsZW1lbnQgPSB0aGlzLmNoYXJ0LmVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IHsgcGFkZGluZ0xlZnQsIHBhZGRpbmdUb3AgfSA9IGVsZW1lbnRTdHlsZXMoY2hhcnRFbGVtZW50LCBbIFwicGFkZGluZ0xlZnRcIiwgXCJwYWRkaW5nVG9wXCIgXSk7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IGVsZW1lbnRPZmZzZXQoY2hhcnRFbGVtZW50KTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGVmdDogcGFkZGluZ0xlZnQgKyBvZmZzZXQubGVmdCxcbiAgICAgICAgICAgIHRvcDogcGFkZGluZ1RvcCArIG9mZnNldC50b3BcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBtb3ZlKGUpIHtcbiAgICAgICAgY29uc3Qgem9vbVBhbmUgPSB0aGlzLl96b29tUGFuZTtcbiAgICAgICAgaWYgKHpvb21QYW5lKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0eWxlcyh0aGlzLl9zZWxlY3Rpb25Qb3NpdGlvbihlKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmQoZSkge1xuICAgICAgICBjb25zdCB6b29tUGFuZSA9IHRoaXMuX3pvb21QYW5lO1xuICAgICAgICBpZiAoem9vbVBhbmUpIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRPZmZzZXQgPSB0aGlzLl9lbGVtZW50T2Zmc2V0KCk7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3Rpb25Qb3NpdGlvbiA9IHRoaXMuX3NlbGVjdGlvblBvc2l0aW9uKGUpO1xuICAgICAgICAgICAgc2VsZWN0aW9uUG9zaXRpb24ubGVmdCAtPSBlbGVtZW50T2Zmc2V0LmxlZnQ7XG4gICAgICAgICAgICBzZWxlY3Rpb25Qb3NpdGlvbi50b3AgLT0gZWxlbWVudE9mZnNldC50b3A7XG5cbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0geyB4OiBzZWxlY3Rpb25Qb3NpdGlvbi5sZWZ0LCB5OiBzZWxlY3Rpb25Qb3NpdGlvbi50b3AgfTtcbiAgICAgICAgICAgIGNvbnN0IGVuZCA9IHsgeDogc2VsZWN0aW9uUG9zaXRpb24ubGVmdCArIHNlbGVjdGlvblBvc2l0aW9uLndpZHRoLCB5OiBzZWxlY3Rpb25Qb3NpdGlvbi50b3AgKyBzZWxlY3Rpb25Qb3NpdGlvbi5oZWlnaHQgfTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUF4aXNSYW5nZXMoc3RhcnQsIGVuZCk7XG5cbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRWxlbWVudCgpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3pvb21QYW5lO1xuXG4gICAgICAgICAgICByZXR1cm4gdG9DaGFydEF4aXNSYW5nZXModGhpcy5heGlzUmFuZ2VzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHpvb20oKSB7XG4gICAgICAgIGNvbnN0IGF4aXNSYW5nZXMgPSB0aGlzLmF4aXNSYW5nZXM7XG4gICAgICAgIGlmIChheGlzUmFuZ2VzICYmIGF4aXNSYW5nZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBwbG90QXJlYSA9IHRoaXMuY2hhcnQuX3Bsb3RBcmVhO1xuICAgICAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgYXhpc1Jhbmdlcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXhpc1JhbmdlID0gYXhpc1Jhbmdlc1tpZHhdO1xuICAgICAgICAgICAgICAgIHBsb3RBcmVhLnVwZGF0ZUF4aXNPcHRpb25zKGF4aXNSYW5nZS5heGlzLCBheGlzUmFuZ2UucmFuZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGxvdEFyZWEucmVkcmF3KHBsb3RBcmVhLnBhbmVzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRWxlbWVudCgpO1xuICAgICAgICBkZWxldGUgdGhpcy5fbWFycXVlZTtcbiAgICAgICAgZGVsZXRlIHRoaXMuY2hhcnQ7XG4gICAgfVxuXG4gICAgX3VwZGF0ZUF4aXNSYW5nZXMoc3RhcnQsIGVuZCkge1xuICAgICAgICBjb25zdCBsb2NrID0gKHRoaXMub3B0aW9ucy5sb2NrIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IGF4aXNSYW5nZXMgPSBbXTtcblxuICAgICAgICBjb25zdCBheGVzID0gdGhpcy5fem9vbVBhbmUuYXhlcztcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgYXhlcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBheGlzID0gYXhlc1tpZHhdO1xuICAgICAgICAgICAgY29uc3QgdmVydGljYWwgPSBheGlzLm9wdGlvbnMudmVydGljYWw7XG4gICAgICAgICAgICBpZiAoIShsb2NrID09PSBYICYmICF2ZXJ0aWNhbCkgJiYgIShsb2NrID09PSBZICYmIHZlcnRpY2FsKSAmJiBkZWZpbmVkKGF4aXMuYXhpc0luZGV4KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gYXhpcy5wb2ludHNSYW5nZShzdGFydCwgZW5kKTtcbiAgICAgICAgICAgICAgICBpZiAocmFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgYXhpc1Jhbmdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF4aXM6IGF4aXMsXG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZTogcmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5heGlzUmFuZ2VzID0gYXhpc1JhbmdlcztcbiAgICB9XG5cbiAgICBfc2VsZWN0aW9uUG9zaXRpb24oZSkge1xuICAgICAgICBjb25zdCBjbGlwQm94ID0gdGhpcy5fem9vbVBhbmVDbGlwQm94O1xuICAgICAgICBjb25zdCBzdGFydExvY2F0aW9uID0ge1xuICAgICAgICAgICAgeDogZS54LnN0YXJ0TG9jYXRpb24sXG4gICAgICAgICAgICB5OiBlLnkuc3RhcnRMb2NhdGlvblxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB7IHg6IHsgbG9jYXRpb246IHBhZ2VYIH0sIHk6IHsgbG9jYXRpb246IHBhZ2VZIH0gfSA9IGU7XG4gICAgICAgIGNvbnN0IGxvY2sgPSAodGhpcy5vcHRpb25zLmxvY2sgfHwgXCJcIikudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgbGV0IGxlZnQgPSBNYXRoLm1pbihzdGFydExvY2F0aW9uLngsIHBhZ2VYKTtcbiAgICAgICAgbGV0IHRvcCA9IE1hdGgubWluKHN0YXJ0TG9jYXRpb24ueSwgcGFnZVkpO1xuICAgICAgICBsZXQgd2lkdGggPSBNYXRoLmFicyhzdGFydExvY2F0aW9uLnggLSBwYWdlWCk7XG4gICAgICAgIGxldCBoZWlnaHQgPSBNYXRoLmFicyhzdGFydExvY2F0aW9uLnkgLSBwYWdlWSk7XG5cbiAgICAgICAgaWYgKGxvY2sgPT09IFgpIHtcbiAgICAgICAgICAgIGxlZnQgPSBjbGlwQm94LngxO1xuICAgICAgICAgICAgd2lkdGggPSBjbGlwQm94LndpZHRoKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxvY2sgPT09IFkpIHtcbiAgICAgICAgICAgIHRvcCA9IGNsaXBCb3gueTE7XG4gICAgICAgICAgICBoZWlnaHQgPSBjbGlwQm94LmhlaWdodCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhZ2VYID4gY2xpcEJveC54Mikge1xuICAgICAgICAgICAgd2lkdGggPSBjbGlwQm94LngyIC0gc3RhcnRMb2NhdGlvbi54O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhZ2VYIDwgY2xpcEJveC54MSkge1xuICAgICAgICAgICAgd2lkdGggPSBzdGFydExvY2F0aW9uLnggLSBjbGlwQm94LngxO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhZ2VZID4gY2xpcEJveC55Mikge1xuICAgICAgICAgICAgaGVpZ2h0ID0gY2xpcEJveC55MiAtIHN0YXJ0TG9jYXRpb24ueTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYWdlWSA8IGNsaXBCb3gueTEpIHtcbiAgICAgICAgICAgIGhlaWdodCA9IHN0YXJ0TG9jYXRpb24ueSAtIGNsaXBCb3gueTE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGVmdDogTWF0aC5tYXgobGVmdCwgY2xpcEJveC54MSksXG4gICAgICAgICAgICB0b3A6IE1hdGgubWF4KHRvcCwgY2xpcEJveC55MSksXG4gICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodFxuICAgICAgICB9O1xuICAgIH1cbn1cblxuWm9vbVNlbGVjdGlvbi5wcm90b3R5cGUub3B0aW9ucyA9IHtcbiAgICBrZXk6IFwic2hpZnRcIixcbiAgICBsb2NrOiBcIm5vbmVcIlxufTtcblxuZXhwb3J0IGRlZmF1bHQgWm9vbVNlbGVjdGlvbjsiLCJcbmltcG9ydCB0b0NoYXJ0QXhpc1JhbmdlcyBmcm9tICcuL3RvLWNoYXJ0LWF4aXMtcmFuZ2VzJztcblxuaW1wb3J0IHsgWCwgWSB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ2xhc3MsIGRlZXBFeHRlbmQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBNb3VzZXdoZWVsWm9vbSBleHRlbmRzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcihjaGFydCwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuY2hhcnQgPSBjaGFydDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICB1cGRhdGVSYW5nZXMoZGVsdGEpIHtcbiAgICAgICAgY29uc3QgbG9jayA9ICh0aGlzLm9wdGlvbnMubG9jayB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBjb25zdCBheGlzUmFuZ2VzID0gW107XG4gICAgICAgIGNvbnN0IGF4ZXMgPSB0aGlzLmNoYXJ0Ll9wbG90QXJlYS5heGVzO1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGF4ZXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgY29uc3QgYXhpcyA9IGF4ZXNbaWR4XTtcbiAgICAgICAgICAgIGNvbnN0IHZlcnRpY2FsID0gYXhpcy5vcHRpb25zLnZlcnRpY2FsO1xuXG4gICAgICAgICAgICBpZiAoIShsb2NrID09PSBYICYmICF2ZXJ0aWNhbCkgJiYgIShsb2NrID09PSBZICYmIHZlcnRpY2FsKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gYXhpcy56b29tUmFuZ2UoLWRlbHRhKTtcblxuICAgICAgICAgICAgICAgIGlmIChyYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICBheGlzUmFuZ2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgYXhpczogYXhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlOiByYW5nZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmF4aXNSYW5nZXMgPSBheGlzUmFuZ2VzO1xuICAgICAgICByZXR1cm4gdG9DaGFydEF4aXNSYW5nZXMoYXhpc1Jhbmdlcyk7XG4gICAgfVxuXG4gICAgem9vbSgpIHtcbiAgICAgICAgY29uc3QgYXhpc1JhbmdlcyA9IHRoaXMuYXhpc1JhbmdlcztcbiAgICAgICAgaWYgKGF4aXNSYW5nZXMgJiYgYXhpc1Jhbmdlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHBsb3RBcmVhID0gdGhpcy5jaGFydC5fcGxvdEFyZWE7XG4gICAgICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBheGlzUmFuZ2VzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBheGlzUmFuZ2UgPSBheGlzUmFuZ2VzW2lkeF07XG4gICAgICAgICAgICAgICAgcGxvdEFyZWEudXBkYXRlQXhpc09wdGlvbnMoYXhpc1JhbmdlLmF4aXMsIGF4aXNSYW5nZS5yYW5nZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwbG90QXJlYS5yZWRyYXcocGxvdEFyZWEucGFuZXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuY2hhcnQ7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBNb3VzZXdoZWVsWm9vbTsiLCJpbXBvcnQgeyBkcmF3aW5nIGFzIGRyYXcgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCB7IENoYXJ0RWxlbWVudCwgQm94LCByZWN0VG9Cb3ggfSBmcm9tICcuLi8uLi9jb3JlJztcblxuY2xhc3MgTGVnZW5kTGF5b3V0IGV4dGVuZHMgQ2hhcnRFbGVtZW50IHtcblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMsIGNoYXJ0U2VydmljZSkge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcblxuICAgICAgICB0aGlzLmNoYXJ0U2VydmljZSA9IGNoYXJ0U2VydmljZTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHsgY2hpbGRyZW4sIG9wdGlvbnMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHZlcnRpY2FsID0gb3B0aW9ucy52ZXJ0aWNhbDtcblxuICAgICAgICB0aGlzLnZpc3VhbCA9IG5ldyBkcmF3LkxheW91dChudWxsLCB7XG4gICAgICAgICAgICBzcGFjaW5nOiB2ZXJ0aWNhbCA/IDAgOiBvcHRpb25zLnNwYWNpbmcsXG4gICAgICAgICAgICBsaW5lU3BhY2luZzogdmVydGljYWwgPyBvcHRpb25zLnNwYWNpbmcgOiAwLFxuICAgICAgICAgICAgb3JpZW50YXRpb246IHZlcnRpY2FsID8gXCJ2ZXJ0aWNhbFwiIDogXCJob3Jpem9udGFsXCIsXG4gICAgICAgICAgICByZXZlcnNlOiBvcHRpb25zLnJ0bCxcbiAgICAgICAgICAgIGFsaWduSXRlbXM6IHZlcnRpY2FsID8gXCJzdGFydFwiIDogXCJjZW50ZXJcIlxuICAgICAgICB9KTtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBjaGlsZHJlbi5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBsZXQgbGVnZW5kSXRlbSA9IGNoaWxkcmVuW2lkeF07XG4gICAgICAgICAgICBsZWdlbmRJdGVtLnJlZmxvdyhuZXcgQm94KCkpO1xuICAgICAgICAgICAgbGVnZW5kSXRlbS5yZW5kZXJWaXN1YWwoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlZmxvdyhib3gpIHtcbiAgICAgICAgdGhpcy52aXN1YWwucmVjdChib3gudG9SZWN0KCkpO1xuICAgICAgICB0aGlzLnZpc3VhbC5yZWZsb3coKTtcbiAgICAgICAgY29uc3QgYmJveCA9IHRoaXMudmlzdWFsLmNsaXBwZWRCQm94KCk7XG5cbiAgICAgICAgaWYgKGJib3gpIHtcbiAgICAgICAgICAgIHRoaXMuYm94ID0gcmVjdFRvQm94KGJib3gpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5ib3ggPSBuZXcgQm94KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXJWaXN1YWwoKSB7XG4gICAgICAgIHRoaXMuYWRkVmlzdWFsKCk7XG4gICAgfVxuXG4gICAgY3JlYXRlVmlzdWFsKCkge31cbn1cblxuZXhwb3J0IGRlZmF1bHQgTGVnZW5kTGF5b3V0OyIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHsgQm94RWxlbWVudCwgRmxvYXRFbGVtZW50LCBTaGFwZUVsZW1lbnQsIFRleHRCb3ggfSBmcm9tICcuLi8uLi9jb3JlJztcbmltcG9ydCB7IExFR0VORF9JVEVNX0NMSUNLLCBMRUdFTkRfSVRFTV9IT1ZFUiwgTEVHRU5EX0lURU1fTEVBVkUgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ0VOVEVSLCBXSElURSB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZGVlcEV4dGVuZCwgZXZlbnRFbGVtZW50IH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgTGVnZW5kSXRlbSBleHRlbmRzIEJveEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVDb250YWluZXIoKTtcbiAgICAgICAgaWYgKCFvcHRpb25zLnJ0bCkge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVNYXJrZXIoKTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlTGFiZWwoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlTGFiZWwoKTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlTWFya2VyKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVDb250YWluZXIoKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gbmV3IEZsb2F0RWxlbWVudCh7IHZlcnRpY2FsOiBmYWxzZSwgd3JhcDogZmFsc2UsIGFsaWduOiBDRU5URVIsIHNwYWNpbmc6IHRoaXMub3B0aW9ucy5zcGFjaW5nIH0pO1xuICAgICAgICB0aGlzLmFwcGVuZCh0aGlzLmNvbnRhaW5lcik7XG4gICAgfVxuXG4gICAgY3JlYXRlTWFya2VyKCkge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmQobmV3IFNoYXBlRWxlbWVudCh0aGlzLm1hcmtlck9wdGlvbnMoKSkpO1xuICAgIH1cblxuICAgIG1hcmtlck9wdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IG1hcmtlckNvbG9yID0gb3B0aW9ucy5tYXJrZXJDb2xvcjtcbiAgICAgICAgcmV0dXJuIGRlZXBFeHRlbmQoe30sIG9wdGlvbnMubWFya2Vycywge1xuICAgICAgICAgICAgYmFja2dyb3VuZDogbWFya2VyQ29sb3IsXG4gICAgICAgICAgICBib3JkZXI6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogbWFya2VyQ29sb3JcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY3JlYXRlTGFiZWwoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGxhYmVsT3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIG9wdGlvbnMubGFiZWxzKTtcblxuICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmQobmV3IFRleHRCb3gob3B0aW9ucy50ZXh0LCBsYWJlbE9wdGlvbnMpKTtcbiAgICB9XG5cbiAgICByZW5kZXJDb21wbGV0ZSgpIHtcbiAgICAgICAgc3VwZXIucmVuZGVyQ29tcGxldGUoKTtcblxuICAgICAgICBjb25zdCBjdXJzb3IgPSB0aGlzLm9wdGlvbnMuY3Vyc29yIHx8IHt9O1xuICAgICAgICBjb25zdCBldmVudFNpbmsgPSB0aGlzLl9pdGVtT3ZlcmxheSA9IGRyYXcuUGF0aC5mcm9tUmVjdCh0aGlzLmNvbnRhaW5lci5ib3gudG9SZWN0KCksIHtcbiAgICAgICAgICAgIGZpbGw6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogV0hJVEUsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0cm9rZTogbnVsbCxcbiAgICAgICAgICAgIGN1cnNvcjogY3Vyc29yLnN0eWxlIHx8IGN1cnNvclxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmFwcGVuZFZpc3VhbChldmVudFNpbmspO1xuICAgIH1cblxuICAgIGNsaWNrKHdpZGdldCwgZSkge1xuICAgICAgICBjb25zdCBhcmdzID0gdGhpcy5ldmVudEFyZ3MoZSk7XG5cbiAgICAgICAgaWYgKCF3aWRnZXQudHJpZ2dlcihMRUdFTkRfSVRFTV9DTElDSywgYXJncykgJiYgZSAmJiBlLnR5cGUgPT09ICdjb250ZXh0bWVudScpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG92ZXIod2lkZ2V0LCBlKSB7XG4gICAgICAgIGNvbnN0IGFyZ3MgPSB0aGlzLmV2ZW50QXJncyhlKTtcblxuICAgICAgICBpZiAoIXdpZGdldC50cmlnZ2VyKExFR0VORF9JVEVNX0hPVkVSLCBhcmdzKSkge1xuICAgICAgICAgICAgd2lkZ2V0Ll9sZWdlbmRJdGVtSG92ZXIoYXJncy5zZXJpZXNJbmRleCwgYXJncy5wb2ludEluZGV4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERvbid0IHRyaWdnZXIgcG9pbnQgaG92ZXIgZm9yIGxlZ2VuZCBpdGVtc1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBvdXQod2lkZ2V0LCBlKSB7XG4gICAgICAgIHdpZGdldC5fdW5zZXRBY3RpdmVQb2ludCgpO1xuXG4gICAgICAgIHdpZGdldC50cmlnZ2VyKExFR0VORF9JVEVNX0xFQVZFLCB0aGlzLmV2ZW50QXJncyhlKSk7XG4gICAgfVxuXG4gICAgZXZlbnRBcmdzKGUpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZWxlbWVudDogZXZlbnRFbGVtZW50KGUpLFxuICAgICAgICAgICAgdGV4dDogb3B0aW9ucy50ZXh0LFxuICAgICAgICAgICAgc2VyaWVzOiBvcHRpb25zLnNlcmllcyxcbiAgICAgICAgICAgIHNlcmllc0luZGV4OiBvcHRpb25zLnNlcmllcy5pbmRleCxcbiAgICAgICAgICAgIHBvaW50SW5kZXg6IG9wdGlvbnMucG9pbnRJbmRleFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJlbmRlclZpc3VhbCgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgY3VzdG9tVmlzdWFsID0gb3B0aW9ucy52aXN1YWw7XG5cbiAgICAgICAgaWYgKGN1c3RvbVZpc3VhbCkge1xuICAgICAgICAgICAgdGhpcy52aXN1YWwgPSBjdXN0b21WaXN1YWwoe1xuICAgICAgICAgICAgICAgIGFjdGl2ZTogb3B0aW9ucy5hY3RpdmUsXG4gICAgICAgICAgICAgICAgc2VyaWVzOiBvcHRpb25zLnNlcmllcyxcbiAgICAgICAgICAgICAgICBzZW5kZXI6IHRoaXMuZ2V0U2VuZGVyKCksXG4gICAgICAgICAgICAgICAgcG9pbnRJbmRleDogb3B0aW9ucy5wb2ludEluZGV4LFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgbWFya2VyczogdGhpcy5tYXJrZXJPcHRpb25zKCksXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsczogb3B0aW9ucy5sYWJlbHNcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNyZWF0ZVZpc3VhbDogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVZpc3VhbCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckNoaWxkcmVuKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQ29tcGxldGUoKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0VmlzdWFsID0gdGhpcy52aXN1YWw7XG5cbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMudmlzdWFsO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmlzdWFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5hZGRWaXN1YWwoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN1cGVyLnJlbmRlclZpc3VhbCgpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMZWdlbmRJdGVtO1xuIiwiXG5pbXBvcnQgeyBDaGFydEVsZW1lbnQsIEJveEVsZW1lbnQsIEJveCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0IExlZ2VuZExheW91dCBmcm9tICcuL2xlZ2VuZC1sYXlvdXQnO1xuaW1wb3J0IExlZ2VuZEl0ZW0gZnJvbSAnLi9sZWdlbmQtaXRlbSc7XG5cbmltcG9ydCB7IFRPUCwgUklHSFQsIEJPVFRPTSwgTEVGVCwgQ0VOVEVSLCBYLCBZLCBCTEFDSyB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZGVlcEV4dGVuZCwgZGVmaW5lZCwgZ2V0U3BhY2luZywgaW5BcnJheSwgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jb25zdCBIT1JJWk9OVEFMID0gXCJob3Jpem9udGFsXCI7XG5jb25zdCBQT0lOVEVSID0gXCJwb2ludGVyXCI7XG5jb25zdCBDVVNUT00gPSBcImN1c3RvbVwiO1xuXG5jbGFzcyBMZWdlbmQgZXh0ZW5kcyBDaGFydEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMsIGNoYXJ0U2VydmljZSA9IHt9KSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuY2hhcnRTZXJ2aWNlID0gY2hhcnRTZXJ2aWNlO1xuXG4gICAgICAgIGlmICghaW5BcnJheSh0aGlzLm9wdGlvbnMucG9zaXRpb24sIFsgVE9QLCBSSUdIVCwgQk9UVE9NLCBMRUZULCBDVVNUT00gXSkpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5wb3NpdGlvbiA9IFJJR0hUO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jcmVhdGVDb250YWluZXIoKTtcblxuICAgICAgICB0aGlzLmNyZWF0ZUl0ZW1zKCk7XG4gICAgfVxuXG4gICAgY3JlYXRlQ29udGFpbmVyKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB7IHBvc2l0aW9uLCBhbGlnbjogdXNlckFsaWduIH0gPSBvcHRpb25zO1xuICAgICAgICBsZXQgYWxpZ24gPSBwb3NpdGlvbjtcbiAgICAgICAgbGV0IHZBbGlnbiA9IENFTlRFUjtcblxuICAgICAgICBpZiAocG9zaXRpb24gPT09IENVU1RPTSkge1xuICAgICAgICAgICAgYWxpZ24gPSBMRUZUO1xuICAgICAgICB9IGVsc2UgaWYgKGluQXJyYXkocG9zaXRpb24sIFsgVE9QLCBCT1RUT00gXSkpIHtcbiAgICAgICAgICAgIGlmICh1c2VyQWxpZ24gPT09IFwic3RhcnRcIikge1xuICAgICAgICAgICAgICAgIGFsaWduID0gTEVGVDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodXNlckFsaWduID09PSBcImVuZFwiKSB7XG4gICAgICAgICAgICAgICAgYWxpZ24gPSBSSUdIVDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYWxpZ24gPSBDRU5URVI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2QWxpZ24gPSBwb3NpdGlvbjtcbiAgICAgICAgfSBlbHNlIGlmICh1c2VyQWxpZ24pIHtcbiAgICAgICAgICAgIGlmICh1c2VyQWxpZ24gPT09IFwic3RhcnRcIikge1xuICAgICAgICAgICAgICAgIHZBbGlnbiA9IFRPUDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodXNlckFsaWduID09PSBcImVuZFwiKSB7XG4gICAgICAgICAgICAgICAgdkFsaWduID0gQk9UVE9NO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBuZXcgQm94RWxlbWVudCh7XG4gICAgICAgICAgICBtYXJnaW46IG9wdGlvbnMubWFyZ2luLFxuICAgICAgICAgICAgcGFkZGluZzogb3B0aW9ucy5wYWRkaW5nLFxuICAgICAgICAgICAgYmFja2dyb3VuZDogb3B0aW9ucy5iYWNrZ3JvdW5kLFxuICAgICAgICAgICAgYm9yZGVyOiBvcHRpb25zLmJvcmRlcixcbiAgICAgICAgICAgIHZBbGlnbjogdkFsaWduLFxuICAgICAgICAgICAgYWxpZ246IGFsaWduLFxuICAgICAgICAgICAgekluZGV4OiBvcHRpb25zLnpJbmRleCxcbiAgICAgICAgICAgIHNocmlua1RvRml0OiB0cnVlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYXBwZW5kKHRoaXMuY29udGFpbmVyKTtcbiAgICB9XG5cbiAgICBjcmVhdGVJdGVtcygpIHtcbiAgICAgICAgY29uc3QgY2hhcnRTZXJ2aWNlID0gdGhpcy5nZXRTZXJ2aWNlKCk7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHZlcnRpY2FsID0gdGhpcy5pc1ZlcnRpY2FsKCk7XG4gICAgICAgIGNvbnN0IGlubmVyRWxlbWVudCA9IG5ldyBMZWdlbmRMYXlvdXQoe1xuICAgICAgICAgICAgdmVydGljYWw6IHZlcnRpY2FsLFxuICAgICAgICAgICAgc3BhY2luZzogb3B0aW9ucy5zcGFjaW5nLFxuICAgICAgICAgICAgcnRsOiBjaGFydFNlcnZpY2UucnRsXG4gICAgICAgIH0sIGNoYXJ0U2VydmljZSk7XG4gICAgICAgIGxldCBpdGVtcyA9IG9wdGlvbnMuaXRlbXM7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMucmV2ZXJzZSkge1xuICAgICAgICAgICAgaXRlbXMgPSBpdGVtcy5zbGljZSgwKS5yZXZlcnNlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb3VudCA9IGl0ZW1zLmxlbmd0aDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGxldCBpdGVtID0gaXRlbXNbaV07XG5cbiAgICAgICAgICAgIGlubmVyRWxlbWVudC5hcHBlbmQobmV3IExlZ2VuZEl0ZW0oZGVlcEV4dGVuZCh7fSwge1xuICAgICAgICAgICAgICAgIG1hcmtlcnM6IG9wdGlvbnMubWFya2VycyxcbiAgICAgICAgICAgICAgICBsYWJlbHM6IG9wdGlvbnMubGFiZWxzLFxuICAgICAgICAgICAgICAgIHJ0bDogY2hhcnRTZXJ2aWNlLnJ0bFxuICAgICAgICAgICAgfSwgb3B0aW9ucy5pdGVtLCBpdGVtKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5uZXJFbGVtZW50LnJlbmRlcigpO1xuXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZChpbm5lckVsZW1lbnQpO1xuICAgIH1cblxuICAgIGlzVmVydGljYWwoKSB7XG4gICAgICAgIGNvbnN0IHsgb3JpZW50YXRpb24sIHBvc2l0aW9uIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHZlcnRpY2FsID0gKHBvc2l0aW9uID09PSBDVVNUT00gJiYgb3JpZW50YXRpb24gIT09IEhPUklaT05UQUwpIHx8XG4gICAgICAgICAgICAgICAoZGVmaW5lZChvcmllbnRhdGlvbikgPyBvcmllbnRhdGlvbiAhPT0gSE9SSVpPTlRBTCA6IGluQXJyYXkocG9zaXRpb24sIFsgTEVGVCwgUklHSFQgXSkpO1xuXG4gICAgICAgIHJldHVybiB2ZXJ0aWNhbDtcbiAgICB9XG5cbiAgICBoYXNJdGVtcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLmNoaWxkcmVuWzBdLmNoaWxkcmVuLmxlbmd0aCA+IDA7XG4gICAgfVxuXG4gICAgcmVmbG93KHRhcmdldEJveCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBsZWdlbmRCb3ggPSB0YXJnZXRCb3guY2xvbmUoKTtcblxuICAgICAgICBpZiAoIXRoaXMuaGFzSXRlbXMoKSkge1xuICAgICAgICAgICAgdGhpcy5ib3ggPSBsZWdlbmRCb3g7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5wb3NpdGlvbiA9PT0gQ1VTVE9NKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lckN1c3RvbVJlZmxvdyhsZWdlbmRCb3gpO1xuICAgICAgICAgICAgdGhpcy5ib3ggPSBsZWdlbmRCb3g7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lclJlZmxvdyhsZWdlbmRCb3gpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29udGFpbmVyUmVmbG93KHRhcmdldEJveCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIGNvbnRhaW5lciB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgeyBwb3NpdGlvbiwgd2lkdGgsIGhlaWdodCB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgcG9zID0gcG9zaXRpb24gPT09IFRPUCB8fCBwb3NpdGlvbiA9PT0gQk9UVE9NID8gWCA6IFk7XG4gICAgICAgIGNvbnN0IHZlcnRpY2FsID0gdGhpcy5pc1ZlcnRpY2FsKCk7XG4gICAgICAgIGNvbnN0IGFsaWduVGFyZ2V0ID0gdGFyZ2V0Qm94LmNsb25lKCk7XG4gICAgICAgIGxldCBjb250YWluZXJCb3ggPSB0YXJnZXRCb3guY2xvbmUoKTtcblxuICAgICAgICBpZiAocG9zaXRpb24gPT09IExFRlQgfHwgcG9zaXRpb24gPT09IFJJR0hUKSB7XG4gICAgICAgICAgICBjb250YWluZXJCb3gueTEgPSBhbGlnblRhcmdldC55MSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmVydGljYWwgJiYgaGVpZ2h0KSB7XG4gICAgICAgICAgICBjb250YWluZXJCb3gueTIgPSBjb250YWluZXJCb3gueTEgKyBoZWlnaHQ7XG4gICAgICAgICAgICBjb250YWluZXJCb3guYWxpZ24oYWxpZ25UYXJnZXQsIFksIGNvbnRhaW5lci5vcHRpb25zLnZBbGlnbik7XG4gICAgICAgIH0gZWxzZSBpZiAoIXZlcnRpY2FsICYmIHdpZHRoKSB7XG4gICAgICAgICAgICBjb250YWluZXJCb3gueDIgPSBjb250YWluZXJCb3gueDEgKyB3aWR0aDtcbiAgICAgICAgICAgIGNvbnRhaW5lckJveC5hbGlnbihhbGlnblRhcmdldCwgWCwgY29udGFpbmVyLm9wdGlvbnMuYWxpZ24pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGFpbmVyLnJlZmxvdyhjb250YWluZXJCb3gpO1xuICAgICAgICBjb250YWluZXJCb3ggPSBjb250YWluZXIuYm94O1xuXG4gICAgICAgIGNvbnN0IGJveCA9IGNvbnRhaW5lckJveC5jbG9uZSgpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLm9mZnNldFggfHwgb3B0aW9ucy5vZmZzZXRZKSB7XG4gICAgICAgICAgICBjb250YWluZXJCb3gudHJhbnNsYXRlKG9wdGlvbnMub2Zmc2V0WCwgb3B0aW9ucy5vZmZzZXRZKTtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnJlZmxvdyhjb250YWluZXJCb3gpO1xuICAgICAgICB9XG5cbiAgICAgICAgYm94W3BvcyArIDFdID0gdGFyZ2V0Qm94W3BvcyArIDFdO1xuICAgICAgICBib3hbcG9zICsgMl0gPSB0YXJnZXRCb3hbcG9zICsgMl07XG5cbiAgICAgICAgdGhpcy5ib3ggPSBib3g7XG4gICAgfVxuXG4gICAgY29udGFpbmVyQ3VzdG9tUmVmbG93KHRhcmdldEJveCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIGNvbnRhaW5lciB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgeyBvZmZzZXRYLCBvZmZzZXRZLCB3aWR0aCwgaGVpZ2h0IH0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCB2ZXJ0aWNhbCA9IHRoaXMuaXNWZXJ0aWNhbCgpO1xuICAgICAgICBsZXQgY29udGFpbmVyQm94ID0gdGFyZ2V0Qm94LmNsb25lKCk7XG5cbiAgICAgICAgaWYgKHZlcnRpY2FsICYmIGhlaWdodCkge1xuICAgICAgICAgICAgY29udGFpbmVyQm94LnkyID0gY29udGFpbmVyQm94LnkxICsgaGVpZ2h0O1xuICAgICAgICB9IGVsc2UgaWYgKCF2ZXJ0aWNhbCAmJiB3aWR0aCkge1xuICAgICAgICAgICAgY29udGFpbmVyQm94LngyID0gY29udGFpbmVyQm94LngxICsgd2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgY29udGFpbmVyLnJlZmxvdyhjb250YWluZXJCb3gpO1xuICAgICAgICBjb250YWluZXJCb3ggPSBjb250YWluZXIuYm94O1xuXG4gICAgICAgIGNvbnRhaW5lci5yZWZsb3cobmV3IEJveChcbiAgICAgICAgICAgIG9mZnNldFgsIG9mZnNldFksXG4gICAgICAgICAgICBvZmZzZXRYICsgY29udGFpbmVyQm94LndpZHRoKCksIG9mZnNldFkgKyBjb250YWluZXJCb3guaGVpZ2h0KClcbiAgICAgICAgKSk7XG4gICAgfVxuXG4gICAgcmVuZGVyVmlzdWFsKCkge1xuICAgICAgICBpZiAodGhpcy5oYXNJdGVtcygpKSB7XG4gICAgICAgICAgICBzdXBlci5yZW5kZXJWaXN1YWwoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoTGVnZW5kLCB7XG4gICAgcG9zaXRpb246IFJJR0hULFxuICAgIGl0ZW1zOiBbXSxcbiAgICBvZmZzZXRYOiAwLFxuICAgIG9mZnNldFk6IDAsXG4gICAgbWFyZ2luOiBnZXRTcGFjaW5nKDUpLFxuICAgIHBhZGRpbmc6IGdldFNwYWNpbmcoNSksXG4gICAgYm9yZGVyOiB7XG4gICAgICAgIGNvbG9yOiBCTEFDSyxcbiAgICAgICAgd2lkdGg6IDBcbiAgICB9LFxuICAgIGl0ZW06IHtcbiAgICAgICAgY3Vyc29yOiBQT0lOVEVSLFxuICAgICAgICBzcGFjaW5nOiA2XG4gICAgfSxcbiAgICBzcGFjaW5nOiA2LFxuICAgIGJhY2tncm91bmQ6IFwiXCIsXG4gICAgekluZGV4OiAxLFxuICAgIG1hcmtlcnM6IHtcbiAgICAgICAgYm9yZGVyOiB7XG4gICAgICAgICAgICB3aWR0aDogMFxuICAgICAgICB9LFxuICAgICAgICB3aWR0aDogMTUsXG4gICAgICAgIGhlaWdodDogMyxcbiAgICAgICAgdHlwZTogXCJyZWN0XCIsXG4gICAgICAgIGFsaWduOiBMRUZULFxuICAgICAgICB2QWxpZ246IENFTlRFUlxuICAgIH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBMZWdlbmQ7IiwiaW1wb3J0IGZpbHRlclNlcmllc0J5VHlwZSBmcm9tICcuLi91dGlscy9maWx0ZXItc2VyaWVzLWJ5LXR5cGUnO1xuaW1wb3J0IHsgQ2xhc3MgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBQbG90QXJlYUZhY3RvcnkgZXh0ZW5kcyBDbGFzcyB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLl9yZWdpc3RyeSA9IFtdO1xuICAgIH1cblxuICAgIHJlZ2lzdGVyKHR5cGUsIHNlcmllc1R5cGVzKSB7XG4gICAgICAgIHRoaXMuX3JlZ2lzdHJ5LnB1c2goe1xuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIHNlcmllc1R5cGVzOiBzZXJpZXNUeXBlc1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjcmVhdGUoc3JjU2VyaWVzLCBvcHRpb25zLCBjaGFydFNlcnZpY2UpIHtcbiAgICAgICAgY29uc3QgcmVnaXN0cnkgPSB0aGlzLl9yZWdpc3RyeTtcbiAgICAgICAgbGV0IG1hdGNoID0gcmVnaXN0cnlbMF07XG4gICAgICAgIGxldCBzZXJpZXM7XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgcmVnaXN0cnkubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgY29uc3QgZW50cnkgPSByZWdpc3RyeVtpZHhdO1xuICAgICAgICAgICAgc2VyaWVzID0gZmlsdGVyU2VyaWVzQnlUeXBlKHNyY1NlcmllcywgZW50cnkuc2VyaWVzVHlwZXMpO1xuXG4gICAgICAgICAgICBpZiAoc2VyaWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBtYXRjaCA9IGVudHJ5O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBtYXRjaC50eXBlKHNlcmllcywgb3B0aW9ucywgY2hhcnRTZXJ2aWNlKTtcbiAgICB9XG59XG5cblBsb3RBcmVhRmFjdG9yeS5jdXJyZW50ID0gbmV3IFBsb3RBcmVhRmFjdG9yeSgpO1xuXG5leHBvcnQgZGVmYXVsdCBQbG90QXJlYUZhY3Rvcnk7IiwiaW1wb3J0IHsgRG9tRXZlbnRzQnVpbGRlciB9IGZyb20gJy4uL3NlcnZpY2VzJztcblxuaW1wb3J0IHsgRGF0ZUNhdGVnb3J5QXhpcywgUG9pbnQgfSBmcm9tICcuLi9jb3JlJztcblxuaW1wb3J0IHsgTU9VU0VXSEVFTF9ERUxBWSwgTU9VU0VXSEVFTCwgU0VMRUNUX1NUQVJULCBTRUxFQ1QsIFNFTEVDVF9FTkQgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5cbmltcG9ydCB7IExFRlQsIFJJR0hULCBNSU5fVkFMVUUsIE1BWF9WQUxVRSB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgYWRkQ2xhc3MsIENsYXNzLCByZW1vdmVDbGFzcywgZGVlcEV4dGVuZCwgZWxlbWVudFN0eWxlcywgZXZlbnRFbGVtZW50LCBzZXREZWZhdWx0T3B0aW9ucywgbGltaXRWYWx1ZSwgcm91bmQsIGJpbmRFdmVudHMsIHVuYmluZEV2ZW50cywgbW91c2V3aGVlbERlbHRhLCBoYXNDbGFzc2VzIH0gZnJvbSAnLi4vY29tbW9uJztcbmltcG9ydCB7IHBhcnNlRGF0ZSB9IGZyb20gJy4uL2RhdGUtdXRpbHMnO1xuXG5jb25zdCBaT09NX0FDQ0VMRVJBVElPTiA9IDM7XG5jb25zdCBTRUxFQ1RPUl9IRUlHSFRfQURKVVNUID0gMC4xO1xuXG5mdW5jdGlvbiBjcmVhdGVEaXYoY2xhc3NOYW1lKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgaWYgKGNsYXNzTmFtZSkge1xuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudDtcbn1cblxuZnVuY3Rpb24gY2xvc2VzdEhhbmRsZShlbGVtZW50KSB7XG4gICAgbGV0IGN1cnJlbnQgPSBlbGVtZW50O1xuICAgIHdoaWxlIChjdXJyZW50ICYmICFoYXNDbGFzc2VzKGN1cnJlbnQsIFwiay1oYW5kbGVcIikpIHtcbiAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50Tm9kZTtcbiAgICB9XG5cbiAgICByZXR1cm4gY3VycmVudDtcbn1cblxuY2xhc3MgU2VsZWN0aW9uIGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKGNoYXJ0LCBjYXRlZ29yeUF4aXMsIG9wdGlvbnMsIG9ic2VydmVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgY29uc3QgY2hhcnRFbGVtZW50ID0gY2hhcnQuZWxlbWVudDtcblxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmNoYXJ0ID0gY2hhcnQ7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIgPSBvYnNlcnZlcjtcbiAgICAgICAgdGhpcy5jaGFydEVsZW1lbnQgPSBjaGFydEVsZW1lbnQ7XG4gICAgICAgIHRoaXMuY2F0ZWdvcnlBeGlzID0gY2F0ZWdvcnlBeGlzO1xuICAgICAgICB0aGlzLl9kYXRlQXhpcyA9IHRoaXMuY2F0ZWdvcnlBeGlzIGluc3RhbmNlb2YgRGF0ZUNhdGVnb3J5QXhpcztcblxuICAgICAgICB0aGlzLmluaXRPcHRpb25zKCk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy52aXNpYmxlICYmIGNoYXJ0RWxlbWVudC5vZmZzZXRIZWlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlRWxlbWVudHMoKTtcblxuICAgICAgICAgICAgdGhpcy5zZXQodGhpcy5faW5kZXgodGhpcy5vcHRpb25zLmZyb20pLCB0aGlzLl9pbmRleCh0aGlzLm9wdGlvbnMudG8pKTtcblxuICAgICAgICAgICAgdGhpcy5iaW5kRXZlbnRzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblBhbmUocGFuZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYXRlZ29yeUF4aXMucGFuZSA9PT0gcGFuZTtcbiAgICB9XG5cbiAgICBjcmVhdGVFbGVtZW50cygpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3Qgd3JhcHBlciA9IHRoaXMud3JhcHBlciA9IGNyZWF0ZURpdihcImstc2VsZWN0b3JcIik7XG4gICAgICAgIGVsZW1lbnRTdHlsZXMod3JhcHBlciwge1xuICAgICAgICAgICAgdG9wOiBvcHRpb25zLm9mZnNldC50b3AsXG4gICAgICAgICAgICBsZWZ0OiBvcHRpb25zLm9mZnNldC5sZWZ0LFxuICAgICAgICAgICAgd2lkdGg6IG9wdGlvbnMud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IG9wdGlvbnMuaGVpZ2h0LFxuICAgICAgICAgICAgZGlyZWN0aW9uOiAnbHRyJ1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gdGhpcy5zZWxlY3Rpb24gPSBjcmVhdGVEaXYoXCJrLXNlbGVjdGlvblwiKTtcbiAgICAgICAgdGhpcy5sZWZ0TWFzayA9IGNyZWF0ZURpdihcImstbWFza1wiKTtcbiAgICAgICAgdGhpcy5yaWdodE1hc2sgPSBjcmVhdGVEaXYoXCJrLW1hc2tcIik7XG5cbiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLmxlZnRNYXNrKTtcbiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLnJpZ2h0TWFzayk7XG4gICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoc2VsZWN0aW9uKTtcblxuICAgICAgICBzZWxlY3Rpb24uYXBwZW5kQ2hpbGQoY3JlYXRlRGl2KFwiay1zZWxlY3Rpb24tYmdcIikpO1xuXG4gICAgICAgIGNvbnN0IGxlZnRIYW5kbGUgPSB0aGlzLmxlZnRIYW5kbGUgPSBjcmVhdGVEaXYoXCJrLWhhbmRsZSBrLWxlZnQtaGFuZGxlXCIpO1xuICAgICAgICBjb25zdCByaWdodEhhbmRsZSA9IHRoaXMucmlnaHRIYW5kbGUgPSBjcmVhdGVEaXYoXCJrLWhhbmRsZSBrLXJpZ2h0LWhhbmRsZVwiKTtcbiAgICAgICAgbGVmdEhhbmRsZS5hcHBlbmRDaGlsZChjcmVhdGVEaXYoKSk7XG4gICAgICAgIHJpZ2h0SGFuZGxlLmFwcGVuZENoaWxkKGNyZWF0ZURpdigpKTtcblxuICAgICAgICBzZWxlY3Rpb24uYXBwZW5kQ2hpbGQobGVmdEhhbmRsZSk7XG4gICAgICAgIHNlbGVjdGlvbi5hcHBlbmRDaGlsZChyaWdodEhhbmRsZSk7XG5cbiAgICAgICAgdGhpcy5jaGFydEVsZW1lbnQuYXBwZW5kQ2hpbGQod3JhcHBlcik7XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvblN0eWxlcyA9IGVsZW1lbnRTdHlsZXMoc2VsZWN0aW9uLCBbIFwiYm9yZGVyTGVmdFdpZHRoXCIsIFwiYm9yZGVyUmlnaHRXaWR0aFwiLCBcImhlaWdodFwiIF0pO1xuICAgICAgICBjb25zdCBsZWZ0SGFuZGxlSGVpZ2h0ID0gZWxlbWVudFN0eWxlcyhsZWZ0SGFuZGxlLCBcImhlaWdodFwiKS5oZWlnaHQ7XG4gICAgICAgIGNvbnN0IHJpZ2h0SGFuZGxlSGVpZ2h0ID0gZWxlbWVudFN0eWxlcyhyaWdodEhhbmRsZSwgXCJoZWlnaHRcIikuaGVpZ2h0O1xuXG4gICAgICAgIG9wdGlvbnMuc2VsZWN0aW9uID0ge1xuICAgICAgICAgICAgYm9yZGVyOiB7XG4gICAgICAgICAgICAgICAgbGVmdDogc2VsZWN0aW9uU3R5bGVzLmJvcmRlckxlZnRXaWR0aCxcbiAgICAgICAgICAgICAgICByaWdodDogc2VsZWN0aW9uU3R5bGVzLmJvcmRlclJpZ2h0V2lkdGhcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBlbGVtZW50U3R5bGVzKGxlZnRIYW5kbGUsIHtcbiAgICAgICAgICAgIHRvcDogKHNlbGVjdGlvblN0eWxlcy5oZWlnaHQgLSBsZWZ0SGFuZGxlSGVpZ2h0KSAvIDJcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZWxlbWVudFN0eWxlcyhyaWdodEhhbmRsZSwge1xuICAgICAgICAgICAgdG9wOiAoc2VsZWN0aW9uU3R5bGVzLmhlaWdodCAtIHJpZ2h0SGFuZGxlSGVpZ2h0KSAvIDJcbiAgICAgICAgfSk7XG5cbiAgICAgICAgd3JhcHBlci5zdHlsZS5jc3NUZXh0ID0gd3JhcHBlci5zdHlsZS5jc3NUZXh0O1xuICAgIH1cblxuICAgIGJpbmRFdmVudHMoKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubW91c2V3aGVlbCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMuX21vdXNld2hlZWxIYW5kbGVyID0gdGhpcy5fbW91c2V3aGVlbC5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgYmluZEV2ZW50cyh0aGlzLndyYXBwZXIsIHtcbiAgICAgICAgICAgICAgICBbIE1PVVNFV0hFRUwgXTogdGhpcy5fbW91c2V3aGVlbEhhbmRsZXJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZG9tRXZlbnRzID0gRG9tRXZlbnRzQnVpbGRlci5jcmVhdGUodGhpcy53cmFwcGVyLCB7XG4gICAgICAgICAgICBzdG9wUHJvcGFnYXRpb246IHRydWUsIC8vIGFwcGxpY2FibGUgZm9yIHRoZSBqUXVlcnkgVXNlckV2ZW50c1xuICAgICAgICAgICAgc3RhcnQ6IHRoaXMuX3N0YXJ0LmJpbmQodGhpcyksXG4gICAgICAgICAgICBtb3ZlOiB0aGlzLl9tb3ZlLmJpbmQodGhpcyksXG4gICAgICAgICAgICBlbmQ6IHRoaXMuX2VuZC5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgdGFwOiB0aGlzLl90YXAuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIHByZXNzOiB0aGlzLl9wcmVzcy5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgZ2VzdHVyZXN0YXJ0OiB0aGlzLl9nZXN0dXJlc3RhcnQuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIGdlc3R1cmVjaGFuZ2U6IHRoaXMuX2dlc3R1cmVjaGFuZ2UuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIGdlc3R1cmVlbmQ6IHRoaXMuX2dlc3R1cmVlbmQuYmluZCh0aGlzKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpbml0T3B0aW9ucygpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBjYXRlZ29yeUF4aXMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGJveCA9IGNhdGVnb3J5QXhpcy5wYW5lLmNoYXJ0c0JveCgpO1xuICAgICAgICBjb25zdCBpbnRsU2VydmljZSA9IHRoaXMuY2hhcnQuY2hhcnRTZXJ2aWNlLmludGw7XG5cbiAgICAgICAgaWYgKHRoaXMuX2RhdGVBeGlzKSB7XG4gICAgICAgICAgICBkZWVwRXh0ZW5kKG9wdGlvbnMsIHtcbiAgICAgICAgICAgICAgICBtaW46IHBhcnNlRGF0ZShpbnRsU2VydmljZSwgb3B0aW9ucy5taW4pLFxuICAgICAgICAgICAgICAgIG1heDogcGFyc2VEYXRlKGludGxTZXJ2aWNlLCBvcHRpb25zLm1heCksXG4gICAgICAgICAgICAgICAgZnJvbTogcGFyc2VEYXRlKGludGxTZXJ2aWNlLCBvcHRpb25zLmZyb20pLFxuICAgICAgICAgICAgICAgIHRvOiBwYXJzZURhdGUoaW50bFNlcnZpY2UsIG9wdGlvbnMudG8pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgcGFkZGluZ0xlZnQsIHBhZGRpbmdUb3AgfSA9IGVsZW1lbnRTdHlsZXModGhpcy5jaGFydEVsZW1lbnQsIFsgXCJwYWRkaW5nTGVmdFwiLCBcInBhZGRpbmdUb3BcIiBdKTtcblxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCB7XG4gICAgICAgICAgICB3aWR0aDogYm94LndpZHRoKCksXG4gICAgICAgICAgICBoZWlnaHQ6IGJveC5oZWlnaHQoKSArIFNFTEVDVE9SX0hFSUdIVF9BREpVU1QsIC8vd29ya2Fyb3VuZCBmb3Igc3ViLXBpeGVsIGhvdmVyIG9uIHRoZSBwYXRocyBpbiBjaHJvbWVcbiAgICAgICAgICAgIHBhZGRpbmc6IHtcbiAgICAgICAgICAgICAgICBsZWZ0OiBwYWRkaW5nTGVmdCxcbiAgICAgICAgICAgICAgICB0b3A6IHBhZGRpbmdUb3BcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvZmZzZXQ6IHtcbiAgICAgICAgICAgICAgICBsZWZ0OiBib3gueDEgKyBwYWRkaW5nTGVmdCxcbiAgICAgICAgICAgICAgICB0b3A6IGJveC55MSArIHBhZGRpbmdUb3BcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmcm9tOiBvcHRpb25zLm1pbixcbiAgICAgICAgICAgIHRvOiBvcHRpb25zLm1heFxuICAgICAgICB9LCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5fZG9tRXZlbnRzKSB7XG4gICAgICAgICAgICB0aGlzLl9kb21FdmVudHMuZGVzdHJveSgpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2RvbUV2ZW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9td1RpbWVvdXQpO1xuICAgICAgICB0aGlzLl9zdGF0ZSA9IG51bGw7XG5cbiAgICAgICAgaWYgKHRoaXMud3JhcHBlcikge1xuICAgICAgICAgICAgaWYgKHRoaXMuX21vdXNld2hlZWxIYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgdW5iaW5kRXZlbnRzKHRoaXMud3JhcHBlciwge1xuICAgICAgICAgICAgICAgICAgICBbIE1PVVNFV0hFRUwgXTogdGhpcy5fbW91c2V3aGVlbEhhbmRsZXJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tb3VzZXdoZWVsSGFuZGxlciA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNoYXJ0RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLndyYXBwZXIpO1xuICAgICAgICAgICAgdGhpcy53cmFwcGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9yYW5nZUV2ZW50QXJncyhyYW5nZSkge1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBheGlzOiB0aGlzLmNhdGVnb3J5QXhpcy5vcHRpb25zLFxuICAgICAgICAgICAgZnJvbTogdGhpcy5fdmFsdWUocmFuZ2UuZnJvbSksXG4gICAgICAgICAgICB0bzogdGhpcy5fdmFsdWUocmFuZ2UudG8pXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgX3N0YXJ0KGUpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnRFbGVtZW50KGUpO1xuXG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZSB8fCAhdGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNoYXJ0Ll91bnNldEFjdGl2ZVBvaW50KCk7XG4gICAgICAgIHRoaXMuX3N0YXRlID0ge1xuICAgICAgICAgICAgbW92ZVRhcmdldDogY2xvc2VzdEhhbmRsZSh0YXJnZXQpIHx8IHRhcmdldCxcbiAgICAgICAgICAgIHN0YXJ0TG9jYXRpb246IGUueCA/IGUueC5sb2NhdGlvbiA6IDAsXG4gICAgICAgICAgICByYW5nZToge1xuICAgICAgICAgICAgICAgIGZyb206IHRoaXMuX2luZGV4KG9wdGlvbnMuZnJvbSksXG4gICAgICAgICAgICAgICAgdG86IHRoaXMuX2luZGV4KG9wdGlvbnMudG8pXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgYXJncyA9IHRoaXMuX3JhbmdlRXZlbnRBcmdzKHtcbiAgICAgICAgICAgIGZyb206IHRoaXMuX2luZGV4KG9wdGlvbnMuZnJvbSksXG4gICAgICAgICAgICB0bzogdGhpcy5faW5kZXgob3B0aW9ucy50bylcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMudHJpZ2dlcihTRUxFQ1RfU1RBUlQsIGFyZ3MpKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcHJlc3MoZSkge1xuICAgICAgICBsZXQgaGFuZGxlO1xuICAgICAgICBpZiAodGhpcy5fc3RhdGUpIHtcbiAgICAgICAgICAgIGhhbmRsZSA9IHRoaXMuX3N0YXRlLm1vdmVUYXJnZXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoYW5kbGUgPSBjbG9zZXN0SGFuZGxlKGV2ZW50RWxlbWVudChlKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhbmRsZSkge1xuICAgICAgICAgICAgYWRkQ2xhc3MoaGFuZGxlLCBcImstaGFuZGxlLWFjdGl2ZVwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9tb3ZlKGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9zdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBfc3RhdGU6IHN0YXRlLCBvcHRpb25zLCBjYXRlZ29yeUF4aXMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHsgcmFuZ2UsIG1vdmVUYXJnZXQ6IHRhcmdldCB9ID0gc3RhdGU7XG4gICAgICAgIGNvbnN0IHJldmVyc2UgPSBjYXRlZ29yeUF4aXMub3B0aW9ucy5yZXZlcnNlO1xuICAgICAgICBjb25zdCBmcm9tID0gdGhpcy5faW5kZXgob3B0aW9ucy5mcm9tKTtcbiAgICAgICAgY29uc3QgdG8gPSB0aGlzLl9pbmRleChvcHRpb25zLnRvKTtcbiAgICAgICAgY29uc3QgbWluID0gdGhpcy5faW5kZXgob3B0aW9ucy5taW4pO1xuICAgICAgICBjb25zdCBtYXggPSB0aGlzLl9pbmRleChvcHRpb25zLm1heCk7XG4gICAgICAgIGNvbnN0IGRlbHRhID0gc3RhdGUuc3RhcnRMb2NhdGlvbiAtIGUueC5sb2NhdGlvbjtcbiAgICAgICAgY29uc3Qgb2xkUmFuZ2UgPSB7IGZyb206IHJhbmdlLmZyb20sIHRvOiByYW5nZS50byB9O1xuICAgICAgICBjb25zdCBzcGFuID0gcmFuZ2UudG8gLSByYW5nZS5mcm9tO1xuICAgICAgICBjb25zdCBzY2FsZSA9IGVsZW1lbnRTdHlsZXModGhpcy53cmFwcGVyLCBcIndpZHRoXCIpLndpZHRoIC8gKGNhdGVnb3J5QXhpcy5jYXRlZ29yaWVzQ291bnQoKSAtIDEpO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSBNYXRoLnJvdW5kKGRlbHRhIC8gc2NhbGUpICogKHJldmVyc2UgPyAtMSA6IDEpO1xuXG4gICAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsZWZ0SGFuZGxlID0gaGFzQ2xhc3Nlcyh0YXJnZXQsIFwiay1sZWZ0LWhhbmRsZVwiKTtcbiAgICAgICAgY29uc3QgcmlnaHRIYW5kbGUgPSBoYXNDbGFzc2VzKHRhcmdldCwgXCJrLXJpZ2h0LWhhbmRsZVwiKTtcblxuICAgICAgICBpZiAoaGFzQ2xhc3Nlcyh0YXJnZXQsIFwiay1zZWxlY3Rpb24gay1zZWxlY3Rpb24tYmdcIikpIHtcbiAgICAgICAgICAgIHJhbmdlLmZyb20gPSBNYXRoLm1pbihcbiAgICAgICAgICAgICAgICBNYXRoLm1heChtaW4sIGZyb20gLSBvZmZzZXQpLFxuICAgICAgICAgICAgICAgIG1heCAtIHNwYW5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByYW5nZS50byA9IE1hdGgubWluKFxuICAgICAgICAgICAgICAgIHJhbmdlLmZyb20gKyBzcGFuLFxuICAgICAgICAgICAgICAgIG1heFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmICgobGVmdEhhbmRsZSAmJiAhcmV2ZXJzZSkgfHwgKHJpZ2h0SGFuZGxlICYmIHJldmVyc2UpKSB7XG4gICAgICAgICAgICByYW5nZS5mcm9tID0gTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgTWF0aC5tYXgobWluLCBmcm9tIC0gb2Zmc2V0KSxcbiAgICAgICAgICAgICAgICBtYXggLSAxXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmFuZ2UudG8gPSBNYXRoLm1heChyYW5nZS5mcm9tICsgMSwgcmFuZ2UudG8pO1xuICAgICAgICB9IGVsc2UgaWYgKChsZWZ0SGFuZGxlICYmIHJldmVyc2UpIHx8IChyaWdodEhhbmRsZSAmJiAhcmV2ZXJzZSkpIHtcbiAgICAgICAgICAgIHJhbmdlLnRvID0gTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgTWF0aC5tYXgobWluICsgMSwgdG8gLSBvZmZzZXQpLFxuICAgICAgICAgICAgICAgIG1heFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJhbmdlLmZyb20gPSBNYXRoLm1pbihyYW5nZS50byAtIDEsIHJhbmdlLmZyb20pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJhbmdlLmZyb20gIT09IG9sZFJhbmdlLmZyb20gfHwgcmFuZ2UudG8gIT09IG9sZFJhbmdlLnRvKSB7XG4gICAgICAgICAgICB0aGlzLm1vdmUocmFuZ2UuZnJvbSwgcmFuZ2UudG8pO1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKFNFTEVDVCwgdGhpcy5fcmFuZ2VFdmVudEFyZ3MocmFuZ2UpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9lbmQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZSkge1xuICAgICAgICAgICAgY29uc3QgbW92ZVRhcmdldCA9IHRoaXMuX3N0YXRlLm1vdmVUYXJnZXQ7XG4gICAgICAgICAgICBpZiAobW92ZVRhcmdldCkge1xuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKG1vdmVUYXJnZXQsIFwiay1oYW5kbGUtYWN0aXZlXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCByYW5nZSA9IHRoaXMuX3N0YXRlLnJhbmdlO1xuICAgICAgICAgICAgdGhpcy5zZXQocmFuZ2UuZnJvbSwgcmFuZ2UudG8pO1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKFNFTEVDVF9FTkQsIHRoaXMuX3JhbmdlRXZlbnRBcmdzKHJhbmdlKSk7XG5cbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9zdGF0ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF90YXAoZSkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIGNhdGVnb3J5QXhpcyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgY29vcmRzID0gdGhpcy5jaGFydC5fZXZlbnRDb29yZGluYXRlcyhlKTtcbiAgICAgICAgY29uc3QgY2F0ZWdvcnlJeCA9IGNhdGVnb3J5QXhpcy5wb2ludENhdGVnb3J5SW5kZXgobmV3IFBvaW50KGNvb3Jkcy54LCBjYXRlZ29yeUF4aXMuYm94LnkxKSk7XG4gICAgICAgIGNvbnN0IGZyb20gPSB0aGlzLl9pbmRleChvcHRpb25zLmZyb20pO1xuICAgICAgICBjb25zdCB0byA9IHRoaXMuX2luZGV4KG9wdGlvbnMudG8pO1xuICAgICAgICBjb25zdCBtaW4gPSB0aGlzLl9pbmRleChvcHRpb25zLm1pbik7XG4gICAgICAgIGNvbnN0IG1heCA9IHRoaXMuX2luZGV4KG9wdGlvbnMubWF4KTtcbiAgICAgICAgY29uc3Qgc3BhbiA9IHRvIC0gZnJvbTtcbiAgICAgICAgY29uc3QgbWlkID0gZnJvbSArIHNwYW4gLyAyO1xuICAgICAgICBjb25zdCByYW5nZSA9IHt9O1xuICAgICAgICBjb25zdCByaWdodENsaWNrID0gZS5ldmVudC53aGljaCA9PT0gMztcbiAgICAgICAgbGV0IG9mZnNldCA9IE1hdGgucm91bmQobWlkIC0gY2F0ZWdvcnlJeCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3N0YXRlIHx8IHJpZ2h0Q2xpY2spIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgdGhpcy5jaGFydC5fdW5zZXRBY3RpdmVQb2ludCgpO1xuXG4gICAgICAgIGlmICghY2F0ZWdvcnlBeGlzLm9wdGlvbnMuanVzdGlmaWVkKSB7XG4gICAgICAgICAgICBvZmZzZXQtLTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJhbmdlLmZyb20gPSBNYXRoLm1pbihcbiAgICAgICAgICAgIE1hdGgubWF4KG1pbiwgZnJvbSAtIG9mZnNldCksXG4gICAgICAgICAgICBtYXggLSBzcGFuXG4gICAgICAgICk7XG5cbiAgICAgICAgcmFuZ2UudG8gPSBNYXRoLm1pbihyYW5nZS5mcm9tICsgc3BhbiwgbWF4KTtcblxuICAgICAgICB0aGlzLl9zdGFydChlKTtcbiAgICAgICAgaWYgKHRoaXMuX3N0YXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZS5yYW5nZSA9IHJhbmdlO1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKFNFTEVDVCwgdGhpcy5fcmFuZ2VFdmVudEFyZ3MocmFuZ2UpKTtcbiAgICAgICAgICAgIHRoaXMuX2VuZCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX21vdXNld2hlZWwoZSkge1xuICAgICAgICBsZXQgZGVsdGEgPSBtb3VzZXdoZWVsRGVsdGEoZSk7XG5cbiAgICAgICAgdGhpcy5fc3RhcnQoeyB0YXJnZXQ6IHRoaXMuc2VsZWN0aW9uIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZSkge1xuICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSB0aGlzLl9zdGF0ZS5yYW5nZTtcblxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKGRlbHRhKSA+IDEpIHtcbiAgICAgICAgICAgICAgICBkZWx0YSAqPSBaT09NX0FDQ0VMRVJBVElPTjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5tb3VzZXdoZWVsLnJldmVyc2UpIHtcbiAgICAgICAgICAgICAgICBkZWx0YSAqPSAtMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuZXhwYW5kKGRlbHRhKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlcihTRUxFQ1QsIHtcbiAgICAgICAgICAgICAgICAgICAgYXhpczogdGhpcy5jYXRlZ29yeUF4aXMub3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgZGVsdGE6IGRlbHRhLFxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBlLFxuICAgICAgICAgICAgICAgICAgICBmcm9tOiB0aGlzLl92YWx1ZShyYW5nZS5mcm9tKSxcbiAgICAgICAgICAgICAgICAgICAgdG86IHRoaXMuX3ZhbHVlKHJhbmdlLnRvKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5fbXdUaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX213VGltZW91dCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX213VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VuZCgpO1xuICAgICAgICAgICAgfSwgTU9VU0VXSEVFTF9ERUxBWSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZ2VzdHVyZXN0YXJ0KGUpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICB0aGlzLl9zdGF0ZSA9IHtcbiAgICAgICAgICAgIHJhbmdlOiB7XG4gICAgICAgICAgICAgICAgZnJvbTogdGhpcy5faW5kZXgob3B0aW9ucy5mcm9tKSxcbiAgICAgICAgICAgICAgICB0bzogdGhpcy5faW5kZXgob3B0aW9ucy50bylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYXJncyA9IHRoaXMuX3JhbmdlRXZlbnRBcmdzKHRoaXMuX3N0YXRlLnJhbmdlKTtcblxuICAgICAgICBpZiAodGhpcy50cmlnZ2VyKFNFTEVDVF9TVEFSVCwgYXJncykpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9nZXN0dXJlZW5kKCkge1xuICAgICAgICBpZiAodGhpcy5fc3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcihTRUxFQ1RfRU5ELCB0aGlzLl9yYW5nZUV2ZW50QXJncyh0aGlzLl9zdGF0ZS5yYW5nZSkpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3N0YXRlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2dlc3R1cmVjaGFuZ2UoZSkge1xuICAgICAgICBjb25zdCB7IGNoYXJ0LCBfc3RhdGU6IHN0YXRlLCBvcHRpb25zLCBjYXRlZ29yeUF4aXMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gc3RhdGUucmFuZ2U7XG4gICAgICAgIGNvbnN0IHAwID0gY2hhcnQuX3RvTW9kZWxDb29yZGluYXRlcyhlLnRvdWNoZXNbMF0ueC5sb2NhdGlvbikueDtcbiAgICAgICAgY29uc3QgcDEgPSBjaGFydC5fdG9Nb2RlbENvb3JkaW5hdGVzKGUudG91Y2hlc1sxXS54LmxvY2F0aW9uKS54O1xuICAgICAgICBjb25zdCBsZWZ0ID0gTWF0aC5taW4ocDAsIHAxKTtcbiAgICAgICAgY29uc3QgcmlnaHQgPSBNYXRoLm1heChwMCwgcDEpO1xuXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICByYW5nZS5mcm9tID0gY2F0ZWdvcnlBeGlzLnBvaW50Q2F0ZWdvcnlJbmRleChuZXcgUG9pbnQobGVmdCkpIHx8IG9wdGlvbnMubWluO1xuXG4gICAgICAgIHJhbmdlLnRvID0gY2F0ZWdvcnlBeGlzLnBvaW50Q2F0ZWdvcnlJbmRleChuZXcgUG9pbnQocmlnaHQpKSB8fCBvcHRpb25zLm1heDtcblxuICAgICAgICB0aGlzLm1vdmUocmFuZ2UuZnJvbSwgcmFuZ2UudG8pO1xuXG4gICAgICAgIHRoaXMudHJpZ2dlcihTRUxFQ1QsIHRoaXMuX3JhbmdlRXZlbnRBcmdzKHJhbmdlKSk7XG4gICAgfVxuXG4gICAgX2luZGV4KHZhbHVlKSB7XG4gICAgICAgIGxldCBpbmRleCA9IHZhbHVlO1xuXG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgIGluZGV4ID0gdGhpcy5jYXRlZ29yeUF4aXMuY2F0ZWdvcnlJbmRleCh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgfVxuXG4gICAgX3ZhbHVlKGluZGV4KSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IGluZGV4O1xuICAgICAgICBpZiAodGhpcy5fZGF0ZUF4aXMpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdGhpcy5jYXRlZ29yeUF4aXMuY2F0ZWdvcnlBdChpbmRleCk7XG4gICAgICAgICAgICBpZiAodmFsdWUgPiB0aGlzLm9wdGlvbnMubWF4KSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLm9wdGlvbnMubWF4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIF9zbG90KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5QXhpcyA9IHRoaXMuY2F0ZWdvcnlBeGlzO1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuX2luZGV4KHZhbHVlKTtcblxuICAgICAgICByZXR1cm4gY2F0ZWdvcnlBeGlzLmdldFNsb3QoaW5kZXgsIGluZGV4LCB0cnVlKTtcbiAgICB9XG5cbiAgICBtb3ZlKGZyb20sIHRvKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHJldmVyc2UgPSB0aGlzLmNhdGVnb3J5QXhpcy5vcHRpb25zLnJldmVyc2U7XG4gICAgICAgIGNvbnN0IHsgb2Zmc2V0LCBwYWRkaW5nLCBzZWxlY3Rpb246IHsgYm9yZGVyIH0gfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGxlZnQgPSByZXZlcnNlID8gdG8gOiBmcm9tO1xuICAgICAgICBjb25zdCByaWdodCA9IHJldmVyc2UgPyBmcm9tIDogdG87XG4gICAgICAgIGNvbnN0IGVkZ2UgPSAneCcgKyAocmV2ZXJzZSA/IDIgOiAxKTtcblxuICAgICAgICBsZXQgYm94ID0gdGhpcy5fc2xvdChsZWZ0KTtcbiAgICAgICAgY29uc3QgbGVmdE1hc2tXaWR0aCA9IHJvdW5kKGJveFtlZGdlXSAtIG9mZnNldC5sZWZ0ICsgcGFkZGluZy5sZWZ0KTtcblxuICAgICAgICBlbGVtZW50U3R5bGVzKHRoaXMubGVmdE1hc2ssIHtcbiAgICAgICAgICAgIHdpZHRoOiBsZWZ0TWFza1dpZHRoXG4gICAgICAgIH0pO1xuICAgICAgICBlbGVtZW50U3R5bGVzKHRoaXMuc2VsZWN0aW9uLCB7XG4gICAgICAgICAgICBsZWZ0OiBsZWZ0TWFza1dpZHRoXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGJveCA9IHRoaXMuX3Nsb3QocmlnaHQpO1xuXG4gICAgICAgIGNvbnN0IHJpZ2h0TWFza1dpZHRoID0gcm91bmQob3B0aW9ucy53aWR0aCAtIChib3hbZWRnZV0gLSBvZmZzZXQubGVmdCArIHBhZGRpbmcubGVmdCkpO1xuICAgICAgICBlbGVtZW50U3R5bGVzKHRoaXMucmlnaHRNYXNrLCB7XG4gICAgICAgICAgICB3aWR0aDogcmlnaHRNYXNrV2lkdGhcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IGRpc3RhbmNlID0gb3B0aW9ucy53aWR0aCAtIHJpZ2h0TWFza1dpZHRoO1xuICAgICAgICBpZiAoZGlzdGFuY2UgIT09IG9wdGlvbnMud2lkdGgpIHtcbiAgICAgICAgICAgIGRpc3RhbmNlICs9IGJvcmRlci5yaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsZW1lbnRTdHlsZXModGhpcy5yaWdodE1hc2ssIHtcbiAgICAgICAgICAgIGxlZnQ6IGRpc3RhbmNlXG4gICAgICAgIH0pO1xuICAgICAgICBlbGVtZW50U3R5bGVzKHRoaXMuc2VsZWN0aW9uLCB7XG4gICAgICAgICAgICB3aWR0aDogTWF0aC5tYXgob3B0aW9ucy53aWR0aCAtIChsZWZ0TWFza1dpZHRoICsgcmlnaHRNYXNrV2lkdGgpIC0gYm9yZGVyLnJpZ2h0LCAwKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzZXQoZnJvbSwgdG8pIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgbWluID0gdGhpcy5faW5kZXgob3B0aW9ucy5taW4pO1xuICAgICAgICBjb25zdCBtYXggPSB0aGlzLl9pbmRleChvcHRpb25zLm1heCk7XG4gICAgICAgIGNvbnN0IGZyb21WYWx1ZSA9IGxpbWl0VmFsdWUodGhpcy5faW5kZXgoZnJvbSksIG1pbiwgbWF4KTtcbiAgICAgICAgY29uc3QgdG9WYWx1ZSA9IGxpbWl0VmFsdWUodGhpcy5faW5kZXgodG8pLCBmcm9tVmFsdWUgKyAxLCBtYXgpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMubW92ZShmcm9tVmFsdWUsIHRvVmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0aW9ucy5mcm9tID0gdGhpcy5fdmFsdWUoZnJvbVZhbHVlKTtcbiAgICAgICAgb3B0aW9ucy50byA9IHRoaXMuX3ZhbHVlKHRvVmFsdWUpO1xuICAgIH1cblxuICAgIGV4cGFuZChkZWx0YSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBtaW4gPSB0aGlzLl9pbmRleChvcHRpb25zLm1pbik7XG4gICAgICAgIGNvbnN0IG1heCA9IHRoaXMuX2luZGV4KG9wdGlvbnMubWF4KTtcbiAgICAgICAgY29uc3QgekRpciA9IG9wdGlvbnMubW91c2V3aGVlbC56b29tO1xuICAgICAgICBjb25zdCBmcm9tID0gdGhpcy5faW5kZXgob3B0aW9ucy5mcm9tKTtcbiAgICAgICAgY29uc3QgdG8gPSB0aGlzLl9pbmRleChvcHRpb25zLnRvKTtcbiAgICAgICAgbGV0IHJhbmdlID0geyBmcm9tOiBmcm9tLCB0bzogdG8gfTtcbiAgICAgICAgY29uc3Qgb2xkUmFuZ2UgPSBkZWVwRXh0ZW5kKHt9LCByYW5nZSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3N0YXRlKSB7XG4gICAgICAgICAgICByYW5nZSA9IHRoaXMuX3N0YXRlLnJhbmdlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHpEaXIgIT09IFJJR0hUKSB7XG4gICAgICAgICAgICByYW5nZS5mcm9tID0gbGltaXRWYWx1ZShcbiAgICAgICAgICAgICAgICBsaW1pdFZhbHVlKGZyb20gLSBkZWx0YSwgMCwgdG8gLSAxKSxcbiAgICAgICAgICAgICAgICBtaW4sIG1heFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh6RGlyICE9PSBMRUZUKSB7XG4gICAgICAgICAgICByYW5nZS50byA9IGxpbWl0VmFsdWUoXG4gICAgICAgICAgICAgICAgbGltaXRWYWx1ZSh0byArIGRlbHRhLCByYW5nZS5mcm9tICsgMSwgbWF4KSxcbiAgICAgICAgICAgICAgICBtaW4sXG4gICAgICAgICAgICAgICAgbWF4XG4gICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyYW5nZS5mcm9tICE9PSBvbGRSYW5nZS5mcm9tIHx8IHJhbmdlLnRvICE9PSBvbGRSYW5nZS50bykge1xuICAgICAgICAgICAgdGhpcy5zZXQocmFuZ2UuZnJvbSwgcmFuZ2UudG8pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0cmlnZ2VyKG5hbWUsIGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLm9ic2VydmVyIHx8IHRoaXMuY2hhcnQpLnRyaWdnZXIobmFtZSwgYXJncyk7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhTZWxlY3Rpb24sIHtcbiAgICB2aXNpYmxlOiB0cnVlLFxuICAgIG1vdXNld2hlZWw6IHtcbiAgICAgICAgem9vbTogXCJib3RoXCJcbiAgICB9LFxuICAgIG1pbjogTUlOX1ZBTFVFLFxuICAgIG1heDogTUFYX1ZBTFVFXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgU2VsZWN0aW9uO1xuIiwiaW1wb3J0IEJhc2VUb29sdGlwIGZyb20gJy4vYmFzZS10b29sdGlwJztcblxuaW1wb3J0IHsgZGVlcEV4dGVuZCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIFRvb2x0aXAgZXh0ZW5kcyBCYXNlVG9vbHRpcCB7XG4gICAgc2hvdyhwb2ludCkge1xuICAgICAgICBpZiAoIXBvaW50IHx8ICFwb2ludC50b29sdGlwQW5jaG9yIHx8ICh0aGlzLl9jdXJyZW50ICYmIHRoaXMuX2N1cnJlbnQgPT09IHBvaW50KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIHRoaXMub3B0aW9ucywgcG9pbnQub3B0aW9ucy50b29sdGlwKTtcbiAgICAgICAgY29uc3QgYW5jaG9yID0gcG9pbnQudG9vbHRpcEFuY2hvcigpO1xuXG4gICAgICAgIGlmIChhbmNob3IpIHtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnQgPSBwb2ludDtcbiAgICAgICAgICAgIHN1cGVyLnNob3coe1xuICAgICAgICAgICAgICAgIHBvaW50OiBwb2ludCxcbiAgICAgICAgICAgICAgICBhbmNob3I6IGFuY2hvclxuICAgICAgICAgICAgfSwgb3B0aW9ucywgcG9pbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoaWRlKCkge1xuICAgICAgICBkZWxldGUgdGhpcy5fY3VycmVudDtcbiAgICAgICAgc3VwZXIuaGlkZSgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVG9vbHRpcDsiLCJpbXBvcnQgQmFzZVRvb2x0aXAgZnJvbSAnLi9iYXNlLXRvb2x0aXAnO1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICcuLi8uLi9jb3JlJztcblxuaW1wb3J0IHsgZ3JlcCwgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBTaGFyZWRUb29sdGlwIGV4dGVuZHMgQmFzZVRvb2x0aXAge1xuICAgIGNvbnN0cnVjdG9yKHBsb3RBcmVhLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHBsb3RBcmVhLmNoYXJ0U2VydmljZSwgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5wbG90QXJlYSA9IHBsb3RBcmVhO1xuICAgICAgICB0aGlzLmZvcm1hdFNlcnZpY2UgPSBwbG90QXJlYS5jaGFydFNlcnZpY2UuZm9ybWF0O1xuICAgIH1cblxuICAgIHNob3dBdChwb2ludHMsIGNvb3Jkcykge1xuICAgICAgICBjb25zdCB0b29sdGlwUG9pbnRzID0gZ3JlcChwb2ludHMsIGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgICAgICAgICBjb25zdCB0b29sdGlwID0gcG9pbnQuc2VyaWVzLnRvb2x0aXA7XG4gICAgICAgICAgICBjb25zdCBleGNsdWRlZCA9IHRvb2x0aXAgJiYgdG9vbHRpcC52aXNpYmxlID09PSBmYWxzZTtcblxuICAgICAgICAgICAgcmV0dXJuICFleGNsdWRlZDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRvb2x0aXBQb2ludHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSB0b29sdGlwUG9pbnRzWzBdO1xuICAgICAgICAgICAgY29uc3Qgc2xvdCA9IHRoaXMucGxvdEFyZWEuY2F0ZWdvcnlBeGlzLmdldFNsb3QocG9pbnQuY2F0ZWdvcnlJeCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGFuY2hvciA9IGNvb3JkcyA/IHRoaXMuX3Nsb3RBbmNob3IoY29vcmRzLCBzbG90KSA6IHRoaXMuX2RlZmF1bHRBbmNob3IocG9pbnQsIHNsb3QpO1xuXG4gICAgICAgICAgICB0aGlzLnNob3coe1xuICAgICAgICAgICAgICAgIGFuY2hvcjogYW5jaG9yLFxuICAgICAgICAgICAgICAgIHNoYXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwb2ludHM6IHBvaW50cyxcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogcG9pbnQuY2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnlUZXh0OiB0aGlzLmZvcm1hdFNlcnZpY2UuYXV0byh0aGlzLm9wdGlvbnMuY2F0ZWdvcnlGb3JtYXQsIHBvaW50LmNhdGVnb3J5KSxcbiAgICAgICAgICAgICAgICBzZXJpZXM6IHRoaXMucGxvdEFyZWEuc2VyaWVzXG4gICAgICAgICAgICB9LCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3Nsb3RBbmNob3IocG9pbnQsIHNsb3QpIHtcbiAgICAgICAgY29uc3QgYXhpcyA9IHRoaXMucGxvdEFyZWEuY2F0ZWdvcnlBeGlzO1xuICAgICAgICBjb25zdCBhbGlnbiA9IHtcbiAgICAgICAgICAgIGhvcml6b250YWw6IFwibGVmdFwiLFxuICAgICAgICAgICAgdmVydGljYWw6IFwiY2VudGVyXCJcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoIWF4aXMub3B0aW9ucy52ZXJ0aWNhbCkge1xuICAgICAgICAgICAgcG9pbnQueCA9IHNsb3QuY2VudGVyKCkueDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwb2ludDogcG9pbnQsXG4gICAgICAgICAgICBhbGlnbjogYWxpZ25cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfZGVmYXVsdEFuY2hvcihwb2ludCwgc2xvdCkge1xuICAgICAgICBjb25zdCBib3ggPSBwb2ludC5vd25lci5wYW5lLmNoYXJ0c0JveCgpO1xuICAgICAgICBjb25zdCB2ZXJ0aWNhbCA9IHRoaXMucGxvdEFyZWEuY2F0ZWdvcnlBeGlzLm9wdGlvbnMudmVydGljYWw7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IGJveC5jZW50ZXIoKTtcbiAgICAgICAgY29uc3Qgc2xvdENlbnRlciA9IHNsb3QuY2VudGVyKCk7XG4gICAgICAgIGNvbnN0IGFsaWduID0ge1xuICAgICAgICAgICAgaG9yaXpvbnRhbDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIHZlcnRpY2FsOiBcImNlbnRlclwiXG4gICAgICAgIH07XG5cbiAgICAgICAgbGV0IGNlbnRlclBvaW50O1xuICAgICAgICBpZiAodmVydGljYWwpIHtcbiAgICAgICAgICAgIGNlbnRlclBvaW50ID0gbmV3IFBvaW50KGNlbnRlci54LCBzbG90Q2VudGVyLnkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2VudGVyUG9pbnQgPSBuZXcgUG9pbnQoc2xvdENlbnRlci54LCBjZW50ZXIueSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcG9pbnQ6IGNlbnRlclBvaW50LFxuICAgICAgICAgICAgYWxpZ246IGFsaWduXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhTaGFyZWRUb29sdGlwLCB7XG4gICAgY2F0ZWdvcnlGb3JtYXQ6ICd7MDpkfSdcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBTaGFyZWRUb29sdGlwOyIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdywgZ2VvbWV0cnkgYXMgZ2VvbSB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHsgSU5JVElBTF9BTklNQVRJT05fRFVSQVRJT04sIEJBUiwgU1RBUlRfU0NBTEUgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5pbXBvcnQgeyBYLCBZIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBpbnRlcnBvbGF0ZVZhbHVlLCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIEJhckNoYXJ0QW5pbWF0aW9uIGV4dGVuZHMgZHJhdy5BbmltYXRpb24ge1xuXG4gICAgc2V0dXAoKSB7XG4gICAgICAgIGNvbnN0IHsgZWxlbWVudCwgb3B0aW9ucyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgYmJveCA9IGVsZW1lbnQuYmJveCgpO1xuXG4gICAgICAgIGlmIChiYm94KSB7XG4gICAgICAgICAgICB0aGlzLm9yaWdpbiA9IG9wdGlvbnMub3JpZ2luO1xuICAgICAgICAgICAgY29uc3QgYXhpcyA9IG9wdGlvbnMudmVydGljYWwgPyBZIDogWDtcblxuICAgICAgICAgICAgY29uc3QgZnJvbVNjYWxlID0gdGhpcy5mcm9tU2NhbGUgPSBuZXcgZ2VvbS5Qb2ludCgxLCAxKTtcbiAgICAgICAgICAgIGZyb21TY2FsZVtheGlzXSA9IFNUQVJUX1NDQUxFO1xuXG4gICAgICAgICAgICBlbGVtZW50LnRyYW5zZm9ybShnZW9tLnRyYW5zZm9ybSgpXG4gICAgICAgICAgICAgICAgLnNjYWxlKGZyb21TY2FsZS54LCBmcm9tU2NhbGUueSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFib3J0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGVwKHBvcykge1xuICAgICAgICBjb25zdCBzY2FsZVggPSBpbnRlcnBvbGF0ZVZhbHVlKHRoaXMuZnJvbVNjYWxlLngsIDEsIHBvcyk7XG4gICAgICAgIGNvbnN0IHNjYWxlWSA9IGludGVycG9sYXRlVmFsdWUodGhpcy5mcm9tU2NhbGUueSwgMSwgcG9zKTtcblxuICAgICAgICB0aGlzLmVsZW1lbnQudHJhbnNmb3JtKGdlb20udHJhbnNmb3JtKClcbiAgICAgICAgICAgIC5zY2FsZShzY2FsZVgsIHNjYWxlWSwgdGhpcy5vcmlnaW4pXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYWJvcnQoKSB7XG4gICAgICAgIHN1cGVyLmFib3J0KCk7XG4gICAgICAgIHRoaXMuZWxlbWVudC50cmFuc2Zvcm0obnVsbCk7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhCYXJDaGFydEFuaW1hdGlvbiwge1xuICAgIGR1cmF0aW9uOiBJTklUSUFMX0FOSU1BVElPTl9EVVJBVElPTlxufSk7XG5cbmRyYXcuQW5pbWF0aW9uRmFjdG9yeS5jdXJyZW50LnJlZ2lzdGVyKEJBUiwgQmFyQ2hhcnRBbmltYXRpb24pO1xuXG5leHBvcnQgZGVmYXVsdCBCYXJDaGFydEFuaW1hdGlvbjsiLCJpbXBvcnQgeyBkcmF3aW5nIGFzIGRyYXcsIGdlb21ldHJ5IGFzIGdlb20gfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCB7IFNUQVJUX1NDQUxFLCBCVUJCTEUgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5pbXBvcnQgeyBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIEJ1YmJsZUFuaW1hdGlvbiBleHRlbmRzIGRyYXcuQW5pbWF0aW9uIHtcbiAgICBzZXR1cCgpIHtcbiAgICAgICAgY29uc3QgY2VudGVyID0gdGhpcy5jZW50ZXIgPSB0aGlzLmVsZW1lbnQuYmJveCgpLmNlbnRlcigpO1xuICAgICAgICB0aGlzLmVsZW1lbnQudHJhbnNmb3JtKGdlb20udHJhbnNmb3JtKClcbiAgICAgICAgICAgIC5zY2FsZShTVEFSVF9TQ0FMRSwgU1RBUlRfU0NBTEUsIGNlbnRlcilcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBzdGVwKHBvcykge1xuICAgICAgICB0aGlzLmVsZW1lbnQudHJhbnNmb3JtKGdlb20udHJhbnNmb3JtKClcbiAgICAgICAgICAgIC5zY2FsZShwb3MsIHBvcywgdGhpcy5jZW50ZXIpXG4gICAgICAgICk7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhCdWJibGVBbmltYXRpb24sIHtcbiAgICBlYXNpbmc6IFwiZWFzZU91dEVsYXN0aWNcIlxufSk7XG5cbmRyYXcuQW5pbWF0aW9uRmFjdG9yeS5jdXJyZW50LnJlZ2lzdGVyKEJVQkJMRSwgQnViYmxlQW5pbWF0aW9uKTtcblxuZXhwb3J0IGRlZmF1bHQgQnViYmxlQW5pbWF0aW9uOyIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHsgRkFERUlOIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuaW1wb3J0IHsgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBGYWRlSW5BbmltYXRpb24gZXh0ZW5kcyBkcmF3LkFuaW1hdGlvbiB7XG4gICAgc2V0dXAoKSB7XG4gICAgICAgIHRoaXMuZmFkZVRvID0gdGhpcy5lbGVtZW50Lm9wYWNpdHkoKTtcbiAgICAgICAgdGhpcy5lbGVtZW50Lm9wYWNpdHkoMCk7XG4gICAgfVxuXG4gICAgc3RlcChwb3MpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50Lm9wYWNpdHkocG9zICogdGhpcy5mYWRlVG8pO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoRmFkZUluQW5pbWF0aW9uLCB7XG4gICAgZHVyYXRpb246IDIwMCxcbiAgICBlYXNpbmc6IFwibGluZWFyXCJcbn0pO1xuXG5kcmF3LkFuaW1hdGlvbkZhY3RvcnkuY3VycmVudC5yZWdpc3RlcihGQURFSU4sIEZhZGVJbkFuaW1hdGlvbik7XG5cbmV4cG9ydCBkZWZhdWx0IEZhZGVJbkFuaW1hdGlvbjsiLCJpbXBvcnQgeyBkcmF3aW5nIGFzIGRyYXcsIGdlb21ldHJ5IGFzIGdlb20gfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCB7IFNUQVJUX1NDQUxFLCBJTklUSUFMX0FOSU1BVElPTl9EVVJBVElPTiwgUElFIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuaW1wb3J0IHsgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBQaWVBbmltYXRpb24gZXh0ZW5kcyBkcmF3LkFuaW1hdGlvbiB7XG4gICAgc2V0dXAoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC50cmFuc2Zvcm0oZ2VvbS50cmFuc2Zvcm0oKVxuICAgICAgICAgICAgLnNjYWxlKFNUQVJUX1NDQUxFLCBTVEFSVF9TQ0FMRSwgdGhpcy5vcHRpb25zLmNlbnRlcilcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBzdGVwKHBvcykge1xuICAgICAgICB0aGlzLmVsZW1lbnQudHJhbnNmb3JtKGdlb20udHJhbnNmb3JtKClcbiAgICAgICAgICAgIC5zY2FsZShwb3MsIHBvcywgdGhpcy5vcHRpb25zLmNlbnRlcilcbiAgICAgICAgKTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKFBpZUFuaW1hdGlvbiwge1xuICAgIGVhc2luZzogXCJlYXNlT3V0RWxhc3RpY1wiLFxuICAgIGR1cmF0aW9uOiBJTklUSUFMX0FOSU1BVElPTl9EVVJBVElPTlxufSk7XG5cbmRyYXcuQW5pbWF0aW9uRmFjdG9yeS5jdXJyZW50LnJlZ2lzdGVyKFBJRSwgUGllQW5pbWF0aW9uKTtcblxuZXhwb3J0IGRlZmF1bHQgUGllQW5pbWF0aW9uOyIsImltcG9ydCBTY2F0dGVyQ2hhcnQgZnJvbSAnLi9zY2F0dGVyLWNoYXJ0JztcbmltcG9ydCBMaW5lQ2hhcnRNaXhpbiBmcm9tICcuLi9taXhpbnMvbGluZS1jaGFydC1taXhpbic7XG5pbXBvcnQgTGluZVNlZ21lbnQgZnJvbSAnLi4vbGluZS1jaGFydC9saW5lLXNlZ21lbnQnO1xuaW1wb3J0IFNwbGluZVNlZ21lbnQgZnJvbSAnLi4vbGluZS1jaGFydC9zcGxpbmUtc2VnbWVudCc7XG5cbmltcG9ydCB7IFNNT09USCwgWkVSTyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmltcG9ydCBoYXNWYWx1ZSBmcm9tICcuLi91dGlscy9oYXMtdmFsdWUnO1xuXG5pbXBvcnQgeyBkZWVwRXh0ZW5kIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgU2NhdHRlckxpbmVDaGFydCBleHRlbmRzIFNjYXR0ZXJDaGFydCB7XG4gICAgcmVuZGVyKCkge1xuICAgICAgICBzdXBlci5yZW5kZXIoKTtcblxuICAgICAgICB0aGlzLnJlbmRlclNlZ21lbnRzKCk7XG4gICAgfVxuXG4gICAgY3JlYXRlU2VnbWVudChsaW5lUG9pbnRzLCBjdXJyZW50U2VyaWVzLCBzZXJpZXNJeCkge1xuICAgICAgICBjb25zdCBzdHlsZSA9IGN1cnJlbnRTZXJpZXMuc3R5bGU7XG4gICAgICAgIGxldCBwb2ludFR5cGU7XG5cbiAgICAgICAgaWYgKHN0eWxlID09PSBTTU9PVEgpIHtcbiAgICAgICAgICAgIHBvaW50VHlwZSA9IFNwbGluZVNlZ21lbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwb2ludFR5cGUgPSBMaW5lU2VnbWVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgcG9pbnRUeXBlKGxpbmVQb2ludHMsIGN1cnJlbnRTZXJpZXMsIHNlcmllc0l4KTtcbiAgICB9XG5cbiAgICBhbmltYXRpb25Qb2ludHMoKSB7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IHN1cGVyLmFuaW1hdGlvblBvaW50cygpO1xuICAgICAgICByZXR1cm4gcG9pbnRzLmNvbmNhdCh0aGlzLl9zZWdtZW50cyk7XG4gICAgfVxuXG4gICAgY3JlYXRlTWlzc2luZ1ZhbHVlKHZhbHVlLCBtaXNzaW5nVmFsdWVzKSB7XG4gICAgICAgIGlmIChtaXNzaW5nVmFsdWVzID09PSBaRVJPKSB7XG4gICAgICAgICAgICBjb25zdCBtaXNzaW5nVmFsdWUgPSB7XG4gICAgICAgICAgICAgICAgeDogdmFsdWUueCxcbiAgICAgICAgICAgICAgICB5OiB2YWx1ZS55XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKCFoYXNWYWx1ZShtaXNzaW5nVmFsdWUueCkpIHtcbiAgICAgICAgICAgICAgICBtaXNzaW5nVmFsdWUueCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWhhc1ZhbHVlKG1pc3NpbmdWYWx1ZS55KSkge1xuICAgICAgICAgICAgICAgIG1pc3NpbmdWYWx1ZS55ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtaXNzaW5nVmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmRlZXBFeHRlbmQoU2NhdHRlckxpbmVDaGFydC5wcm90b3R5cGUsIExpbmVDaGFydE1peGluKTtcblxuZXhwb3J0IGRlZmF1bHQgU2NhdHRlckxpbmVDaGFydDsiLCJpbXBvcnQgUGxvdEFyZWFCYXNlIGZyb20gJy4vcGxvdGFyZWEtYmFzZSc7XG5pbXBvcnQgQXhpc0dyb3VwUmFuZ2VUcmFja2VyIGZyb20gJy4uL2F4aXMtZ3JvdXAtcmFuZ2UtdHJhY2tlcic7XG5pbXBvcnQgUGxvdEFyZWFFdmVudHNNaXhpbiBmcm9tICcuLi9taXhpbnMvcGxvdGFyZWEtZXZlbnRzLW1peGluJztcbmltcG9ydCBTY2F0dGVyQ2hhcnQgZnJvbSAnLi4vc2NhdHRlci1jaGFydHMvc2NhdHRlci1jaGFydCc7XG5pbXBvcnQgU2NhdHRlckxpbmVDaGFydCBmcm9tICcuLi9zY2F0dGVyLWNoYXJ0cy9zY2F0dGVyLWxpbmUtY2hhcnQnO1xuaW1wb3J0IEJ1YmJsZUNoYXJ0IGZyb20gJy4uL2J1YmJsZS1jaGFydC9idWJibGUtY2hhcnQnO1xuaW1wb3J0IFNlcmllc0JpbmRlciBmcm9tICcuLi9zZXJpZXMtYmluZGVyJztcblxuaW1wb3J0IHsgTnVtZXJpY0F4aXMsIExvZ2FyaXRobWljQXhpcywgRGF0ZVZhbHVlQXhpcywgUG9pbnQgfSBmcm9tICcuLi8uLi9jb3JlJztcblxuaW1wb3J0IGZpbHRlclNlcmllc0J5VHlwZSBmcm9tICcuLi91dGlscy9maWx0ZXItc2VyaWVzLWJ5LXR5cGUnO1xuaW1wb3J0IGVxdWFsc0lnbm9yZUNhc2UgZnJvbSAnLi4vdXRpbHMvZXF1YWxzLWlnbm9yZS1jYXNlJztcbmltcG9ydCBzaW5nbGVJdGVtT3JBcnJheSBmcm9tICcuLi91dGlscy9zaW5nbGUtaXRlbS1vci1hcnJheSc7XG5cbmltcG9ydCB7IFNDQVRURVIsIFNDQVRURVJfTElORSwgQlVCQkxFLCBMT0dBUklUSE1JQyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmltcG9ydCB7IERBVEUgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGRlZXBFeHRlbmQsIGV2ZW50RWxlbWVudCwgZ3JlcCwgaW5BcnJheSwgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBYWVBsb3RBcmVhIGV4dGVuZHMgUGxvdEFyZWFCYXNlIHtcbiAgICBpbml0RmllbGRzKCkge1xuICAgICAgICB0aGlzLm5hbWVkWEF4ZXMgPSB7fTtcbiAgICAgICAgdGhpcy5uYW1lZFlBeGVzID0ge307XG5cbiAgICAgICAgdGhpcy54QXhpc1JhbmdlVHJhY2tlciA9IG5ldyBBeGlzR3JvdXBSYW5nZVRyYWNrZXIoKTtcbiAgICAgICAgdGhpcy55QXhpc1JhbmdlVHJhY2tlciA9IG5ldyBBeGlzR3JvdXBSYW5nZVRyYWNrZXIoKTtcbiAgICB9XG5cbiAgICByZW5kZXIocGFuZXMgPSB0aGlzLnBhbmVzKSB7XG4gICAgICAgIGNvbnN0IHNlcmllc0J5UGFuZSA9IHRoaXMuZ3JvdXBTZXJpZXNCeVBhbmUoKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwYW5lID0gcGFuZXNbaV07XG4gICAgICAgICAgICBjb25zdCBwYW5lU2VyaWVzID0gc2VyaWVzQnlQYW5lW3BhbmUub3B0aW9ucy5uYW1lIHx8IFwiZGVmYXVsdFwiXSB8fCBbXTtcbiAgICAgICAgICAgIHRoaXMuYWRkVG9MZWdlbmQocGFuZVNlcmllcyk7XG4gICAgICAgICAgICBjb25zdCBmaWx0ZXJlZFNlcmllcyA9IHRoaXMuZmlsdGVyVmlzaWJsZVNlcmllcyhwYW5lU2VyaWVzKTtcblxuICAgICAgICAgICAgaWYgKCFmaWx0ZXJlZFNlcmllcykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVNjYXR0ZXJDaGFydChcbiAgICAgICAgICAgICAgICBmaWx0ZXJTZXJpZXNCeVR5cGUoZmlsdGVyZWRTZXJpZXMsIFNDQVRURVIpLFxuICAgICAgICAgICAgICAgIHBhbmVcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHRoaXMuY3JlYXRlU2NhdHRlckxpbmVDaGFydChcbiAgICAgICAgICAgICAgICBmaWx0ZXJTZXJpZXNCeVR5cGUoZmlsdGVyZWRTZXJpZXMsIFNDQVRURVJfTElORSksXG4gICAgICAgICAgICAgICAgcGFuZVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgdGhpcy5jcmVhdGVCdWJibGVDaGFydChcbiAgICAgICAgICAgICAgICBmaWx0ZXJTZXJpZXNCeVR5cGUoZmlsdGVyZWRTZXJpZXMsIEJVQkJMRSksXG4gICAgICAgICAgICAgICAgcGFuZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY3JlYXRlQXhlcyhwYW5lcyk7XG4gICAgfVxuXG4gICAgYXBwZW5kQ2hhcnQoY2hhcnQsIHBhbmUpIHtcbiAgICAgICAgdGhpcy54QXhpc1JhbmdlVHJhY2tlci51cGRhdGUoY2hhcnQueEF4aXNSYW5nZXMpO1xuICAgICAgICB0aGlzLnlBeGlzUmFuZ2VUcmFja2VyLnVwZGF0ZShjaGFydC55QXhpc1Jhbmdlcyk7XG5cbiAgICAgICAgc3VwZXIuYXBwZW5kQ2hhcnQoY2hhcnQsIHBhbmUpO1xuICAgIH1cblxuICAgIHJlbW92ZUF4aXMoYXhpcykge1xuICAgICAgICBjb25zdCBheGlzTmFtZSA9IGF4aXMub3B0aW9ucy5uYW1lO1xuXG4gICAgICAgIHN1cGVyLnJlbW92ZUF4aXMoYXhpcyk7XG5cbiAgICAgICAgaWYgKGF4aXMub3B0aW9ucy52ZXJ0aWNhbCkge1xuICAgICAgICAgICAgdGhpcy55QXhpc1JhbmdlVHJhY2tlci5yZXNldChheGlzTmFtZSk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5uYW1lZFlBeGVzW2F4aXNOYW1lXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMueEF4aXNSYW5nZVRyYWNrZXIucmVzZXQoYXhpc05hbWUpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMubmFtZWRYQXhlc1theGlzTmFtZV07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXhpcyA9PT0gdGhpcy5heGlzWCkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuYXhpc1g7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXhpcyA9PT0gdGhpcy5heGlzWSkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuYXhpc1k7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUT0RPOiBSZWZhY3Rvciwgb3B0aW9uYWxseSB1c2Ugc2VyaWVzLnBhbmUgb3B0aW9uXG4gICAgc2VyaWVzUGFuZU5hbWUoc2VyaWVzKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHhBeGlzTmFtZSA9IHNlcmllcy54QXhpcztcbiAgICAgICAgY29uc3QgeEF4aXNPcHRpb25zID0gW10uY29uY2F0KG9wdGlvbnMueEF4aXMpO1xuICAgICAgICBjb25zdCB4QXhpcyA9IGdyZXAoeEF4aXNPcHRpb25zLCBmdW5jdGlvbihhKSB7IHJldHVybiBhLm5hbWUgPT09IHhBeGlzTmFtZTsgfSlbMF07XG4gICAgICAgIGNvbnN0IHlBeGlzTmFtZSA9IHNlcmllcy55QXhpcztcbiAgICAgICAgY29uc3QgeUF4aXNPcHRpb25zID0gW10uY29uY2F0KG9wdGlvbnMueUF4aXMpO1xuICAgICAgICBjb25zdCB5QXhpcyA9IGdyZXAoeUF4aXNPcHRpb25zLCBmdW5jdGlvbihhKSB7IHJldHVybiBhLm5hbWUgPT09IHlBeGlzTmFtZTsgfSlbMF07XG4gICAgICAgIGNvbnN0IHBhbmVzID0gb3B0aW9ucy5wYW5lcyB8fCBbIHt9IF07XG4gICAgICAgIGNvbnN0IGRlZmF1bHRQYW5lTmFtZSA9IHBhbmVzWzBdLm5hbWUgfHwgXCJkZWZhdWx0XCI7XG4gICAgICAgIGNvbnN0IHBhbmVOYW1lID0gKHhBeGlzIHx8IHt9KS5wYW5lIHx8ICh5QXhpcyB8fCB7fSkucGFuZSB8fCBkZWZhdWx0UGFuZU5hbWU7XG5cbiAgICAgICAgcmV0dXJuIHBhbmVOYW1lO1xuICAgIH1cblxuICAgIGNyZWF0ZVNjYXR0ZXJDaGFydChzZXJpZXMsIHBhbmUpIHtcbiAgICAgICAgaWYgKHNlcmllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZENoYXJ0KFxuICAgICAgICAgICAgICAgIG5ldyBTY2F0dGVyQ2hhcnQodGhpcywgeyBzZXJpZXM6IHNlcmllcywgY2xpcDogcGFuZS5vcHRpb25zLmNsaXAgfSksXG4gICAgICAgICAgICAgICAgcGFuZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZVNjYXR0ZXJMaW5lQ2hhcnQoc2VyaWVzLCBwYW5lKSB7XG4gICAgICAgIGlmIChzZXJpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5hcHBlbmRDaGFydChcbiAgICAgICAgICAgICAgICBuZXcgU2NhdHRlckxpbmVDaGFydCh0aGlzLCB7IHNlcmllczogc2VyaWVzLCBjbGlwOiBwYW5lLm9wdGlvbnMuY2xpcCB9KSxcbiAgICAgICAgICAgICAgICBwYW5lXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlQnViYmxlQ2hhcnQoc2VyaWVzLCBwYW5lKSB7XG4gICAgICAgIGlmIChzZXJpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5hcHBlbmRDaGFydChcbiAgICAgICAgICAgICAgICBuZXcgQnViYmxlQ2hhcnQodGhpcywgeyBzZXJpZXM6IHNlcmllcywgY2xpcDogcGFuZS5vcHRpb25zLmNsaXAgfSksXG4gICAgICAgICAgICAgICAgcGFuZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZVhZQXhpcyhvcHRpb25zLCB2ZXJ0aWNhbCwgYXhpc0luZGV4KSB7XG4gICAgICAgIGNvbnN0IGF4aXNOYW1lID0gb3B0aW9ucy5uYW1lO1xuICAgICAgICBjb25zdCBuYW1lZEF4ZXMgPSB2ZXJ0aWNhbCA/IHRoaXMubmFtZWRZQXhlcyA6IHRoaXMubmFtZWRYQXhlcztcbiAgICAgICAgY29uc3QgdHJhY2tlciA9IHZlcnRpY2FsID8gdGhpcy55QXhpc1JhbmdlVHJhY2tlciA6IHRoaXMueEF4aXNSYW5nZVRyYWNrZXI7XG4gICAgICAgIGNvbnN0IGF4aXNPcHRpb25zID0gZGVlcEV4dGVuZCh7IHJldmVyc2U6ICF2ZXJ0aWNhbCAmJiB0aGlzLmNoYXJ0U2VydmljZS5ydGwgfSwgb3B0aW9ucywgeyB2ZXJ0aWNhbDogdmVydGljYWwgfSk7XG4gICAgICAgIGNvbnN0IGlzTG9nID0gZXF1YWxzSWdub3JlQ2FzZShheGlzT3B0aW9ucy50eXBlLCBMT0dBUklUSE1JQyk7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRSYW5nZSA9IHRyYWNrZXIucXVlcnkoKTtcbiAgICAgICAgY29uc3QgZGVmYXVsdEF4aXNSYW5nZSA9IGlzTG9nID8geyBtaW46IDAuMSwgbWF4OiAxIH0gOiB7IG1pbjogMCwgbWF4OiAxIH07XG4gICAgICAgIGNvbnN0IHJhbmdlID0gdHJhY2tlci5xdWVyeShheGlzTmFtZSkgfHwgZGVmYXVsdFJhbmdlIHx8IGRlZmF1bHRBeGlzUmFuZ2U7XG4gICAgICAgIGNvbnN0IHR5cGVTYW1wbGVzID0gWyBheGlzT3B0aW9ucy5taW4sIGF4aXNPcHRpb25zLm1heCBdO1xuICAgICAgICBjb25zdCBzZXJpZXMgPSB0aGlzLnNlcmllcztcblxuICAgICAgICBmb3IgKGxldCBzZXJpZXNJeCA9IDA7IHNlcmllc0l4IDwgc2VyaWVzLmxlbmd0aDsgc2VyaWVzSXgrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFNlcmllcyA9IHNlcmllc1tzZXJpZXNJeF07XG4gICAgICAgICAgICBjb25zdCBzZXJpZXNBeGlzTmFtZSA9IGN1cnJlbnRTZXJpZXNbdmVydGljYWwgPyBcInlBeGlzXCIgOiBcInhBeGlzXCJdO1xuICAgICAgICAgICAgaWYgKChzZXJpZXNBeGlzTmFtZSA9PT0gYXhpc09wdGlvbnMubmFtZSkgfHwgKGF4aXNJbmRleCA9PT0gMCAmJiAhc2VyaWVzQXhpc05hbWUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlyc3RQb2ludFZhbHVlID0gU2VyaWVzQmluZGVyLmN1cnJlbnQuYmluZFBvaW50KGN1cnJlbnRTZXJpZXMsIDApLnZhbHVlRmllbGRzO1xuICAgICAgICAgICAgICAgIHR5cGVTYW1wbGVzLnB1c2goZmlyc3RQb2ludFZhbHVlW3ZlcnRpY2FsID8gXCJ5XCIgOiBcInhcIl0pO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXhpc0luZGV4ID09PSAwICYmIGRlZmF1bHRSYW5nZSkge1xuICAgICAgICAgICAgcmFuZ2UubWluID0gTWF0aC5taW4ocmFuZ2UubWluLCBkZWZhdWx0UmFuZ2UubWluKTtcbiAgICAgICAgICAgIHJhbmdlLm1heCA9IE1hdGgubWF4KHJhbmdlLm1heCwgZGVmYXVsdFJhbmdlLm1heCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaW5mZXJyZWREYXRlO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHlwZVNhbXBsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0eXBlU2FtcGxlc1tpXSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgICAgICBpbmZlcnJlZERhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGF4aXNUeXBlO1xuICAgICAgICBpZiAoZXF1YWxzSWdub3JlQ2FzZShheGlzT3B0aW9ucy50eXBlLCBEQVRFKSB8fCAoIWF4aXNPcHRpb25zLnR5cGUgJiYgaW5mZXJyZWREYXRlKSkge1xuICAgICAgICAgICAgYXhpc1R5cGUgPSBEYXRlVmFsdWVBeGlzO1xuICAgICAgICB9IGVsc2UgaWYgKGlzTG9nKSB7XG4gICAgICAgICAgICBheGlzVHlwZSA9IExvZ2FyaXRobWljQXhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF4aXNUeXBlID0gTnVtZXJpY0F4aXM7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBheGlzID0gbmV3IGF4aXNUeXBlKHJhbmdlLm1pbiwgcmFuZ2UubWF4LCBheGlzT3B0aW9ucywgdGhpcy5jaGFydFNlcnZpY2UpO1xuICAgICAgICBheGlzLmF4aXNJbmRleCA9IGF4aXNJbmRleDtcblxuICAgICAgICBpZiAoYXhpc05hbWUpIHtcbiAgICAgICAgICAgIGlmIChuYW1lZEF4ZXNbYXhpc05hbWVdKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAkeyB2ZXJ0aWNhbCA/IFwiWVwiIDogXCJYXCIgfSBheGlzIHdpdGggbmFtZSAkeyBheGlzTmFtZSB9IGlzIGFscmVhZHkgZGVmaW5lZGApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmFtZWRBeGVzW2F4aXNOYW1lXSA9IGF4aXM7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFwcGVuZEF4aXMoYXhpcyk7XG5cbiAgICAgICAgcmV0dXJuIGF4aXM7XG4gICAgfVxuXG4gICAgY3JlYXRlQXhlcyhwYW5lcykge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB4QXhlc09wdGlvbnMgPSBbXS5jb25jYXQob3B0aW9ucy54QXhpcyk7XG4gICAgICAgIGNvbnN0IHhBeGVzID0gW107XG4gICAgICAgIGNvbnN0IHlBeGVzT3B0aW9ucyA9IFtdLmNvbmNhdChvcHRpb25zLnlBeGlzKTtcbiAgICAgICAgY29uc3QgeUF4ZXMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCB4QXhlc09wdGlvbnMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgY29uc3QgYXhpc1BhbmUgPSB0aGlzLmZpbmRQYW5lKHhBeGVzT3B0aW9uc1tpZHhdLnBhbmUpO1xuICAgICAgICAgICAgaWYgKGluQXJyYXkoYXhpc1BhbmUsIHBhbmVzKSkge1xuICAgICAgICAgICAgICAgIHhBeGVzLnB1c2godGhpcy5jcmVhdGVYWUF4aXMoeEF4ZXNPcHRpb25zW2lkeF0sIGZhbHNlLCBpZHgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHlBeGVzT3B0aW9ucy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBheGlzUGFuZSA9IHRoaXMuZmluZFBhbmUoeUF4ZXNPcHRpb25zW2lkeF0ucGFuZSk7XG4gICAgICAgICAgICBpZiAoaW5BcnJheShheGlzUGFuZSwgcGFuZXMpKSB7XG4gICAgICAgICAgICAgICAgeUF4ZXMucHVzaCh0aGlzLmNyZWF0ZVhZQXhpcyh5QXhlc09wdGlvbnNbaWR4XSwgdHJ1ZSwgaWR4KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmF4aXNYID0gdGhpcy5heGlzWCB8fCB4QXhlc1swXTtcbiAgICAgICAgdGhpcy5heGlzWSA9IHRoaXMuYXhpc1kgfHwgeUF4ZXNbMF07XG4gICAgfVxuXG4gICAgX2Rpc3BhdGNoRXZlbnQoY2hhcnQsIGUsIGV2ZW50VHlwZSkge1xuICAgICAgICBjb25zdCBjb29yZHMgPSBjaGFydC5fZXZlbnRDb29yZGluYXRlcyhlKTtcbiAgICAgICAgY29uc3QgcG9pbnQgPSBuZXcgUG9pbnQoY29vcmRzLngsIGNvb3Jkcy55KTtcbiAgICAgICAgY29uc3QgYWxsQXhlcyA9IHRoaXMuYXhlcztcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gYWxsQXhlcy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHhWYWx1ZXMgPSBbXTtcbiAgICAgICAgY29uc3QgeVZhbHVlcyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF4aXMgPSBhbGxBeGVzW2ldO1xuICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gYXhpcy5vcHRpb25zLnZlcnRpY2FsID8geVZhbHVlcyA6IHhWYWx1ZXM7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSBheGlzLmdldFZhbHVlKHBvaW50KTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50VmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaChjdXJyZW50VmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHhWYWx1ZXMubGVuZ3RoID4gMCAmJiB5VmFsdWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNoYXJ0LnRyaWdnZXIoZXZlbnRUeXBlLCB7XG4gICAgICAgICAgICAgICAgZWxlbWVudDogZXZlbnRFbGVtZW50KGUpLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGUsXG4gICAgICAgICAgICAgICAgeDogc2luZ2xlSXRlbU9yQXJyYXkoeFZhbHVlcyksXG4gICAgICAgICAgICAgICAgeTogc2luZ2xlSXRlbU9yQXJyYXkoeVZhbHVlcylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlQXhpc09wdGlvbnMoYXhpcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB2ZXJ0aWNhbCA9IGF4aXMub3B0aW9ucy52ZXJ0aWNhbDtcbiAgICAgICAgY29uc3QgYXhlcyA9IHRoaXMuZ3JvdXBBeGVzKHRoaXMucGFuZXMpO1xuICAgICAgICBjb25zdCBpbmRleCA9ICh2ZXJ0aWNhbCA/IGF4ZXMueSA6IGF4ZXMueCkuaW5kZXhPZihheGlzKTtcblxuICAgICAgICB1cGRhdGVBeGlzT3B0aW9ucyh0aGlzLm9wdGlvbnMsIGluZGV4LCB2ZXJ0aWNhbCwgb3B0aW9ucyk7XG4gICAgICAgIHVwZGF0ZUF4aXNPcHRpb25zKHRoaXMub3JpZ2luYWxPcHRpb25zLCBpbmRleCwgdmVydGljYWwsIG9wdGlvbnMpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlQXhpc09wdGlvbnModGFyZ2V0T3B0aW9ucywgYXhpc0luZGV4LCB2ZXJ0aWNhbCwgb3B0aW9ucykge1xuICAgIGNvbnN0IGF4aXNPcHRpb25zID0gKFtdLmNvbmNhdCh2ZXJ0aWNhbCA/IHRhcmdldE9wdGlvbnMueUF4aXMgOiB0YXJnZXRPcHRpb25zLnhBeGlzKSlbYXhpc0luZGV4XTtcbiAgICBkZWVwRXh0ZW5kKGF4aXNPcHRpb25zLCBvcHRpb25zKTtcbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoWFlQbG90QXJlYSwge1xuICAgIHhBeGlzOiB7fSxcbiAgICB5QXhpczoge31cbn0pO1xuXG5kZWVwRXh0ZW5kKFhZUGxvdEFyZWEucHJvdG90eXBlLCBQbG90QXJlYUV2ZW50c01peGluKTtcblxuZXhwb3J0IGRlZmF1bHQgWFlQbG90QXJlYTsiLCJpbXBvcnQgeyBkcmF3aW5nIGFzIGRyYXcsIGdlb21ldHJ5IGFzIGdlb20sIENvbG9yIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgeyBDaGFydEVsZW1lbnQsIFNoYXBlQnVpbGRlciwgVGV4dEJveCwgQm94IH0gZnJvbSAnLi4vLi4vY29yZSc7XG5cbmltcG9ydCBQb2ludEV2ZW50c01peGluIGZyb20gJy4uL21peGlucy9wb2ludC1ldmVudHMtbWl4aW4nO1xuXG5pbXBvcnQgeyBPVVRTSURFX0VORCwgSU5TSURFX0VORCwgUElFLCBGQURFSU4sIFRPT0xUSVBfT0ZGU0VUIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCBoYXNHcmFkaWVudE92ZXJsYXkgZnJvbSAnLi4vdXRpbHMvaGFzLWdyYWRpZW50LW92ZXJsYXknO1xuXG5pbXBvcnQgeyBUT1AsIEJPVFRPTSwgTEVGVCwgUklHSFQsIERFRkFVTFRfRk9OVCwgQ0lSQ0xFLCBXSElURSwgQkxBQ0ssIENFTlRFUiwgREVGQVVMVF9QUkVDSVNJT04gfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IHNldERlZmF1bHRPcHRpb25zLCBnZXRTcGFjaW5nLCBnZXRUZW1wbGF0ZSwgZGVlcEV4dGVuZCwgcm91bmQsIHJhZCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIFBpZVNlZ21lbnQgZXh0ZW5kcyBDaGFydEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlLCBzZWN0b3IsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLnNlY3RvciA9IHNlY3RvcjtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IGxhYmVscyA9IHRoaXMub3B0aW9ucy5sYWJlbHM7XG4gICAgICAgIGNvbnN0IGNoYXJ0U2VydmljZSA9IHRoaXMub3duZXIuY2hhcnRTZXJ2aWNlO1xuICAgICAgICBsZXQgbGFiZWxUZXh0ID0gdGhpcy52YWx1ZTtcblxuICAgICAgICBpZiAodGhpcy5fcmVuZGVyZWQgfHwgdGhpcy52aXNpYmxlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCBsYWJlbFRlbXBsYXRlID0gZ2V0VGVtcGxhdGUobGFiZWxzKTtcbiAgICAgICAgY29uc3QgcG9pbnREYXRhID0gdGhpcy5wb2ludERhdGEoKTtcblxuICAgICAgICBpZiAobGFiZWxUZW1wbGF0ZSkge1xuICAgICAgICAgICAgbGFiZWxUZXh0ID0gbGFiZWxUZW1wbGF0ZShwb2ludERhdGEpO1xuICAgICAgICB9IGVsc2UgaWYgKGxhYmVscy5mb3JtYXQpIHtcbiAgICAgICAgICAgIGxhYmVsVGV4dCA9IGNoYXJ0U2VydmljZS5mb3JtYXQuYXV0byhsYWJlbHMuZm9ybWF0LCBsYWJlbFRleHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxhYmVscy52aXNpYmxlICYmIChsYWJlbFRleHQgfHwgbGFiZWxUZXh0ID09PSAwKSkge1xuICAgICAgICAgICAgaWYgKGxhYmVscy5wb3NpdGlvbiA9PT0gQ0VOVEVSIHx8IGxhYmVscy5wb3NpdGlvbiA9PT0gSU5TSURFX0VORCkge1xuICAgICAgICAgICAgICAgIGlmICghbGFiZWxzLmNvbG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJyaWdodG5lc3NWYWx1ZSA9IG5ldyBDb2xvcih0aGlzLm9wdGlvbnMuY29sb3IpLnBlcmNCcmlnaHRuZXNzKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChicmlnaHRuZXNzVmFsdWUgPiAxODApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVscy5jb2xvciA9IEJMQUNLO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxzLmNvbG9yID0gV0hJVEU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFsYWJlbHMuYmFja2dyb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbHMuYmFja2dyb3VuZCA9IHRoaXMub3B0aW9ucy5jb2xvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRoZW1lTGFiZWxzID0gY2hhcnRTZXJ2aWNlLnRoZW1lLnNlcmllc0RlZmF1bHRzLmxhYmVscztcbiAgICAgICAgICAgICAgICBsYWJlbHMuY29sb3IgPSBsYWJlbHMuY29sb3IgfHwgdGhlbWVMYWJlbHMuY29sb3I7XG4gICAgICAgICAgICAgICAgbGFiZWxzLmJhY2tncm91bmQgPSBsYWJlbHMuYmFja2dyb3VuZCB8fCB0aGVtZUxhYmVscy5iYWNrZ3JvdW5kO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIHRoaXMubGFiZWwgPSBuZXcgVGV4dEJveChsYWJlbFRleHQsIGRlZXBFeHRlbmQoe30sIGxhYmVscywge1xuICAgICAgICAgICAgICAgIGFsaWduOiBDRU5URVIsXG4gICAgICAgICAgICAgICAgdkFsaWduOiBcIlwiLFxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBGQURFSU4sXG4gICAgICAgICAgICAgICAgICAgIGRlbGF5OiB0aGlzLmFuaW1hdGlvbkRlbGF5XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksIHBvaW50RGF0YSk7XG5cbiAgICAgICAgICAgIHRoaXMuYXBwZW5kKHRoaXMubGFiZWwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVmbG93KHRhcmdldEJveCkge1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB0aGlzLmJveCA9IHRhcmdldEJveDtcbiAgICAgICAgdGhpcy5yZWZsb3dMYWJlbCgpO1xuICAgIH1cblxuICAgIHJlZmxvd0xhYmVsKCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnM6IHsgbGFiZWxzOiBsYWJlbHNPcHRpb25zIH0sIGxhYmVsIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBzZWN0b3IgPSB0aGlzLnNlY3Rvci5jbG9uZSgpO1xuICAgICAgICBjb25zdCBsYWJlbHNEaXN0YW5jZSA9IGxhYmVsc09wdGlvbnMuZGlzdGFuY2U7XG4gICAgICAgIGNvbnN0IGFuZ2xlID0gc2VjdG9yLm1pZGRsZSgpO1xuXG4gICAgICAgIGlmIChsYWJlbCkge1xuICAgICAgICAgICAgY29uc3QgbGFiZWxIZWlnaHQgPSBsYWJlbC5ib3guaGVpZ2h0KCk7XG4gICAgICAgICAgICBjb25zdCBsYWJlbFdpZHRoID0gbGFiZWwuYm94LndpZHRoKCk7XG4gICAgICAgICAgICBsZXQgbHA7XG5cbiAgICAgICAgICAgIGlmIChsYWJlbHNPcHRpb25zLnBvc2l0aW9uID09PSBDRU5URVIpIHtcbiAgICAgICAgICAgICAgICBzZWN0b3IucmFkaXVzID0gTWF0aC5hYnMoKHNlY3Rvci5yYWRpdXMgLSBsYWJlbEhlaWdodCkgLyAyKSArIGxhYmVsSGVpZ2h0O1xuICAgICAgICAgICAgICAgIGxwID0gc2VjdG9yLnBvaW50KGFuZ2xlKTtcbiAgICAgICAgICAgICAgICBsYWJlbC5yZWZsb3cobmV3IEJveChscC54LCBscC55IC0gbGFiZWxIZWlnaHQgLyAyLCBscC54LCBscC55KSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxhYmVsc09wdGlvbnMucG9zaXRpb24gPT09IElOU0lERV9FTkQpIHtcbiAgICAgICAgICAgICAgICBzZWN0b3IucmFkaXVzID0gc2VjdG9yLnJhZGl1cyAtIGxhYmVsSGVpZ2h0IC8gMjtcbiAgICAgICAgICAgICAgICBscCA9IHNlY3Rvci5wb2ludChhbmdsZSk7XG4gICAgICAgICAgICAgICAgbGFiZWwucmVmbG93KG5ldyBCb3gobHAueCwgbHAueSAtIGxhYmVsSGVpZ2h0IC8gMiwgbHAueCwgbHAueSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgeDE7XG4gICAgICAgICAgICAgICAgbHAgPSBzZWN0b3IuY2xvbmUoKS5leHBhbmQobGFiZWxzRGlzdGFuY2UpLnBvaW50KGFuZ2xlKTtcbiAgICAgICAgICAgICAgICBpZiAobHAueCA+PSBzZWN0b3IuY2VudGVyLngpIHtcbiAgICAgICAgICAgICAgICAgICAgeDEgPSBscC54ICsgbGFiZWxXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwub3JpZW50YXRpb24gPSBSSUdIVDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB4MSA9IGxwLnggLSBsYWJlbFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICBsYWJlbC5vcmllbnRhdGlvbiA9IExFRlQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxhYmVsLnJlZmxvdyhuZXcgQm94KHgxLCBscC55IC0gbGFiZWxIZWlnaHQsIGxwLngsIGxwLnkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZVZpc3VhbCgpIHtcbiAgICAgICAgY29uc3QgeyBzZWN0b3IsIG9wdGlvbnMgfSA9IHRoaXM7XG5cbiAgICAgICAgc3VwZXIuY3JlYXRlVmlzdWFsKCk7XG5cbiAgICAgICAgaWYgKHRoaXMudmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnZpc3VhbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0QW5nbGUgPSAoc2VjdG9yLnN0YXJ0QW5nbGUgKyAxODApICUgMzYwO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZpc3VhbCA9IG9wdGlvbnMudmlzdWFsKHtcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IHRoaXMuY2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgICAgIGRhdGFJdGVtOiB0aGlzLmRhdGFJdGVtLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgc2VyaWVzOiB0aGlzLnNlcmllcyxcbiAgICAgICAgICAgICAgICAgICAgcGVyY2VudGFnZTogdGhpcy5wZXJjZW50YWdlLFxuICAgICAgICAgICAgICAgICAgICBjZW50ZXI6IG5ldyBnZW9tLlBvaW50KHNlY3Rvci5jZW50ZXIueCwgc2VjdG9yLmNlbnRlci55KSxcbiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiBzZWN0b3IucmFkaXVzLFxuICAgICAgICAgICAgICAgICAgICBpbm5lclJhZGl1czogc2VjdG9yLmlubmVyUmFkaXVzLFxuICAgICAgICAgICAgICAgICAgICBzdGFydEFuZ2xlOiBzdGFydEFuZ2xlLFxuICAgICAgICAgICAgICAgICAgICBlbmRBbmdsZTogc3RhcnRBbmdsZSArIHNlY3Rvci5hbmdsZSxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgc2VuZGVyOiB0aGlzLmdldFNlbmRlcigpLFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVWaXN1YWw6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gbmV3IGRyYXcuR3JvdXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlU2VnbWVudFZpc3VhbChncm91cCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBncm91cDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKHZpc3VhbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpc3VhbC5hcHBlbmQodmlzdWFsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlU2VnbWVudFZpc3VhbCh0aGlzLnZpc3VhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVTZWdtZW50VmlzdWFsKGdyb3VwKSB7XG4gICAgICAgIGNvbnN0IHsgc2VjdG9yLCBvcHRpb25zIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBib3JkZXJPcHRpb25zID0gb3B0aW9ucy5ib3JkZXIgfHwge307XG4gICAgICAgIGNvbnN0IGJvcmRlciA9IGJvcmRlck9wdGlvbnMud2lkdGggPiAwID8ge1xuICAgICAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IGJvcmRlck9wdGlvbnMuY29sb3IsXG4gICAgICAgICAgICAgICAgd2lkdGg6IGJvcmRlck9wdGlvbnMud2lkdGgsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogYm9yZGVyT3B0aW9ucy5vcGFjaXR5LFxuICAgICAgICAgICAgICAgIGRhc2hUeXBlOiBib3JkZXJPcHRpb25zLmRhc2hUeXBlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gOiB7fTtcbiAgICAgICAgY29uc3QgY29sb3IgPSBvcHRpb25zLmNvbG9yO1xuICAgICAgICBjb25zdCBmaWxsID0ge1xuICAgICAgICAgICAgY29sb3I6IGNvbG9yLFxuICAgICAgICAgICAgb3BhY2l0eTogb3B0aW9ucy5vcGFjaXR5XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHZpc3VhbCA9IHRoaXMuY3JlYXRlU2VnbWVudChzZWN0b3IsIGRlZXBFeHRlbmQoe1xuICAgICAgICAgICAgZmlsbDogZmlsbCxcbiAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IG9wdGlvbnMub3BhY2l0eVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHpJbmRleDogb3B0aW9ucy56SW5kZXhcbiAgICAgICAgfSwgYm9yZGVyKSk7XG5cbiAgICAgICAgZ3JvdXAuYXBwZW5kKHZpc3VhbCk7XG5cbiAgICAgICAgaWYgKGhhc0dyYWRpZW50T3ZlcmxheShvcHRpb25zKSkge1xuICAgICAgICAgICAgZ3JvdXAuYXBwZW5kKHRoaXMuY3JlYXRlR3JhZGllbnRPdmVybGF5KHZpc3VhbCwge1xuICAgICAgICAgICAgICAgIGJhc2VDb2xvcjogY29sb3IsXG4gICAgICAgICAgICAgICAgZmFsbGJhY2tGaWxsOiBmaWxsXG4gICAgICAgICAgICB9LCBkZWVwRXh0ZW5kKHtcbiAgICAgICAgICAgICAgICBjZW50ZXI6IFsgc2VjdG9yLmNlbnRlci54LCBzZWN0b3IuY2VudGVyLnkgXSxcbiAgICAgICAgICAgICAgICBpbm5lclJhZGl1czogc2VjdG9yLmlubmVyUmFkaXVzLFxuICAgICAgICAgICAgICAgIHJhZGl1czogc2VjdG9yLnJhZGl1cyxcbiAgICAgICAgICAgICAgICB1c2VyU3BhY2U6IHRydWVcbiAgICAgICAgICAgIH0sIG9wdGlvbnMub3ZlcmxheSkpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZVNlZ21lbnQoc2VjdG9yLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zLnNpbmdsZVNlZ21lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgZHJhdy5DaXJjbGUobmV3IGdlb20uQ2lyY2xlKG5ldyBnZW9tLlBvaW50KHNlY3Rvci5jZW50ZXIueCwgc2VjdG9yLmNlbnRlci55KSwgc2VjdG9yLnJhZGl1cyksIG9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFNoYXBlQnVpbGRlci5jdXJyZW50LmNyZWF0ZVJpbmcoc2VjdG9yLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBjcmVhdGVBbmltYXRpb24oKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgc2VjdG9yOiB7IGNlbnRlciB9IH0gPSB0aGlzO1xuXG4gICAgICAgIGRlZXBFeHRlbmQob3B0aW9ucywge1xuICAgICAgICAgICAgYW5pbWF0aW9uOiB7XG4gICAgICAgICAgICAgICAgY2VudGVyOiBbIGNlbnRlci54LCBjZW50ZXIueSBdLFxuICAgICAgICAgICAgICAgIGRlbGF5OiB0aGlzLmFuaW1hdGlvbkRlbGF5XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHN1cGVyLmNyZWF0ZUFuaW1hdGlvbigpO1xuICAgIH1cblxuICAgIGNyZWF0ZUhpZ2hsaWdodChvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGhpZ2hsaWdodCA9IHRoaXMub3B0aW9ucy5oaWdobGlnaHQgfHwge307XG4gICAgICAgIGNvbnN0IGJvcmRlciA9IGhpZ2hsaWdodC5ib3JkZXIgfHwge307XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlU2VnbWVudCh0aGlzLnNlY3RvciwgZGVlcEV4dGVuZCh7fSwgb3B0aW9ucywge1xuICAgICAgICAgICAgZmlsbDoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBoaWdobGlnaHQuY29sb3IsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogaGlnaGxpZ2h0Lm9wYWNpdHlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdHJva2U6IHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBib3JkZXIub3BhY2l0eSxcbiAgICAgICAgICAgICAgICB3aWR0aDogYm9yZGVyLndpZHRoLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBib3JkZXIuY29sb3JcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH1cblxuICAgIGhpZ2hsaWdodFZpc3VhbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlzdWFsLmNoaWxkcmVuWzBdO1xuICAgIH1cblxuICAgIGhpZ2hsaWdodFZpc3VhbEFyZ3MoKSB7XG4gICAgICAgIGNvbnN0IHNlY3RvciA9IHRoaXMuc2VjdG9yO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICByYWRpdXM6IHNlY3Rvci5yYWRpdXMsXG4gICAgICAgICAgICBpbm5lclJhZGl1czogc2VjdG9yLmlubmVyUmFkaXVzLFxuICAgICAgICAgICAgY2VudGVyOiBuZXcgZ2VvbS5Qb2ludChzZWN0b3IuY2VudGVyLngsIHNlY3Rvci5jZW50ZXIueSksXG4gICAgICAgICAgICBzdGFydEFuZ2xlOiBzZWN0b3Iuc3RhcnRBbmdsZSxcbiAgICAgICAgICAgIGVuZEFuZ2xlOiBzZWN0b3IuYW5nbGUgKyBzZWN0b3Iuc3RhcnRBbmdsZSxcbiAgICAgICAgICAgIHZpc3VhbDogdGhpcy52aXN1YWxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB0b29sdGlwQW5jaG9yKCkge1xuICAgICAgICBjb25zdCBzZWN0b3IgPSB0aGlzLnNlY3Rvci5jbG9uZSgpLmV4cGFuZChUT09MVElQX09GRlNFVCk7XG4gICAgICAgIGNvbnN0IG1pZEFuZGxlID0gc2VjdG9yLm1pZGRsZSgpO1xuICAgICAgICBjb25zdCBtaWRQb2ludCA9IHNlY3Rvci5wb2ludChtaWRBbmRsZSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBvaW50OiBtaWRQb2ludCxcbiAgICAgICAgICAgIGFsaWduOiB0b29sdGlwQWxpZ25tZW50KG1pZEFuZGxlICsgMTgwKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZvcm1hdFZhbHVlKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vd25lci5mb3JtYXRQb2ludFZhbHVlKHRoaXMsIGZvcm1hdCk7XG4gICAgfVxuXG4gICAgcG9pbnREYXRhKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGF0YUl0ZW06IHRoaXMuZGF0YUl0ZW0sXG4gICAgICAgICAgICBjYXRlZ29yeTogdGhpcy5jYXRlZ29yeSxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnZhbHVlLFxuICAgICAgICAgICAgc2VyaWVzOiB0aGlzLnNlcmllcyxcbiAgICAgICAgICAgIHBlcmNlbnRhZ2U6IHRoaXMucGVyY2VudGFnZVxuICAgICAgICB9O1xuICAgIH1cbn1cblxuY29uc3QgUkFEXzMwID0gcm91bmQocmFkKDMwKSwgREVGQVVMVF9QUkVDSVNJT04pO1xuY29uc3QgUkFEXzYwID0gcm91bmQocmFkKDYwKSwgREVGQVVMVF9QUkVDSVNJT04pO1xuXG5mdW5jdGlvbiB0b29sdGlwQWxpZ25tZW50KGFuZ2xlKSB7XG4gICAgY29uc3QgcmFkaWFucyA9IHJhZChhbmdsZSk7XG4gICAgY29uc3Qgc2luZSA9IHJvdW5kKE1hdGguc2luKHJhZGlhbnMpLCBERUZBVUxUX1BSRUNJU0lPTik7XG4gICAgY29uc3QgY29zaW5lID0gcm91bmQoTWF0aC5jb3MocmFkaWFucyksIERFRkFVTFRfUFJFQ0lTSU9OKTtcblxuXG4gICAgbGV0IGhvcml6b250YWw7XG4gICAgaWYgKE1hdGguYWJzKHNpbmUpID4gUkFEXzYwKSB7XG4gICAgICAgIGhvcml6b250YWwgPSBDRU5URVI7XG4gICAgfSBlbHNlIGlmIChjb3NpbmUgPCAwKSB7XG4gICAgICAgIGhvcml6b250YWwgPSBSSUdIVDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBob3Jpem9udGFsID0gTEVGVDtcbiAgICB9XG5cbiAgICBsZXQgdmVydGljYWw7XG4gICAgaWYgKE1hdGguYWJzKHNpbmUpIDwgUkFEXzMwKSB7XG4gICAgICAgIHZlcnRpY2FsID0gQ0VOVEVSO1xuICAgIH0gZWxzZSBpZiAoc2luZSA8IDApIHtcbiAgICAgICAgdmVydGljYWwgPSBCT1RUT007XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmVydGljYWwgPSBUT1A7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgaG9yaXpvbnRhbDogaG9yaXpvbnRhbCxcbiAgICAgICAgdmVydGljYWw6IHZlcnRpY2FsXG4gICAgfTtcbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoUGllU2VnbWVudCwge1xuICAgIGNvbG9yOiBXSElURSxcbiAgICBvdmVybGF5OiB7XG4gICAgICAgIGdyYWRpZW50OiBcInJvdW5kZWRCZXZlbFwiXG4gICAgfSxcbiAgICBib3JkZXI6IHtcbiAgICAgICAgd2lkdGg6IDAuNVxuICAgIH0sXG4gICAgbGFiZWxzOiB7XG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBkaXN0YW5jZTogMzUsXG4gICAgICAgIGZvbnQ6IERFRkFVTFRfRk9OVCxcbiAgICAgICAgbWFyZ2luOiBnZXRTcGFjaW5nKDAuNSksXG4gICAgICAgIGFsaWduOiBDSVJDTEUsXG4gICAgICAgIHpJbmRleDogMSxcbiAgICAgICAgcG9zaXRpb246IE9VVFNJREVfRU5EXG4gICAgfSxcbiAgICBhbmltYXRpb246IHtcbiAgICAgICAgdHlwZTogUElFXG4gICAgfSxcbiAgICBoaWdobGlnaHQ6IHtcbiAgICAgICAgdmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgYm9yZGVyOiB7XG4gICAgICAgICAgICB3aWR0aDogMVxuICAgICAgICB9XG4gICAgfSxcbiAgICB2aXNpYmxlOiB0cnVlXG59KTtcblxuZGVlcEV4dGVuZChQaWVTZWdtZW50LnByb3RvdHlwZSwgUG9pbnRFdmVudHNNaXhpbik7XG5cbmV4cG9ydCBkZWZhdWx0IFBpZVNlZ21lbnQ7IiwiaW1wb3J0IHsgZ2V0VGVtcGxhdGUgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuaW1wb3J0IHsgaGFzVmFsdWUgfSBmcm9tICcuLi91dGlscyc7XG5cbmNvbnN0IFBpZUNoYXJ0TWl4aW4gPSB7XG4gICAgY3JlYXRlTGVnZW5kSXRlbTogZnVuY3Rpb24odmFsdWUsIHBvaW50LCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGxlZ2VuZE9wdGlvbnMgPSB0aGlzLm9wdGlvbnMubGVnZW5kIHx8IHt9O1xuICAgICAgICBjb25zdCBsYWJlbHNPcHRpb25zID0gbGVnZW5kT3B0aW9ucy5sYWJlbHMgfHwge307XG4gICAgICAgIGNvbnN0IGluYWN0aXZlSXRlbXMgPSBsZWdlbmRPcHRpb25zLmluYWN0aXZlSXRlbXMgfHwge307XG4gICAgICAgIGNvbnN0IGluYWN0aXZlSXRlbXNMYWJlbHMgPSBpbmFjdGl2ZUl0ZW1zLmxhYmVscyB8fCB7fTtcblxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnZpc2libGVJbkxlZ2VuZCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50VmlzaWJsZSA9IG9wdGlvbnMudmlzaWJsZSAhPT0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBsYWJlbFRlbXBsYXRlID0gcG9pbnRWaXNpYmxlID8gZ2V0VGVtcGxhdGUobGFiZWxzT3B0aW9ucykgOlxuICAgICAgICAgICAgICAgIGdldFRlbXBsYXRlKGluYWN0aXZlSXRlbXNMYWJlbHMpIHx8IGdldFRlbXBsYXRlKGxhYmVsc09wdGlvbnMpO1xuICAgICAgICAgICAgbGV0IHRleHQgPSBvcHRpb25zLmNhdGVnb3J5O1xuXG4gICAgICAgICAgICBpZiAobGFiZWxUZW1wbGF0ZSkge1xuICAgICAgICAgICAgICAgIHRleHQgPSBsYWJlbFRlbXBsYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogdGV4dCxcbiAgICAgICAgICAgICAgICAgICAgc2VyaWVzOiBvcHRpb25zLnNlcmllcyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YUl0ZW06IG9wdGlvbnMuZGF0YUl0ZW0sXG4gICAgICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2U6IG9wdGlvbnMucGVyY2VudGFnZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBpdGVtTGFiZWxPcHRpb25zLCBtYXJrZXJDb2xvcjtcbiAgICAgICAgICAgIGlmIChwb2ludFZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBpdGVtTGFiZWxPcHRpb25zID0ge307XG4gICAgICAgICAgICAgICAgbWFya2VyQ29sb3IgPSBwb2ludC5jb2xvcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaXRlbUxhYmVsT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IGluYWN0aXZlSXRlbXNMYWJlbHMuY29sb3IsXG4gICAgICAgICAgICAgICAgICAgIGZvbnQ6IGluYWN0aXZlSXRlbXNMYWJlbHMuZm9udFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbWFya2VyQ29sb3IgPSAoaW5hY3RpdmVJdGVtcy5tYXJrZXJzIHx8IHt9KS5jb2xvcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGhhc1ZhbHVlKHRleHQpICYmIHRleHQgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxlZ2VuZEl0ZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmU6IHBvaW50VmlzaWJsZSxcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRJbmRleDogb3B0aW9ucy5pbmRleCxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogdGV4dCxcbiAgICAgICAgICAgICAgICAgICAgc2VyaWVzOiBvcHRpb25zLnNlcmllcyxcbiAgICAgICAgICAgICAgICAgICAgbWFya2VyQ29sb3I6IG1hcmtlckNvbG9yLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbHM6IGl0ZW1MYWJlbE9wdGlvbnNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IFBpZUNoYXJ0TWl4aW47IiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgUGllU2VnbWVudCBmcm9tICcuL3BpZS1zZWdtZW50JztcbmltcG9ydCBQaWVDaGFydE1peGluIGZyb20gJy4uL21peGlucy9waWUtY2hhcnQtbWl4aW4nO1xuaW1wb3J0IHsgQ2hhcnRFbGVtZW50LCBSaW5nLCBCb3gsIFBvaW50IH0gZnJvbSAnLi4vLi4vY29yZSc7XG5cbmltcG9ydCB7IE9VVFNJREVfRU5ELCBGQURFSU4sIENPTFVNTiB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBiaW5kU2VnbWVudHMsIGV2YWxPcHRpb25zIH0gZnJvbSAnLi4vdXRpbHMnO1xuXG5pbXBvcnQgeyBDSVJDTEUsIFJJR0hULCBDRU5URVIgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGRlZXBFeHRlbmQsIGRlZmluZWQsIGlzRnVuY3Rpb24sIGxhc3QsIHJvdW5kLCBzZXREZWZhdWx0T3B0aW9ucywgdmFsdWVPckRlZmF1bHQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jb25zdCBQSUVfU0VDVE9SX0FOSU1fREVMQVkgPSA3MDtcblxuY2xhc3MgUGllQ2hhcnQgZXh0ZW5kcyBDaGFydEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKHBsb3RBcmVhLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMucGxvdEFyZWEgPSBwbG90QXJlYTtcbiAgICAgICAgdGhpcy5jaGFydFNlcnZpY2UgPSBwbG90QXJlYS5jaGFydFNlcnZpY2U7XG4gICAgICAgIHRoaXMucG9pbnRzID0gW107XG4gICAgICAgIHRoaXMubGVnZW5kSXRlbXMgPSBbXTtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHRoaXMudHJhdmVyc2VEYXRhUG9pbnRzKHRoaXMuYWRkVmFsdWUuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgdHJhdmVyc2VEYXRhUG9pbnRzKGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgcGxvdEFyZWE6IHsgb3B0aW9uczogeyBzZXJpZXNDb2xvcnMgPSBbXSB9IH0gfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGNvbG9yc0NvdW50ID0gc2VyaWVzQ29sb3JzLmxlbmd0aDtcbiAgICAgICAgY29uc3Qgc2VyaWVzID0gb3B0aW9ucy5zZXJpZXM7XG4gICAgICAgIGNvbnN0IHNlcmllc0NvdW50ID0gc2VyaWVzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKGxldCBzZXJpZXNJeCA9IDA7IHNlcmllc0l4IDwgc2VyaWVzQ291bnQ7IHNlcmllc0l4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZXJpZXMgPSBzZXJpZXNbc2VyaWVzSXhdO1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGN1cnJlbnRTZXJpZXMuZGF0YTtcbiAgICAgICAgICAgIGNvbnN0IHsgdG90YWwsIHBvaW50cywgY291bnQgfSA9IGJpbmRTZWdtZW50cyhjdXJyZW50U2VyaWVzKTtcbiAgICAgICAgICAgIGNvbnN0IGFuZ2xlUGVyVmFsdWUgPSAzNjAgLyB0b3RhbDtcbiAgICAgICAgICAgIGxldCBjb25zdGFudEFuZ2xlO1xuICAgICAgICAgICAgaWYgKCFpc0Zpbml0ZShhbmdsZVBlclZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0YW50QW5nbGUgPSAzNjAgLyBjb3VudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBjdXJyZW50QW5nbGU7XG5cbiAgICAgICAgICAgIGlmIChkZWZpbmVkKGN1cnJlbnRTZXJpZXMuc3RhcnRBbmdsZSkpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50QW5nbGUgPSBjdXJyZW50U2VyaWVzLnN0YXJ0QW5nbGU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRBbmdsZSA9IG9wdGlvbnMuc3RhcnRBbmdsZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNlcmllc0l4ICE9PSBzZXJpZXNDb3VudCAtIDEpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFNlcmllcy5sYWJlbHMucG9zaXRpb24gPT09IE9VVFNJREVfRU5EKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTZXJpZXMubGFiZWxzLnBvc2l0aW9uID0gQ0VOVEVSO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwb2ludERhdGEgPSBwb2ludHNbaV07XG4gICAgICAgICAgICAgICAgaWYgKCFwb2ludERhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgeyBmaWVsZHMsIHZhbHVlLCB2aXNpYmxlIH0gPSBwb2ludERhdGE7XG4gICAgICAgICAgICAgICAgY29uc3QgYW5nbGUgPSB2YWx1ZSAhPT0gMCA/IChjb25zdGFudEFuZ2xlIHx8ICh2YWx1ZSAqIGFuZ2xlUGVyVmFsdWUpKSA6IDA7XG4gICAgICAgICAgICAgICAgY29uc3QgZXhwbG9kZSA9IGRhdGEubGVuZ3RoICE9PSAxICYmIEJvb2xlYW4oZmllbGRzLmV4cGxvZGUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFpc0Z1bmN0aW9uKGN1cnJlbnRTZXJpZXMuY29sb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTZXJpZXMuY29sb3IgPSBmaWVsZHMuY29sb3IgfHwgc2VyaWVzQ29sb3JzW2kgJSBjb2xvcnNDb3VudF07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY2FsbGJhY2socG9pbnREYXRhLnZhbHVlRmllbGRzLnZhbHVlLCBuZXcgUmluZyhudWxsLCAwLCAwLCBjdXJyZW50QW5nbGUsIGFuZ2xlKSwge1xuICAgICAgICAgICAgICAgICAgICBvd25lcjogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IGRlZmluZWQoZmllbGRzLmNhdGVnb3J5KSA/IGZpZWxkcy5jYXRlZ29yeSA6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiBpLFxuICAgICAgICAgICAgICAgICAgICBzZXJpZXM6IGN1cnJlbnRTZXJpZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcmllc0l4OiBzZXJpZXNJeCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YUl0ZW06IGRhdGFbaV0sXG4gICAgICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2U6IHRvdGFsICE9PSAwID8gdmFsdWUgLyB0b3RhbCA6IDAsXG4gICAgICAgICAgICAgICAgICAgIGV4cGxvZGU6IGV4cGxvZGUsXG4gICAgICAgICAgICAgICAgICAgIHZpc2libGVJbkxlZ2VuZDogZmllbGRzLnZpc2libGVJbkxlZ2VuZCxcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdmlzaWJsZSxcbiAgICAgICAgICAgICAgICAgICAgekluZGV4OiBzZXJpZXNDb3VudCAtIHNlcmllc0l4LFxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25EZWxheTogdGhpcy5hbmltYXRpb25EZWxheShpLCBzZXJpZXNJeCwgc2VyaWVzQ291bnQpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodmlzaWJsZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEFuZ2xlICs9IGFuZ2xlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV2YWxTZWdtZW50T3B0aW9ucyhvcHRpb25zLCB2YWx1ZSwgZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IHNlcmllcyA9IGZpZWxkcy5zZXJpZXM7XG5cbiAgICAgICAgZXZhbE9wdGlvbnMob3B0aW9ucywge1xuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgc2VyaWVzOiBzZXJpZXMsXG4gICAgICAgICAgICBkYXRhSXRlbTogZmllbGRzLmRhdGFJdGVtLFxuICAgICAgICAgICAgY2F0ZWdvcnk6IGZpZWxkcy5jYXRlZ29yeSxcbiAgICAgICAgICAgIHBlcmNlbnRhZ2U6IGZpZWxkcy5wZXJjZW50YWdlXG4gICAgICAgIH0sIHsgZGVmYXVsdHM6IHNlcmllcy5fZGVmYXVsdHMsIGV4Y2x1ZGVkOiBbIFwiZGF0YVwiLCBcImNvbnRlbnRcIiwgXCJ0ZW1wbGF0ZVwiLCBcInZpc3VhbFwiLCBcInRvZ2dsZVwiIF0gfSk7XG4gICAgfVxuXG4gICAgYWRkVmFsdWUodmFsdWUsIHNlY3RvciwgZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IHNlZ21lbnRPcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgZmllbGRzLnNlcmllcywgeyBpbmRleDogZmllbGRzLmluZGV4IH0pO1xuICAgICAgICB0aGlzLmV2YWxTZWdtZW50T3B0aW9ucyhzZWdtZW50T3B0aW9ucywgdmFsdWUsIGZpZWxkcyk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVMZWdlbmRJdGVtKHZhbHVlLCBzZWdtZW50T3B0aW9ucywgZmllbGRzKTtcblxuICAgICAgICBpZiAoZmllbGRzLnZpc2libGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzZWdtZW50ID0gbmV3IFBpZVNlZ21lbnQodmFsdWUsIHNlY3Rvciwgc2VnbWVudE9wdGlvbnMpO1xuICAgICAgICBPYmplY3QuYXNzaWduKHNlZ21lbnQsIGZpZWxkcyk7XG4gICAgICAgIHRoaXMuYXBwZW5kKHNlZ21lbnQpO1xuICAgICAgICB0aGlzLnBvaW50cy5wdXNoKHNlZ21lbnQpO1xuICAgIH1cblxuICAgIHJlZmxvdyh0YXJnZXRCb3gpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBwb2ludHMsIHNlcmllc0NvbmZpZ3MgPSBbXSB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgY291bnQgPSBwb2ludHMubGVuZ3RoO1xuICAgICAgICBjb25zdCBib3ggPSB0YXJnZXRCb3guY2xvbmUoKTtcbiAgICAgICAgY29uc3Qgc3BhY2UgPSA1O1xuICAgICAgICBjb25zdCBtaW5XaWR0aCA9IE1hdGgubWluKGJveC53aWR0aCgpLCBib3guaGVpZ2h0KCkpO1xuICAgICAgICBjb25zdCBoYWxmTWluV2lkdGggPSBtaW5XaWR0aCAvIDI7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRQYWRkaW5nID0gbWluV2lkdGggLSBtaW5XaWR0aCAqIDAuODU7XG4gICAgICAgIGNvbnN0IG5ld0JveCA9IG5ldyBCb3goYm94LngxLCBib3gueTEsIGJveC54MSArIG1pbldpZHRoLCBib3gueTEgKyBtaW5XaWR0aCk7XG4gICAgICAgIGNvbnN0IG5ld0JveENlbnRlciA9IG5ld0JveC5jZW50ZXIoKTtcbiAgICAgICAgY29uc3QgYm94Q2VudGVyID0gYm94LmNlbnRlcigpO1xuICAgICAgICBjb25zdCBzZXJpZXNDb3VudCA9IG9wdGlvbnMuc2VyaWVzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgbGVmdFNpZGVMYWJlbHMgPSBbXTtcbiAgICAgICAgY29uc3QgcmlnaHRTaWRlTGFiZWxzID0gW107XG4gICAgICAgIGxldCBwYWRkaW5nID0gdmFsdWVPckRlZmF1bHQob3B0aW9ucy5wYWRkaW5nLCBkZWZhdWx0UGFkZGluZyk7XG5cbiAgICAgICAgdGhpcy50YXJnZXRCb3ggPSB0YXJnZXRCb3g7XG5cbiAgICAgICAgcGFkZGluZyA9IHBhZGRpbmcgPiBoYWxmTWluV2lkdGggLSBzcGFjZSA/IGhhbGZNaW5XaWR0aCAtIHNwYWNlIDogcGFkZGluZztcbiAgICAgICAgbmV3Qm94LnRyYW5zbGF0ZShib3hDZW50ZXIueCAtIG5ld0JveENlbnRlci54LCBib3hDZW50ZXIueSAtIG5ld0JveENlbnRlci55KTtcblxuICAgICAgICBjb25zdCByYWRpdXMgPSBoYWxmTWluV2lkdGggLSBwYWRkaW5nO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSBuZXcgUG9pbnQoXG4gICAgICAgICAgICByYWRpdXMgKyBuZXdCb3gueDEgKyBwYWRkaW5nLFxuICAgICAgICAgICAgcmFkaXVzICsgbmV3Qm94LnkxICsgcGFkZGluZ1xuICAgICAgICApO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgc2VnbWVudCA9IHBvaW50c1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHNlY3RvciA9IHNlZ21lbnQuc2VjdG9yO1xuICAgICAgICAgICAgY29uc3Qgc2VyaWVzSW5kZXggPSBzZWdtZW50LnNlcmllc0l4O1xuICAgICAgICAgICAgc2VjdG9yLnJhZGl1cyA9IHJhZGl1cztcbiAgICAgICAgICAgIHNlY3Rvci5jZW50ZXIgPSBjZW50ZXI7XG5cbiAgICAgICAgICAgIGlmIChzZXJpZXNDb25maWdzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlcmllc0NvbmZpZyA9IHNlcmllc0NvbmZpZ3Nbc2VyaWVzSW5kZXhdO1xuICAgICAgICAgICAgICAgIHNlY3Rvci5pbm5lclJhZGl1cyA9IHNlcmllc0NvbmZpZy5pbm5lclJhZGl1cztcbiAgICAgICAgICAgICAgICBzZWN0b3IucmFkaXVzID0gc2VyaWVzQ29uZmlnLnJhZGl1cztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNlcmllc0luZGV4ID09PSBzZXJpZXNDb3VudCAtIDEgJiYgc2VnbWVudC5leHBsb2RlKSB7XG4gICAgICAgICAgICAgICAgc2VjdG9yLmNlbnRlciA9IHNlY3Rvci5jbG9uZSgpLnNldFJhZGl1cyhzZWN0b3IucmFkaXVzICogMC4xNSkucG9pbnQoc2VjdG9yLm1pZGRsZSgpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2VnbWVudC5yZWZsb3cobmV3Qm94KTtcblxuICAgICAgICAgICAgY29uc3QgbGFiZWwgPSBzZWdtZW50LmxhYmVsO1xuICAgICAgICAgICAgaWYgKGxhYmVsKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxhYmVsLm9wdGlvbnMucG9zaXRpb24gPT09IE9VVFNJREVfRU5EKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZXJpZXNJbmRleCA9PT0gc2VyaWVzQ291bnQgLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGFiZWwub3JpZW50YXRpb24gPT09IFJJR0hUKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHRTaWRlTGFiZWxzLnB1c2gobGFiZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0U2lkZUxhYmVscy5wdXNoKGxhYmVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsZWZ0U2lkZUxhYmVscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsZWZ0U2lkZUxhYmVscy5zb3J0KHRoaXMubGFiZWxDb21wYXJhdG9yKHRydWUpKTtcbiAgICAgICAgICAgIHRoaXMubGVmdExhYmVsc1JlZmxvdyhsZWZ0U2lkZUxhYmVscyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmlnaHRTaWRlTGFiZWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJpZ2h0U2lkZUxhYmVscy5zb3J0KHRoaXMubGFiZWxDb21wYXJhdG9yKGZhbHNlKSk7XG4gICAgICAgICAgICB0aGlzLnJpZ2h0TGFiZWxzUmVmbG93KHJpZ2h0U2lkZUxhYmVscyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJveCA9IG5ld0JveDtcbiAgICB9XG5cbiAgICBsZWZ0TGFiZWxzUmVmbG93KGxhYmVscykge1xuICAgICAgICBjb25zdCBkaXN0YW5jZXMgPSB0aGlzLmRpc3RhbmNlQmV0d2VlbkxhYmVscyhsYWJlbHMpO1xuXG4gICAgICAgIHRoaXMuZGlzdHJpYnV0ZUxhYmVscyhkaXN0YW5jZXMsIGxhYmVscyk7XG4gICAgfVxuXG4gICAgcmlnaHRMYWJlbHNSZWZsb3cobGFiZWxzKSB7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlcyA9IHRoaXMuZGlzdGFuY2VCZXR3ZWVuTGFiZWxzKGxhYmVscyk7XG5cbiAgICAgICAgdGhpcy5kaXN0cmlidXRlTGFiZWxzKGRpc3RhbmNlcywgbGFiZWxzKTtcbiAgICB9XG5cbiAgICBkaXN0YW5jZUJldHdlZW5MYWJlbHMobGFiZWxzKSB7XG4gICAgICAgIGNvbnN0IHNlZ21lbnQgPSBsYXN0KHRoaXMucG9pbnRzKTtcbiAgICAgICAgY29uc3Qgc2VjdG9yID0gc2VnbWVudC5zZWN0b3I7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gbGFiZWxzLmxlbmd0aCAtIDE7XG4gICAgICAgIGNvbnN0IGxyID0gc2VjdG9yLnJhZGl1cyArIHNlZ21lbnQub3B0aW9ucy5sYWJlbHMuZGlzdGFuY2U7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlcyA9IFtdO1xuICAgICAgICBsZXQgZmlyc3RCb3ggPSBsYWJlbHNbMF0uYm94O1xuICAgICAgICBsZXQgZGlzdGFuY2UgPSByb3VuZChmaXJzdEJveC55MSAtIChzZWN0b3IuY2VudGVyLnkgLSBsciAtIGZpcnN0Qm94LmhlaWdodCgpIC0gZmlyc3RCb3guaGVpZ2h0KCkgLyAyKSk7XG5cbiAgICAgICAgZGlzdGFuY2VzLnB1c2goZGlzdGFuY2UpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgc2Vjb25kQm94ID0gbGFiZWxzW2kgKyAxXS5ib3g7XG5cbiAgICAgICAgICAgIGZpcnN0Qm94ID0gbGFiZWxzW2ldLmJveDtcbiAgICAgICAgICAgIGRpc3RhbmNlID0gcm91bmQoc2Vjb25kQm94LnkxIC0gZmlyc3RCb3gueTIpO1xuICAgICAgICAgICAgZGlzdGFuY2VzLnB1c2goZGlzdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGRpc3RhbmNlID0gcm91bmQoc2VjdG9yLmNlbnRlci55ICsgbHIgLSBsYWJlbHNbY291bnRdLmJveC55MiAtIGxhYmVsc1tjb3VudF0uYm94LmhlaWdodCgpIC8gMik7XG4gICAgICAgIGRpc3RhbmNlcy5wdXNoKGRpc3RhbmNlKTtcblxuICAgICAgICByZXR1cm4gZGlzdGFuY2VzO1xuICAgIH1cblxuICAgIGRpc3RyaWJ1dGVMYWJlbHMoZGlzdGFuY2VzLCBsYWJlbHMpIHtcbiAgICAgICAgY29uc3QgY291bnQgPSBkaXN0YW5jZXMubGVuZ3RoO1xuICAgICAgICBsZXQgbGVmdCwgcmlnaHQsIHJlbWFpbmluZztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHJlbWFpbmluZyA9IC1kaXN0YW5jZXNbaV07XG4gICAgICAgICAgICBsZWZ0ID0gcmlnaHQgPSBpO1xuXG4gICAgICAgICAgICB3aGlsZSAocmVtYWluaW5nID4gMCAmJiAobGVmdCA+PSAwIHx8IHJpZ2h0IDwgY291bnQpKSB7XG4gICAgICAgICAgICAgICAgcmVtYWluaW5nID0gdGhpcy5fdGFrZURpc3RhbmNlKGRpc3RhbmNlcywgaSwgLS1sZWZ0LCByZW1haW5pbmcpO1xuICAgICAgICAgICAgICAgIHJlbWFpbmluZyA9IHRoaXMuX3Rha2VEaXN0YW5jZShkaXN0YW5jZXMsIGksICsrcmlnaHQsIHJlbWFpbmluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlZmxvd0xhYmVscyhkaXN0YW5jZXMsIGxhYmVscyk7XG4gICAgfVxuXG4gICAgX3Rha2VEaXN0YW5jZShkaXN0YW5jZXMsIGFuY2hvciwgcG9zaXRpb24sIGFtb3VudCkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gYW1vdW50O1xuICAgICAgICBpZiAoZGlzdGFuY2VzW3Bvc2l0aW9uXSA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGF2YWlsYWJsZSA9IE1hdGgubWluKGRpc3RhbmNlc1twb3NpdGlvbl0sIHJlc3VsdCk7XG4gICAgICAgICAgICByZXN1bHQgLT0gYXZhaWxhYmxlO1xuICAgICAgICAgICAgZGlzdGFuY2VzW3Bvc2l0aW9uXSAtPSBhdmFpbGFibGU7XG4gICAgICAgICAgICBkaXN0YW5jZXNbYW5jaG9yXSArPSBhdmFpbGFibGU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJlZmxvd0xhYmVscyhkaXN0YW5jZXMsIGxhYmVscykge1xuICAgICAgICBjb25zdCBzZWdtZW50ID0gbGFzdCh0aGlzLnBvaW50cyk7XG4gICAgICAgIGNvbnN0IHNlY3RvciA9IHNlZ21lbnQuc2VjdG9yO1xuICAgICAgICBjb25zdCBsYWJlbE9wdGlvbnMgPSBzZWdtZW50Lm9wdGlvbnMubGFiZWxzO1xuICAgICAgICBjb25zdCBsYWJlbHNDb3VudCA9IGxhYmVscy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGxhYmVsRGlzdGFuY2UgPSBsYWJlbE9wdGlvbnMuZGlzdGFuY2U7XG4gICAgICAgIGxldCBib3hZID0gc2VjdG9yLmNlbnRlci55IC0gKHNlY3Rvci5yYWRpdXMgKyBsYWJlbERpc3RhbmNlKSAtIGxhYmVsc1swXS5ib3guaGVpZ2h0KCk7XG4gICAgICAgIGxldCBib3hYO1xuXG4gICAgICAgIGRpc3RhbmNlc1swXSArPSAyO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxhYmVsc0NvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gbGFiZWxzW2ldO1xuICAgICAgICAgICAgY29uc3QgYm94ID0gbGFiZWwuYm94O1xuXG4gICAgICAgICAgICBib3hZICs9IGRpc3RhbmNlc1tpXTtcbiAgICAgICAgICAgIGJveFggPSB0aGlzLmhBbGlnbkxhYmVsKFxuICAgICAgICAgICAgICAgIGJveC54MixcbiAgICAgICAgICAgICAgICBzZWN0b3IuY2xvbmUoKS5leHBhbmQobGFiZWxEaXN0YW5jZSksXG4gICAgICAgICAgICAgICAgYm94WSxcbiAgICAgICAgICAgICAgICBib3hZICsgYm94LmhlaWdodCgpLFxuICAgICAgICAgICAgICAgIGxhYmVsLm9yaWVudGF0aW9uID09PSBSSUdIVCk7XG5cbiAgICAgICAgICAgIGlmIChsYWJlbC5vcmllbnRhdGlvbiA9PT0gUklHSFQpIHtcbiAgICAgICAgICAgICAgICBpZiAobGFiZWxPcHRpb25zLmFsaWduICE9PSBDSVJDTEUpIHtcbiAgICAgICAgICAgICAgICAgICAgYm94WCA9IHNlY3Rvci5yYWRpdXMgKyBzZWN0b3IuY2VudGVyLnggKyBsYWJlbERpc3RhbmNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsYWJlbC5yZWZsb3cobmV3IEJveChib3hYICsgYm94LndpZHRoKCksIGJveFksIGJveFgsIGJveFkpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGxhYmVsT3B0aW9ucy5hbGlnbiAhPT0gQ0lSQ0xFKSB7XG4gICAgICAgICAgICAgICAgICAgIGJveFggPSBzZWN0b3IuY2VudGVyLnggLSBzZWN0b3IucmFkaXVzIC0gbGFiZWxEaXN0YW5jZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGFiZWwucmVmbG93KG5ldyBCb3goYm94WCAtIGJveC53aWR0aCgpLCBib3hZLCBib3hYLCBib3hZKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJveFkgKz0gYm94LmhlaWdodCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlVmlzdWFsKCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnM6IHsgY29ubmVjdG9ycyB9LCBwb2ludHMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gcG9pbnRzLmxlbmd0aDtcbiAgICAgICAgY29uc3Qgc3BhY2UgPSA0O1xuXG4gICAgICAgIHN1cGVyLmNyZWF0ZVZpc3VhbCgpO1xuXG4gICAgICAgIHRoaXMuX2Nvbm5lY3RvckxpbmVzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzZWdtZW50ID0gcG9pbnRzW2ldO1xuICAgICAgICAgICAgY29uc3QgeyBzZWN0b3IsIGxhYmVsIH0gPSBzZWdtZW50O1xuICAgICAgICAgICAgY29uc3QgYW5nbGUgPSBzZWN0b3IubWlkZGxlKCk7XG4gICAgICAgICAgICBjb25zdCBjb25uZWN0b3JzQ29sb3IgPSAoc2VnbWVudC5vcHRpb25zLmNvbm5lY3RvcnMgfHwge30pLmNvbG9yIHx8IGNvbm5lY3RvcnMuY29sb3I7XG5cbiAgICAgICAgICAgIGlmIChsYWJlbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbm5lY3RvckxpbmUgPSBuZXcgZHJhdy5QYXRoKHtcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogY29ubmVjdG9yc0NvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGNvbm5lY3RvcnMud2lkdGhcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBGQURFSU4sXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxheTogc2VnbWVudC5hbmltYXRpb25EZWxheVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAobGFiZWwub3B0aW9ucy5wb3NpdGlvbiA9PT0gT1VUU0lERV9FTkQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYm94ID0gbGFiZWwuYm94O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjZW50ZXJQb2ludCA9IHNlY3Rvci5jZW50ZXI7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzdGFydCA9IHNlY3Rvci5wb2ludChhbmdsZSk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBtaWRkbGUgPSBuZXcgUG9pbnQoYm94LngxLCBib3guY2VudGVyKCkueSk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzciwgZW5kLCBjcm9zc2luZztcblxuICAgICAgICAgICAgICAgICAgICBzdGFydCA9IHNlY3Rvci5jbG9uZSgpLmV4cGFuZChjb25uZWN0b3JzLnBhZGRpbmcpLnBvaW50KGFuZ2xlKTtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdG9yTGluZS5tb3ZlVG8oc3RhcnQueCwgc3RhcnQueSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IEV4dHJhY3QgaW50byBhIG1ldGhvZCB0byByZW1vdmUgZHVwbGljYXRpb25cbiAgICAgICAgICAgICAgICAgICAgaWYgKGxhYmVsLm9yaWVudGF0aW9uID09PSBSSUdIVCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5kID0gbmV3IFBvaW50KGJveC54MSAtIGNvbm5lY3RvcnMucGFkZGluZywgYm94LmNlbnRlcigpLnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3Jvc3NpbmcgPSBpbnRlcnNlY3Rpb24oY2VudGVyUG9pbnQsIHN0YXJ0LCBtaWRkbGUsIGVuZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtaWRkbGUgPSBuZXcgUG9pbnQoZW5kLnggLSBzcGFjZSwgZW5kLnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3Jvc3NpbmcgPSBjcm9zc2luZyB8fCBtaWRkbGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcm9zc2luZy54ID0gTWF0aC5taW4oY3Jvc3NpbmcueCwgbWlkZGxlLngpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wb2ludEluQ2lyY2xlKGNyb3NzaW5nLCBzZWN0b3IuY2VudGVyLCBzZWN0b3IucmFkaXVzICsgc3BhY2UpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Jvc3NpbmcueCA8IHNlY3Rvci5jZW50ZXIueCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyID0gc2VjdG9yLmNlbnRlci54ICsgc2VjdG9yLnJhZGl1cyArIHNwYWNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWdtZW50Lm9wdGlvbnMubGFiZWxzLmFsaWduICE9PSBDT0xVTU4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNyIDwgbWlkZGxlLngpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3RvckxpbmUubGluZVRvKHNyLCBzdGFydC55KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3RvckxpbmUubGluZVRvKHN0YXJ0LnggKyBzcGFjZSAqIDIsIHN0YXJ0LnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdG9yTGluZS5saW5lVG8oc3IsIHN0YXJ0LnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0b3JMaW5lLmxpbmVUbyhtaWRkbGUueCwgZW5kLnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcm9zc2luZy55ID0gZW5kLnk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdG9yTGluZS5saW5lVG8oY3Jvc3NpbmcueCwgY3Jvc3NpbmcueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSBuZXcgUG9pbnQoYm94LngyICsgY29ubmVjdG9ycy5wYWRkaW5nLCBib3guY2VudGVyKCkueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcm9zc2luZyA9IGludGVyc2VjdGlvbihjZW50ZXJQb2ludCwgc3RhcnQsIG1pZGRsZSwgZW5kKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pZGRsZSA9IG5ldyBQb2ludChlbmQueCArIHNwYWNlLCBlbmQueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcm9zc2luZyA9IGNyb3NzaW5nIHx8IG1pZGRsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyb3NzaW5nLnggPSBNYXRoLm1heChjcm9zc2luZy54LCBtaWRkbGUueCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBvaW50SW5DaXJjbGUoY3Jvc3NpbmcsIHNlY3Rvci5jZW50ZXIsIHNlY3Rvci5yYWRpdXMgKyBzcGFjZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcm9zc2luZy54ID4gc2VjdG9yLmNlbnRlci54KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3IgPSBzZWN0b3IuY2VudGVyLnggLSBzZWN0b3IucmFkaXVzIC0gc3BhY2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlZ21lbnQub3B0aW9ucy5sYWJlbHMuYWxpZ24gIT09IENPTFVNTikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3IgPiBtaWRkbGUueCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdG9yTGluZS5saW5lVG8oc3IsIHN0YXJ0LnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdG9yTGluZS5saW5lVG8oc3RhcnQueCAtIHNwYWNlICogMiwgc3RhcnQueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0b3JMaW5lLmxpbmVUbyhzciwgc3RhcnQueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3RvckxpbmUubGluZVRvKG1pZGRsZS54LCBlbmQueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyb3NzaW5nLnkgPSBlbmQueTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0b3JMaW5lLmxpbmVUbyhjcm9zc2luZy54LCBjcm9zc2luZy55KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3RvckxpbmUubGluZVRvKGVuZC54LCBlbmQueSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29ubmVjdG9yTGluZXMucHVzaChjb25uZWN0b3JMaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aXN1YWwuYXBwZW5kKGNvbm5lY3RvckxpbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlclZpc3VhbCgpIHtcbiAgICAgICAgc3VwZXIucmVuZGVyVmlzdWFsKCk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zZXJpZXMuZmluZChvcHRpb25zID0+IG9wdGlvbnMuYXV0b0ZpdCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlY3QgPSB0aGlzLnRhcmdldEJveC50b1JlY3QoKTtcbiAgICAgICAgICAgIGRyYXcuZml0KHRoaXMudmlzdWFsLCByZWN0KTtcblxuICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gdGhpcy52aXN1YWwudHJhbnNmb3JtKCk7XG5cbiAgICAgICAgICAgIGlmICh0cmFuc2Zvcm0pIHtcbiAgICAgICAgICAgICAgICBkcmF3LmFsaWduKFsgdGhpcy52aXN1YWwgXSwgcmVjdCwgJ2NlbnRlcicpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgcGllQm94ID0gdGhpcy5ib3gudG9SZWN0KCkudHJhbnNmb3JtQ29weSh0cmFuc2Zvcm0pOyAvL3RyYW5zZm9ybWVkIHBpZSBib3hcblxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybS5tYXRyaXgoKS5mICs9IHJlY3QuY2VudGVyKCkueSAtIHBpZUJveC5jZW50ZXIoKS55OyAvLyBtb3ZlIHRvIHRhcmdldGJveCBjZW50ZXJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxhYmVsQ29tcGFyYXRvcihyZXZlcnNlKSB7XG4gICAgICAgIGNvbnN0IHJldmVyc2VWYWx1ZSA9IHJldmVyc2UgPyAtMSA6IDE7XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0ID0gKGEucGFyZW50LnNlY3Rvci5taWRkbGUoKSArIDI3MCkgJSAzNjA7XG4gICAgICAgICAgICBjb25zdCBzZWNvbmQgPSAoYi5wYXJlbnQuc2VjdG9yLm1pZGRsZSgpICsgMjcwKSAlIDM2MDtcbiAgICAgICAgICAgIHJldHVybiAoZmlyc3QgLSBzZWNvbmQpICogcmV2ZXJzZVZhbHVlO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGhBbGlnbkxhYmVsKG9yaWdpbmFsWCwgc2VjdG9yLCB5MSwgeTIsIGRpcmVjdGlvbikge1xuICAgICAgICBjb25zdCB7IHJhZGl1cywgY2VudGVyOiB7IHg6IGN4LCB5OiBjeSB9IH0gPSBzZWN0b3I7XG4gICAgICAgIGNvbnN0IHQgPSBNYXRoLm1pbihNYXRoLmFicyhjeSAtIHkxKSwgTWF0aC5hYnMoY3kgLSB5MikpO1xuXG4gICAgICAgIGlmICh0ID4gcmFkaXVzKSB7XG4gICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxYO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGN4ICsgTWF0aC5zcXJ0KChyYWRpdXMgKiByYWRpdXMpIC0gKHQgKiB0KSkgKiAoZGlyZWN0aW9uID8gMSA6IC0xKTtcbiAgICB9XG5cbiAgICBwb2ludEluQ2lyY2xlKHBvaW50LCBjZW50ZXIsIHJhZGl1cykge1xuICAgICAgICByZXR1cm4gTWF0aC5wb3coY2VudGVyLnggLSBwb2ludC54LCAyKSArIE1hdGgucG93KGNlbnRlci55IC0gcG9pbnQueSwgMikgPCBNYXRoLnBvdyhyYWRpdXMsIDIpO1xuICAgIH1cblxuICAgIGZvcm1hdFBvaW50VmFsdWUocG9pbnQsIGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFydFNlcnZpY2UuZm9ybWF0LmF1dG8oZm9ybWF0LCBwb2ludC52YWx1ZSk7XG4gICAgfVxuXG4gICAgYW5pbWF0aW9uRGVsYXkoY2F0ZWdvcnlJbmRleCkge1xuICAgICAgICByZXR1cm4gY2F0ZWdvcnlJbmRleCAqIFBJRV9TRUNUT1JfQU5JTV9ERUxBWTtcbiAgICB9XG5cbiAgICBzdGFja1Jvb3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaW50ZXJzZWN0aW9uKGExLCBhMiwgYjEsIGIyKSB7XG4gICAgY29uc3QgdWF0ID0gKGIyLnggLSBiMS54KSAqIChhMS55IC0gYjEueSkgLSAoYjIueSAtIGIxLnkpICogKGExLnggLSBiMS54KTtcbiAgICBjb25zdCB1YiA9IChiMi55IC0gYjEueSkgKiAoYTIueCAtIGExLngpIC0gKGIyLnggLSBiMS54KSAqIChhMi55IC0gYTEueSk7XG5cbiAgICBsZXQgcmVzdWx0O1xuICAgIGlmICh1YiAhPT0gMCkge1xuICAgICAgICBjb25zdCB1YSA9ICh1YXQgLyB1Yik7XG5cbiAgICAgICAgcmVzdWx0ID0gbmV3IFBvaW50KFxuICAgICAgICAgICAgYTEueCArIHVhICogKGEyLnggLSBhMS54KSxcbiAgICAgICAgICAgIGExLnkgKyB1YSAqIChhMi55IC0gYTEueSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhQaWVDaGFydCwge1xuICAgIHN0YXJ0QW5nbGU6IDkwLFxuICAgIGNvbm5lY3RvcnM6IHtcbiAgICAgICAgd2lkdGg6IDIsXG4gICAgICAgIGNvbG9yOiBcIiM5MzkzOTNcIixcbiAgICAgICAgcGFkZGluZzogOFxuICAgIH0sXG4gICAgaW5hY3RpdmVJdGVtczoge1xuICAgICAgICBtYXJrZXJzOiB7fSxcbiAgICAgICAgbGFiZWxzOiB7fVxuICAgIH1cbn0pO1xuXG5kZWVwRXh0ZW5kKFBpZUNoYXJ0LnByb3RvdHlwZSwgUGllQ2hhcnRNaXhpbik7XG5cblBpZUNoYXJ0LnByb3RvdHlwZS5pc1N0YWNrUm9vdCA9IHRydWU7XG5cbmV4cG9ydCBkZWZhdWx0IFBpZUNoYXJ0O1xuIiwiaW1wb3J0IFBsb3RBcmVhQmFzZSBmcm9tICcuL3Bsb3RhcmVhLWJhc2UnO1xuaW1wb3J0IFBpZUNoYXJ0IGZyb20gJy4uL3BpZS1jaGFydC9waWUtY2hhcnQnO1xuXG5pbXBvcnQgeyBhcHBlbmQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBQaWVQbG90QXJlYSBleHRlbmRzIFBsb3RBcmVhQmFzZSB7XG4gICAgcmVuZGVyKCkge1xuICAgICAgICB0aGlzLmNyZWF0ZVBpZUNoYXJ0KHRoaXMuc2VyaWVzKTtcbiAgICB9XG5cbiAgICBjcmVhdGVQaWVDaGFydChzZXJpZXMpIHtcbiAgICAgICAgY29uc3QgZmlyc3RTZXJpZXMgPSBzZXJpZXNbMF07XG4gICAgICAgIGNvbnN0IHBpZUNoYXJ0ID0gbmV3IFBpZUNoYXJ0KHRoaXMsIHtcbiAgICAgICAgICAgIHNlcmllczogc2VyaWVzLFxuICAgICAgICAgICAgcGFkZGluZzogZmlyc3RTZXJpZXMucGFkZGluZyxcbiAgICAgICAgICAgIHN0YXJ0QW5nbGU6IGZpcnN0U2VyaWVzLnN0YXJ0QW5nbGUsXG4gICAgICAgICAgICBjb25uZWN0b3JzOiBmaXJzdFNlcmllcy5jb25uZWN0b3JzLFxuICAgICAgICAgICAgbGVnZW5kOiB0aGlzLm9wdGlvbnMubGVnZW5kXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYXBwZW5kQ2hhcnQocGllQ2hhcnQpO1xuICAgIH1cblxuICAgIGFwcGVuZENoYXJ0KGNoYXJ0LCBwYW5lKSB7XG4gICAgICAgIHN1cGVyLmFwcGVuZENoYXJ0KGNoYXJ0LCBwYW5lKTtcbiAgICAgICAgYXBwZW5kKHRoaXMub3B0aW9ucy5sZWdlbmQuaXRlbXMsIGNoYXJ0LmxlZ2VuZEl0ZW1zKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBpZVBsb3RBcmVhOyIsImltcG9ydCBQaWVTZWdtZW50IGZyb20gJy4uL3BpZS1jaGFydC9waWUtc2VnbWVudCc7XG5pbXBvcnQgUG9pbnRFdmVudHNNaXhpbiBmcm9tICcuLi9taXhpbnMvcG9pbnQtZXZlbnRzLW1peGluJztcblxuaW1wb3J0IHsgUElFIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuaW1wb3J0IHsgU2hhcGVCdWlsZGVyLCBCb3ggfSBmcm9tICcuLi8uLi9jb3JlJztcblxuaW1wb3J0IHsgQ0VOVEVSIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBkZWVwRXh0ZW5kLCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIERvbnV0U2VnbWVudCBleHRlbmRzIFBpZVNlZ21lbnQge1xuICAgIHJlZmxvd0xhYmVsKCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnM6IHsgbGFiZWxzOiBsYWJlbHNPcHRpb25zIH0sIGxhYmVsIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBzZWN0b3IgPSB0aGlzLnNlY3Rvci5jbG9uZSgpO1xuICAgICAgICBjb25zdCBhbmdsZSA9IHNlY3Rvci5taWRkbGUoKTtcblxuICAgICAgICBpZiAobGFiZWwpIHtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsSGVpZ2h0ID0gbGFiZWwuYm94LmhlaWdodCgpO1xuICAgICAgICAgICAgaWYgKGxhYmVsc09wdGlvbnMucG9zaXRpb24gPT09IENFTlRFUikge1xuICAgICAgICAgICAgICAgIHNlY3Rvci5yYWRpdXMgLT0gKHNlY3Rvci5yYWRpdXMgLSBzZWN0b3IuaW5uZXJSYWRpdXMpIC8gMjtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGxwID0gc2VjdG9yLnBvaW50KGFuZ2xlKTtcblxuICAgICAgICAgICAgICAgIGxhYmVsLnJlZmxvdyhuZXcgQm94KGxwLngsIGxwLnkgLSBsYWJlbEhlaWdodCAvIDIsIGxwLngsIGxwLnkpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3VwZXIucmVmbG93TGFiZWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZVNlZ21lbnQoc2VjdG9yLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBTaGFwZUJ1aWxkZXIuY3VycmVudC5jcmVhdGVSaW5nKHNlY3Rvciwgb3B0aW9ucyk7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhEb251dFNlZ21lbnQsIHtcbiAgICBvdmVybGF5OiB7XG4gICAgICAgIGdyYWRpZW50OiBcInJvdW5kZWRHbGFzc1wiXG4gICAgfSxcbiAgICBsYWJlbHM6IHtcbiAgICAgICAgcG9zaXRpb246IENFTlRFUlxuICAgIH0sXG4gICAgYW5pbWF0aW9uOiB7XG4gICAgICAgIHR5cGU6IFBJRVxuICAgIH1cbn0pO1xuXG5kZWVwRXh0ZW5kKERvbnV0U2VnbWVudC5wcm90b3R5cGUsIFBvaW50RXZlbnRzTWl4aW4pO1xuXG5cbmV4cG9ydCBkZWZhdWx0IERvbnV0U2VnbWVudDtcbiIsImltcG9ydCBQaWVDaGFydCBmcm9tICcuLi9waWUtY2hhcnQvcGllLWNoYXJ0JztcbmltcG9ydCBEb251dFNlZ21lbnQgZnJvbSAnLi9kb251dC1zZWdtZW50JztcblxuaW1wb3J0IHsgSU5JVElBTF9BTklNQVRJT05fRFVSQVRJT04gfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5pbXBvcnQgeyBkZWVwRXh0ZW5kLCBkZWZpbmVkLCBzZXREZWZhdWx0T3B0aW9ucywgdmFsdWVPckRlZmF1bHQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jb25zdCBET05VVF9TRUNUT1JfQU5JTV9ERUxBWSA9IDUwO1xuXG5jbGFzcyBEb251dENoYXJ0IGV4dGVuZHMgUGllQ2hhcnQge1xuICAgIGFkZFZhbHVlKHZhbHVlLCBzZWN0b3IsIGZpZWxkcykge1xuICAgICAgICBjb25zdCBzZWdtZW50T3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIGZpZWxkcy5zZXJpZXMsIHsgaW5kZXg6IGZpZWxkcy5pbmRleCB9KTtcbiAgICAgICAgdGhpcy5ldmFsU2VnbWVudE9wdGlvbnMoc2VnbWVudE9wdGlvbnMsIHZhbHVlLCBmaWVsZHMpO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlTGVnZW5kSXRlbSh2YWx1ZSwgc2VnbWVudE9wdGlvbnMsIGZpZWxkcyk7XG5cbiAgICAgICAgaWYgKCF2YWx1ZSB8fCBmaWVsZHMudmlzaWJsZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNlZ21lbnQgPSBuZXcgRG9udXRTZWdtZW50KHZhbHVlLCBzZWN0b3IsIHNlZ21lbnRPcHRpb25zKTtcblxuICAgICAgICBPYmplY3QuYXNzaWduKHNlZ21lbnQsIGZpZWxkcyk7XG4gICAgICAgIHRoaXMuYXBwZW5kKHNlZ21lbnQpO1xuICAgICAgICB0aGlzLnBvaW50cy5wdXNoKHNlZ21lbnQpO1xuICAgIH1cblxuICAgIHJlZmxvdyh0YXJnZXRCb3gpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgYm94ID0gdGFyZ2V0Qm94LmNsb25lKCk7XG4gICAgICAgIGNvbnN0IHNwYWNlID0gNTtcbiAgICAgICAgY29uc3QgbWluV2lkdGggPSBNYXRoLm1pbihib3gud2lkdGgoKSwgYm94LmhlaWdodCgpKTtcbiAgICAgICAgY29uc3QgaGFsZk1pbldpZHRoID0gbWluV2lkdGggLyAyO1xuICAgICAgICBjb25zdCBkZWZhdWx0UGFkZGluZyA9IG1pbldpZHRoIC0gbWluV2lkdGggKiAwLjg1O1xuICAgICAgICBjb25zdCBzZXJpZXMgPSBvcHRpb25zLnNlcmllcztcbiAgICAgICAgY29uc3Qgc2VyaWVzQ291bnQgPSBzZXJpZXMubGVuZ3RoO1xuXG4gICAgICAgIGxldCBwYWRkaW5nID0gdmFsdWVPckRlZmF1bHQob3B0aW9ucy5wYWRkaW5nLCBkZWZhdWx0UGFkZGluZyk7XG4gICAgICAgIHBhZGRpbmcgPSBwYWRkaW5nID4gaGFsZk1pbldpZHRoIC0gc3BhY2UgPyBoYWxmTWluV2lkdGggLSBzcGFjZSA6IHBhZGRpbmc7XG5cbiAgICAgICAgbGV0IHRvdGFsU2l6ZSA9IGhhbGZNaW5XaWR0aCAtIHBhZGRpbmc7XG4gICAgICAgIGxldCBzZXJpZXNXaXRob3V0U2l6ZSA9IDA7XG4gICAgICAgIGxldCBob2xlU2l6ZTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlcmllc0NvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZXJpZXMgPSBzZXJpZXNbaV07XG4gICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGlmIChkZWZpbmVkKGN1cnJlbnRTZXJpZXMuaG9sZVNpemUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGhvbGVTaXplID0gY3VycmVudFNlcmllcy5ob2xlU2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgdG90YWxTaXplIC09IGN1cnJlbnRTZXJpZXMuaG9sZVNpemU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZGVmaW5lZChjdXJyZW50U2VyaWVzLnNpemUpKSB7XG4gICAgICAgICAgICAgICAgdG90YWxTaXplIC09IGN1cnJlbnRTZXJpZXMuc2l6ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2VyaWVzV2l0aG91dFNpemUrKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRlZmluZWQoY3VycmVudFNlcmllcy5tYXJnaW4pICYmIGkgIT09IHNlcmllc0NvdW50IC0gMSkge1xuICAgICAgICAgICAgICAgIHRvdGFsU2l6ZSAtPSBjdXJyZW50U2VyaWVzLm1hcmdpbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZGVmaW5lZChob2xlU2l6ZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTaXplID0gKGhhbGZNaW5XaWR0aCAtIHBhZGRpbmcpIC8gKHNlcmllc0NvdW50ICsgMC43NSk7XG4gICAgICAgICAgICBob2xlU2l6ZSA9IGN1cnJlbnRTaXplICogMC43NTtcbiAgICAgICAgICAgIHRvdGFsU2l6ZSAtPSBob2xlU2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBpbm5lclJhZGl1cyA9IGhvbGVTaXplO1xuICAgICAgICBsZXQgbWFyZ2luID0gMDtcbiAgICAgICAgbGV0IHNpemUsIHJhZGl1cztcblxuICAgICAgICB0aGlzLnNlcmllc0NvbmZpZ3MgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlcmllc0NvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZXJpZXMgPSBzZXJpZXNbaV07XG4gICAgICAgICAgICBzaXplID0gdmFsdWVPckRlZmF1bHQoY3VycmVudFNlcmllcy5zaXplLCB0b3RhbFNpemUgLyBzZXJpZXNXaXRob3V0U2l6ZSk7XG4gICAgICAgICAgICBpbm5lclJhZGl1cyArPSBtYXJnaW47XG4gICAgICAgICAgICByYWRpdXMgPSBpbm5lclJhZGl1cyArIHNpemU7XG4gICAgICAgICAgICB0aGlzLnNlcmllc0NvbmZpZ3MucHVzaCh7IGlubmVyUmFkaXVzOiBpbm5lclJhZGl1cywgcmFkaXVzOiByYWRpdXMgfSk7XG4gICAgICAgICAgICBtYXJnaW4gPSBjdXJyZW50U2VyaWVzLm1hcmdpbiB8fCAwO1xuICAgICAgICAgICAgaW5uZXJSYWRpdXMgPSByYWRpdXM7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5yZWZsb3codGFyZ2V0Qm94KTtcbiAgICB9XG5cbiAgICBhbmltYXRpb25EZWxheShjYXRlZ29yeUluZGV4LCBzZXJpZXNJbmRleCwgc2VyaWVzQ291bnQpIHtcbiAgICAgICAgcmV0dXJuIGNhdGVnb3J5SW5kZXggKiBET05VVF9TRUNUT1JfQU5JTV9ERUxBWSArXG4gICAgICAgICAgICAoSU5JVElBTF9BTklNQVRJT05fRFVSQVRJT04gKiAoc2VyaWVzSW5kZXggKyAxKSAvIChzZXJpZXNDb3VudCArIDEpKTtcbiAgICB9XG59XG5cblxuc2V0RGVmYXVsdE9wdGlvbnMoRG9udXRDaGFydCwge1xuICAgIHN0YXJ0QW5nbGU6IDkwLFxuICAgIGNvbm5lY3RvcnM6IHtcbiAgICAgICAgd2lkdGg6IDIsXG4gICAgICAgIGNvbG9yOiBcIiM5MzkzOTNcIixcbiAgICAgICAgcGFkZGluZzogOFxuICAgIH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBEb251dENoYXJ0OyIsImltcG9ydCBQaWVQbG90QXJlYSBmcm9tICcuL3BpZS1wbG90YXJlYSc7XG5pbXBvcnQgRG9udXRDaGFydCBmcm9tICcuLi9kb251dC1jaGFydC9kb251dC1jaGFydCc7XG5cbmNsYXNzIERvbnV0UGxvdEFyZWEgZXh0ZW5kcyBQaWVQbG90QXJlYSB7XG4gICAgcmVuZGVyKCkge1xuICAgICAgICB0aGlzLmNyZWF0ZURvbnV0Q2hhcnQodGhpcy5zZXJpZXMpO1xuICAgIH1cblxuICAgIGNyZWF0ZURvbnV0Q2hhcnQoc2VyaWVzKSB7XG4gICAgICAgIGNvbnN0IGZpcnN0U2VyaWVzID0gc2VyaWVzWzBdO1xuICAgICAgICBjb25zdCBkb251dENoYXJ0ID0gbmV3IERvbnV0Q2hhcnQodGhpcywge1xuICAgICAgICAgICAgc2VyaWVzOiBzZXJpZXMsXG4gICAgICAgICAgICBwYWRkaW5nOiBmaXJzdFNlcmllcy5wYWRkaW5nLFxuICAgICAgICAgICAgY29ubmVjdG9yczogZmlyc3RTZXJpZXMuY29ubmVjdG9ycyxcbiAgICAgICAgICAgIGxlZ2VuZDogdGhpcy5vcHRpb25zLmxlZ2VuZFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmFwcGVuZENoYXJ0KGRvbnV0Q2hhcnQpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRG9udXRQbG90QXJlYTsiLCJpbXBvcnQgUGxvdEFyZWFCYXNlIGZyb20gJy4vcGxvdGFyZWEtYmFzZSc7XG5pbXBvcnQgQXhpc0dyb3VwUmFuZ2VUcmFja2VyIGZyb20gJy4uL2F4aXMtZ3JvdXAtcmFuZ2UtdHJhY2tlcic7XG5pbXBvcnQgeyBSYWRhckxvZ2FyaXRobWljQXhpcywgUmFkYXJOdW1lcmljQXhpcyB9IGZyb20gJy4uLy4uL2NvcmUnO1xuXG5pbXBvcnQgeyBMT0dBUklUSE1JQyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmltcG9ydCB7IGdldFNwYWNpbmcgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuaW1wb3J0IHsgWSwgQ0VOVEVSIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5cbmNvbnN0IERFRkFVTFRfUEFERElORyA9IDAuMTU7XG5cbmNsYXNzIFBvbGFyUGxvdEFyZWFCYXNlIGV4dGVuZHMgUGxvdEFyZWFCYXNlIHtcbiAgICBpbml0RmllbGRzKCkge1xuICAgICAgICB0aGlzLnZhbHVlQXhpc1JhbmdlVHJhY2tlciA9IG5ldyBBeGlzR3JvdXBSYW5nZVRyYWNrZXIoKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHRoaXMuYWRkVG9MZWdlbmQodGhpcy5zZXJpZXMpO1xuICAgICAgICB0aGlzLmNyZWF0ZVBvbGFyQXhpcygpO1xuICAgICAgICB0aGlzLmNyZWF0ZUNoYXJ0cygpO1xuICAgICAgICB0aGlzLmNyZWF0ZVZhbHVlQXhpcygpO1xuICAgIH1cblxuICAgIGFsaWduQXhlcygpIHtcbiAgICAgICAgY29uc3QgYXhpcyA9IHRoaXMudmFsdWVBeGlzO1xuICAgICAgICBjb25zdCByYW5nZSA9IGF4aXMucmFuZ2UoKTtcbiAgICAgICAgY29uc3QgY3Jvc3NpbmdWYWx1ZSA9IGF4aXMub3B0aW9ucy5yZXZlcnNlID8gcmFuZ2UubWF4IDogcmFuZ2UubWluO1xuICAgICAgICBjb25zdCBzbG90ID0gYXhpcy5nZXRTbG90KGNyb3NzaW5nVmFsdWUpO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSB0aGlzLnBvbGFyQXhpcy5nZXRTbG90KDApLmNlbnRlcjtcbiAgICAgICAgY29uc3QgYXhpc0JveCA9IGF4aXMuYm94LnRyYW5zbGF0ZShcbiAgICAgICAgICAgIGNlbnRlci54IC0gc2xvdC54MSxcbiAgICAgICAgICAgIGNlbnRlci55IC0gc2xvdC55MVxuICAgICAgICApO1xuXG4gICAgICAgIGF4aXMucmVmbG93KGF4aXNCb3gpO1xuICAgIH1cblxuICAgIGNyZWF0ZVZhbHVlQXhpcygpIHtcbiAgICAgICAgY29uc3QgdHJhY2tlciA9IHRoaXMudmFsdWVBeGlzUmFuZ2VUcmFja2VyO1xuICAgICAgICBjb25zdCBkZWZhdWx0UmFuZ2UgPSB0cmFja2VyLnF1ZXJ5KCk7XG4gICAgICAgIGNvbnN0IGF4aXNPcHRpb25zID0gdGhpcy52YWx1ZUF4aXNPcHRpb25zKHtcbiAgICAgICAgICAgIHJvdW5kVG9NYWpvclVuaXQ6IGZhbHNlLFxuICAgICAgICAgICAgekluZGV4OiAtMVxuICAgICAgICB9KTtcbiAgICAgICAgbGV0IGF4aXNUeXBlLCBheGlzRGVmYXVsdFJhbmdlO1xuXG4gICAgICAgIGlmIChheGlzT3B0aW9ucy50eXBlID09PSBMT0dBUklUSE1JQykge1xuICAgICAgICAgICAgYXhpc1R5cGUgPSBSYWRhckxvZ2FyaXRobWljQXhpcztcbiAgICAgICAgICAgIGF4aXNEZWZhdWx0UmFuZ2UgPSB7IG1pbjogMC4xLCBtYXg6IDEgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF4aXNUeXBlID0gUmFkYXJOdW1lcmljQXhpcztcbiAgICAgICAgICAgIGF4aXNEZWZhdWx0UmFuZ2UgPSB7IG1pbjogMCwgbWF4OiAxIH07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByYW5nZSA9IHRyYWNrZXIucXVlcnkobmFtZSkgfHwgZGVmYXVsdFJhbmdlIHx8IGF4aXNEZWZhdWx0UmFuZ2U7XG5cbiAgICAgICAgaWYgKHJhbmdlICYmIGRlZmF1bHRSYW5nZSkge1xuICAgICAgICAgICAgcmFuZ2UubWluID0gTWF0aC5taW4ocmFuZ2UubWluLCBkZWZhdWx0UmFuZ2UubWluKTtcbiAgICAgICAgICAgIHJhbmdlLm1heCA9IE1hdGgubWF4KHJhbmdlLm1heCwgZGVmYXVsdFJhbmdlLm1heCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB2YWx1ZUF4aXMgPSBuZXcgYXhpc1R5cGUoXG4gICAgICAgICAgICByYW5nZS5taW4sIHJhbmdlLm1heCxcbiAgICAgICAgICAgIGF4aXNPcHRpb25zLFxuICAgICAgICAgICAgdGhpcy5jaGFydFNlcnZpY2VcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLnZhbHVlQXhpcyA9IHZhbHVlQXhpcztcbiAgICAgICAgdGhpcy5hcHBlbmRBeGlzKHZhbHVlQXhpcyk7XG4gICAgfVxuXG4gICAgcmVmbG93QXhlcygpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zOiB7IHBsb3RBcmVhOiBvcHRpb25zIH0sIHZhbHVlQXhpcywgcG9sYXJBeGlzLCBib3ggfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRQYWRkaW5nID0gTWF0aC5taW4oYm94LndpZHRoKCksIGJveC5oZWlnaHQoKSkgKiBERUZBVUxUX1BBRERJTkc7XG4gICAgICAgIGNvbnN0IHBhZGRpbmcgPSBnZXRTcGFjaW5nKG9wdGlvbnMucGFkZGluZyB8fCB7fSwgZGVmYXVsdFBhZGRpbmcpO1xuICAgICAgICBjb25zdCBwYWRkaW5nQm94ID0gYm94LmNsb25lKCkudW5wYWQocGFkZGluZyk7XG4gICAgICAgIGNvbnN0IGF4aXNCb3ggPSBwYWRkaW5nQm94LmNsb25lKCk7XG5cbiAgICAgICAgYXhpc0JveC55MiA9IGF4aXNCb3gueTEgKyBNYXRoLm1pbihheGlzQm94LndpZHRoKCksIGF4aXNCb3guaGVpZ2h0KCkpO1xuICAgICAgICBheGlzQm94LmFsaWduKHBhZGRpbmdCb3gsIFksIENFTlRFUik7XG5cbiAgICAgICAgY29uc3QgdmFsdWVBeGlzQm94ID0gYXhpc0JveC5jbG9uZSgpLnNocmluaygwLCBheGlzQm94LmhlaWdodCgpIC8gMik7XG5cbiAgICAgICAgcG9sYXJBeGlzLnJlZmxvdyhheGlzQm94KTtcbiAgICAgICAgdmFsdWVBeGlzLnJlZmxvdyh2YWx1ZUF4aXNCb3gpO1xuICAgICAgICBjb25zdCBoZWlnaHREaWZmID0gdmFsdWVBeGlzLmxpbmVCb3goKS5oZWlnaHQoKSAtIHZhbHVlQXhpcy5ib3guaGVpZ2h0KCk7XG4gICAgICAgIHZhbHVlQXhpcy5yZWZsb3codmFsdWVBeGlzLmJveC51bnBhZCh7IHRvcDogaGVpZ2h0RGlmZiB9KSk7XG5cbiAgICAgICAgdGhpcy5heGlzQm94ID0gYXhpc0JveDtcbiAgICAgICAgdGhpcy5hbGlnbkF4ZXMoYXhpc0JveCk7XG4gICAgfVxuXG4gICAgYmFja2dyb3VuZEJveCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYm94O1xuICAgIH1cblxuICAgIGRldGFjaExhYmVscygpIHt9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvbGFyUGxvdEFyZWFCYXNlO1xuIiwiaW1wb3J0IFNjYXR0ZXJDaGFydCBmcm9tICcuLi9zY2F0dGVyLWNoYXJ0cy9zY2F0dGVyLWNoYXJ0JztcblxuaW1wb3J0IHsgUG9pbnQsIEJveCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuXG5pbXBvcnQgeyBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIFBvbGFyU2NhdHRlckNoYXJ0IGV4dGVuZHMgU2NhdHRlckNoYXJ0IHtcbiAgICBwb2ludFNsb3Qoc2xvdFgsIHNsb3RZKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlUmFkaXVzID0gc2xvdFguY2VudGVyLnkgLSBzbG90WS55MTtcbiAgICAgICAgY29uc3Qgc2xvdCA9IFBvaW50Lm9uQ2lyY2xlKHNsb3RYLmNlbnRlciwgc2xvdFguc3RhcnRBbmdsZSwgdmFsdWVSYWRpdXMpO1xuXG4gICAgICAgIHJldHVybiBuZXcgQm94KHNsb3QueCwgc2xvdC55LCBzbG90LngsIHNsb3QueSk7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhQb2xhclNjYXR0ZXJDaGFydCwge1xuICAgIGNsaXA6IGZhbHNlXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgUG9sYXJTY2F0dGVyQ2hhcnQ7IiwiaW1wb3J0IFNjYXR0ZXJMaW5lQ2hhcnQgZnJvbSAnLi4vc2NhdHRlci1jaGFydHMvc2NhdHRlci1saW5lLWNoYXJ0JztcbmltcG9ydCBQb2xhclNjYXR0ZXJDaGFydCBmcm9tICcuLi9wb2xhci1zY2F0dGVyLWNoYXJ0L3BvbGFyLXNjYXR0ZXItY2hhcnQnO1xuXG5pbXBvcnQgeyBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIFBvbGFyTGluZUNoYXJ0IGV4dGVuZHMgU2NhdHRlckxpbmVDaGFydCB7XG59XG5cblBvbGFyTGluZUNoYXJ0LnByb3RvdHlwZS5wb2ludFNsb3QgPSBQb2xhclNjYXR0ZXJDaGFydC5wcm90b3R5cGUucG9pbnRTbG90O1xuXG5zZXREZWZhdWx0T3B0aW9ucyhQb2xhckxpbmVDaGFydCwge1xuICAgIGNsaXA6IGZhbHNlXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgUG9sYXJMaW5lQ2hhcnQ7IiwiaW1wb3J0IFNwbGluZUFyZWFTZWdtZW50IGZyb20gJy4uL2FyZWEtY2hhcnQvc3BsaW5lLWFyZWEtc2VnbWVudCc7XG5pbXBvcnQgeyBDdXJ2ZVByb2Nlc3NvciB9IGZyb20gJy4uLy4uL2NvcmUnO1xuXG5jbGFzcyBTcGxpbmVQb2xhckFyZWFTZWdtZW50IGV4dGVuZHMgU3BsaW5lQXJlYVNlZ21lbnQge1xuICAgIGZpbGxUb0F4ZXMoZmlsbFBhdGgpIHtcbiAgICAgICAgY29uc3QgY2VudGVyID0gdGhpcy5fcG9sYXJBeGlzQ2VudGVyKCk7XG4gICAgICAgIGZpbGxQYXRoLmxpbmVUbyhjZW50ZXIueCwgY2VudGVyLnkpO1xuICAgIH1cblxuICAgIF9wb2xhckF4aXNDZW50ZXIoKSB7XG4gICAgICAgIGNvbnN0IHBvbGFyQXhpcyA9IHRoaXMucGFyZW50LnBsb3RBcmVhLnBvbGFyQXhpcztcbiAgICAgICAgY29uc3QgY2VudGVyID0gcG9sYXJBeGlzLmJveC5jZW50ZXIoKTtcbiAgICAgICAgcmV0dXJuIGNlbnRlcjtcbiAgICB9XG5cbiAgICBzdHJva2VTZWdtZW50cygpIHtcbiAgICAgICAgbGV0IHNlZ21lbnRzID0gdGhpcy5fc3Ryb2tlU2VnbWVudHM7XG5cbiAgICAgICAgaWYgKCFzZWdtZW50cykge1xuICAgICAgICAgICAgY29uc3QgY2VudGVyID0gdGhpcy5fcG9sYXJBeGlzQ2VudGVyKCk7XG4gICAgICAgICAgICBjb25zdCBjdXJ2ZVByb2Nlc3NvciA9IG5ldyBDdXJ2ZVByb2Nlc3NvcihmYWxzZSk7XG4gICAgICAgICAgICBjb25zdCBsaW5lUG9pbnRzID0gdGhpcy5wb2ludHMoKTtcblxuICAgICAgICAgICAgbGluZVBvaW50cy5wdXNoKGNlbnRlcik7XG4gICAgICAgICAgICBzZWdtZW50cyA9IHRoaXMuX3N0cm9rZVNlZ21lbnRzID0gY3VydmVQcm9jZXNzb3IucHJvY2VzcyhsaW5lUG9pbnRzKTtcbiAgICAgICAgICAgIHNlZ21lbnRzLnBvcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlZ21lbnRzO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3BsaW5lUG9sYXJBcmVhU2VnbWVudDsiLCJpbXBvcnQgeyBnZW9tZXRyeSBhcyBnZW9tIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuaW1wb3J0IEFyZWFTZWdtZW50IGZyb20gJy4uL2FyZWEtY2hhcnQvYXJlYS1zZWdtZW50JztcblxuY2xhc3MgUG9sYXJBcmVhU2VnbWVudCBleHRlbmRzIEFyZWFTZWdtZW50IHtcbiAgICBmaWxsVG9BeGVzKGZpbGxQYXRoKSB7XG4gICAgICAgIGNvbnN0IHBvbGFyQXhpcyA9IHRoaXMucGFyZW50LnBsb3RBcmVhLnBvbGFyQXhpcztcbiAgICAgICAgY29uc3QgY2VudGVyID0gcG9sYXJBeGlzLmJveC5jZW50ZXIoKTtcbiAgICAgICAgY29uc3QgY2VudGVyU2VnbWVudCA9IG5ldyBnZW9tLlNlZ21lbnQoWyBjZW50ZXIueCwgY2VudGVyLnkgXSk7XG5cbiAgICAgICAgZmlsbFBhdGguc2VnbWVudHMudW5zaGlmdChjZW50ZXJTZWdtZW50KTtcbiAgICAgICAgZmlsbFBhdGguc2VnbWVudHMucHVzaChjZW50ZXJTZWdtZW50KTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvbGFyQXJlYVNlZ21lbnQ7IiwiaW1wb3J0IFBvbGFyTGluZUNoYXJ0IGZyb20gJy4uL3BvbGFyLWxpbmUtY2hhcnQvcG9sYXItbGluZS1jaGFydCc7XG5pbXBvcnQgU3BsaW5lUG9sYXJBcmVhU2VnbWVudCBmcm9tICcuL3NwbGluZS1wb2xhci1hcmVhLXNlZ21lbnQnO1xuaW1wb3J0IFBvbGFyQXJlYVNlZ21lbnQgZnJvbSAnLi9wb2xhci1hcmVhLXNlZ21lbnQnO1xuXG5pbXBvcnQgeyBTTU9PVEgsIElOVEVSUE9MQVRFLCBaRVJPLCBHQVAgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5pbXBvcnQgaGFzVmFsdWUgZnJvbSAnLi4vdXRpbHMvaGFzLXZhbHVlJztcblxuY2xhc3MgUG9sYXJBcmVhQ2hhcnQgZXh0ZW5kcyBQb2xhckxpbmVDaGFydCB7XG4gICAgY3JlYXRlU2VnbWVudChsaW5lUG9pbnRzLCBjdXJyZW50U2VyaWVzLCBzZXJpZXNJeCkge1xuICAgICAgICBjb25zdCBzdHlsZSA9IChjdXJyZW50U2VyaWVzLmxpbmUgfHwge30pLnN0eWxlO1xuICAgICAgICBsZXQgc2VnbWVudDtcblxuICAgICAgICBpZiAoc3R5bGUgPT09IFNNT09USCkge1xuICAgICAgICAgICAgc2VnbWVudCA9IG5ldyBTcGxpbmVQb2xhckFyZWFTZWdtZW50KGxpbmVQb2ludHMsIGN1cnJlbnRTZXJpZXMsIHNlcmllc0l4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlZ21lbnQgPSBuZXcgUG9sYXJBcmVhU2VnbWVudChsaW5lUG9pbnRzLCBjdXJyZW50U2VyaWVzLCBzZXJpZXNJeCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlZ21lbnQ7XG4gICAgfVxuXG4gICAgY3JlYXRlTWlzc2luZ1ZhbHVlKHZhbHVlLCBtaXNzaW5nVmFsdWVzKSB7XG4gICAgICAgIGxldCBtaXNzaW5nVmFsdWU7XG5cbiAgICAgICAgaWYgKGhhc1ZhbHVlKHZhbHVlLngpICYmIG1pc3NpbmdWYWx1ZXMgIT09IElOVEVSUE9MQVRFKSB7XG4gICAgICAgICAgICBtaXNzaW5nVmFsdWUgPSB7XG4gICAgICAgICAgICAgICAgeDogdmFsdWUueCxcbiAgICAgICAgICAgICAgICB5OiB2YWx1ZS55XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKG1pc3NpbmdWYWx1ZXMgPT09IFpFUk8pIHtcbiAgICAgICAgICAgICAgICBtaXNzaW5nVmFsdWUueSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWlzc2luZ1ZhbHVlO1xuICAgIH1cblxuICAgIHNlcmllc01pc3NpbmdWYWx1ZXMoc2VyaWVzKSB7XG4gICAgICAgIHJldHVybiBzZXJpZXMubWlzc2luZ1ZhbHVlcyB8fCBaRVJPO1xuICAgIH1cblxuICAgIF9oYXNNaXNzaW5nVmFsdWVzR2FwKCkge1xuICAgICAgICBjb25zdCBzZXJpZXMgPSB0aGlzLm9wdGlvbnMuc2VyaWVzO1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHNlcmllcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zZXJpZXNNaXNzaW5nVmFsdWVzKHNlcmllc1tpZHhdKSA9PT0gR0FQKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzb3J0UG9pbnRzKHBvaW50cykge1xuICAgICAgICBwb2ludHMuc29ydCh4Q29tcGFyZXIpO1xuXG4gICAgICAgIGlmICh0aGlzLl9oYXNNaXNzaW5nVmFsdWVzR2FwKCkpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHBvaW50cy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBwb2ludHNbaWR4XTtcbiAgICAgICAgICAgICAgICBpZiAocG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwb2ludC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFoYXNWYWx1ZSh2YWx1ZS55KSAmJiB0aGlzLnNlcmllc01pc3NpbmdWYWx1ZXMocG9pbnQuc2VyaWVzKSA9PT0gR0FQKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgcG9pbnRzW2lkeF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcG9pbnRzO1xuICAgIH1cbn1cblxuZnVuY3Rpb24geENvbXBhcmVyKGEsIGIpIHtcbiAgICByZXR1cm4gYS52YWx1ZS54IC0gYi52YWx1ZS54O1xufVxuXG5leHBvcnQgZGVmYXVsdCBQb2xhckFyZWFDaGFydDsiLCJpbXBvcnQgUG9sYXJQbG90QXJlYUJhc2UgZnJvbSAnLi9wb2xhci1wbG90YXJlYS1iYXNlJztcbmltcG9ydCBQbG90QXJlYUJhc2UgZnJvbSAnLi9wbG90YXJlYS1iYXNlJztcbmltcG9ydCBQb2xhckxpbmVDaGFydCBmcm9tICcuLi9wb2xhci1saW5lLWNoYXJ0L3BvbGFyLWxpbmUtY2hhcnQnO1xuaW1wb3J0IFBvbGFyU2NhdHRlckNoYXJ0IGZyb20gJy4uL3BvbGFyLXNjYXR0ZXItY2hhcnQvcG9sYXItc2NhdHRlci1jaGFydCc7XG5pbXBvcnQgUG9sYXJBcmVhQ2hhcnQgZnJvbSAnLi4vcG9sYXItYXJlYS1jaGFydC9wb2xhci1hcmVhLWNoYXJ0JztcbmltcG9ydCBQbG90QXJlYUV2ZW50c01peGluIGZyb20gJy4uL21peGlucy9wbG90YXJlYS1ldmVudHMtbWl4aW4nO1xuXG5pbXBvcnQgeyBQb2xhckF4aXMsIFBvaW50IH0gZnJvbSAnLi4vLi4vY29yZSc7XG5cbmltcG9ydCB7IFBPTEFSX0FSRUEsIFBPTEFSX0xJTkUsIFBPTEFSX1NDQVRURVIgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5pbXBvcnQgZmlsdGVyU2VyaWVzQnlUeXBlIGZyb20gJy4uL3V0aWxzL2ZpbHRlci1zZXJpZXMtYnktdHlwZSc7XG5cbmltcG9ydCB7IEFSQyB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZGVlcEV4dGVuZCwgZXZlbnRFbGVtZW50LCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIFBvbGFyUGxvdEFyZWEgZXh0ZW5kcyBQb2xhclBsb3RBcmVhQmFzZSB7XG4gICAgY3JlYXRlUG9sYXJBeGlzKCkge1xuICAgICAgICBjb25zdCBwb2xhckF4aXMgPSBuZXcgUG9sYXJBeGlzKHRoaXMub3B0aW9ucy54QXhpcywgdGhpcy5jaGFydFNlcnZpY2UpO1xuXG4gICAgICAgIHRoaXMucG9sYXJBeGlzID0gcG9sYXJBeGlzO1xuICAgICAgICB0aGlzLmF4aXNYID0gcG9sYXJBeGlzO1xuICAgICAgICB0aGlzLmFwcGVuZEF4aXMocG9sYXJBeGlzKTtcbiAgICB9XG5cbiAgICB2YWx1ZUF4aXNPcHRpb25zKGRlZmF1bHRzKSB7XG4gICAgICAgIHJldHVybiBkZWVwRXh0ZW5kKGRlZmF1bHRzLCB7XG4gICAgICAgICAgICBtYWpvckdyaWRMaW5lczogeyB0eXBlOiBBUkMgfSxcbiAgICAgICAgICAgIG1pbm9yR3JpZExpbmVzOiB7IHR5cGU6IEFSQyB9XG4gICAgICAgIH0sIHRoaXMub3B0aW9ucy55QXhpcyk7XG4gICAgfVxuXG4gICAgY3JlYXRlVmFsdWVBeGlzKCkge1xuICAgICAgICBzdXBlci5jcmVhdGVWYWx1ZUF4aXMoKTtcbiAgICAgICAgdGhpcy5heGlzWSA9IHRoaXMudmFsdWVBeGlzO1xuICAgIH1cblxuICAgIGFwcGVuZENoYXJ0KGNoYXJ0LCBwYW5lKSB7XG4gICAgICAgIHRoaXMudmFsdWVBeGlzUmFuZ2VUcmFja2VyLnVwZGF0ZShjaGFydC55QXhpc1Jhbmdlcyk7XG5cbiAgICAgICAgUGxvdEFyZWFCYXNlLnByb3RvdHlwZS5hcHBlbmRDaGFydC5jYWxsKHRoaXMsIGNoYXJ0LCBwYW5lKTtcbiAgICB9XG5cbiAgICBjcmVhdGVDaGFydHMoKSB7XG4gICAgICAgIGNvbnN0IHNlcmllcyA9IHRoaXMuZmlsdGVyVmlzaWJsZVNlcmllcyh0aGlzLnNlcmllcyk7XG4gICAgICAgIGNvbnN0IHBhbmUgPSB0aGlzLnBhbmVzWzBdO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlTGluZUNoYXJ0KFxuICAgICAgICAgICAgZmlsdGVyU2VyaWVzQnlUeXBlKHNlcmllcywgWyBQT0xBUl9MSU5FIF0pLFxuICAgICAgICAgICAgcGFuZVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlU2NhdHRlckNoYXJ0KFxuICAgICAgICAgICAgZmlsdGVyU2VyaWVzQnlUeXBlKHNlcmllcywgWyBQT0xBUl9TQ0FUVEVSIF0pLFxuICAgICAgICAgICAgcGFuZVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlQXJlYUNoYXJ0KFxuICAgICAgICAgICAgZmlsdGVyU2VyaWVzQnlUeXBlKHNlcmllcywgWyBQT0xBUl9BUkVBIF0pLFxuICAgICAgICAgICAgcGFuZVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGNyZWF0ZUxpbmVDaGFydChzZXJpZXMsIHBhbmUpIHtcbiAgICAgICAgaWYgKHNlcmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxpbmVDaGFydCA9IG5ldyBQb2xhckxpbmVDaGFydCh0aGlzLCB7IHNlcmllczogc2VyaWVzIH0pO1xuXG4gICAgICAgIHRoaXMuYXBwZW5kQ2hhcnQobGluZUNoYXJ0LCBwYW5lKTtcbiAgICB9XG5cbiAgICBjcmVhdGVTY2F0dGVyQ2hhcnQoc2VyaWVzLCBwYW5lKSB7XG4gICAgICAgIGlmIChzZXJpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzY2F0dGVyQ2hhcnQgPSBuZXcgUG9sYXJTY2F0dGVyQ2hhcnQodGhpcywgeyBzZXJpZXM6IHNlcmllcyB9KTtcblxuICAgICAgICB0aGlzLmFwcGVuZENoYXJ0KHNjYXR0ZXJDaGFydCwgcGFuZSk7XG4gICAgfVxuXG4gICAgY3JlYXRlQXJlYUNoYXJ0KHNlcmllcywgcGFuZSkge1xuICAgICAgICBpZiAoc2VyaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYXJlYUNoYXJ0ID0gbmV3IFBvbGFyQXJlYUNoYXJ0KHRoaXMsIHsgc2VyaWVzOiBzZXJpZXMgfSk7XG5cbiAgICAgICAgdGhpcy5hcHBlbmRDaGFydChhcmVhQ2hhcnQsIHBhbmUpO1xuICAgIH1cblxuICAgIF9kaXNwYXRjaEV2ZW50KGNoYXJ0LCBlLCBldmVudFR5cGUpIHtcbiAgICAgICAgY29uc3QgY29vcmRzID0gY2hhcnQuX2V2ZW50Q29vcmRpbmF0ZXMoZSk7XG4gICAgICAgIGNvbnN0IHBvaW50ID0gbmV3IFBvaW50KGNvb3Jkcy54LCBjb29yZHMueSk7XG4gICAgICAgIGNvbnN0IHhWYWx1ZSA9IHRoaXMuYXhpc1guZ2V0VmFsdWUocG9pbnQpO1xuICAgICAgICBjb25zdCB5VmFsdWUgPSB0aGlzLmF4aXNZLmdldFZhbHVlKHBvaW50KTtcblxuICAgICAgICBpZiAoeFZhbHVlICE9PSBudWxsICYmIHlWYWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY2hhcnQudHJpZ2dlcihldmVudFR5cGUsIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50OiBldmVudEVsZW1lbnQoZSksXG4gICAgICAgICAgICAgICAgeDogeFZhbHVlLFxuICAgICAgICAgICAgICAgIHk6IHlWYWx1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVDcm9zc2hhaXJzKCkge31cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoUG9sYXJQbG90QXJlYSwge1xuICAgIHhBeGlzOiB7fSxcbiAgICB5QXhpczoge31cbn0pO1xuXG5kZWVwRXh0ZW5kKFBvbGFyUGxvdEFyZWEucHJvdG90eXBlLCBQbG90QXJlYUV2ZW50c01peGluKTtcblxuZXhwb3J0IGRlZmF1bHQgUG9sYXJQbG90QXJlYTsiLCJpbXBvcnQgTGluZUNoYXJ0IGZyb20gJy4uL2xpbmUtY2hhcnQvbGluZS1jaGFydCc7XG5pbXBvcnQgU3BsaW5lU2VnbWVudCBmcm9tICcuLi9saW5lLWNoYXJ0L3NwbGluZS1zZWdtZW50JztcbmltcG9ydCBMaW5lU2VnbWVudCBmcm9tICcuLi9saW5lLWNoYXJ0L2xpbmUtc2VnbWVudCc7XG5cbmltcG9ydCB7IFBvaW50LCBCb3ggfSBmcm9tICcuLi8uLi9jb3JlJztcblxuaW1wb3J0IHsgU01PT1RIIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuaW1wb3J0IHsgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBSYWRhckxpbmVDaGFydCBleHRlbmRzIExpbmVDaGFydCB7XG5cbiAgICBwb2ludFNsb3QoY2F0ZWdvcnlTbG90LCB2YWx1ZVNsb3QpIHtcbiAgICAgICAgY29uc3QgdmFsdWVSYWRpdXMgPSBjYXRlZ29yeVNsb3QuY2VudGVyLnkgLSB2YWx1ZVNsb3QueTE7XG4gICAgICAgIGNvbnN0IHNsb3QgPSBQb2ludC5vbkNpcmNsZShjYXRlZ29yeVNsb3QuY2VudGVyLCBjYXRlZ29yeVNsb3QubWlkZGxlKCksIHZhbHVlUmFkaXVzKTtcblxuICAgICAgICByZXR1cm4gbmV3IEJveChzbG90LngsIHNsb3QueSwgc2xvdC54LCBzbG90LnkpO1xuICAgIH1cblxuICAgIGNyZWF0ZVNlZ21lbnQobGluZVBvaW50cywgY3VycmVudFNlcmllcywgc2VyaWVzSXgpIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBjdXJyZW50U2VyaWVzLnN0eWxlO1xuICAgICAgICBsZXQgcG9pbnRUeXBlO1xuXG4gICAgICAgIGlmIChzdHlsZSA9PT0gU01PT1RIKSB7XG4gICAgICAgICAgICBwb2ludFR5cGUgPSBTcGxpbmVTZWdtZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcG9pbnRUeXBlID0gTGluZVNlZ21lbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzZWdtZW50ID0gbmV3IHBvaW50VHlwZShsaW5lUG9pbnRzLCBjdXJyZW50U2VyaWVzLCBzZXJpZXNJeCk7XG5cbiAgICAgICAgaWYgKGxpbmVQb2ludHMubGVuZ3RoID09PSBjdXJyZW50U2VyaWVzLmRhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICBzZWdtZW50Lm9wdGlvbnMuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWdtZW50O1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoUmFkYXJMaW5lQ2hhcnQsIHtcbiAgICBjbGlwOiBmYWxzZSxcbiAgICBsaW1pdFBvaW50czogZmFsc2Vcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBSYWRhckxpbmVDaGFydDsiLCJpbXBvcnQgU3BsaW5lQXJlYVNlZ21lbnQgZnJvbSAnLi4vYXJlYS1jaGFydC9zcGxpbmUtYXJlYS1zZWdtZW50JztcblxuY2xhc3MgU3BsaW5lUmFkYXJBcmVhU2VnbWVudCBleHRlbmRzIFNwbGluZUFyZWFTZWdtZW50IHtcbiAgICBmaWxsVG9BeGVzKCkge31cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3BsaW5lUmFkYXJBcmVhU2VnbWVudDsiLCJpbXBvcnQgQXJlYVNlZ21lbnQgZnJvbSAnLi4vYXJlYS1jaGFydC9hcmVhLXNlZ21lbnQnO1xuXG5jbGFzcyBSYWRhckFyZWFTZWdtZW50IGV4dGVuZHMgQXJlYVNlZ21lbnQge1xuICAgIGZpbGxUb0F4ZXMoKSB7fVxufVxuXG5leHBvcnQgZGVmYXVsdCBSYWRhckFyZWFTZWdtZW50OyIsImltcG9ydCBSYWRhckxpbmVDaGFydCBmcm9tICcuLi9yYWRhci1saW5lLWNoYXJ0L3JhZGFyLWxpbmUtY2hhcnQnO1xuaW1wb3J0IFNwbGluZVJhZGFyQXJlYVNlZ21lbnQgZnJvbSAnLi9zcGxpbmUtcmFkYXItYXJlYS1zZWdtZW50JztcbmltcG9ydCBSYWRhckFyZWFTZWdtZW50IGZyb20gJy4vcmFkYXItYXJlYS1zZWdtZW50JztcblxuaW1wb3J0IHsgU01PT1RILCBaRVJPIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuY2xhc3MgUmFkYXJBcmVhQ2hhcnQgZXh0ZW5kcyBSYWRhckxpbmVDaGFydCB7XG4gICAgY3JlYXRlU2VnbWVudChsaW5lUG9pbnRzLCBjdXJyZW50U2VyaWVzLCBzZXJpZXNJeCwgcHJldlNlZ21lbnQpIHtcbiAgICAgICAgY29uc3QgaXNTdGFja2VkID0gdGhpcy5vcHRpb25zLmlzU3RhY2tlZDtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSAoY3VycmVudFNlcmllcy5saW5lIHx8IHt9KS5zdHlsZTtcbiAgICAgICAgbGV0IHByZXZpb3VzU2VnbWVudDtcbiAgICAgICAgbGV0IHN0YWNrUG9pbnRzO1xuICAgICAgICBsZXQgc2VnbWVudDtcblxuICAgICAgICBpZiAoaXNTdGFja2VkICYmIHNlcmllc0l4ID4gMCAmJiBwcmV2U2VnbWVudCkge1xuICAgICAgICAgICAgc3RhY2tQb2ludHMgPSBwcmV2U2VnbWVudC5saW5lUG9pbnRzLnNsaWNlKDApO1xuICAgICAgICAgICAgcHJldmlvdXNTZWdtZW50ID0gcHJldlNlZ21lbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3R5bGUgPT09IFNNT09USCkge1xuICAgICAgICAgICAgc2VnbWVudCA9IG5ldyBTcGxpbmVSYWRhckFyZWFTZWdtZW50KGxpbmVQb2ludHMsIGN1cnJlbnRTZXJpZXMsIHNlcmllc0l4LCBwcmV2aW91c1NlZ21lbnQsIHN0YWNrUG9pbnRzKTtcbiAgICAgICAgICAgIHNlZ21lbnQub3B0aW9ucy5jbG9zZWQgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGluZVBvaW50cy5wdXNoKGxpbmVQb2ludHNbMF0pO1xuICAgICAgICAgICAgc2VnbWVudCA9IG5ldyBSYWRhckFyZWFTZWdtZW50KGxpbmVQb2ludHMsIGN1cnJlbnRTZXJpZXMsIHNlcmllc0l4LCBwcmV2aW91c1NlZ21lbnQsIHN0YWNrUG9pbnRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWdtZW50O1xuICAgIH1cblxuICAgIHNlcmllc01pc3NpbmdWYWx1ZXMoc2VyaWVzKSB7XG4gICAgICAgIHJldHVybiBzZXJpZXMubWlzc2luZ1ZhbHVlcyB8fCBaRVJPO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmFkYXJBcmVhQ2hhcnQ7IiwiaW1wb3J0IERvbnV0U2VnbWVudCBmcm9tICcuLi9kb251dC1jaGFydC9kb251dC1zZWdtZW50JztcblxuaW1wb3J0IHsgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBSYWRhclNlZ21lbnQgZXh0ZW5kcyBEb251dFNlZ21lbnQge1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHZhbHVlLCBudWxsLCBvcHRpb25zKTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKFJhZGFyU2VnbWVudCwge1xuICAgIG92ZXJsYXk6IHtcbiAgICAgICAgZ3JhZGllbnQ6IFwibm9uZVwiXG4gICAgfSxcbiAgICBsYWJlbHM6IHtcbiAgICAgICAgZGlzdGFuY2U6IDEwXG4gICAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFJhZGFyU2VnbWVudDsiLCJpbXBvcnQgeyBDaGFydEVsZW1lbnQgfSBmcm9tICcuLi8uLi9jb3JlJztcblxuaW1wb3J0IHsgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5pbXBvcnQgeyBmb3JFYWNoLCBmb3JFYWNoUmV2ZXJzZSB9IGZyb20gJy4vdXRpbHMnO1xuXG5jbGFzcyBSYWRhckNsdXN0ZXJMYXlvdXQgZXh0ZW5kcyBDaGFydEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5mb3JFYWNoID0gb3B0aW9ucy5ydGwgPyBmb3JFYWNoUmV2ZXJzZSA6IGZvckVhY2g7XG4gICAgfVxuXG4gICAgcmVmbG93KHNlY3Rvcikge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIGNoaWxkcmVuIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB7IGdhcCwgc3BhY2luZyB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgY291bnQgPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHNsb3RzID0gY291bnQgKyBnYXAgKyAoc3BhY2luZyAqIChjb3VudCAtIDEpKTtcbiAgICAgICAgY29uc3Qgc2xvdEFuZ2xlID0gc2VjdG9yLmFuZ2xlIC8gc2xvdHM7XG4gICAgICAgIGxldCBhbmdsZSA9IHNlY3Rvci5zdGFydEFuZ2xlICsgc2xvdEFuZ2xlICogKGdhcCAvIDIpO1xuXG4gICAgICAgIHRoaXMuZm9yRWFjaChjaGlsZHJlbiwgKGNoaWxkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzbG90U2VjdG9yID0gc2VjdG9yLmNsb25lKCk7XG4gICAgICAgICAgICBzbG90U2VjdG9yLnN0YXJ0QW5nbGUgPSBhbmdsZTtcbiAgICAgICAgICAgIHNsb3RTZWN0b3IuYW5nbGUgPSBzbG90QW5nbGU7XG5cbiAgICAgICAgICAgIGlmIChjaGlsZC5zZWN0b3IpIHtcbiAgICAgICAgICAgICAgICBzbG90U2VjdG9yLnJhZGl1cyA9IGNoaWxkLnNlY3Rvci5yYWRpdXM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoaWxkLnJlZmxvdyhzbG90U2VjdG9yKTtcbiAgICAgICAgICAgIGNoaWxkLnNlY3RvciA9IHNsb3RTZWN0b3I7XG5cbiAgICAgICAgICAgIGFuZ2xlICs9IHNsb3RBbmdsZSArIChzbG90QW5nbGUgKiBzcGFjaW5nKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhSYWRhckNsdXN0ZXJMYXlvdXQsIHtcbiAgICBnYXA6IDEsXG4gICAgc3BhY2luZzogMFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFJhZGFyQ2x1c3RlckxheW91dDsiLCJpbXBvcnQgeyBDaGFydEVsZW1lbnQsIEJveCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuXG5jbGFzcyBSYWRhclN0YWNrTGF5b3V0IGV4dGVuZHMgQ2hhcnRFbGVtZW50IHtcbiAgICByZWZsb3coc2VjdG9yKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9uczogeyByZXZlcnNlIH0sIGNoaWxkcmVuIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBjaGlsZHJlbkNvdW50ID0gY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICBjb25zdCBmaXJzdCA9IHJldmVyc2UgPyBjaGlsZHJlbkNvdW50IC0gMSA6IDA7XG4gICAgICAgIGNvbnN0IHN0ZXAgPSByZXZlcnNlID8gLTEgOiAxO1xuXG4gICAgICAgIHRoaXMuYm94ID0gbmV3IEJveCgpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSBmaXJzdDsgaSA+PSAwICYmIGkgPCBjaGlsZHJlbkNvdW50OyBpICs9IHN0ZXApIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkU2VjdG9yID0gY2hpbGRyZW5baV0uc2VjdG9yO1xuICAgICAgICAgICAgY2hpbGRTZWN0b3Iuc3RhcnRBbmdsZSA9IHNlY3Rvci5zdGFydEFuZ2xlO1xuICAgICAgICAgICAgY2hpbGRTZWN0b3IuYW5nbGUgPSBzZWN0b3IuYW5nbGU7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJhZGFyU3RhY2tMYXlvdXQ7IiwiaW1wb3J0IEJhckNoYXJ0IGZyb20gJy4uL2Jhci1jaGFydC9iYXItY2hhcnQnO1xuaW1wb3J0IFJhZGFyU2VnbWVudCBmcm9tICcuL3JhZGFyLXNlZ21lbnQnO1xuaW1wb3J0IFJhZGFyQ2x1c3RlckxheW91dCBmcm9tICcuLi9sYXlvdXQvcmFkYXItY2x1c3Rlci1sYXlvdXQnO1xuaW1wb3J0IFJhZGFyU3RhY2tMYXlvdXQgZnJvbSAnLi4vbGF5b3V0L3JhZGFyLXN0YWNrLWxheW91dCc7XG5pbXBvcnQgQ2F0ZWdvcmljYWxDaGFydCBmcm9tICcuLi9jYXRlZ29yaWNhbC1jaGFydCc7XG5cbmltcG9ydCB7IHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgUmFkYXJCYXJDaGFydCBleHRlbmRzIEJhckNoYXJ0IHtcbiAgICBwb2ludFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBSYWRhclNlZ21lbnQ7XG4gICAgfVxuXG4gICAgY2x1c3RlclR5cGUoKSB7XG4gICAgICAgIHJldHVybiBSYWRhckNsdXN0ZXJMYXlvdXQ7XG4gICAgfVxuXG4gICAgc3RhY2tUeXBlKCkge1xuICAgICAgICByZXR1cm4gUmFkYXJTdGFja0xheW91dDtcbiAgICB9XG5cbiAgICBjYXRlZ29yeVNsb3QoY2F0ZWdvcnlBeGlzLCBjYXRlZ29yeUl4KSB7XG4gICAgICAgIHJldHVybiBjYXRlZ29yeUF4aXMuZ2V0U2xvdChjYXRlZ29yeUl4KTtcbiAgICB9XG5cbiAgICBwb2ludFNsb3QoY2F0ZWdvcnlTbG90LCB2YWx1ZVNsb3QpIHtcbiAgICAgICAgY29uc3Qgc2xvdCA9IGNhdGVnb3J5U2xvdC5jbG9uZSgpO1xuICAgICAgICBjb25zdCB5ID0gY2F0ZWdvcnlTbG90LmNlbnRlci55O1xuXG4gICAgICAgIHNsb3QucmFkaXVzID0geSAtIHZhbHVlU2xvdC55MTtcbiAgICAgICAgc2xvdC5pbm5lclJhZGl1cyA9IHkgLSB2YWx1ZVNsb3QueTI7XG5cbiAgICAgICAgcmV0dXJuIHNsb3Q7XG4gICAgfVxuXG4gICAgcmVmbG93UG9pbnQocG9pbnQsIHBvaW50U2xvdCkge1xuICAgICAgICBwb2ludC5zZWN0b3IgPSBwb2ludFNsb3Q7XG4gICAgICAgIHBvaW50LnJlZmxvdygpO1xuICAgIH1cblxuICAgIGNyZWF0ZUFuaW1hdGlvbigpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLmFuaW1hdGlvbi5jZW50ZXIgPSB0aGlzLmJveC50b1JlY3QoKS5jZW50ZXIoKTtcbiAgICAgICAgc3VwZXIuY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgfVxufVxuXG5SYWRhckJhckNoYXJ0LnByb3RvdHlwZS5yZWZsb3cgPSBDYXRlZ29yaWNhbENoYXJ0LnByb3RvdHlwZS5yZWZsb3c7XG5cbnNldERlZmF1bHRPcHRpb25zKFJhZGFyQmFyQ2hhcnQsIHtcbiAgICBjbGlwOiBmYWxzZSxcbiAgICBsaW1pdFBvaW50czogZmFsc2UsXG4gICAgYW5pbWF0aW9uOiB7XG4gICAgICAgIHR5cGU6IFwicGllXCJcbiAgICB9XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgUmFkYXJCYXJDaGFydDsiLCJpbXBvcnQgUG9sYXJQbG90QXJlYUJhc2UgZnJvbSAnLi9wb2xhci1wbG90YXJlYS1iYXNlJztcbmltcG9ydCBDYXRlZ29yaWNhbFBsb3RBcmVhIGZyb20gJy4vY2F0ZWdvcmljYWwtcGxvdGFyZWEnO1xuaW1wb3J0IFJhZGFyQXJlYUNoYXJ0IGZyb20gJy4uL3JhZGFyLWFyZWEtY2hhcnQvcmFkYXItYXJlYS1jaGFydCc7XG5pbXBvcnQgUmFkYXJMaW5lQ2hhcnQgZnJvbSAnLi4vcmFkYXItbGluZS1jaGFydC9yYWRhci1saW5lLWNoYXJ0JztcbmltcG9ydCBSYWRhckJhckNoYXJ0IGZyb20gJy4uL3JhZGFyLWJhci1jaGFydC9yYWRhci1iYXItY2hhcnQnO1xuaW1wb3J0IFBsb3RBcmVhRXZlbnRzTWl4aW4gZnJvbSAnLi4vbWl4aW5zL3Bsb3RhcmVhLWV2ZW50cy1taXhpbic7XG5cbmltcG9ydCB7IFJhZGFyQ2F0ZWdvcnlBeGlzLCBQb2ludCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuXG5pbXBvcnQgeyBSQURBUl9BUkVBLCBSQURBUl9MSU5FLCBSQURBUl9DT0xVTU4gfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5pbXBvcnQgZmlsdGVyU2VyaWVzQnlUeXBlIGZyb20gJy4uL3V0aWxzL2ZpbHRlci1zZXJpZXMtYnktdHlwZSc7XG5cbmltcG9ydCB7IEFSQyB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZXZlbnRFbGVtZW50LCBkZWVwRXh0ZW5kLCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIFJhZGFyUGxvdEFyZWEgZXh0ZW5kcyBQb2xhclBsb3RBcmVhQmFzZSB7XG4gICAgY3JlYXRlUG9sYXJBeGlzKCkge1xuICAgICAgICBjb25zdCBjYXRlZ29yeUF4aXMgPSBuZXcgUmFkYXJDYXRlZ29yeUF4aXModGhpcy5vcHRpb25zLmNhdGVnb3J5QXhpcywgdGhpcy5jaGFydFNlcnZpY2UpO1xuXG4gICAgICAgIHRoaXMucG9sYXJBeGlzID0gY2F0ZWdvcnlBeGlzO1xuICAgICAgICB0aGlzLmNhdGVnb3J5QXhpcyA9IGNhdGVnb3J5QXhpcztcbiAgICAgICAgdGhpcy5hcHBlbmRBeGlzKGNhdGVnb3J5QXhpcyk7XG4gICAgICAgIHRoaXMuYWdncmVnYXRlQ2F0ZWdvcmllcygpO1xuICAgICAgICB0aGlzLmNyZWF0ZUNhdGVnb3J5QXhlc0xhYmVscygpO1xuICAgIH1cblxuICAgIHZhbHVlQXhpc09wdGlvbnMoZGVmYXVsdHMpIHtcbiAgICAgICAgaWYgKHRoaXMuX2hhc0JhckNoYXJ0cykge1xuICAgICAgICAgICAgZGVlcEV4dGVuZChkZWZhdWx0cywge1xuICAgICAgICAgICAgICAgIG1ham9yR3JpZExpbmVzOiB7IHR5cGU6IEFSQyB9LFxuICAgICAgICAgICAgICAgIG1pbm9yR3JpZExpbmVzOiB7IHR5cGU6IEFSQyB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9pc1N0YWNrZWQxMDApIHtcbiAgICAgICAgICAgIGRlZXBFeHRlbmQoZGVmYXVsdHMsIHtcbiAgICAgICAgICAgICAgICByb3VuZFRvTWFqb3JVbml0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsYWJlbHM6IHsgZm9ybWF0OiBcIlAwXCIgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGVlcEV4dGVuZChkZWZhdWx0cywgdGhpcy5vcHRpb25zLnZhbHVlQXhpcyk7XG4gICAgfVxuXG4gICAgYWdncmVnYXRlQ2F0ZWdvcmllcygpIHtcbiAgICAgICAgLy8gTm8gc2VwYXJhdGUgcGFuZXMgaW4gcmFkYXIgY2hhcnRzXG4gICAgICAgIENhdGVnb3JpY2FsUGxvdEFyZWEucHJvdG90eXBlLmFnZ3JlZ2F0ZUNhdGVnb3JpZXMuY2FsbCh0aGlzLCB0aGlzLnBhbmVzKTtcbiAgICB9XG5cbiAgICBjcmVhdGVDYXRlZ29yeUF4ZXNMYWJlbHMoKSB7XG4gICAgICAgIENhdGVnb3JpY2FsUGxvdEFyZWEucHJvdG90eXBlLmNyZWF0ZUNhdGVnb3J5QXhlc0xhYmVscy5jYWxsKHRoaXMsIHRoaXMucGFuZXMpO1xuICAgIH1cblxuICAgIGZpbHRlclNlcmllcyhjdXJyZW50U2VyaWVzKSB7XG4gICAgICAgIC8vIE5vdCBzdXBwb3J0ZWQgZm9yIHJhZGFyIGNoYXJ0c1xuICAgICAgICByZXR1cm4gY3VycmVudFNlcmllcztcbiAgICB9XG5cbiAgICBjcmVhdGVDaGFydHMoKSB7XG4gICAgICAgIGNvbnN0IHNlcmllcyA9IHRoaXMuZmlsdGVyVmlzaWJsZVNlcmllcyh0aGlzLnNlcmllcyk7XG4gICAgICAgIGNvbnN0IHBhbmUgPSB0aGlzLnBhbmVzWzBdO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlQXJlYUNoYXJ0KFxuICAgICAgICAgICAgZmlsdGVyU2VyaWVzQnlUeXBlKHNlcmllcywgWyBSQURBUl9BUkVBIF0pLFxuICAgICAgICAgICAgcGFuZVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlTGluZUNoYXJ0KFxuICAgICAgICAgICAgZmlsdGVyU2VyaWVzQnlUeXBlKHNlcmllcywgWyBSQURBUl9MSU5FIF0pLFxuICAgICAgICAgICAgcGFuZVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlQmFyQ2hhcnQoXG4gICAgICAgICAgICBmaWx0ZXJTZXJpZXNCeVR5cGUoc2VyaWVzLCBbIFJBREFSX0NPTFVNTiBdKSxcbiAgICAgICAgICAgIHBhbmVcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBjaGFydE9wdGlvbnMoc2VyaWVzKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7IHNlcmllczogc2VyaWVzIH07XG4gICAgICAgIGNvbnN0IGZpcnN0U2VyaWVzID0gc2VyaWVzWzBdO1xuICAgICAgICBpZiAoZmlyc3RTZXJpZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkU2VyaWVzID0gdGhpcy5maWx0ZXJWaXNpYmxlU2VyaWVzKHNlcmllcyk7XG4gICAgICAgICAgICBjb25zdCBzdGFjayA9IGZpcnN0U2VyaWVzLnN0YWNrO1xuICAgICAgICAgICAgb3B0aW9ucy5pc1N0YWNrZWQgPSBzdGFjayAmJiBmaWx0ZXJlZFNlcmllcy5sZW5ndGggPiAxO1xuICAgICAgICAgICAgb3B0aW9ucy5pc1N0YWNrZWQxMDAgPSBzdGFjayAmJiBzdGFjay50eXBlID09PSBcIjEwMCVcIiAmJiBmaWx0ZXJlZFNlcmllcy5sZW5ndGggPiAxO1xuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5pc1N0YWNrZWQxMDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pc1N0YWNrZWQxMDAgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfVxuXG4gICAgY3JlYXRlQXJlYUNoYXJ0KHNlcmllcywgcGFuZSkge1xuICAgICAgICBpZiAoc2VyaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYXJlYUNoYXJ0ID0gbmV3IFJhZGFyQXJlYUNoYXJ0KHRoaXMsIHRoaXMuY2hhcnRPcHRpb25zKHNlcmllcykpO1xuICAgICAgICB0aGlzLmFwcGVuZENoYXJ0KGFyZWFDaGFydCwgcGFuZSk7XG4gICAgfVxuXG4gICAgY3JlYXRlTGluZUNoYXJ0KHNlcmllcywgcGFuZSkge1xuICAgICAgICBpZiAoc2VyaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGluZUNoYXJ0ID0gbmV3IFJhZGFyTGluZUNoYXJ0KHRoaXMsIHRoaXMuY2hhcnRPcHRpb25zKHNlcmllcykpO1xuICAgICAgICB0aGlzLmFwcGVuZENoYXJ0KGxpbmVDaGFydCwgcGFuZSk7XG4gICAgfVxuXG4gICAgY3JlYXRlQmFyQ2hhcnQoc2VyaWVzLCBwYW5lKSB7XG4gICAgICAgIGlmIChzZXJpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaXJzdFNlcmllcyA9IHNlcmllc1swXTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuY2hhcnRPcHRpb25zKHNlcmllcyk7XG4gICAgICAgIG9wdGlvbnMuZ2FwID0gZmlyc3RTZXJpZXMuZ2FwO1xuICAgICAgICBvcHRpb25zLnNwYWNpbmcgPSBmaXJzdFNlcmllcy5zcGFjaW5nO1xuXG4gICAgICAgIGNvbnN0IGJhckNoYXJ0ID0gbmV3IFJhZGFyQmFyQ2hhcnQodGhpcywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuYXBwZW5kQ2hhcnQoYmFyQ2hhcnQsIHBhbmUpO1xuXG4gICAgICAgIHRoaXMuX2hhc0JhckNoYXJ0cyA9IHRydWU7XG4gICAgfVxuXG4gICAgc2VyaWVzQ2F0ZWdvcnlBeGlzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYXRlZ29yeUF4aXM7XG4gICAgfVxuXG4gICAgX2Rpc3BhdGNoRXZlbnQoY2hhcnQsIGUsIGV2ZW50VHlwZSkge1xuICAgICAgICBjb25zdCBjb29yZHMgPSBjaGFydC5fZXZlbnRDb29yZGluYXRlcyhlKTtcbiAgICAgICAgY29uc3QgcG9pbnQgPSBuZXcgUG9pbnQoY29vcmRzLngsIGNvb3Jkcy55KTtcbiAgICAgICAgY29uc3QgY2F0ZWdvcnkgPSB0aGlzLmNhdGVnb3J5QXhpcy5nZXRDYXRlZ29yeShwb2ludCk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy52YWx1ZUF4aXMuZ2V0VmFsdWUocG9pbnQpO1xuXG4gICAgICAgIGlmIChjYXRlZ29yeSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY2hhcnQudHJpZ2dlcihldmVudFR5cGUsIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50OiBldmVudEVsZW1lbnQoZSksXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5LFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVDcm9zc2hhaXJzKCkge31cbn1cblxuZGVlcEV4dGVuZChSYWRhclBsb3RBcmVhLnByb3RvdHlwZSwgUGxvdEFyZWFFdmVudHNNaXhpbiwge1xuICAgIGFwcGVuZENoYXJ0OiBDYXRlZ29yaWNhbFBsb3RBcmVhLnByb3RvdHlwZS5hcHBlbmRDaGFydCxcbiAgICBhZ2dyZWdhdGVTZXJpZXM6IENhdGVnb3JpY2FsUGxvdEFyZWEucHJvdG90eXBlLmFnZ3JlZ2F0ZVNlcmllcyxcbiAgICBzZXJpZXNTb3VyY2VQb2ludHM6IENhdGVnb3JpY2FsUGxvdEFyZWEucHJvdG90eXBlLnNlcmllc1NvdXJjZVBvaW50c1xufSk7XG5cbnNldERlZmF1bHRPcHRpb25zKFJhZGFyUGxvdEFyZWEsIHtcbiAgICBjYXRlZ29yeUF4aXM6IHtcbiAgICAgICAgY2F0ZWdvcmllczogW11cbiAgICB9LFxuICAgIHZhbHVlQXhpczoge31cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBSYWRhclBsb3RBcmVhOyIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHsgQ2hhcnRFbGVtZW50LCBCb3gsIFBvaW50IH0gZnJvbSAnLi4vLi4vY29yZSc7XG5pbXBvcnQgUG9pbnRFdmVudHNNaXhpbiBmcm9tICcuLi9taXhpbnMvcG9pbnQtZXZlbnRzLW1peGluJztcblxuaW1wb3J0IHsgV0hJVEUgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGRlZXBFeHRlbmQsIHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgRnVubmVsU2VnbWVudCBleHRlbmRzIENoYXJ0RWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IodmFsdWUsIG9wdGlvbnMsIHNlZ21lbnRPcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5vcHRpb25zLmluZGV4ID0gc2VnbWVudE9wdGlvbnMuaW5kZXg7XG4gICAgfVxuXG4gICAgcmVmbG93KGNoYXJ0Qm94KSB7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMucG9pbnRzO1xuICAgICAgICBjb25zdCBsYWJlbCA9IHRoaXMuY2hpbGRyZW5bMF07XG5cbiAgICAgICAgdGhpcy5ib3ggPSBuZXcgQm94KHBvaW50c1swXS54LCBwb2ludHNbMF0ueSwgcG9pbnRzWzFdLngsIHBvaW50c1syXS55KTtcblxuICAgICAgICBpZiAobGFiZWwpIHtcbiAgICAgICAgICAgIGxhYmVsLnJlZmxvdyhuZXcgQm94KGNoYXJ0Qm94LngxLCBwb2ludHNbMF0ueSwgY2hhcnRCb3gueDIsIHBvaW50c1syXS55KSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVWaXN1YWwoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGxldCB2aXN1YWw7XG5cbiAgICAgICAgc3VwZXIuY3JlYXRlVmlzdWFsKCk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMudmlzdWFsKSB7XG4gICAgICAgICAgICB2aXN1YWwgPSBvcHRpb25zLnZpc3VhbCh7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6IHRoaXMuY2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgZGF0YUl0ZW06IHRoaXMuZGF0YUl0ZW0sXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMudmFsdWUsXG4gICAgICAgICAgICAgICAgc2VyaWVzOiB0aGlzLnNlcmllcyxcbiAgICAgICAgICAgICAgICBwZXJjZW50YWdlOiB0aGlzLnBlcmNlbnRhZ2UsXG4gICAgICAgICAgICAgICAgcG9pbnRzOiB0aGlzLnBvaW50cyxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zLFxuICAgICAgICAgICAgICAgIHNlbmRlcjogdGhpcy5nZXRTZW5kZXIoKSxcbiAgICAgICAgICAgICAgICBjcmVhdGVWaXN1YWw6ICgpID0+IHRoaXMuY3JlYXRlUGF0aCgpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZpc3VhbCA9IHRoaXMuY3JlYXRlUGF0aCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZpc3VhbCkge1xuICAgICAgICAgICAgdGhpcy52aXN1YWwuYXBwZW5kKHZpc3VhbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVQYXRoKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBib3JkZXIgPSBvcHRpb25zLmJvcmRlcjtcbiAgICAgICAgY29uc3QgcGF0aCA9IGRyYXcuUGF0aC5mcm9tUG9pbnRzKHRoaXMucG9pbnRzLCB7XG4gICAgICAgICAgICBmaWxsOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IG9wdGlvbnMuY29sb3IsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogb3B0aW9ucy5vcGFjaXR5XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IGJvcmRlci5jb2xvcixcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBib3JkZXIub3BhY2l0eSxcbiAgICAgICAgICAgICAgICB3aWR0aDogYm9yZGVyLndpZHRoXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLmNsb3NlKCk7XG5cbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgfVxuXG4gICAgY3JlYXRlSGlnaGxpZ2h0KHN0eWxlKSB7XG4gICAgICAgIHJldHVybiBkcmF3LlBhdGguZnJvbVBvaW50cyh0aGlzLnBvaW50cywgc3R5bGUpO1xuICAgIH1cblxuICAgIGhpZ2hsaWdodFZpc3VhbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlzdWFsLmNoaWxkcmVuWzBdO1xuICAgIH1cblxuICAgIGhpZ2hsaWdodFZpc3VhbEFyZ3MoKSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSBkcmF3LlBhdGguZnJvbVBvaW50cyh0aGlzLnBvaW50cykuY2xvc2UoKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgcGF0aDogcGF0aFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHRvb2x0aXBBbmNob3IoKSB7XG4gICAgICAgIGNvbnN0IGJveCA9IHRoaXMuYm94O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcG9pbnQ6IG5ldyBQb2ludChib3guY2VudGVyKCkueCwgYm94LnkxKSxcbiAgICAgICAgICAgIGFsaWduOiB7XG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogXCJ0b3BcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZvcm1hdFZhbHVlKGZvcm1hdCkge1xuICAgICAgICBjb25zdCBwb2ludCA9IHRoaXM7XG4gICAgICAgIHJldHVybiBwb2ludC5vd25lci5mb3JtYXRQb2ludFZhbHVlKHBvaW50LCBmb3JtYXQpO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoRnVubmVsU2VnbWVudCwge1xuICAgIGNvbG9yOiBXSElURSxcbiAgICBib3JkZXI6IHtcbiAgICAgICAgd2lkdGg6IDFcbiAgICB9XG59KTtcblxuZGVlcEV4dGVuZChGdW5uZWxTZWdtZW50LnByb3RvdHlwZSwgUG9pbnRFdmVudHNNaXhpbik7XG5cbmV4cG9ydCBkZWZhdWx0IEZ1bm5lbFNlZ21lbnQ7IiwiaW1wb3J0IHsgZ2VvbWV0cnkgYXMgZ2VvbSwgQ29sb3IgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCB7IENoYXJ0RWxlbWVudCwgVGV4dEJveCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0IFBpZUNoYXJ0TWl4aW4gZnJvbSAnLi4vbWl4aW5zL3BpZS1jaGFydC1taXhpbic7XG5pbXBvcnQgRnVubmVsU2VnbWVudCBmcm9tICcuL2Z1bm5lbC1zZWdtZW50JztcblxuaW1wb3J0IHsgYmluZFNlZ21lbnRzLCBldmFsT3B0aW9ucyB9IGZyb20gJy4uL3V0aWxzJztcblxuaW1wb3J0IHsgQkxBQ0ssIFdISVRFLCBDRU5URVIsIExFRlQgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGRlZXBFeHRlbmQsIGlzRnVuY3Rpb24sIGdldFRlbXBsYXRlLCBsaW1pdFZhbHVlLCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIEZ1bm5lbENoYXJ0IGV4dGVuZHMgQ2hhcnRFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihwbG90QXJlYSwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcblxuICAgICAgICB0aGlzLnBsb3RBcmVhID0gcGxvdEFyZWE7XG4gICAgICAgIHRoaXMucG9pbnRzID0gW107XG4gICAgICAgIHRoaXMubGFiZWxzID0gW107XG4gICAgICAgIHRoaXMubGVnZW5kSXRlbXMgPSBbXTtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICBmb3JtYXRQb2ludFZhbHVlKHBvaW50LCBmb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhcnRTZXJ2aWNlLmZvcm1hdC5hdXRvKGZvcm1hdCxwb2ludC52YWx1ZSk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIHBsb3RBcmVhOiB7IG9wdGlvbnM6IHsgc2VyaWVzQ29sb3JzID0gW10gfSB9IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBzZXJpZXMgPSBvcHRpb25zLnNlcmllc1swXTtcbiAgICAgICAgY29uc3QgZGF0YSA9IHNlcmllcy5kYXRhO1xuXG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyB0b3RhbCwgcG9pbnRzIH0gPSBiaW5kU2VnbWVudHMoc2VyaWVzKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcG9pbnREYXRhID0gcG9pbnRzW2ldO1xuXG4gICAgICAgICAgICBpZiAoIXBvaW50RGF0YSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgZmllbGRzID0gcG9pbnREYXRhLmZpZWxkcztcblxuICAgICAgICAgICAgaWYgKCFpc0Z1bmN0aW9uKHNlcmllcy5jb2xvcikpIHtcbiAgICAgICAgICAgICAgICBzZXJpZXMuY29sb3IgPSBmaWVsZHMuY29sb3IgfHwgc2VyaWVzQ29sb3JzW2kgJSBzZXJpZXNDb2xvcnMubGVuZ3RoXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZmllbGRzID0gZGVlcEV4dGVuZCh7XG4gICAgICAgICAgICAgICAgaW5kZXg6IGksXG4gICAgICAgICAgICAgICAgb3duZXI6IHRoaXMsXG4gICAgICAgICAgICAgICAgc2VyaWVzOiBzZXJpZXMsXG4gICAgICAgICAgICAgICAgZGF0YUl0ZW06IGRhdGFbaV0sXG4gICAgICAgICAgICAgICAgcGVyY2VudGFnZTogcG9pbnREYXRhLnZhbHVlIC8gdG90YWxcbiAgICAgICAgICAgIH0sIGZpZWxkcywgeyB2aXNpYmxlOiBwb2ludERhdGEudmlzaWJsZSB9KTtcblxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwb2ludERhdGEudmFsdWVGaWVsZHMudmFsdWU7XG4gICAgICAgICAgICBjb25zdCBzZWdtZW50ID0gdGhpcy5jcmVhdGVTZWdtZW50KHZhbHVlLCBmaWVsZHMpO1xuICAgICAgICAgICAgY29uc3QgbGFiZWwgPSB0aGlzLmNyZWF0ZUxhYmVsKHZhbHVlLCBmaWVsZHMpO1xuXG4gICAgICAgICAgICBpZiAoc2VnbWVudCAmJiBsYWJlbCkge1xuICAgICAgICAgICAgICAgIHNlZ21lbnQuYXBwZW5kKGxhYmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV2YWxTZWdtZW50T3B0aW9ucyhvcHRpb25zLCB2YWx1ZSwgZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IHNlcmllcyA9IGZpZWxkcy5zZXJpZXM7XG5cbiAgICAgICAgZXZhbE9wdGlvbnMob3B0aW9ucywge1xuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgc2VyaWVzOiBzZXJpZXMsXG4gICAgICAgICAgICBkYXRhSXRlbTogZmllbGRzLmRhdGFJdGVtLFxuICAgICAgICAgICAgaW5kZXg6IGZpZWxkcy5pbmRleFxuICAgICAgICB9LCB7IGRlZmF1bHRzOiBzZXJpZXMuX2RlZmF1bHRzLCBleGNsdWRlZDogWyBcImRhdGFcIiwgXCJjb250ZW50XCIsIFwidGVtcGxhdGVcIiwgXCJ0b2dnbGVcIiwgXCJ2aXN1YWxcIiBdIH0pO1xuICAgIH1cblxuICAgIGNyZWF0ZVNlZ21lbnQodmFsdWUsIGZpZWxkcykge1xuICAgICAgICBjb25zdCBzZXJpZXNPcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgZmllbGRzLnNlcmllcyk7XG4gICAgICAgIHRoaXMuZXZhbFNlZ21lbnRPcHRpb25zKHNlcmllc09wdGlvbnMsIHZhbHVlLCBmaWVsZHMpO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlTGVnZW5kSXRlbSh2YWx1ZSwgc2VyaWVzT3B0aW9ucywgZmllbGRzKTtcblxuICAgICAgICBpZiAoZmllbGRzLnZpc2libGUgIT09IGZhbHNlKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IHNlZ21lbnQgPSBuZXcgRnVubmVsU2VnbWVudCh2YWx1ZSwgc2VyaWVzT3B0aW9ucywgZmllbGRzKTtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oc2VnbWVudCwgZmllbGRzKTtcblxuICAgICAgICAgICAgdGhpcy5hcHBlbmQoc2VnbWVudCk7XG4gICAgICAgICAgICB0aGlzLnBvaW50cy5wdXNoKHNlZ21lbnQpO1xuXG4gICAgICAgICAgICByZXR1cm4gc2VnbWVudDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZUxhYmVsKHZhbHVlLCBmaWVsZHMpIHtcbiAgICAgICAgY29uc3QgeyBzZXJpZXMsIGRhdGFJdGVtIH0gPSBmaWVsZHM7XG4gICAgICAgIGNvbnN0IGxhYmVscyA9IGRlZXBFeHRlbmQoe30sIHRoaXMub3B0aW9ucy5sYWJlbHMsIHNlcmllcy5sYWJlbHMpO1xuICAgICAgICBsZXQgdGV4dCA9IHZhbHVlO1xuXG4gICAgICAgIGlmIChsYWJlbHMudmlzaWJsZSkge1xuICAgICAgICAgICAgY29uc3QgbGFiZWxUZW1wbGF0ZSA9IGdldFRlbXBsYXRlKGxhYmVscyk7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAgICAgICAgIGRhdGFJdGVtOiBkYXRhSXRlbSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgcGVyY2VudGFnZTogZmllbGRzLnBlcmNlbnRhZ2UsXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6IGZpZWxkcy5jYXRlZ29yeSxcbiAgICAgICAgICAgICAgICBzZXJpZXM6IHNlcmllc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChsYWJlbFRlbXBsYXRlKSB7XG4gICAgICAgICAgICAgICAgdGV4dCA9IGxhYmVsVGVtcGxhdGUoZGF0YSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxhYmVscy5mb3JtYXQpIHtcbiAgICAgICAgICAgICAgICB0ZXh0ID0gdGhpcy5wbG90QXJlYS5jaGFydFNlcnZpY2UuZm9ybWF0LmF1dG8obGFiZWxzLmZvcm1hdCwgdGV4dCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghbGFiZWxzLmNvbG9yKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnJpZ2h0bmVzc1ZhbHVlID0gbmV3IENvbG9yKHNlcmllcy5jb2xvcikucGVyY0JyaWdodG5lc3MoKTtcbiAgICAgICAgICAgICAgICBpZiAoYnJpZ2h0bmVzc1ZhbHVlID4gMTgwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVscy5jb2xvciA9IEJMQUNLO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVscy5jb2xvciA9IFdISVRFO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWxhYmVscy5iYWNrZ3JvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVscy5iYWNrZ3JvdW5kID0gc2VyaWVzLmNvbG9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5ldmFsU2VnbWVudE9wdGlvbnMobGFiZWxzLCB2YWx1ZSwgZmllbGRzKTtcbiAgICAgICAgICAgIGNvbnN0IHRleHRCb3ggPSBuZXcgVGV4dEJveCh0ZXh0LCBkZWVwRXh0ZW5kKHtcbiAgICAgICAgICAgICAgICB2QWxpZ246IGxhYmVscy5wb3NpdGlvblxuICAgICAgICAgICAgfSwgbGFiZWxzKSwgZGF0YSk7XG5cbiAgICAgICAgICAgIHRoaXMubGFiZWxzLnB1c2godGV4dEJveCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0ZXh0Qm94O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbGFiZWxQYWRkaW5nKCkge1xuICAgICAgICBjb25zdCBsYWJlbHMgPSB0aGlzLmxhYmVscztcbiAgICAgICAgY29uc3QgcGFkZGluZyA9IHsgbGVmdDogMCwgcmlnaHQ6IDAgfTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxhYmVscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgbGFiZWwgPSBsYWJlbHNbaV07XG4gICAgICAgICAgICBjb25zdCBhbGlnbiA9IGxhYmVsLm9wdGlvbnMuYWxpZ247XG4gICAgICAgICAgICBpZiAoYWxpZ24gIT09IENFTlRFUikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gbGFiZWxzW2ldLmJveC53aWR0aCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGFsaWduID09PSBMRUZUKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmcubGVmdCA9IE1hdGgubWF4KHBhZGRpbmcubGVmdCwgd2lkdGgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmcucmlnaHQgPSBNYXRoLm1heChwYWRkaW5nLnJpZ2h0LCB3aWR0aCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBhZGRpbmc7XG4gICAgfVxuXG4gICAgZHluYW1pY1Nsb3BlUmVmbG93KGJveCwgd2lkdGgsIHRvdGFsSGVpZ2h0KSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgcG9pbnRzOiBzZWdtZW50cyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgY291bnQgPSBzZWdtZW50cy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGZpcnN0U2VnbWVudCA9IHNlZ21lbnRzWzBdO1xuICAgICAgICBsZXQgbWF4U2VnbWVudCA9IGZpcnN0U2VnbWVudDtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBzZWdtZW50cy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBpZiAoc2VnbWVudHNbaWR4XS5wZXJjZW50YWdlID4gbWF4U2VnbWVudC5wZXJjZW50YWdlKSB7XG4gICAgICAgICAgICAgICAgbWF4U2VnbWVudCA9IHNlZ21lbnRzW2lkeF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbGFzdFVwcGVyU2lkZSA9IChmaXJzdFNlZ21lbnQucGVyY2VudGFnZSAvIG1heFNlZ21lbnQucGVyY2VudGFnZSkgKiB3aWR0aDtcbiAgICAgICAgbGV0IHByZXZpb3VzT2Zmc2V0ID0gKHdpZHRoIC0gbGFzdFVwcGVyU2lkZSkgLyAyO1xuICAgICAgICBsZXQgcHJldmlvdXNIZWlnaHQgPSAwO1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGNvdW50OyBpZHgrKykge1xuICAgICAgICAgICAgY29uc3QgcGVyY2VudGFnZSA9IHNlZ21lbnRzW2lkeF0ucGVyY2VudGFnZTtcbiAgICAgICAgICAgIGNvbnN0IG5leHRTZWdtZW50ID0gc2VnbWVudHNbaWR4ICsgMV07XG4gICAgICAgICAgICBjb25zdCBuZXh0UGVyY2VudGFnZSA9IChuZXh0U2VnbWVudCA/IG5leHRTZWdtZW50LnBlcmNlbnRhZ2UgOiBwZXJjZW50YWdlKTtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50cyA9IHNlZ21lbnRzW2lkeF0ucG9pbnRzID0gW107XG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSAob3B0aW9ucy5keW5hbWljSGVpZ2h0KSA/ICh0b3RhbEhlaWdodCAqIHBlcmNlbnRhZ2UpIDogKHRvdGFsSGVpZ2h0IC8gY291bnQpO1xuICAgICAgICAgICAgbGV0IG9mZnNldDtcblxuICAgICAgICAgICAgaWYgKCFwZXJjZW50YWdlKSB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gbmV4dFBlcmNlbnRhZ2UgPyAwIDogd2lkdGggLyAyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSAod2lkdGggLSBsYXN0VXBwZXJTaWRlICogKG5leHRQZXJjZW50YWdlIC8gcGVyY2VudGFnZSkpIC8gMjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb2Zmc2V0ID0gbGltaXRWYWx1ZShvZmZzZXQsIDAsIHdpZHRoKTtcblxuICAgICAgICAgICAgcG9pbnRzLnB1c2gobmV3IGdlb20uUG9pbnQoYm94LngxICsgcHJldmlvdXNPZmZzZXQsIGJveC55MSArIHByZXZpb3VzSGVpZ2h0KSk7XG4gICAgICAgICAgICBwb2ludHMucHVzaChuZXcgZ2VvbS5Qb2ludChib3gueDEgKyB3aWR0aCAtIHByZXZpb3VzT2Zmc2V0LCBib3gueTEgKyBwcmV2aW91c0hlaWdodCkpO1xuICAgICAgICAgICAgcG9pbnRzLnB1c2gobmV3IGdlb20uUG9pbnQoYm94LngxICsgd2lkdGggLSBvZmZzZXQsIGJveC55MSArIGhlaWdodCArIHByZXZpb3VzSGVpZ2h0KSk7XG4gICAgICAgICAgICBwb2ludHMucHVzaChuZXcgZ2VvbS5Qb2ludChib3gueDEgKyBvZmZzZXQsIGJveC55MSArIGhlaWdodCArIHByZXZpb3VzSGVpZ2h0KSk7XG5cbiAgICAgICAgICAgIHByZXZpb3VzT2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICAgICAgcHJldmlvdXNIZWlnaHQgKz0gaGVpZ2h0ICsgb3B0aW9ucy5zZWdtZW50U3BhY2luZztcbiAgICAgICAgICAgIGxhc3RVcHBlclNpZGUgPSBsaW1pdFZhbHVlKHdpZHRoIC0gMiAqIG9mZnNldCwgMCwgd2lkdGgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3RhbnRTbG9wZVJlZmxvdyhib3gsIHdpZHRoLCB0b3RhbEhlaWdodCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIHBvaW50czogc2VnbWVudHMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gc2VnbWVudHMubGVuZ3RoO1xuICAgICAgICBjb25zdCBkZWNyZWFzaW5nV2lkdGggPSBvcHRpb25zLm5lY2tSYXRpbyA8PSAxO1xuICAgICAgICBjb25zdCBuZWNrUmF0aW8gPSBkZWNyZWFzaW5nV2lkdGggPyBvcHRpb25zLm5lY2tSYXRpbyAqIHdpZHRoIDogd2lkdGg7XG4gICAgICAgIGxldCBwcmV2aW91c09mZnNldCA9IGRlY3JlYXNpbmdXaWR0aCA/IDAgOiAod2lkdGggLSB3aWR0aCAvIG9wdGlvbnMubmVja1JhdGlvKSAvIDI7XG4gICAgICAgIGNvbnN0IHRvcE1vc3RXaWR0aCA9IGRlY3JlYXNpbmdXaWR0aCA/IHdpZHRoIDogd2lkdGggLSBwcmV2aW91c09mZnNldCAqIDI7XG4gICAgICAgIGNvbnN0IGZpbmFsTmFycm93ID0gKHRvcE1vc3RXaWR0aCAtIG5lY2tSYXRpbykgLyAyO1xuICAgICAgICBsZXQgcHJldmlvdXNIZWlnaHQgPSAwO1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGNvdW50OyBpZHgrKykge1xuICAgICAgICAgICAgY29uc3QgcG9pbnRzID0gc2VnbWVudHNbaWR4XS5wb2ludHMgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IHBlcmNlbnRhZ2UgPSBzZWdtZW50c1tpZHhdLnBlcmNlbnRhZ2U7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXQgPSAob3B0aW9ucy5keW5hbWljSGVpZ2h0KSA/IChmaW5hbE5hcnJvdyAqIHBlcmNlbnRhZ2UpIDogKGZpbmFsTmFycm93IC8gY291bnQpO1xuICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gKG9wdGlvbnMuZHluYW1pY0hlaWdodCkgPyAodG90YWxIZWlnaHQgKiBwZXJjZW50YWdlKSA6ICh0b3RhbEhlaWdodCAvIGNvdW50KTtcblxuICAgICAgICAgICAgcG9pbnRzLnB1c2gobmV3IGdlb20uUG9pbnQoYm94LngxICsgcHJldmlvdXNPZmZzZXQsIGJveC55MSArIHByZXZpb3VzSGVpZ2h0KSk7XG4gICAgICAgICAgICBwb2ludHMucHVzaChuZXcgZ2VvbS5Qb2ludChib3gueDEgKyB3aWR0aCAtIHByZXZpb3VzT2Zmc2V0LCBib3gueTEgKyBwcmV2aW91c0hlaWdodCkpO1xuICAgICAgICAgICAgcG9pbnRzLnB1c2gobmV3IGdlb20uUG9pbnQoYm94LngxICsgd2lkdGggLSBwcmV2aW91c09mZnNldCAtIG9mZnNldCwgYm94LnkxICsgaGVpZ2h0ICsgcHJldmlvdXNIZWlnaHQpKTtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKG5ldyBnZW9tLlBvaW50KGJveC54MSArIHByZXZpb3VzT2Zmc2V0ICsgb2Zmc2V0LGJveC55MSArIGhlaWdodCArIHByZXZpb3VzSGVpZ2h0KSk7XG4gICAgICAgICAgICBwcmV2aW91c09mZnNldCArPSBvZmZzZXQ7XG4gICAgICAgICAgICBwcmV2aW91c0hlaWdodCArPSBoZWlnaHQgKyBvcHRpb25zLnNlZ21lbnRTcGFjaW5nO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVmbG93KGNoYXJ0Qm94KSB7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMucG9pbnRzO1xuICAgICAgICBjb25zdCBjb3VudCA9IHBvaW50cy5sZW5ndGg7XG5cbiAgICAgICAgaWYgKCFjb3VudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgYm94ID0gY2hhcnRCb3guY2xvbmUoKS51bnBhZCh0aGlzLmxhYmVsUGFkZGluZygpKTtcbiAgICAgICAgY29uc3QgdG90YWxIZWlnaHQgPSBib3guaGVpZ2h0KCkgLSBvcHRpb25zLnNlZ21lbnRTcGFjaW5nICogKGNvdW50IC0gMSk7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gYm94LndpZHRoKCk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuZHluYW1pY1Nsb3BlKSB7XG4gICAgICAgICAgICB0aGlzLmR5bmFtaWNTbG9wZVJlZmxvdyhib3gsIHdpZHRoLCB0b3RhbEhlaWdodCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNvbnN0YW50U2xvcGVSZWZsb3coYm94LCB3aWR0aCwgdG90YWxIZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgY291bnQ7IGlkeCsrKSB7XG4gICAgICAgICAgICBwb2ludHNbaWR4XS5yZWZsb3coY2hhcnRCb3gpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhGdW5uZWxDaGFydCwge1xuICAgIG5lY2tSYXRpbzogMC4zLFxuICAgIHdpZHRoOiAzMDAsXG4gICAgZHluYW1pY1Nsb3BlOiBmYWxzZSxcbiAgICBkeW5hbWljSGVpZ2h0OiB0cnVlLFxuICAgIHNlZ21lbnRTcGFjaW5nOiAwLFxuICAgIGxhYmVsczoge1xuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgYWxpZ246IENFTlRFUixcbiAgICAgICAgcG9zaXRpb246IENFTlRFUixcbiAgICAgICAgekluZGV4OiAxXG4gICAgfVxufSk7XG5cbmRlZXBFeHRlbmQoRnVubmVsQ2hhcnQucHJvdG90eXBlLCBQaWVDaGFydE1peGluKTtcblxuZXhwb3J0IGRlZmF1bHQgRnVubmVsQ2hhcnQ7XG4iLCJpbXBvcnQgUGxvdEFyZWFCYXNlIGZyb20gJy4vcGxvdGFyZWEtYmFzZSc7XG5pbXBvcnQgRnVubmVsQ2hhcnQgZnJvbSAnLi4vZnVubmVsLWNoYXJ0L2Z1bm5lbC1jaGFydCc7XG5cbmltcG9ydCB7IGFwcGVuZCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIEZ1bm5lbFBsb3RBcmVhIGV4dGVuZHMgUGxvdEFyZWFCYXNlIHtcbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlRnVubmVsQ2hhcnQodGhpcy5zZXJpZXMpO1xuICAgIH1cblxuICAgIGNyZWF0ZUZ1bm5lbENoYXJ0KHNlcmllcykge1xuICAgICAgICBjb25zdCBmaXJzdFNlcmllcyA9IHNlcmllc1swXTtcbiAgICAgICAgY29uc3QgZnVubmVsQ2hhcnQgPSBuZXcgRnVubmVsQ2hhcnQodGhpcywge1xuICAgICAgICAgICAgc2VyaWVzOiBzZXJpZXMsXG4gICAgICAgICAgICBsZWdlbmQ6IHRoaXMub3B0aW9ucy5sZWdlbmQsXG4gICAgICAgICAgICBuZWNrUmF0aW86IGZpcnN0U2VyaWVzLm5lY2tSYXRpbyxcbiAgICAgICAgICAgIGR5bmFtaWNIZWlnaHQ6IGZpcnN0U2VyaWVzLmR5bmFtaWNIZWlnaHQsXG4gICAgICAgICAgICBkeW5hbWljU2xvcGU6IGZpcnN0U2VyaWVzLmR5bmFtaWNTbG9wZSxcbiAgICAgICAgICAgIHNlZ21lbnRTcGFjaW5nOiBmaXJzdFNlcmllcy5zZWdtZW50U3BhY2luZyxcbiAgICAgICAgICAgIGhpZ2hsaWdodDogZmlyc3RTZXJpZXMuaGlnaGxpZ2h0XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYXBwZW5kQ2hhcnQoZnVubmVsQ2hhcnQpO1xuICAgIH1cblxuICAgIGFwcGVuZENoYXJ0KGNoYXJ0LCBwYW5lKSB7XG4gICAgICAgIHN1cGVyLmFwcGVuZENoYXJ0KGNoYXJ0LCBwYW5lKTtcbiAgICAgICAgYXBwZW5kKHRoaXMub3B0aW9ucy5sZWdlbmQuaXRlbXMsIGNoYXJ0LmxlZ2VuZEl0ZW1zKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZ1bm5lbFBsb3RBcmVhOyIsImltcG9ydCBQbG90QXJlYUZhY3RvcnkgZnJvbSAnLi9wbG90YXJlYS9wbG90YXJlYS1mYWN0b3J5JztcbmltcG9ydCBTZXJpZXNCaW5kZXIgZnJvbSAnLi9zZXJpZXMtYmluZGVyJztcbmltcG9ydCBEZWZhdWx0QWdncmVnYXRlcyBmcm9tICcuL2FnZ3JlZ2F0ZXMvZGVmYXVsdC1hZ2dyZWdhdGVzJztcbmltcG9ydCBDYXRlZ29yaWNhbFBsb3RBcmVhIGZyb20gJy4vcGxvdGFyZWEvY2F0ZWdvcmljYWwtcGxvdGFyZWEnO1xuaW1wb3J0IFhZUGxvdEFyZWEgZnJvbSAnLi9wbG90YXJlYS94eS1wbG90YXJlYSc7XG5pbXBvcnQgUGllUGxvdEFyZWEgZnJvbSAnLi9wbG90YXJlYS9waWUtcGxvdGFyZWEnO1xuaW1wb3J0IERvbnV0UGxvdEFyZWEgZnJvbSAnLi9wbG90YXJlYS9kb251dC1wbG90YXJlYSc7XG5pbXBvcnQgUG9sYXJQbG90QXJlYSBmcm9tICcuL3Bsb3RhcmVhL3BvbGFyLXBsb3RhcmVhJztcbmltcG9ydCBSYWRhclBsb3RBcmVhIGZyb20gJy4vcGxvdGFyZWEvcmFkYXItcGxvdGFyZWEnO1xuaW1wb3J0IEZ1bm5lbFBsb3RBcmVhIGZyb20gJy4vcGxvdGFyZWEvZnVubmVsLXBsb3RhcmVhJztcblxuaW1wb3J0IHsgQ09MVU1OLCBET05VVCwgUElFLCBGVU5ORUwsIEJBUiwgTElORSwgVkVSVElDQUxfTElORSwgQVJFQSwgVkVSVElDQUxfQVJFQSxcbiAgICBDQU5ETEVTVElDSywgT0hMQywgQlVMTEVULCBWRVJUSUNBTF9CVUxMRVQsIEJPWF9QTE9ULCBWRVJUSUNBTF9CT1hfUExPVCwgUkFOR0VfQ09MVU1OLFxuICAgIFJBTkdFX0JBUiwgV0FURVJGQUxMLCBIT1JJWk9OVEFMX1dBVEVSRkFMTCwgU0NBVFRFUiwgU0NBVFRFUl9MSU5FLCBCVUJCTEUsXG4gICAgUE9MQVJfQVJFQSwgUE9MQVJfTElORSwgUE9MQVJfU0NBVFRFUiwgUkFEQVJfQVJFQSwgUkFEQVJfQ09MVU1OLCBSQURBUl9MSU5FLCBDQVRFR09SWSxcbiAgICBSQU5HRV9BUkVBLCBWRVJUSUNBTF9SQU5HRV9BUkVBLCBYX0VSUk9SX0xPV19GSUVMRCwgWF9FUlJPUl9ISUdIX0ZJRUxELCBZX0VSUk9SX0xPV19GSUVMRCwgWV9FUlJPUl9ISUdIX0ZJRUxELFxuICAgIEVSUk9SX0xPV19GSUVMRCwgRVJST1JfSElHSF9GSUVMRCB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IFgsIFksIFZBTFVFIH0gZnJvbSAnLi4vY29tbW9uL2NvbnN0YW50cyc7XG5cbmNvbnN0IENPTE9SID0gXCJjb2xvclwiO1xuY29uc3QgRklSU1QgPSBcImZpcnN0XCI7XG5jb25zdCBGUk9NID0gXCJmcm9tXCI7XG5jb25zdCBNQVggPSBcIm1heFwiO1xuY29uc3QgTUlOID0gXCJtaW5cIjtcbmNvbnN0IE5PVEVfVEVYVCA9IFwibm90ZVRleHRcIjtcbmNvbnN0IFNVTU1BUllfRklFTEQgPSBcInN1bW1hcnlcIjtcbmNvbnN0IFRPID0gXCJ0b1wiO1xuXG5QbG90QXJlYUZhY3RvcnkuY3VycmVudC5yZWdpc3RlcihDYXRlZ29yaWNhbFBsb3RBcmVhLCBbXG4gICAgQkFSLCBDT0xVTU4sIExJTkUsIFZFUlRJQ0FMX0xJTkUsIEFSRUEsIFZFUlRJQ0FMX0FSRUEsXG4gICAgQ0FORExFU1RJQ0ssIE9ITEMsIEJVTExFVCwgVkVSVElDQUxfQlVMTEVULCBCT1hfUExPVCwgVkVSVElDQUxfQk9YX1BMT1QsXG4gICAgUkFOR0VfQ09MVU1OLCBSQU5HRV9CQVIsIFdBVEVSRkFMTCwgSE9SSVpPTlRBTF9XQVRFUkZBTEwsIFJBTkdFX0FSRUEsIFZFUlRJQ0FMX1JBTkdFX0FSRUFcbl0pO1xuXG5QbG90QXJlYUZhY3RvcnkuY3VycmVudC5yZWdpc3RlcihYWVBsb3RBcmVhLCBbXG4gICAgU0NBVFRFUiwgU0NBVFRFUl9MSU5FLCBCVUJCTEVcbl0pO1xuXG5QbG90QXJlYUZhY3RvcnkuY3VycmVudC5yZWdpc3RlcihQaWVQbG90QXJlYSwgWyBQSUUgXSk7XG5QbG90QXJlYUZhY3RvcnkuY3VycmVudC5yZWdpc3RlcihEb251dFBsb3RBcmVhLCBbIERPTlVUIF0pO1xuUGxvdEFyZWFGYWN0b3J5LmN1cnJlbnQucmVnaXN0ZXIoRnVubmVsUGxvdEFyZWEsIFsgRlVOTkVMIF0pO1xuXG5QbG90QXJlYUZhY3RvcnkuY3VycmVudC5yZWdpc3RlcihQb2xhclBsb3RBcmVhLCBbIFBPTEFSX0FSRUEsIFBPTEFSX0xJTkUsIFBPTEFSX1NDQVRURVIgXSk7XG5QbG90QXJlYUZhY3RvcnkuY3VycmVudC5yZWdpc3RlcihSYWRhclBsb3RBcmVhLCBbIFJBREFSX0FSRUEsIFJBREFSX0NPTFVNTiwgUkFEQVJfTElORSBdKTtcblxuU2VyaWVzQmluZGVyLmN1cnJlbnQucmVnaXN0ZXIoXG4gICAgWyBCQVIsIENPTFVNTiwgTElORSwgVkVSVElDQUxfTElORSwgQVJFQSwgVkVSVElDQUxfQVJFQSBdLFxuICAgIFsgVkFMVUUgXSwgWyBDQVRFR09SWSwgQ09MT1IsIE5PVEVfVEVYVCwgRVJST1JfTE9XX0ZJRUxELCBFUlJPUl9ISUdIX0ZJRUxEIF1cbik7XG5cblNlcmllc0JpbmRlci5jdXJyZW50LnJlZ2lzdGVyKFxuICAgIFsgUkFOR0VfQ09MVU1OLCBSQU5HRV9CQVIsIFJBTkdFX0FSRUEsIFZFUlRJQ0FMX1JBTkdFX0FSRUEgXSxcbiAgICBbIEZST00sIFRPIF0sIFsgQ0FURUdPUlksIENPTE9SLCBOT1RFX1RFWFQgXVxuKTtcblxuU2VyaWVzQmluZGVyLmN1cnJlbnQucmVnaXN0ZXIoXG4gICAgWyBXQVRFUkZBTEwsIEhPUklaT05UQUxfV0FURVJGQUxMIF0sXG4gICAgWyBWQUxVRSBdLCBbIENBVEVHT1JZLCBDT0xPUiwgTk9URV9URVhULCBTVU1NQVJZX0ZJRUxEIF1cbik7XG5cblNlcmllc0JpbmRlci5jdXJyZW50LnJlZ2lzdGVyKFsgUE9MQVJfQVJFQSwgUE9MQVJfTElORSwgUE9MQVJfU0NBVFRFUiBdLCBbIFgsIFkgXSwgWyBDT0xPUiBdKTtcblNlcmllc0JpbmRlci5jdXJyZW50LnJlZ2lzdGVyKFsgUkFEQVJfQVJFQSwgUkFEQVJfQ09MVU1OLCBSQURBUl9MSU5FIF0sIFsgVkFMVUUgXSwgWyBDT0xPUiBdKTtcblxuU2VyaWVzQmluZGVyLmN1cnJlbnQucmVnaXN0ZXIoXG4gICAgWyBGVU5ORUwgXSxcbiAgICBbIFZBTFVFIF0sIFsgQ0FURUdPUlksIENPTE9SLCBcInZpc2libGVJbkxlZ2VuZFwiLCBcInZpc2libGVcIiBdXG4pO1xuXG5EZWZhdWx0QWdncmVnYXRlcy5jdXJyZW50LnJlZ2lzdGVyKFxuICAgIFsgQkFSLCBDT0xVTU4sIExJTkUsIFZFUlRJQ0FMX0xJTkUsIEFSRUEsIFZFUlRJQ0FMX0FSRUEsIFdBVEVSRkFMTCwgSE9SSVpPTlRBTF9XQVRFUkZBTEwgXSxcbiAgICB7IHZhbHVlOiBNQVgsIGNvbG9yOiBGSVJTVCwgbm90ZVRleHQ6IEZJUlNULCBlcnJvckxvdzogTUlOLCBlcnJvckhpZ2g6IE1BWCB9XG4pO1xuXG5EZWZhdWx0QWdncmVnYXRlcy5jdXJyZW50LnJlZ2lzdGVyKFxuICAgIFsgUkFOR0VfQ09MVU1OLCBSQU5HRV9CQVIsIFJBTkdFX0FSRUEsIFZFUlRJQ0FMX1JBTkdFX0FSRUEgXSxcbiAgICB7IGZyb206IE1JTiwgdG86IE1BWCwgY29sb3I6IEZJUlNULCBub3RlVGV4dDogRklSU1QgfVxuKTtcblxuRGVmYXVsdEFnZ3JlZ2F0ZXMuY3VycmVudC5yZWdpc3RlcihcbiAgICBbIFJBREFSX0FSRUEsIFJBREFSX0NPTFVNTiwgUkFEQVJfTElORSBdLFxuICAgIHsgdmFsdWU6IE1BWCwgY29sb3I6IEZJUlNUIH1cbik7XG5cblNlcmllc0JpbmRlci5jdXJyZW50LnJlZ2lzdGVyKFxuICAgIFsgU0NBVFRFUiwgU0NBVFRFUl9MSU5FLCBCVUJCTEUgXSxcbiAgICBbIFgsIFkgXSwgWyBDT0xPUiwgTk9URV9URVhULCBYX0VSUk9SX0xPV19GSUVMRCwgWF9FUlJPUl9ISUdIX0ZJRUxELCBZX0VSUk9SX0xPV19GSUVMRCwgWV9FUlJPUl9ISUdIX0ZJRUxEIF1cbik7XG5cblNlcmllc0JpbmRlci5jdXJyZW50LnJlZ2lzdGVyKFxuICAgIFsgQlVCQkxFIF0sIFsgWCwgWSwgXCJzaXplXCIgXSwgWyBDT0xPUiwgQ0FURUdPUlksIE5PVEVfVEVYVCBdXG4pO1xuXG5TZXJpZXNCaW5kZXIuY3VycmVudC5yZWdpc3RlcihcbiAgICBbIENBTkRMRVNUSUNLLCBPSExDIF0sXG4gICAgWyBcIm9wZW5cIiwgXCJoaWdoXCIsIFwibG93XCIsIFwiY2xvc2VcIiBdLCBbIENBVEVHT1JZLCBDT0xPUiwgXCJkb3duQ29sb3JcIiwgTk9URV9URVhUIF1cbik7XG5cbkRlZmF1bHRBZ2dyZWdhdGVzLmN1cnJlbnQucmVnaXN0ZXIoXG4gICAgWyBDQU5ETEVTVElDSywgT0hMQyBdLFxuICAgIHsgb3BlbjogTUFYLCBoaWdoOiBNQVgsIGxvdzogTUlOLCBjbG9zZTogTUFYLFxuICAgICAgY29sb3I6IEZJUlNULCBkb3duQ29sb3I6IEZJUlNULCBub3RlVGV4dDogRklSU1QgfVxuKTtcblxuU2VyaWVzQmluZGVyLmN1cnJlbnQucmVnaXN0ZXIoXG4gICAgWyBCT1hfUExPVCwgVkVSVElDQUxfQk9YX1BMT1QgXSxcbiAgICBbIFwibG93ZXJcIiwgXCJxMVwiLCBcIm1lZGlhblwiLCBcInEzXCIsIFwidXBwZXJcIiwgXCJtZWFuXCIsIFwib3V0bGllcnNcIiBdLCBbIENBVEVHT1JZLCBDT0xPUiwgTk9URV9URVhUIF1cbik7XG5cbkRlZmF1bHRBZ2dyZWdhdGVzLmN1cnJlbnQucmVnaXN0ZXIoXG4gICAgWyBCT1hfUExPVCwgVkVSVElDQUxfQk9YX1BMT1QgXSxcbiAgICB7IGxvd2VyOiBNQVgsIHExOiBNQVgsIG1lZGlhbjogTUFYLCBxMzogTUFYLCB1cHBlcjogTUFYLCBtZWFuOiBNQVgsIG91dGxpZXJzOiBGSVJTVCxcbiAgICAgIGNvbG9yOiBGSVJTVCwgbm90ZVRleHQ6IEZJUlNUIH1cbik7XG5cblNlcmllc0JpbmRlci5jdXJyZW50LnJlZ2lzdGVyKFxuICAgIFsgQlVMTEVULCBWRVJUSUNBTF9CVUxMRVQgXSxcbiAgICBbIFwiY3VycmVudFwiLCBcInRhcmdldFwiIF0sIFsgQ0FURUdPUlksIENPTE9SLCBcInZpc2libGVJbkxlZ2VuZFwiLCBOT1RFX1RFWFQgXVxuKTtcblxuRGVmYXVsdEFnZ3JlZ2F0ZXMuY3VycmVudC5yZWdpc3RlcihcbiAgICBbIEJVTExFVCwgVkVSVElDQUxfQlVMTEVUIF0sXG4gICAgeyBjdXJyZW50OiBNQVgsIHRhcmdldDogTUFYLCBjb2xvcjogRklSU1QsIG5vdGVUZXh0OiBGSVJTVCB9XG4pO1xuXG5TZXJpZXNCaW5kZXIuY3VycmVudC5yZWdpc3RlcihcbiAgICBbIFBJRSwgRE9OVVQgXSxcbiAgICBbIFZBTFVFIF0sIFsgQ0FURUdPUlksIENPTE9SLCBcImV4cGxvZGVcIiwgXCJ2aXNpYmxlSW5MZWdlbmRcIiwgXCJ2aXNpYmxlXCIgXVxuKTsiLCJpbXBvcnQgeyBkcmF3aW5nIGFzIGRyYXcsIHRocm90dGxlIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgeyBSb290RWxlbWVudCwgVGl0bGUsIENhdGVnb3J5QXhpcywgUG9pbnQgfSBmcm9tICcuLi9jb3JlJztcblxuaW1wb3J0IEhpZ2hsaWdodCBmcm9tICcuL2hpZ2hsaWdodCc7XG5pbXBvcnQgUGFubmFibGUgZnJvbSAnLi9wYW4tYW5kLXpvb20vcGFubmFibGUnO1xuaW1wb3J0IFpvb21TZWxlY3Rpb24gZnJvbSAnLi9wYW4tYW5kLXpvb20vem9vbS1zZWxlY3Rpb24nO1xuaW1wb3J0IE1vdXNld2hlZWxab29tIGZyb20gJy4vcGFuLWFuZC16b29tL21vdXNld2hlZWwtem9vbSc7XG5pbXBvcnQgTGVnZW5kIGZyb20gJy4vbGVnZW5kL2xlZ2VuZCc7XG5pbXBvcnQgUGxvdEFyZWFGYWN0b3J5IGZyb20gJy4vcGxvdGFyZWEvcGxvdGFyZWEtZmFjdG9yeSc7XG5pbXBvcnQgU2VsZWN0aW9uIGZyb20gJy4vc2VsZWN0aW9uJztcbmltcG9ydCBTZXJpZXNCaW5kZXIgZnJvbSAnLi9zZXJpZXMtYmluZGVyJztcbmltcG9ydCBUb29sdGlwIGZyb20gJy4vdG9vbHRpcC90b29sdGlwJztcbmltcG9ydCBTaGFyZWRUb29sdGlwIGZyb20gJy4vdG9vbHRpcC9zaGFyZWQtdG9vbHRpcCc7XG5pbXBvcnQgQ2F0ZWdvcmljYWxQbG90QXJlYSBmcm9tICcuL3Bsb3RhcmVhL2NhdGVnb3JpY2FsLXBsb3RhcmVhJztcbmltcG9ydCBQbG90QXJlYUJhc2UgZnJvbSAnLi9wbG90YXJlYS9wbG90YXJlYS1iYXNlJztcbmltcG9ydCB7IENoYXJ0U2VydmljZSwgRG9tRXZlbnRzQnVpbGRlciB9IGZyb20gJy4uL3NlcnZpY2VzJztcbmltcG9ydCBnZXRGaWVsZCBmcm9tICcuL3V0aWxzL2dldC1maWVsZCc7XG5pbXBvcnQgaXNEYXRlQXhpcyBmcm9tICcuL3V0aWxzL2lzLWRhdGUtYXhpcyc7XG5pbXBvcnQgZ2V0RGF0ZUZpZWxkIGZyb20gJy4vdXRpbHMvZ2V0LWRhdGUtZmllbGQnO1xuaW1wb3J0IHsgQ2hhcnRQYW5lLCBDaGFydFBsb3RBcmVhLCBmaW5kQXhpc0J5TmFtZSB9IGZyb20gJy4vYXBpLWVsZW1lbnRzJztcblxuaW1wb3J0IHsgWCwgWSwgVkFMVUUsIERFRkFVTFRfV0lEVEgsIERFRkFVTFRfSEVJR0hUIH0gZnJvbSAnLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBhZGRDbGFzcywgQ2xhc3MsIHNldERlZmF1bHRPcHRpb25zLCBkZWVwRXh0ZW5kLCBkZWZpbmVkLCBpc09iamVjdCwgaXNGdW5jdGlvbiwgZWxlbWVudFNpemUsIGVsZW1lbnRPZmZzZXQsXG4gICAgZWxlbWVudFN0eWxlcywgZXZlbnRDb29yZGluYXRlcywgYmluZEV2ZW50cywgdW5iaW5kRXZlbnRzLCBtb3VzZXdoZWVsRGVsdGEsIEZvbnRMb2FkZXIsIGluQXJyYXksIGxhc3QsIHJvdW5kLCBIYXNoTWFwIH0gZnJvbSAnLi4vY29tbW9uJztcblxuaW1wb3J0IHsgZGF0ZUNvbXBhcmVyIH0gZnJvbSAnLi4vZGF0ZS11dGlscyc7XG5cbmltcG9ydCB7IERSQUdfU1RBUlQsIERSQUcsIERSQUdfRU5ELCBaT09NX1NUQVJULCBaT09NLCBaT09NX0VORCwgU0VMRUNUX1NUQVJULCBTRUxFQ1QsIFNFTEVDVF9FTkQsIFBMT1RfQVJFQV9IT1ZFUiwgUExPVF9BUkVBX0xFQVZFLFxuICAgIFJFTkRFUiwgQ0FURUdPUlksIFBJRSwgRE9OVVQsIEZVTk5FTCwgQ09MVU1OLCBNT1VTRVdIRUVMLCBNT1VTRVdIRUVMX0RFTEFZLCBTSE9XX1RPT0xUSVAsIFNFUklFU19IT1ZFUiB9IGZyb20gJy4vY29uc3RhbnRzJztcblxuaW1wb3J0ICcuL2FuaW1hdGlvbnMnO1xuaW1wb3J0ICcuL3JlZ2lzdGVyLWNoYXJ0cyc7XG5cbmNvbnN0IEFYSVNfTkFNRVMgPSBbIENBVEVHT1JZLCBWQUxVRSwgWCwgWSBdO1xuXG5jb25zdCBNT1VTRU1PVkUgPSBcIm1vdXNlbW92ZVwiO1xuY29uc3QgQ09OVEVYVE1FTlUgPSBcImNvbnRleHRtZW51XCI7XG5jb25zdCBNT1VTRUxFQVZFID0gXCJtb3VzZWxlYXZlXCI7XG5jb25zdCBNT1VTRU1PVkVfREVMQVkgPSAyMDtcblxuY2xhc3MgQ2hhcnQgZXh0ZW5kcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgdXNlck9wdGlvbnMsIHRoZW1lT3B0aW9ucywgY29udGV4dCA9IHt9KSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5vYnNlcnZlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5hZGRPYnNlcnZlcihjb250ZXh0Lm9ic2VydmVyKTtcbiAgICAgICAgdGhpcy5jaGFydFNlcnZpY2UgPSBuZXcgQ2hhcnRTZXJ2aWNlKHRoaXMsIGNvbnRleHQpO1xuICAgICAgICB0aGlzLmNoYXJ0U2VydmljZS50aGVtZSA9IHRoZW1lT3B0aW9ucztcblxuICAgICAgICB0aGlzLl9pbml0RWxlbWVudChlbGVtZW50KTtcblxuICAgICAgICBjb25zdCBvcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCB1c2VyT3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX29yaWdpbmFsT3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl90aGVtZSA9IHRoZW1lT3B0aW9ucztcbiAgICAgICAgdGhpcy5faW5pdFRoZW1lKG9wdGlvbnMsIHRoZW1lT3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5faW5pdEhhbmRsZXJzKCk7XG4gICAgICAgIHRoaXMuX2luaXRTdXJmYWNlKCk7XG5cbiAgICAgICAgdGhpcy5iaW5kQ2F0ZWdvcmllcygpO1xuICAgICAgICBGb250TG9hZGVyLnByZWxvYWRGb250cyh1c2VyT3B0aW9ucywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5mb250TG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICghdGhpcy5fZGVzdHJveWVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyKCdpbml0Jyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVkcmF3KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXR0YWNoRXZlbnRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9pbml0RWxlbWVudChlbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX3NldEVsZW1lbnRDbGFzcyhlbGVtZW50KTtcbiAgICAgICAgZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcbiAgICAgICAgd2hpbGUgKGVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVDaGlsZChlbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgX3NldEVsZW1lbnRDbGFzcyhlbGVtZW50KSB7XG4gICAgICAgIGFkZENsYXNzKGVsZW1lbnQsIFwiay1jaGFydFwiKTtcbiAgICB9XG5cbiAgICBfaW5pdFRoZW1lKG9wdGlvbnMsIHRoZW1lT3B0aW9ucykge1xuICAgICAgICBjb25zdCBzZXJpZXNDb3BpZXMgPSBbXTtcbiAgICAgICAgY29uc3Qgc2VyaWVzID0gb3B0aW9ucy5zZXJpZXMgfHwgW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHNlcmllc0NvcGllcy5wdXNoKE9iamVjdC5hc3NpZ24oe30sIHNlcmllc1tpXSkpO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMuc2VyaWVzID0gc2VyaWVzQ29waWVzO1xuXG4gICAgICAgIHJlc29sdmVBeGlzQWxpYXNlcyhvcHRpb25zKTtcbiAgICAgICAgdGhpcy5hcHBseURlZmF1bHRzKG9wdGlvbnMsIHRoZW1lT3B0aW9ucyk7XG5cbiAgICAgICAgLy8gQ2xlYW4gdXAgZGVmYXVsdCBpZiBub3Qgb3ZlcnJpZGVuIGJ5IGRhdGEgYXR0cmlidXRlc1xuICAgICAgICBpZiAob3B0aW9ucy5zZXJpZXNDb2xvcnMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLnNlcmllc0NvbG9ycztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIHRoZW1lT3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuYXBwbHlTZXJpZXNDb2xvcnMoKTtcbiAgICB9XG5cbiAgICBnZXRTaXplKCkge1xuICAgICAgICBjb25zdCBjaGFydEFyZWEgPSB0aGlzLm9wdGlvbnMuY2hhcnRBcmVhIHx8IHt9O1xuICAgICAgICBjb25zdCB3aWR0aCA9IGNoYXJ0QXJlYS53aWR0aCA/IHBhcnNlSW50KGNoYXJ0QXJlYS53aWR0aCwgMTApIDogTWF0aC5mbG9vcih0aGlzLmVsZW1lbnQub2Zmc2V0V2lkdGgpO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBjaGFydEFyZWEuaGVpZ2h0ID8gcGFyc2VJbnQoY2hhcnRBcmVhLmhlaWdodCwgMTApIDogTWF0aC5mbG9vcih0aGlzLmVsZW1lbnQub2Zmc2V0SGVpZ2h0KTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZXNpemUoZm9yY2UpIHtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuZ2V0U2l6ZSgpO1xuICAgICAgICBjb25zdCBjdXJyZW50U2l6ZSA9IHRoaXMuX3NpemU7XG5cbiAgICAgICAgaWYgKGZvcmNlIHx8IChzaXplLndpZHRoID4gMCB8fCBzaXplLmhlaWdodCA+IDApICYmICghY3VycmVudFNpemUgfHwgc2l6ZS53aWR0aCAhPT0gY3VycmVudFNpemUud2lkdGggfHwgc2l6ZS5oZWlnaHQgIT09IGN1cnJlbnRTaXplLmhlaWdodCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3NpemUgPSBzaXplO1xuICAgICAgICAgICAgdGhpcy5fcmVzaXplKHNpemUsIGZvcmNlKTtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcihcInJlc2l6ZVwiLCBzaXplKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9yZXNpemUoKSB7XG4gICAgICAgIHRoaXMuX25vVHJhbnNpdGlvbnNSZWRyYXcoKTtcbiAgICB9XG5cbiAgICByZWRyYXcocGFuZU5hbWUpIHtcbiAgICAgICAgdGhpcy5hcHBseURlZmF1bHRzKHRoaXMub3B0aW9ucyk7XG4gICAgICAgIHRoaXMuYXBwbHlTZXJpZXNDb2xvcnMoKTtcblxuICAgICAgICBpZiAocGFuZU5hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHBsb3RBcmVhID0gdGhpcy5fbW9kZWwuX3Bsb3RBcmVhO1xuICAgICAgICAgICAgY29uc3QgcGFuZSA9IHBsb3RBcmVhLmZpbmRQYW5lKHBhbmVOYW1lKTtcbiAgICAgICAgICAgIHBsb3RBcmVhLnJlZHJhdyhwYW5lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3JlZHJhdygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0QXhpcyhuYW1lKSB7XG4gICAgICAgIHJldHVybiBmaW5kQXhpc0J5TmFtZShuYW1lLCB0aGlzLl9wbG90QXJlYS5heGVzKTtcbiAgICB9XG5cbiAgICBmaW5kQXhpc0J5TmFtZShuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEF4aXMobmFtZSk7XG4gICAgfVxuXG4gICAgZmluZFBhbmVCeU5hbWUobmFtZSkge1xuICAgICAgICBjb25zdCBwYW5lcyA9IHRoaXMuX3Bsb3RBcmVhLnBhbmVzO1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHBhbmVzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGlmIChwYW5lc1tpZHhdLm9wdGlvbnMubmFtZSA9PT0gbmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ2hhcnRQYW5lKHBhbmVzW2lkeF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZmluZFBhbmVCeUluZGV4KGlkeCkge1xuICAgICAgICBjb25zdCBwYW5lcyA9IHRoaXMuX3Bsb3RBcmVhLnBhbmVzO1xuICAgICAgICBpZiAocGFuZXNbaWR4XSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDaGFydFBhbmUocGFuZXNbaWR4XSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwbG90QXJlYSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDaGFydFBsb3RBcmVhKHRoaXMuX3Bsb3RBcmVhKTtcbiAgICB9XG5cbiAgICB0b2dnbGVIaWdobGlnaHQoc2hvdywgZmlsdGVyKSB7XG4gICAgICAgIGNvbnN0IHBsb3RBcmVhID0gdGhpcy5fcGxvdEFyZWE7XG4gICAgICAgIGNvbnN0IGZpcnN0U2VyaWVzID0gKHBsb3RBcmVhLnNyY1NlcmllcyB8fCBwbG90QXJlYS5zZXJpZXMgfHwgW10pWzBdO1xuICAgICAgICBsZXQgcG9pbnRzO1xuXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGZpbHRlcikpIHtcbiAgICAgICAgICAgIHBvaW50cyA9IHBsb3RBcmVhLmZpbHRlclBvaW50cyhmaWx0ZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHNlcmllc05hbWUsIGNhdGVnb3J5TmFtZTtcbiAgICAgICAgICAgIGlmIChpc09iamVjdChmaWx0ZXIpKSB7XG4gICAgICAgICAgICAgICAgc2VyaWVzTmFtZSA9IGZpbHRlci5zZXJpZXM7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnlOYW1lID0gZmlsdGVyLmNhdGVnb3J5O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXJpZXNOYW1lID0gY2F0ZWdvcnlOYW1lID0gZmlsdGVyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZmlyc3RTZXJpZXMudHlwZSA9PT0gRE9OVVQpIHtcbiAgICAgICAgICAgICAgICBwb2ludHMgPSBwb2ludEJ5Q2F0ZWdvcnlOYW1lKHBsb3RBcmVhLnBvaW50c0J5U2VyaWVzTmFtZShzZXJpZXNOYW1lKSwgY2F0ZWdvcnlOYW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZmlyc3RTZXJpZXMudHlwZSA9PT0gUElFIHx8IGZpcnN0U2VyaWVzLnR5cGUgPT09IEZVTk5FTCkge1xuICAgICAgICAgICAgICAgIHBvaW50cyA9IHBvaW50QnlDYXRlZ29yeU5hbWUoKHBsb3RBcmVhLmNoYXJ0c1swXSB8fCB7fSkucG9pbnRzLCBjYXRlZ29yeU5hbWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwb2ludHMgPSBwbG90QXJlYS5wb2ludHNCeVNlcmllc05hbWUoc2VyaWVzTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9pbnRzKSB7XG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVBvaW50c0hpZ2hsaWdodChzaG93LCBwb2ludHMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdG9nZ2xlUG9pbnRzSGlnaGxpZ2h0KHNob3csIHBvaW50cykge1xuICAgICAgICBjb25zdCBoaWdobGlnaHQgPSB0aGlzLl9oaWdobGlnaHQ7XG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHBvaW50cy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBoaWdobGlnaHQudG9nZ2xlUG9pbnRIaWdobGlnaHQocG9pbnRzW2lkeF0sIHNob3cpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2hvd1Rvb2x0aXAoZmlsdGVyKSB7XG4gICAgICAgIGNvbnN0IHNoYXJlZCA9IHRoaXMuX3NoYXJlZFRvb2x0aXAoKTtcbiAgICAgICAgY29uc3QgeyBfdG9vbHRpcDogdG9vbHRpcCwgX3Bsb3RBcmVhOiBwbG90QXJlYSB9ID0gdGhpcztcbiAgICAgICAgbGV0IHBvaW50LCBjYXRlZ29yeUluZGV4O1xuXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGZpbHRlcikpIHtcbiAgICAgICAgICAgIHBvaW50ID0gcGxvdEFyZWEuZmluZFBvaW50KGZpbHRlcik7XG4gICAgICAgICAgICBpZiAocG9pbnQgJiYgc2hhcmVkKSB7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnlJbmRleCA9IHBvaW50LmNhdGVnb3J5SXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc2hhcmVkICYmIGRlZmluZWQoZmlsdGVyKSkge1xuICAgICAgICAgICAgY2F0ZWdvcnlJbmRleCA9IHBsb3RBcmVhLmNhdGVnb3J5QXhpcy5jYXRlZ29yeUluZGV4KGZpbHRlcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2hhcmVkKSB7XG4gICAgICAgICAgICBpZiAoY2F0ZWdvcnlJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9pbnRzID0gdGhpcy5fcGxvdEFyZWEucG9pbnRzQnlDYXRlZ29yeUluZGV4KGNhdGVnb3J5SW5kZXgpO1xuICAgICAgICAgICAgICAgIHRvb2x0aXAuc2hvd0F0KHBvaW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocG9pbnQpIHtcbiAgICAgICAgICAgIHRvb2x0aXAuc2hvdyhwb2ludCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoaWRlVG9vbHRpcCgpIHtcbiAgICAgICAgdGhpcy5fdG9vbHRpcC5oaWRlKCk7XG4gICAgfVxuXG4gICAgX2luaXRTdXJmYWNlKCkge1xuICAgICAgICBjb25zdCBzdXJmYWNlID0gdGhpcy5zdXJmYWNlO1xuICAgICAgICBjb25zdCB3cmFwID0gdGhpcy5fc3VyZmFjZVdyYXAoKTtcblxuICAgICAgICBjb25zdCBjaGFydEFyZWEgPSB0aGlzLm9wdGlvbnMuY2hhcnRBcmVhO1xuICAgICAgICBpZiAoY2hhcnRBcmVhLndpZHRoKSB7XG4gICAgICAgICAgICBlbGVtZW50U2l6ZSh3cmFwLCB7IHdpZHRoOiBjaGFydEFyZWEud2lkdGggfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYXJ0QXJlYS5oZWlnaHQpIHtcbiAgICAgICAgICAgIGVsZW1lbnRTaXplKHdyYXAsIHsgaGVpZ2h0OiBjaGFydEFyZWEuaGVpZ2h0IH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFzdXJmYWNlIHx8IHN1cmZhY2Uub3B0aW9ucy50eXBlICE9PSB0aGlzLm9wdGlvbnMucmVuZGVyQXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2Rlc3Ryb3lTdXJmYWNlKCk7XG5cbiAgICAgICAgICAgIHRoaXMuc3VyZmFjZSA9IGRyYXcuU3VyZmFjZS5jcmVhdGUod3JhcCwge1xuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy5yZW5kZXJBc1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuc3VyZmFjZS5iaW5kKFwibW91c2VlbnRlclwiLCB0aGlzLl9zdXJmYWNlTW91c2VlbnRlckhhbmRsZXIpO1xuICAgICAgICAgICAgdGhpcy5zdXJmYWNlLmJpbmQoXCJtb3VzZWxlYXZlXCIsIHRoaXMuX3N1cmZhY2VNb3VzZWxlYXZlSGFuZGxlcik7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3VyZmFjZS5jbGVhcigpO1xuICAgICAgICAgICAgdGhpcy5zdXJmYWNlLnJlc2l6ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3N1cmZhY2VXcmFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50O1xuICAgIH1cblxuICAgIF9yZWRyYXcoKSB7XG4gICAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5fZ2V0TW9kZWwoKTtcbiAgICAgICAgdGhpcy5fc2l6ZSA9IHtcbiAgICAgICAgICAgIHdpZHRoOiBtb2RlbC5vcHRpb25zLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBtb2RlbC5vcHRpb25zLmhlaWdodFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuX2Rlc3Ryb3lWaWV3KCk7XG5cbiAgICAgICAgdGhpcy5fbW9kZWwgPSBtb2RlbDtcbiAgICAgICAgdGhpcy5fcGxvdEFyZWEgPSBtb2RlbC5fcGxvdEFyZWE7XG5cbiAgICAgICAgbW9kZWwucmVuZGVyVmlzdWFsKCk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50cmFuc2l0aW9ucyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIG1vZGVsLnRyYXZlcnNlKGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5hbmltYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hbmltYXRpb24uc2V0dXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2luaXRTdXJmYWNlKCk7XG4gICAgICAgIHRoaXMuc3VyZmFjZS5kcmF3KG1vZGVsLnZpc3VhbCk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50cmFuc2l0aW9ucyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIG1vZGVsLnRyYXZlcnNlKGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5hbmltYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hbmltYXRpb24ucGxheSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdG9vbHRpcCA9IHRoaXMuX2NyZWF0ZVRvb2x0aXAoKTtcbiAgICAgICAgdGhpcy5faGlnaGxpZ2h0ID0gbmV3IEhpZ2hsaWdodCgpO1xuICAgICAgICB0aGlzLl9zZXR1cFNlbGVjdGlvbigpO1xuICAgICAgICB0aGlzLl9jcmVhdGVQYW5uYWJsZSgpO1xuICAgICAgICB0aGlzLl9jcmVhdGVab29tU2VsZWN0aW9uKCk7XG4gICAgICAgIHRoaXMuX2NyZWF0ZU1vdXNld2hlZWxab29tKCk7XG5cbiAgICAgICAgdGhpcy50cmlnZ2VyKFJFTkRFUik7XG4gICAgICAgIHRyaWdnZXJQYW5lUmVuZGVyKHRoaXMuX3Bsb3RBcmVhLnBhbmVzKTtcblxuICAgICAgICBpZiAoIXRoaXMuX25hdlN0YXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9jYW5jZWxEb21FdmVudHMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4cG9ydFZpc3VhbChleHBvcnRPcHRpb25zKSB7XG4gICAgICAgIGxldCB2aXN1YWw7XG4gICAgICAgIGlmIChleHBvcnRPcHRpb25zICYmIChleHBvcnRPcHRpb25zLndpZHRoIHx8IGV4cG9ydE9wdGlvbnMuaGVpZ2h0IHx8IGV4cG9ydE9wdGlvbnMub3B0aW9ucykpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRPcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIGV4cG9ydE9wdGlvbnMub3B0aW9ucywge1xuICAgICAgICAgICAgICAgIGNoYXJ0QXJlYToge1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogZXhwb3J0T3B0aW9ucy53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBleHBvcnRPcHRpb25zLmhlaWdodFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjbGVhck1pc3NpbmdWYWx1ZXModGhpcy5fb3JpZ2luYWxPcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIHRoaXMuX29yaWdpbmFsT3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLl9pbml0VGhlbWUodGhpcy5vcHRpb25zLCB0aGlzLl90aGVtZSk7XG4gICAgICAgICAgICB0aGlzLmJpbmRDYXRlZ29yaWVzKCk7XG5cbiAgICAgICAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5fZ2V0TW9kZWwoKTtcblxuICAgICAgICAgICAgbW9kZWwucmVuZGVyVmlzdWFsKCk7XG4gICAgICAgICAgICB0cmlnZ2VyUGFuZVJlbmRlcihtb2RlbC5fcGxvdEFyZWEucGFuZXMpO1xuXG4gICAgICAgICAgICB2aXN1YWwgPSBtb2RlbC52aXN1YWw7XG5cbiAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IGN1cnJlbnRPcHRpb25zO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmlzdWFsID0gdGhpcy5zdXJmYWNlLmV4cG9ydFZpc3VhbCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZpc3VhbDtcbiAgICB9XG5cbiAgICBfc2hhcmVkVG9vbHRpcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Bsb3RBcmVhIGluc3RhbmNlb2YgQ2F0ZWdvcmljYWxQbG90QXJlYSAmJiB0aGlzLm9wdGlvbnMudG9vbHRpcCAmJiB0aGlzLm9wdGlvbnMudG9vbHRpcC5zaGFyZWQ7XG4gICAgfVxuXG4gICAgX2NyZWF0ZVBhbm5hYmxlKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBpZiAob3B0aW9ucy5wYW5uYWJsZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMuX3Bhbm5hYmxlID0gbmV3IFBhbm5hYmxlKHRoaXMuX3Bsb3RBcmVhLCBvcHRpb25zLnBhbm5hYmxlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9jcmVhdGVab29tU2VsZWN0aW9uKCkge1xuICAgICAgICBjb25zdCB6b29tYWJsZSA9IHRoaXMub3B0aW9ucy56b29tYWJsZTtcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gKHpvb21hYmxlIHx8IHt9KS5zZWxlY3Rpb247XG4gICAgICAgIGlmICh6b29tYWJsZSAhPT0gZmFsc2UgJiYgc2VsZWN0aW9uICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5fem9vbVNlbGVjdGlvbiA9IG5ldyBab29tU2VsZWN0aW9uKHRoaXMsIHNlbGVjdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY3JlYXRlTW91c2V3aGVlbFpvb20oKSB7XG4gICAgICAgIGNvbnN0IHpvb21hYmxlID0gdGhpcy5vcHRpb25zLnpvb21hYmxlO1xuICAgICAgICBjb25zdCBtb3VzZXdoZWVsID0gKHpvb21hYmxlIHx8IHt9KS5tb3VzZXdoZWVsO1xuICAgICAgICBpZiAoem9vbWFibGUgIT09IGZhbHNlICYmIG1vdXNld2hlZWwgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aGlzLl9tb3VzZXdoZWVsWm9vbSA9IG5ldyBNb3VzZXdoZWVsWm9vbSh0aGlzLCBtb3VzZXdoZWVsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF90b2dnbGVEcmFnWm9vbUV2ZW50cygpIHtcbiAgICAgICAgY29uc3QgcGFubmFibGUgPSB0aGlzLm9wdGlvbnMucGFubmFibGU7XG4gICAgICAgIGNvbnN0IHpvb21hYmxlID0gdGhpcy5vcHRpb25zLnpvb21hYmxlO1xuICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSAoem9vbWFibGUgfHwge30pLnNlbGVjdGlvbjtcbiAgICAgICAgY29uc3QgbW91c2V3aGVlbCA9ICh6b29tYWJsZSB8fCB7fSkubW91c2V3aGVlbDtcbiAgICAgICAgY29uc3QgYWxsb3dEcmFnID0gIXBhbm5hYmxlICYmICh6b29tYWJsZSA9PT0gZmFsc2UgfHwgc2VsZWN0aW9uID09PSBmYWxzZSkgJiYgIXRoaXMucmVxdWlyZXNIYW5kbGVycyhbIERSQUdfU1RBUlQsIERSQUcsIERSQUdfRU5EIF0pO1xuICAgICAgICBjb25zdCBhbGxvd1pvb20gPSAoem9vbWFibGUgPT09IGZhbHNlIHx8IG1vdXNld2hlZWwgPT09IGZhbHNlKSAmJiAhdGhpcy5yZXF1aXJlc0hhbmRsZXJzKFsgWk9PTV9TVEFSVCwgWk9PTSwgWk9PTV9FTkQgXSk7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XG5cbiAgICAgICAgaWYgKHRoaXMuX2RyYWdab29tRW5hYmxlZCAmJiBhbGxvd0RyYWcgJiYgYWxsb3dab29tKSB7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLnRvdWNoQWN0aW9uID0gdGhpcy5fdG91Y2hBY3Rpb24gfHwgJyc7XG4gICAgICAgICAgICB0aGlzLl9kcmFnWm9vbUVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5fZHJhZ1pvb21FbmFibGVkICYmICEoYWxsb3dEcmFnICYmIGFsbG93Wm9vbSkpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUudG91Y2hBY3Rpb24gPSBcIm5vbmVcIjtcblxuICAgICAgICAgICAgdGhpcy5fZHJhZ1pvb21FbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RvZ2dsZURvbUV2ZW50cyghYWxsb3dEcmFnLCAhYWxsb3dab29tKTtcbiAgICB9XG5cbiAgICBfdG9nZ2xlRG9tRXZlbnRzKGRyYWcsIHpvb20pIHtcbiAgICAgICAgY29uc3QgZG9tRXZlbnRzID0gdGhpcy5kb21FdmVudHM7XG4gICAgICAgIGlmICghZG9tRXZlbnRzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZG9tRXZlbnRzLnRvZ2dsZURyYWcpIHtcbiAgICAgICAgICAgIGRvbUV2ZW50cy50b2dnbGVEcmFnKGRyYWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRvbUV2ZW50cy50b2dnbGVab29tKSB7XG4gICAgICAgICAgICBkb21FdmVudHMudG9nZ2xlWm9vbSh6b29tKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9jcmVhdGVUb29sdGlwKCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnM6IHsgdG9vbHRpcDogdG9vbHRpcE9wdGlvbnMgfSB9ID0gdGhpcztcbiAgICAgICAgbGV0IHRvb2x0aXA7XG5cbiAgICAgICAgaWYgKHRoaXMuX3NoYXJlZFRvb2x0aXAoKSkge1xuICAgICAgICAgICAgdG9vbHRpcCA9IHRoaXMuX2NyZWF0ZVNoYXJlZFRvb2x0aXAodG9vbHRpcE9wdGlvbnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdG9vbHRpcCA9IG5ldyBUb29sdGlwKHRoaXMuY2hhcnRTZXJ2aWNlLCB0b29sdGlwT3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdG9vbHRpcDtcbiAgICB9XG5cbiAgICBfY3JlYXRlU2hhcmVkVG9vbHRpcChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2hhcmVkVG9vbHRpcCh0aGlzLl9wbG90QXJlYSwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgYXBwbHlEZWZhdWx0cyhvcHRpb25zLCB0aGVtZU9wdGlvbnMpIHtcbiAgICAgICAgYXBwbHlBeGlzRGVmYXVsdHMob3B0aW9ucywgdGhlbWVPcHRpb25zKTtcbiAgICAgICAgYXBwbHlTZXJpZXNEZWZhdWx0cyhvcHRpb25zLCB0aGVtZU9wdGlvbnMpO1xuICAgIH1cblxuICAgIGFwcGx5U2VyaWVzQ29sb3JzKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBzZXJpZXMgPSBvcHRpb25zLnNlcmllcztcbiAgICAgICAgY29uc3QgY29sb3JzID0gb3B0aW9ucy5zZXJpZXNDb2xvcnMgfHwgW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZXJpZXMgPSBzZXJpZXNbaV07XG4gICAgICAgICAgICBjb25zdCBzZXJpZXNDb2xvciA9IGNvbG9yc1tpICUgY29sb3JzLmxlbmd0aF07XG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0cyA9IGN1cnJlbnRTZXJpZXMuX2RlZmF1bHRzO1xuXG4gICAgICAgICAgICBjdXJyZW50U2VyaWVzLmNvbG9yID0gY3VycmVudFNlcmllcy5jb2xvciB8fCBzZXJpZXNDb2xvcjtcbiAgICAgICAgICAgIGlmIChkZWZhdWx0cykge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRzLmNvbG9yID0gZGVmYXVsdHMuY29sb3IgfHwgc2VyaWVzQ29sb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZ2V0TW9kZWwoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHBsb3RBcmVhID0gdGhpcy5fY3JlYXRlUGxvdEFyZWEoKTtcbiAgICAgICAgY29uc3QgbW9kZWwgPSBuZXcgUm9vdEVsZW1lbnQodGhpcy5fbW9kZWxPcHRpb25zKCkpO1xuICAgICAgICBtb2RlbC5jaGFydCA9IHRoaXM7XG4gICAgICAgIG1vZGVsLl9wbG90QXJlYSA9IHBsb3RBcmVhO1xuXG4gICAgICAgIFRpdGxlLmJ1aWxkVGl0bGUob3B0aW9ucy50aXRsZSwgbW9kZWwpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmxlZ2VuZCAmJiBvcHRpb25zLmxlZ2VuZC52aXNpYmxlKSB7XG4gICAgICAgICAgICBtb2RlbC5hcHBlbmQobmV3IExlZ2VuZChwbG90QXJlYS5vcHRpb25zLmxlZ2VuZCwgdGhpcy5jaGFydFNlcnZpY2UpKTtcbiAgICAgICAgfVxuICAgICAgICBtb2RlbC5hcHBlbmQocGxvdEFyZWEpO1xuICAgICAgICBtb2RlbC5yZWZsb3coKTtcblxuICAgICAgICByZXR1cm4gbW9kZWw7XG4gICAgfVxuXG4gICAgX21vZGVsT3B0aW9ucygpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuZ2V0U2l6ZSgpO1xuXG4gICAgICAgIHJldHVybiBkZWVwRXh0ZW5kKHtcbiAgICAgICAgICAgIHRyYW5zaXRpb25zOiBvcHRpb25zLnRyYW5zaXRpb25zLFxuICAgICAgICAgICAgd2lkdGg6IHNpemUud2lkdGggfHwgREVGQVVMVF9XSURUSCxcbiAgICAgICAgICAgIGhlaWdodDogc2l6ZS5oZWlnaHQgfHwgREVGQVVMVF9IRUlHSFRcbiAgICAgICAgfSwgb3B0aW9ucy5jaGFydEFyZWEpO1xuICAgIH1cblxuICAgIF9jcmVhdGVQbG90QXJlYShza2lwU2VyaWVzKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgY29uc3QgcGxvdEFyZWEgPSBQbG90QXJlYUZhY3RvcnkuY3VycmVudC5jcmVhdGUoc2tpcFNlcmllcyA/IFtdIDogb3B0aW9ucy5zZXJpZXMsIG9wdGlvbnMsIHRoaXMuY2hhcnRTZXJ2aWNlKTtcblxuICAgICAgICByZXR1cm4gcGxvdEFyZWE7XG4gICAgfVxuXG4gICAgX3NldHVwU2VsZWN0aW9uKCkge1xuICAgICAgICBjb25zdCB7IF9wbG90QXJlYTogeyBheGVzIH0gfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbnMgPSB0aGlzLl9zZWxlY3Rpb25zID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBheGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBheGlzID0gYXhlc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSBheGlzLm9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoYXhpcyBpbnN0YW5jZW9mIENhdGVnb3J5QXhpcyAmJiBvcHRpb25zLnNlbGVjdCAmJiAhb3B0aW9ucy52ZXJ0aWNhbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gYXhpcy5yYW5nZSgpO1xuXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gbmV3IFNlbGVjdGlvbih0aGlzLCBheGlzLFxuICAgICAgICAgICAgICAgICAgICBkZWVwRXh0ZW5kKHsgbWluOiByYW5nZS5taW4sIG1heDogcmFuZ2UubWF4IH0sIG9wdGlvbnMuc2VsZWN0KVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25zLnB1c2goc2VsZWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9zZWxlY3RTdGFydChlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyaWdnZXIoU0VMRUNUX1NUQVJULCBlKTtcbiAgICB9XG5cbiAgICBfc2VsZWN0KGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJpZ2dlcihTRUxFQ1QsIGUpO1xuICAgIH1cblxuICAgIF9zZWxlY3RFbmQoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmlnZ2VyKFNFTEVDVF9FTkQsIGUpO1xuICAgIH1cblxuICAgIF9pbml0SGFuZGxlcnMoKSB7XG4gICAgICAgIHRoaXMuX2NsaWNrSGFuZGxlciA9IHRoaXMuX2NsaWNrLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX21vdXNld2hlZWxIYW5kbGVyID0gdGhpcy5fbW91c2V3aGVlbC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9tb3VzZWxlYXZlSGFuZGxlciA9IHRoaXMuX21vdXNlbGVhdmUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fc3VyZmFjZU1vdXNlZW50ZXJIYW5kbGVyID0gdGhpcy5fbW91c2VvdmVyLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX3N1cmZhY2VNb3VzZWxlYXZlSGFuZGxlciA9IHRoaXMuX21vdXNlb3V0LmJpbmQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5fbW91c2Vtb3ZlID0gdGhyb3R0bGUoXG4gICAgICAgICAgICB0aGlzLl9tb3VzZW1vdmUuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIE1PVVNFTU9WRV9ERUxBWVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFkZE9ic2VydmVyKG9ic2VydmVyKSB7XG4gICAgICAgIGlmIChvYnNlcnZlcikge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlcnMucHVzaChvYnNlcnZlcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW1vdmVPYnNlcnZlcihvYnNlcnZlcikge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMub2JzZXJ2ZXJzLmluZGV4T2Yob2JzZXJ2ZXIpO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlcXVpcmVzSGFuZGxlcnMoZXZlbnROYW1lcykge1xuICAgICAgICBjb25zdCBvYnNlcnZlcnMgPSB0aGlzLm9ic2VydmVycztcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgb2JzZXJ2ZXJzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGlmIChvYnNlcnZlcnNbaWR4XS5yZXF1aXJlc0hhbmRsZXJzKGV2ZW50TmFtZXMpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0cmlnZ2VyKG5hbWUsIGFyZ3MgPSB7fSkge1xuICAgICAgICBpZiAobmFtZSA9PT0gU0hPV19UT09MVElQKSB7XG4gICAgICAgICAgICBhcmdzLmFuY2hvci5wb2ludCA9IHRoaXMuX3RvRG9jdW1lbnRDb29yZGluYXRlcyhhcmdzLmFuY2hvci5wb2ludCk7XG4gICAgICAgIH1cbiAgICAgICAgYXJncy5zZW5kZXIgPSB0aGlzO1xuXG4gICAgICAgIGNvbnN0IG9ic2VydmVycyA9IHRoaXMub2JzZXJ2ZXJzO1xuICAgICAgICBsZXQgaXNEZWZhdWx0UHJldmVudGVkID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IG9ic2VydmVycy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBpZiAob2JzZXJ2ZXJzW2lkeF0udHJpZ2dlcihuYW1lLCBhcmdzKSkge1xuICAgICAgICAgICAgICAgIGlzRGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaXNEZWZhdWx0UHJldmVudGVkO1xuICAgIH1cblxuICAgIF9hdHRhY2hFdmVudHMoKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XG5cbiAgICAgICAgdGhpcy5fdG91Y2hBY3Rpb24gPSBlbGVtZW50LnN0eWxlLnRvdWNoQWN0aW9uO1xuXG4gICAgICAgIGJpbmRFdmVudHMoZWxlbWVudCwge1xuICAgICAgICAgICAgWyBDT05URVhUTUVOVSBdOiB0aGlzLl9jbGlja0hhbmRsZXIsXG4gICAgICAgICAgICBbIE1PVVNFV0hFRUwgXTogdGhpcy5fbW91c2V3aGVlbEhhbmRsZXIsXG4gICAgICAgICAgICBbIE1PVVNFTEVBVkUgXTogdGhpcy5fbW91c2VsZWF2ZUhhbmRsZXJcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3Nob3VsZEF0dGFjaE1vdXNlTW92ZSgpKSB7XG4gICAgICAgICAgICBiaW5kRXZlbnRzKGVsZW1lbnQsIHsgWyBNT1VTRU1PVkUgXTogdGhpcy5fbW91c2Vtb3ZlIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kb21FdmVudHMgPSBEb21FdmVudHNCdWlsZGVyLmNyZWF0ZSh0aGlzLmVsZW1lbnQsIHtcbiAgICAgICAgICAgIHN0YXJ0OiB0aGlzLl9zdGFydC5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgbW92ZTogdGhpcy5fbW92ZS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgZW5kOiB0aGlzLl9lbmQuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIHRhcDogdGhpcy5fdGFwLmJpbmQodGhpcyksXG4gICAgICAgICAgICBnZXN0dXJlc3RhcnQ6IHRoaXMuX2dlc3R1cmVzdGFydC5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgZ2VzdHVyZWNoYW5nZTogdGhpcy5fZ2VzdHVyZWNoYW5nZS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgZ2VzdHVyZWVuZDogdGhpcy5fZ2VzdHVyZWVuZC5iaW5kKHRoaXMpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX3RvZ2dsZURyYWdab29tRXZlbnRzKCk7XG4gICAgfVxuXG4gICAgX21vdXNlbGVhdmUoZSkge1xuICAgICAgICBpZiAodGhpcy5faG92ZXJlZFBvaW50KSB7XG4gICAgICAgICAgICB0aGlzLl9ob3ZlcmVkUG9pbnQub3V0KHRoaXMsIGUpO1xuICAgICAgICAgICAgdGhpcy5faG92ZXJlZFBvaW50ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9wbG90QXJlYS5ob3ZlcmVkKSB7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIoUExPVF9BUkVBX0xFQVZFKTtcbiAgICAgICAgICAgIHRoaXMuX3Bsb3RBcmVhLmhvdmVyZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9jYW5jZWxEb21FdmVudHMoKSB7XG4gICAgICAgIGlmICh0aGlzLmRvbUV2ZW50cyAmJiB0aGlzLmRvbUV2ZW50cy5jYW5jZWwpIHtcbiAgICAgICAgICAgIHRoaXMuZG9tRXZlbnRzLmNhbmNlbCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2dlc3R1cmVzdGFydChlKSB7XG4gICAgICAgIGlmICh0aGlzLl9tb3VzZXdoZWVsWm9vbSAmJiAhdGhpcy5fc3RvcENoYXJ0SGFuZGxlcnMoZSkpIHtcbiAgICAgICAgICAgIHRoaXMuX2dlc3R1cmVEaXN0YW5jZSA9IGUuZGlzdGFuY2U7XG4gICAgICAgICAgICB0aGlzLl91bnNldEFjdGl2ZVBvaW50KCk7XG4gICAgICAgICAgICB0aGlzLnN1cmZhY2Uuc3VzcGVuZFRyYWNraW5nKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZ2VzdHVyZWVuZChlKSB7XG4gICAgICAgIGlmICh0aGlzLl96b29taW5nICYmICF0aGlzLl9zdG9wQ2hhcnRIYW5kbGVycyhlKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3VyZmFjZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3VyZmFjZS5yZXN1bWVUcmFja2luZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fem9vbWluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKFpPT01fRU5ELCB7fSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZ2VzdHVyZWNoYW5nZShlKSB7XG4gICAgICAgIGNvbnN0IG1vdXNld2hlZWxab29tID0gdGhpcy5fbW91c2V3aGVlbFpvb207XG5cbiAgICAgICAgaWYgKG1vdXNld2hlZWxab29tICYmICF0aGlzLl9zdG9wQ2hhcnRIYW5kbGVycyhlKSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgY29uc3QgcHJldmlvdXNHZXN0dXJlRGlzdGFuY2UgPSB0aGlzLl9nZXN0dXJlRGlzdGFuY2U7XG4gICAgICAgICAgICBsZXQgc2NhbGVEZWx0YSA9IC1lLmRpc3RhbmNlIC8gcHJldmlvdXNHZXN0dXJlRGlzdGFuY2UgKyAxO1xuXG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoc2NhbGVEZWx0YSkgPj0gMC4xKSB7XG4gICAgICAgICAgICAgICAgc2NhbGVEZWx0YSA9IE1hdGgucm91bmQoc2NhbGVEZWx0YSAqIDEwKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2dlc3R1cmVEaXN0YW5jZSA9IGUuZGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgY29uc3QgYXJncyA9IHsgZGVsdGE6IHNjYWxlRGVsdGEsIGF4aXNSYW5nZXM6IGF4aXNSYW5nZXModGhpcy5fcGxvdEFyZWEuYXhlcyksIG9yaWdpbmFsRXZlbnQ6IGUgfTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fem9vbWluZyB8fCAhdGhpcy50cmlnZ2VyKFpPT01fU1RBUlQsIGFyZ3MpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl96b29taW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl96b29taW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhbmdlcyA9IGFyZ3MuYXhpc1JhbmdlcyA9IG1vdXNld2hlZWxab29tLnVwZGF0ZVJhbmdlcyhzY2FsZURlbHRhKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlcyAmJiAhdGhpcy50cmlnZ2VyKFpPT00sIGFyZ3MpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3VzZXdoZWVsWm9vbS56b29tKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbW91c2VvdXQoZSkge1xuICAgICAgICBpZiAoZS5lbGVtZW50KSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5fZHJhd2luZ0NoYXJ0RWxlbWVudChlLmVsZW1lbnQsIGUpO1xuXG4gICAgICAgICAgICBpZiAoZWxlbWVudCAmJiBlbGVtZW50LmxlYXZlKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5sZWF2ZSh0aGlzLCBlLm9yaWdpbmFsRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3N0YXJ0KGUpIHtcbiAgICAgICAgY29uc3QgY29vcmRzID0gdGhpcy5fZXZlbnRDb29yZGluYXRlcyhlKTtcblxuICAgICAgICBpZiAodGhpcy5fc3RvcENoYXJ0SGFuZGxlcnMoZSkgfHwgIXRoaXMuX3Bsb3RBcmVhLmJhY2tncm91bmRDb250YWluc1BvaW50KGNvb3JkcykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgaWYgKHRoaXMucmVxdWlyZXNIYW5kbGVycyhbIERSQUdfU1RBUlQsIERSQUcsIERSQUdfRU5EIF0pKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGFydE5hdmlnYXRpb24oZSwgY29vcmRzLCBEUkFHX1NUQVJUKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9wYW5uYWJsZSAmJiB0aGlzLl9wYW5uYWJsZS5zdGFydChlKSkge1xuICAgICAgICAgICAgdGhpcy5zdXJmYWNlLnN1c3BlbmRUcmFja2luZygpO1xuICAgICAgICAgICAgdGhpcy5fdW5zZXRBY3RpdmVQb2ludCgpO1xuICAgICAgICAgICAgdGhpcy5fc3VwcHJlc3NIb3ZlciA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmNoYXJ0U2VydmljZS5wYW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl96b29tU2VsZWN0aW9uKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fem9vbVNlbGVjdGlvbi5zdGFydChlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlcihaT09NX1NUQVJULCB7IGF4aXNSYW5nZXM6IGF4aXNSYW5nZXModGhpcy5fcGxvdEFyZWEuYXhlcyksIG9yaWdpbmFsRXZlbnQ6IGUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbW92ZShlKSB7XG4gICAgICAgIGxldCB7IF9uYXZTdGF0ZTogc3RhdGUsIF9wYW5uYWJsZTogcGFubmFibGUgfSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHRoaXMuX3N0b3BDaGFydEhhbmRsZXJzKGUpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFubmFibGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlcyA9IHBhbm5hYmxlLm1vdmUoZSk7XG5cbiAgICAgICAgICAgIGlmIChyYW5nZXMgJiYgIXRoaXMudHJpZ2dlcihEUkFHLCB7IGF4aXNSYW5nZXM6IHJhbmdlcywgb3JpZ2luYWxFdmVudDogZSB9KSkge1xuICAgICAgICAgICAgICAgIHBhbm5hYmxlLnBhbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlKSB7XG4gICAgICAgICAgICBjb25zdCByYW5nZXMgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGF4ZXMgPSBzdGF0ZS5heGVzO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50QXhpcyA9IGF4ZXNbaV07XG4gICAgICAgICAgICAgICAgY29uc3QgYXhpc05hbWUgPSBjdXJyZW50QXhpcy5vcHRpb25zLm5hbWU7XG4gICAgICAgICAgICAgICAgaWYgKGF4aXNOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF4aXMgPSBjdXJyZW50QXhpcy5vcHRpb25zLnZlcnRpY2FsID8gZS55IDogZS54O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWx0YSA9IGF4aXMuc3RhcnRMb2NhdGlvbiAtIGF4aXMubG9jYXRpb247XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlbHRhICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZXNbY3VycmVudEF4aXMub3B0aW9ucy5uYW1lXSA9IGN1cnJlbnRBeGlzLnRyYW5zbGF0ZVJhbmdlKGRlbHRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3RhdGUuYXhpc1JhbmdlcyA9IHJhbmdlcztcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcihEUkFHLCB7XG4gICAgICAgICAgICAgICAgYXhpc1JhbmdlczogcmFuZ2VzLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3pvb21TZWxlY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX3pvb21TZWxlY3Rpb24ubW92ZShlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9lbmQoZSkge1xuICAgICAgICBpZiAodGhpcy5fc3RvcENoYXJ0SGFuZGxlcnMoZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhbm5hYmxlID0gdGhpcy5fcGFubmFibGU7XG4gICAgICAgIGlmIChwYW5uYWJsZSAmJiBwYW5uYWJsZS5lbmQoZSkpIHtcbiAgICAgICAgICAgIHRoaXMuc3VyZmFjZS5yZXN1bWVUcmFja2luZygpO1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKERSQUdfRU5ELCB7XG4gICAgICAgICAgICAgICAgYXhpc1JhbmdlczogYXhpc1Jhbmdlcyh0aGlzLl9wbG90QXJlYS5heGVzKSxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuX3N1cHByZXNzSG92ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuY2hhcnRTZXJ2aWNlLnBhbm5pbmcgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2VuZE5hdmlnYXRpb24oZSwgRFJBR19FTkQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3pvb21TZWxlY3Rpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlcyA9IHRoaXMuX3pvb21TZWxlY3Rpb24uZW5kKGUpO1xuICAgICAgICAgICAgaWYgKHJhbmdlcyAmJiAhdGhpcy50cmlnZ2VyKFpPT00sIHsgYXhpc1JhbmdlczogcmFuZ2VzLCBvcmlnaW5hbEV2ZW50OiBlIH0pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fem9vbVNlbGVjdGlvbi56b29tKCk7XG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyKFpPT01fRU5ELCB7IGF4aXNSYW5nZXM6IHJhbmdlcywgb3JpZ2luYWxFdmVudDogZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9zdG9wQ2hhcnRIYW5kbGVycyhlKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbnMgPSB0aGlzLl9zZWxlY3Rpb25zIHx8IFtdO1xuICAgICAgICBpZiAoIXNlbGVjdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb29yZHMgPSB0aGlzLl9ldmVudENvb3JkaW5hdGVzKGUpO1xuICAgICAgICBjb25zdCBwYW5lID0gdGhpcy5fcGxvdEFyZWEucGFuZUJ5UG9pbnQoY29vcmRzKTtcbiAgICAgICAgaWYgKHBhbmUpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHNlbGVjdGlvbnMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgICAgIGlmIChzZWxlY3Rpb25zW2lkeF0ub25QYW5lKHBhbmUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9tb3VzZXdoZWVsKGUpIHtcbiAgICAgICAgY29uc3QgZGVsdGEgPSBtb3VzZXdoZWVsRGVsdGEoZSk7XG4gICAgICAgIGNvbnN0IG1vdXNld2hlZWxab29tID0gdGhpcy5fbW91c2V3aGVlbFpvb207XG4gICAgICAgIGNvbnN0IGNvb3JkcyA9IHRoaXMuX2V2ZW50Q29vcmRpbmF0ZXMoZSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3N0b3BDaGFydEhhbmRsZXJzKGUpIHx8ICF0aGlzLl9wbG90QXJlYS5iYWNrZ3JvdW5kQ29udGFpbnNQb2ludChjb29yZHMpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobW91c2V3aGVlbFpvb20pIHtcbiAgICAgICAgICAgIGNvbnN0IGFyZ3MgPSB7IGRlbHRhOiBkZWx0YSwgYXhpc1JhbmdlczogYXhpc1Jhbmdlcyh0aGlzLl9wbG90QXJlYS5heGVzKSwgb3JpZ2luYWxFdmVudDogZSB9O1xuICAgICAgICAgICAgaWYgKHRoaXMuX3pvb21pbmcgfHwgIXRoaXMudHJpZ2dlcihaT09NX1NUQVJULCBhcmdzKSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fem9vbWluZykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl91bnNldEFjdGl2ZVBvaW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3VyZmFjZS5zdXNwZW5kVHJhY2tpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fem9vbWluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX213VGltZW91dCkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fbXdUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBhcmdzLmF4aXNSYW5nZXMgPSBtb3VzZXdoZWVsWm9vbS51cGRhdGVSYW5nZXMoZGVsdGEpO1xuICAgICAgICAgICAgICAgIGlmIChhcmdzLmF4aXNSYW5nZXMgJiYgIXRoaXMudHJpZ2dlcihaT09NLCBhcmdzKSkge1xuICAgICAgICAgICAgICAgICAgICBtb3VzZXdoZWVsWm9vbS56b29tKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fbXdUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlcihaT09NX0VORCwgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3pvb21pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3VyZmFjZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdXJmYWNlLnJlc3VtZVRyYWNraW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBNT1VTRVdIRUVMX0RFTEFZKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBzdGF0ZSA9IHRoaXMuX25hdlN0YXRlO1xuICAgICAgICAgICAgaWYgKCFzdGF0ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZlbnRlZCA9IHRoaXMuX3N0YXJ0TmF2aWdhdGlvbihlLCBjb29yZHMsIFpPT01fU1RBUlQpO1xuICAgICAgICAgICAgICAgIGlmICghcHJldmVudGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0gdGhpcy5fbmF2U3RhdGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b3RhbERlbHRhID0gc3RhdGUudG90YWxEZWx0YSB8fCBkZWx0YTtcbiAgICAgICAgICAgICAgICBzdGF0ZS50b3RhbERlbHRhID0gdG90YWxEZWx0YSArIGRlbHRhO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgYXhlcyA9IHRoaXMuX25hdlN0YXRlLmF4ZXM7XG4gICAgICAgICAgICAgICAgY29uc3QgcmFuZ2VzID0ge307XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudEF4aXMgPSBheGVzW2ldO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBheGlzTmFtZSA9IGN1cnJlbnRBeGlzLm9wdGlvbnMubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF4aXNOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZXNbYXhpc05hbWVdID0gY3VycmVudEF4aXMuc2NhbGVSYW5nZSgtdG90YWxEZWx0YSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIoWk9PTSwge1xuICAgICAgICAgICAgICAgICAgICBkZWx0YTogZGVsdGEsXG4gICAgICAgICAgICAgICAgICAgIGF4aXNSYW5nZXM6IHJhbmdlcyxcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX213VGltZW91dCkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fbXdUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9td1RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW5kTmF2aWdhdGlvbihlLCBaT09NX0VORCk7XG4gICAgICAgICAgICAgICAgfSwgTU9VU0VXSEVFTF9ERUxBWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc3RhcnROYXZpZ2F0aW9uKGUsIGNvb3JkcywgY2hhcnRFdmVudCkge1xuICAgICAgICBjb25zdCBwbG90QXJlYSA9IHRoaXMuX21vZGVsLl9wbG90QXJlYTtcbiAgICAgICAgY29uc3QgcGFuZSA9IHBsb3RBcmVhLmZpbmRQb2ludFBhbmUoY29vcmRzKTtcbiAgICAgICAgY29uc3QgYXhlcyA9IHBsb3RBcmVhLmF4ZXMuc2xpY2UoMCk7XG5cbiAgICAgICAgaWYgKCFwYW5lKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByYW5nZXMgPSBheGlzUmFuZ2VzKGF4ZXMpO1xuXG4gICAgICAgIGNvbnN0IHByZXZlbnRlZCA9IHRoaXMudHJpZ2dlcihjaGFydEV2ZW50LCB7XG4gICAgICAgICAgICBheGlzUmFuZ2VzOiByYW5nZXMsXG4gICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChwcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbERvbUV2ZW50cygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fc3VwcHJlc3NIb3ZlciA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl91bnNldEFjdGl2ZVBvaW50KCk7XG4gICAgICAgICAgICB0aGlzLl9uYXZTdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICBheGlzUmFuZ2VzOiByYW5nZXMsXG4gICAgICAgICAgICAgICAgcGFuZTogcGFuZSxcbiAgICAgICAgICAgICAgICBheGVzOiBheGVzXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2VuZE5hdmlnYXRpb24oZSwgY2hhcnRFdmVudCkge1xuICAgICAgICBpZiAodGhpcy5fbmF2U3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcihjaGFydEV2ZW50LCB7XG4gICAgICAgICAgICAgICAgYXhpc1JhbmdlczogdGhpcy5fbmF2U3RhdGUuYXhpc1JhbmdlcyxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuX3N1cHByZXNzSG92ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX25hdlN0YXRlID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9nZXRDaGFydEVsZW1lbnQoZSwgbWF0Y2gpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuc3VyZmFjZS5ldmVudFRhcmdldChlKTtcbiAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcmF3aW5nQ2hhcnRFbGVtZW50KGVsZW1lbnQsIGUsIG1hdGNoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9kcmF3aW5nQ2hhcnRFbGVtZW50KGVsZW1lbnQsIGUsIG1hdGNoKSB7XG4gICAgICAgIGxldCBjdXJyZW50ID0gZWxlbWVudDtcbiAgICAgICAgbGV0IGNoYXJ0RWxlbWVudDtcbiAgICAgICAgd2hpbGUgKGN1cnJlbnQgJiYgIWNoYXJ0RWxlbWVudCkge1xuICAgICAgICAgICAgY2hhcnRFbGVtZW50ID0gY3VycmVudC5jaGFydEVsZW1lbnQ7XG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hhcnRFbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAoY2hhcnRFbGVtZW50LmFsaWFzRm9yKSB7XG4gICAgICAgICAgICAgICAgY2hhcnRFbGVtZW50ID0gY2hhcnRFbGVtZW50LmFsaWFzRm9yKGUsIHRoaXMuX2V2ZW50Q29vcmRpbmF0ZXMoZSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgICBjaGFydEVsZW1lbnQgPSBjaGFydEVsZW1lbnQuY2xvc2VzdChtYXRjaCk7XG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0RWxlbWVudCAmJiBjaGFydEVsZW1lbnQuYWxpYXNGb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhcnRFbGVtZW50ID0gY2hhcnRFbGVtZW50LmFsaWFzRm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gY2hhcnRFbGVtZW50O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2V2ZW50Q29vcmRpbmF0ZXMoZSkge1xuICAgICAgICBjb25zdCBjb29yZGluYXRlcyA9IGV2ZW50Q29vcmRpbmF0ZXMoZSk7XG4gICAgICAgIHJldHVybiB0aGlzLl90b01vZGVsQ29vcmRpbmF0ZXMoY29vcmRpbmF0ZXMueCwgY29vcmRpbmF0ZXMueSk7XG4gICAgfVxuXG4gICAgX2VsZW1lbnRQYWRkaW5nKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3BhZGRpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgcGFkZGluZ0xlZnQsIHBhZGRpbmdUb3AgfSA9IGVsZW1lbnRTdHlsZXModGhpcy5lbGVtZW50LCBbIFwicGFkZGluZ0xlZnRcIiwgXCJwYWRkaW5nVG9wXCIgXSk7XG4gICAgICAgICAgICB0aGlzLl9wYWRkaW5nID0ge1xuICAgICAgICAgICAgICAgIHRvcDogcGFkZGluZ1RvcCxcbiAgICAgICAgICAgICAgICBsZWZ0OiBwYWRkaW5nTGVmdFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9wYWRkaW5nO1xuICAgIH1cblxuICAgIF90b0RvY3VtZW50Q29vcmRpbmF0ZXMocG9pbnQpIHtcbiAgICAgICAgY29uc3QgcGFkZGluZyA9IHRoaXMuX2VsZW1lbnRQYWRkaW5nKCk7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IGVsZW1lbnRPZmZzZXQodGhpcy5lbGVtZW50KTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGVmdDogcm91bmQocG9pbnQueCArIHBhZGRpbmcubGVmdCArIG9mZnNldC5sZWZ0KSxcbiAgICAgICAgICAgIHRvcDogcm91bmQocG9pbnQueSArIHBhZGRpbmcudG9wICsgb2Zmc2V0LnRvcClcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfdG9Nb2RlbENvb3JkaW5hdGVzKGNsaWVudFgsIGNsaWVudFkpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZWxlbWVudDtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gZWxlbWVudE9mZnNldChlbGVtZW50KTtcbiAgICAgICAgY29uc3QgcGFkZGluZyA9IHRoaXMuX2VsZW1lbnRQYWRkaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludChcbiAgICAgICAgICAgIGNsaWVudFggLSBvZmZzZXQubGVmdCAtIHBhZGRpbmcubGVmdCxcbiAgICAgICAgICAgIGNsaWVudFkgLSBvZmZzZXQudG9wIC0gcGFkZGluZy50b3BcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBfdGFwKGUpIHtcbiAgICAgICAgY29uc3QgZHJhd2luZ0VsZW1lbnQgPSB0aGlzLnN1cmZhY2UuZXZlbnRUYXJnZXQoZSk7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLl9kcmF3aW5nQ2hhcnRFbGVtZW50KGRyYXdpbmdFbGVtZW50LCBlKTtcbiAgICAgICAgY29uc3Qgc2hhcmVkVG9vbHRpcCA9IHRoaXMuX3NoYXJlZFRvb2x0aXAoKTtcblxuICAgICAgICBpZiAoIXRoaXMuX3N0YXJ0SG92ZXIoZHJhd2luZ0VsZW1lbnQsIGUpICYmICFzaGFyZWRUb29sdGlwKSB7XG4gICAgICAgICAgICB0aGlzLl91bnNldEFjdGl2ZVBvaW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2hhcmVkVG9vbHRpcCkge1xuICAgICAgICAgICAgdGhpcy5fdHJhY2tTaGFyZWRUb29sdGlwKHRoaXMuX2V2ZW50Q29vcmRpbmF0ZXMoZSksIGUsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcHJvcGFnYXRlQ2xpY2soZWxlbWVudCwgZSk7XG5cbiAgICAgICAgLy9wYXJ0IG9mIGZpeCBmb3IgaG92ZXIgaXNzdWUgb24gd2luZG93cyB0b3VjaFxuICAgICAgICB0aGlzLmhhbmRsaW5nVGFwID0gdHJ1ZTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsaW5nVGFwID0gZmFsc2U7XG4gICAgICAgIH0sIDApO1xuICAgIH1cblxuICAgIF9jbGljayhlKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLl9nZXRDaGFydEVsZW1lbnQoZSk7XG4gICAgICAgIHRoaXMuX3Byb3BhZ2F0ZUNsaWNrKGVsZW1lbnQsIGUpO1xuICAgIH1cblxuICAgIF9wcm9wYWdhdGVDbGljayhlbGVtZW50LCBlKSB7XG4gICAgICAgIGxldCBjdXJyZW50ID0gZWxlbWVudDtcbiAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50LmNsaWNrKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudC5jbGljayh0aGlzLCBlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3N0YXJ0SG92ZXIoZWxlbWVudCwgZSkge1xuICAgICAgICBpZiAodGhpcy5fc3VwcHJlc3NIb3Zlcikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcG9pbnQgPSB0aGlzLl9kcmF3aW5nQ2hhcnRFbGVtZW50KGVsZW1lbnQsIGUsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiAoZWxlbWVudC5ob3ZlciB8fCBlbGVtZW50Lm92ZXIpICYmICEoZWxlbWVudCBpbnN0YW5jZW9mIFBsb3RBcmVhQmFzZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGFjdGl2ZVBvaW50ID0gdGhpcy5fYWN0aXZlUG9pbnQ7XG4gICAgICAgIGNvbnN0IGhvdmVyZWRQb2ludCA9IHRoaXMuX2hvdmVyZWRQb2ludDtcblxuICAgICAgICBpZiAoaG92ZXJlZFBvaW50ICYmIGhvdmVyZWRQb2ludCAhPT0gcG9pbnQpIHtcbiAgICAgICAgICAgIGhvdmVyZWRQb2ludC5vdXQodGhpcywgZSk7XG4gICAgICAgICAgICB0aGlzLl9ob3ZlcmVkUG9pbnQgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvaW50ICYmIGhvdmVyZWRQb2ludCAhPT0gcG9pbnQgJiYgcG9pbnQub3Zlcikge1xuICAgICAgICAgICAgdGhpcy5faG92ZXJlZFBvaW50ID0gcG9pbnQ7XG4gICAgICAgICAgICBwb2ludC5vdmVyKHRoaXMsIGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvaW50ICYmIGFjdGl2ZVBvaW50ICE9PSBwb2ludCAmJiBwb2ludC5ob3Zlcikge1xuICAgICAgICAgICAgdGhpcy5fYWN0aXZlUG9pbnQgPSBwb2ludDtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLl9zaGFyZWRUb29sdGlwKCkgJiYgIXBvaW50LmhvdmVyKHRoaXMsIGUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vbHRpcE9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMudG9vbHRpcCwgcG9pbnQub3B0aW9ucy50b29sdGlwKTtcbiAgICAgICAgICAgICAgICBpZiAodG9vbHRpcE9wdGlvbnMudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90b29sdGlwLnNob3cocG9pbnQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX2hpZ2hsaWdodC5zaG93KHBvaW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwb2ludDtcbiAgICB9XG5cbiAgICBfbW91c2VvdmVyKGUpIHtcbiAgICAgICAgY29uc3QgcG9pbnQgPSB0aGlzLl9zdGFydEhvdmVyKGUuZWxlbWVudCwgZS5vcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICBpZiAocG9pbnQgJiYgcG9pbnQudG9vbHRpcFRyYWNraW5nICYmICF0aGlzLl9tb3VzZU1vdmVUcmFja0hhbmRsZXIgJiYgIXRoaXMuX3NoYXJlZFRvb2x0aXAoKSkge1xuICAgICAgICAgICAgdGhpcy5fbW91c2VNb3ZlVHJhY2tIYW5kbGVyID0gdGhpcy5fbW91c2VNb3ZlVHJhY2tpbmcuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIGJpbmRFdmVudHMoZG9jdW1lbnQsIHtcbiAgICAgICAgICAgICAgICBbIE1PVVNFTU9WRSBdOiB0aGlzLl9tb3VzZU1vdmVUcmFja0hhbmRsZXJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX21vdXNlTW92ZVRyYWNraW5nKGUpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBfdG9vbHRpcDogdG9vbHRpcCwgX2hpZ2hsaWdodDogaGlnaGxpZ2h0LCBfYWN0aXZlUG9pbnQ6IHBvaW50IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBjb29yZHMgPSB0aGlzLl9ldmVudENvb3JkaW5hdGVzKGUpO1xuXG4gICAgICAgIGlmICh0aGlzLl9wbG90QXJlYS5ib3guY29udGFpbnNQb2ludChjb29yZHMpKSB7XG4gICAgICAgICAgICBpZiAocG9pbnQgJiYgcG9pbnQudG9vbHRpcFRyYWNraW5nICYmIHBvaW50LnNlcmllcyAmJiBwb2ludC5wYXJlbnQuZ2V0TmVhcmVzdFBvaW50KSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VyaWVzUG9pbnQgPSBwb2ludC5wYXJlbnQuZ2V0TmVhcmVzdFBvaW50KGNvb3Jkcy54LCBjb29yZHMueSwgcG9pbnQuc2VyaWVzSXgpO1xuICAgICAgICAgICAgICAgIGlmIChzZXJpZXNQb2ludCAmJiBzZXJpZXNQb2ludCAhPT0gcG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWN0aXZlUG9pbnQgPSBzZXJpZXNQb2ludDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlcmllc1BvaW50LmhvdmVyKHRoaXMsIGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b29sdGlwT3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIG9wdGlvbnMudG9vbHRpcCwgc2VyaWVzUG9pbnQub3B0aW9ucy50b29sdGlwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b29sdGlwT3B0aW9ucy52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcC5zaG93KHNlcmllc1BvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0LnNob3coc2VyaWVzUG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdW5iaW5kRXZlbnRzKGRvY3VtZW50LCB7XG4gICAgICAgICAgICAgICAgWyBNT1VTRU1PVkUgXTogdGhpcy5fbW91c2VNb3ZlVHJhY2tIYW5kbGVyXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuX3Vuc2V0QWN0aXZlUG9pbnQoKTtcbiAgICAgICAgICAgIHRoaXMuX21vdXNlTW92ZVRyYWNrSGFuZGxlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbW91c2Vtb3ZlKGUpIHtcbiAgICAgICAgY29uc3QgY29vcmRzID0gdGhpcy5fZXZlbnRDb29yZGluYXRlcyhlKTtcbiAgICAgICAgY29uc3QgcGxvdEFyZWEgPSB0aGlzLl9wbG90QXJlYTtcblxuICAgICAgICB0aGlzLl90cmFja0Nyb3NzaGFpcnMoY29vcmRzKTtcblxuICAgICAgICBpZiAocGxvdEFyZWEuaG92ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IG92ZXJQbG90QXJlYSA9IHBsb3RBcmVhLmJhY2tncm91bmRDb250YWluc1BvaW50KGNvb3Jkcyk7XG4gICAgICAgICAgICBpZiAob3ZlclBsb3RBcmVhKSB7XG4gICAgICAgICAgICAgICAgcGxvdEFyZWEuaG92ZXJlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGxvdEFyZWEuaG92ZXIodGhpcywgZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBsb3RBcmVhLmhvdmVyZWQgJiYgIW92ZXJQbG90QXJlYSkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlcihQTE9UX0FSRUFfTEVBVkUpO1xuICAgICAgICAgICAgICAgIHBsb3RBcmVhLmhvdmVyZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9zaGFyZWRUb29sdGlwKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3RyYWNrU2hhcmVkVG9vbHRpcChjb29yZHMsIGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3RyYWNrQ3Jvc3NoYWlycyhjb29yZHMpIHtcbiAgICAgICAgY29uc3QgY3Jvc3NoYWlycyA9IHRoaXMuX3Bsb3RBcmVhLmNyb3NzaGFpcnM7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjcm9zc2hhaXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gY3Jvc3NoYWlyc1tpXTtcblxuICAgICAgICAgICAgaWYgKGN1cnJlbnQuYm94LmNvbnRhaW5zUG9pbnQoY29vcmRzKSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQuc2hvd0F0KGNvb3Jkcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3RyYWNrU2hhcmVkVG9vbHRpcChjb29yZHMsIGUsIHRvZ2dsZSkge1xuICAgICAgICBpZiAodGhpcy5fc3VwcHJlc3NIb3Zlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBvcHRpb25zOiB7IHRvb2x0aXA6IHRvb2x0aXBPcHRpb25zIH0sIF9wbG90QXJlYTogcGxvdEFyZWEsIF9wbG90QXJlYTogeyBjYXRlZ29yeUF4aXMgfSwgX3Rvb2x0aXA6IHRvb2x0aXAsIF9oaWdobGlnaHQ6IGhpZ2hsaWdodCB9ID0gdGhpcztcblxuICAgICAgICBpZiAocGxvdEFyZWEuYmFja2dyb3VuZENvbnRhaW5zUG9pbnQoY29vcmRzKSkge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBjYXRlZ29yeUF4aXMucG9pbnRDYXRlZ29yeUluZGV4KGNvb3Jkcyk7XG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IHRoaXMuX3Rvb2x0aXBDYXRlZ29yeUl4IHx8ICghdGhpcy5fc2hhcmVkSGlnaGxpZ2h0ICYmIHRvZ2dsZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwb2ludHMgPSBwbG90QXJlYS5wb2ludHNCeUNhdGVnb3J5SW5kZXgoaW5kZXgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50QXJncyA9IHBvaW50cy5tYXAoZnVuY3Rpb24ocG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvaW50LmV2ZW50QXJncyhlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBob3ZlckFyZ3MgPSBwb2ludEFyZ3NbMF0gfHwge307XG4gICAgICAgICAgICAgICAgaG92ZXJBcmdzLmNhdGVnb3J5UG9pbnRzID0gcG9pbnRBcmdzO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPiAwICYmICF0aGlzLnRyaWdnZXIoU0VSSUVTX0hPVkVSLCBob3ZlckFyZ3MpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b29sdGlwT3B0aW9ucy52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwLnNob3dBdChwb2ludHMsIGNvb3Jkcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBoaWdobGlnaHQuc2hvdyhwb2ludHMpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NoYXJlZEhpZ2hsaWdodCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcC5oaWRlKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fdG9vbHRpcENhdGVnb3J5SXggPSBpbmRleDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9nZ2xlICYmIHRoaXMuX3NoYXJlZEhpZ2hsaWdodCkge1xuICAgICAgICAgICAgICAgIGhpZ2hsaWdodC5oaWRlKCk7XG4gICAgICAgICAgICAgICAgdG9vbHRpcC5oaWRlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2hhcmVkSGlnaGxpZ2h0ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fc2hhcmVkSGlnaGxpZ2h0KSB7XG4gICAgICAgICAgICBoaWdobGlnaHQuaGlkZSgpO1xuICAgICAgICAgICAgdG9vbHRpcC5oaWRlKCk7XG4gICAgICAgICAgICB0aGlzLl90b29sdGlwQ2F0ZWdvcnlJeCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9zaGFyZWRIaWdobGlnaHQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhpZGVFbGVtZW50cygpIHtcbiAgICAgICAgY29uc3QgcGxvdEFyZWEgPSB0aGlzLl9wbG90QXJlYTtcbiAgICAgICAgdGhpcy5fbW91c2Vtb3ZlLmNhbmNlbCgpO1xuXG4gICAgICAgIHBsb3RBcmVhLmhpZGVDcm9zc2hhaXJzKCk7XG5cbiAgICAgICAgdGhpcy5fdW5zZXRBY3RpdmVQb2ludCgpO1xuICAgIH1cblxuICAgIF91bnNldEFjdGl2ZVBvaW50KCkge1xuICAgICAgICBjb25zdCB7IF90b29sdGlwOiB0b29sdGlwLCBfaGlnaGxpZ2h0OiBoaWdobGlnaHQgfSA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5fYWN0aXZlUG9pbnQgPSBudWxsO1xuICAgICAgICB0aGlzLl9ob3ZlcmVkUG9pbnQgPSBudWxsO1xuXG4gICAgICAgIGlmICh0b29sdGlwKSB7XG4gICAgICAgICAgICB0b29sdGlwLmhpZGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Rvb2x0aXBDYXRlZ29yeUl4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc2hhcmVkSGlnaGxpZ2h0ID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGhpZ2hsaWdodCkge1xuICAgICAgICAgICAgaGlnaGxpZ2h0LmhpZGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9kZWZlclJlZHJhdygpIHtcbiAgICAgICAgdGhpcy5fcmVkcmF3KCk7XG4gICAgfVxuXG4gICAgX2NsZWFyUmVkcmF3VGltZW91dCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlZHJhd1RpbWVvdXQpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5fcmVkcmF3VGltZW91dCk7XG4gICAgICAgICAgICB0aGlzLl9yZWRyYXdUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGJpbmRDYXRlZ29yaWVzKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBkZWZpbml0aW9ucyA9IFtdLmNvbmNhdChvcHRpb25zLmNhdGVnb3J5QXhpcyk7XG5cbiAgICAgICAgZm9yIChsZXQgYXhpc0l4ID0gMDsgYXhpc0l4IDwgZGVmaW5pdGlvbnMubGVuZ3RoOyBheGlzSXgrKykge1xuICAgICAgICAgICAgY29uc3QgYXhpcyA9IGRlZmluaXRpb25zW2F4aXNJeF07XG4gICAgICAgICAgICBpZiAoYXhpcy5hdXRvQmluZCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJpbmRDYXRlZ29yeUF4aXNGcm9tU2VyaWVzKGF4aXMsIGF4aXNJeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBiaW5kQ2F0ZWdvcnlBeGlzRnJvbVNlcmllcyhheGlzLCBheGlzSXgpIHtcbiAgICAgICAgY29uc3Qgc2VyaWVzID0gdGhpcy5vcHRpb25zLnNlcmllcztcbiAgICAgICAgY29uc3Qgc2VyaWVzTGVuZ3RoID0gc2VyaWVzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgdW5pcXVlQ2F0ZWdvcmllcyA9IG5ldyBIYXNoTWFwKCk7Ly9wZXJmIGltcHJvdmVtZW50IGluIGNhc2UgdHlwZSBjYXRlZ29yeSB3aXRoIGRhdGVzXG4gICAgICAgIGxldCBpdGVtcyA9IFtdO1xuICAgICAgICBsZXQgYmluZGFibGUgPSBmYWxzZTtcbiAgICAgICAgbGV0IGRhdGVBeGlzO1xuXG4gICAgICAgIGZvciAobGV0IHNlcmllc0l4ID0gMDsgc2VyaWVzSXggPCBzZXJpZXNMZW5ndGg7IHNlcmllc0l4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSBzZXJpZXNbc2VyaWVzSXhdO1xuICAgICAgICAgICAgY29uc3Qgb25BeGlzID0gcy5jYXRlZ29yeUF4aXMgPT09IGF4aXMubmFtZSB8fCAoIXMuY2F0ZWdvcnlBeGlzICYmIGF4aXNJeCA9PT0gMCk7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gcy5kYXRhO1xuICAgICAgICAgICAgY29uc3QgZGF0YUxlbmd0aCA9IGRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgYmluZCA9IHMuY2F0ZWdvcnlGaWVsZCAmJiBvbkF4aXM7XG4gICAgICAgICAgICBiaW5kYWJsZSA9IGJpbmQgfHwgYmluZGFibGU7XG5cbiAgICAgICAgICAgIGlmIChiaW5kICYmIGRhdGFMZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZGF0ZUF4aXMgPSBpc0RhdGVBeGlzKGF4aXMsIGdldEZpZWxkKHMuY2F0ZWdvcnlGaWVsZCwgZGF0YVswXSkpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZ2V0Rm4gPSBkYXRlQXhpcyA/IGdldERhdGVGaWVsZCA6IGdldEZpZWxkO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZGF0YUl4ID0gMDsgZGF0YUl4IDwgZGF0YUxlbmd0aDsgZGF0YUl4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YVJvdyA9IGRhdGFbZGF0YUl4XTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnkgPSBnZXRGbihzLmNhdGVnb3J5RmllbGQsIGRhdGFSb3csIHRoaXMuY2hhcnRTZXJ2aWNlLmludGwpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRlQXhpcyB8fCAhdW5pcXVlQ2F0ZWdvcmllcy5nZXQoY2F0ZWdvcnkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKFsgY2F0ZWdvcnksIGRhdGFSb3cgXSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGF0ZUF4aXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmlxdWVDYXRlZ29yaWVzLnNldChjYXRlZ29yeSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaWYgKGRhdGVBeGlzKSB7XG4gICAgICAgICAgICAgICAgaXRlbXMgPSB1bmlxdWVEYXRlcyhpdGVtcywgZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZUNvbXBhcmVyKGFbMF0sIGJbMF0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0cmFuc3Bvc2UoaXRlbXMpO1xuICAgICAgICAgICAgYXhpcy5jYXRlZ29yaWVzID0gcmVzdWx0WzBdO1xuICAgICAgICB9IGVsc2UgaWYgKGJpbmRhYmxlKSB7XG4gICAgICAgICAgICBheGlzLmNhdGVnb3JpZXMgPSBbXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9pc0JpbmRhYmxlKHNlcmllcykge1xuICAgICAgICBjb25zdCB2YWx1ZUZpZWxkcyA9IFNlcmllc0JpbmRlci5jdXJyZW50LnZhbHVlRmllbGRzKHNlcmllcyk7XG4gICAgICAgIGxldCByZXN1bHQgPSB0cnVlO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVGaWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBmaWVsZCA9IHZhbHVlRmllbGRzW2ldO1xuICAgICAgICAgICAgaWYgKGZpZWxkID09PSBWQUxVRSkge1xuICAgICAgICAgICAgICAgIGZpZWxkID0gXCJmaWVsZFwiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmaWVsZCA9IGZpZWxkICsgXCJGaWVsZFwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWRlZmluZWQoc2VyaWVzW2ZpZWxkXSkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgX25vVHJhbnNpdGlvbnNSZWRyYXcoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGxldCB0cmFuc2l0aW9uc1N0YXRlO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnRyYW5zaXRpb25zKSB7XG4gICAgICAgICAgICBvcHRpb25zLnRyYW5zaXRpb25zID0gZmFsc2U7XG4gICAgICAgICAgICB0cmFuc2l0aW9uc1N0YXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3JlZHJhdygpO1xuXG4gICAgICAgIGlmICh0cmFuc2l0aW9uc1N0YXRlKSB7XG4gICAgICAgICAgICBvcHRpb25zLnRyYW5zaXRpb25zID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9sZWdlbmRJdGVtSG92ZXIoc2VyaWVzSW5kZXgsIHBvaW50SW5kZXgpIHtcbiAgICAgICAgY29uc3QgeyBfcGxvdEFyZWE6IHBsb3RBcmVhLCBfaGlnaGxpZ2h0OiBoaWdobGlnaHQgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTZXJpZXMgPSAocGxvdEFyZWEuc3JjU2VyaWVzIHx8IHBsb3RBcmVhLnNlcmllcylbc2VyaWVzSW5kZXhdO1xuICAgICAgICBsZXQgaXRlbXM7XG5cbiAgICAgICAgaWYgKGluQXJyYXkoY3VycmVudFNlcmllcy50eXBlLCBbIFBJRSwgRE9OVVQsIEZVTk5FTCBdKSkge1xuICAgICAgICAgICAgaXRlbXMgPSBwbG90QXJlYS5maW5kUG9pbnQoZnVuY3Rpb24ocG9pbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcG9pbnQuc2VyaWVzLmluZGV4ID09PSBzZXJpZXNJbmRleCAmJiBwb2ludC5pbmRleCA9PT0gcG9pbnRJbmRleDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaXRlbXMgPSBwbG90QXJlYS5wb2ludHNCeVNlcmllc0luZGV4KHNlcmllc0luZGV4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhpZ2hsaWdodC5zaG93KGl0ZW1zKTtcbiAgICB9XG5cbiAgICBfc2hvdWxkQXR0YWNoTW91c2VNb3ZlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGxvdEFyZWEuY3Jvc3NoYWlycy5sZW5ndGggfHwgKHRoaXMuX3Rvb2x0aXAgJiYgdGhpcy5fc2hhcmVkVG9vbHRpcCgpKSB8fCB0aGlzLnJlcXVpcmVzSGFuZGxlcnMoWyBQTE9UX0FSRUFfSE9WRVIsIFBMT1RfQVJFQV9MRUFWRSBdKTtcbiAgICB9XG5cbiAgICB1cGRhdGVNb3VzZU1vdmVIYW5kbGVyKCkge1xuICAgICAgICB1bmJpbmRFdmVudHModGhpcy5lbGVtZW50LCB7XG4gICAgICAgICAgICBbIE1PVVNFTU9WRSBdOiB0aGlzLl9tb3VzZW1vdmVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3Nob3VsZEF0dGFjaE1vdXNlTW92ZSgpKSB7XG4gICAgICAgICAgICBiaW5kRXZlbnRzKHRoaXMuZWxlbWVudCwge1xuICAgICAgICAgICAgICAgIFsgTU9VU0VNT1ZFIF06IHRoaXMuX21vdXNlbW92ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhcHBseU9wdGlvbnMob3B0aW9ucywgdGhlbWUpIHtcbiAgICAgICAgY2xlYXJNaXNzaW5nVmFsdWVzKHRoaXMuX29yaWdpbmFsT3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX29yaWdpbmFsT3B0aW9ucyA9IGRlZXBFeHRlbmQodGhpcy5fb3JpZ2luYWxPcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgdGhpcy5fb3JpZ2luYWxPcHRpb25zKTtcblxuICAgICAgICBpZiAodGhlbWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3RoZW1lID0gdGhlbWU7XG4gICAgICAgICAgICB0aGlzLmNoYXJ0U2VydmljZS50aGVtZSA9IHRoZW1lO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2luaXRUaGVtZSh0aGlzLm9wdGlvbnMsIHRoaXMuX3RoZW1lKTtcblxuICAgICAgICB0aGlzLl90b2dnbGVEcmFnWm9vbUV2ZW50cygpO1xuICAgIH1cblxuICAgIHNldE9wdGlvbnMob3B0aW9ucywgdGhlbWUpIHtcbiAgICAgICAgdGhpcy5hcHBseU9wdGlvbnMob3B0aW9ucywgdGhlbWUpO1xuICAgICAgICB0aGlzLmJpbmRDYXRlZ29yaWVzKCk7XG4gICAgICAgIHRoaXMucmVkcmF3KCk7XG4gICAgICAgIHRoaXMudXBkYXRlTW91c2VNb3ZlSGFuZGxlcigpO1xuICAgIH1cblxuICAgIHNldERpcmVjdGlvbihydGwpIHtcbiAgICAgICAgdGhpcy5jaGFydFNlcnZpY2UucnRsID0gQm9vbGVhbihydGwpO1xuICAgICAgICBpZiAodGhpcy5zdXJmYWNlICYmIHRoaXMuc3VyZmFjZS50eXBlID09PSAnc3ZnJykge1xuICAgICAgICAgICAgdGhpcy5fZGVzdHJveVN1cmZhY2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldEludGxTZXJ2aWNlKGludGwpIHtcbiAgICAgICAgdGhpcy5jaGFydFNlcnZpY2UuaW50bCA9IGludGw7XG4gICAgfVxuXG4gICAgbm9UcmFuc2l0aW9uc1JlZHJhdygpIHtcbiAgICAgICAgdGhpcy5fbm9UcmFuc2l0aW9uc1JlZHJhdygpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG5cbiAgICAgICAgdW5iaW5kRXZlbnRzKHRoaXMuZWxlbWVudCwge1xuICAgICAgICAgICAgWyBDT05URVhUTUVOVSBdOiB0aGlzLl9jbGlja0hhbmRsZXIsXG4gICAgICAgICAgICBbIE1PVVNFV0hFRUwgXTogdGhpcy5fbW91c2V3aGVlbEhhbmRsZXIsXG4gICAgICAgICAgICBbIE1PVVNFTU9WRSBdOiB0aGlzLl9tb3VzZW1vdmUsXG4gICAgICAgICAgICBbIE1PVVNFTEVBVkUgXTogdGhpcy5fbW91c2VsZWF2ZUhhbmRsZXJcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMuZG9tRXZlbnRzKSB7XG4gICAgICAgICAgICB0aGlzLmRvbUV2ZW50cy5kZXN0cm95KCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5kb21FdmVudHM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fbW91c2VNb3ZlVHJhY2tIYW5kbGVyKSB7XG4gICAgICAgICAgICB1bmJpbmRFdmVudHMoZG9jdW1lbnQsIHtcbiAgICAgICAgICAgICAgICBbIE1PVVNFTU9WRSBdOiB0aGlzLl9tb3VzZU1vdmVUcmFja0hhbmRsZXJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZGVzdHJveVZpZXcoKTtcblxuICAgICAgICB0aGlzLl9kZXN0cm95U3VyZmFjZSgpO1xuXG4gICAgICAgIHRoaXMuX2NsZWFyUmVkcmF3VGltZW91dCgpO1xuICAgIH1cblxuICAgIF9kZXN0cm95U3VyZmFjZSgpIHtcbiAgICAgICAgY29uc3Qgc3VyZmFjZSA9IHRoaXMuc3VyZmFjZTtcbiAgICAgICAgaWYgKHN1cmZhY2UpIHtcbiAgICAgICAgICAgIHN1cmZhY2UudW5iaW5kKFwibW91c2VlbnRlclwiLCB0aGlzLl9zdXJmYWNlTW91c2VlbnRlckhhbmRsZXIpO1xuICAgICAgICAgICAgc3VyZmFjZS51bmJpbmQoXCJtb3VzZWxlYXZlXCIsIHRoaXMuX3N1cmZhY2VNb3VzZWxlYXZlSGFuZGxlcik7XG4gICAgICAgICAgICBzdXJmYWNlLmRlc3Ryb3koKTtcblxuICAgICAgICAgICAgdGhpcy5zdXJmYWNlID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9kZXN0cm95VmlldygpIHtcbiAgICAgICAgY29uc3QgeyBfbW9kZWw6IG1vZGVsLCBfc2VsZWN0aW9uczogc2VsZWN0aW9ucyB9ID0gdGhpcztcblxuICAgICAgICBpZiAobW9kZWwpIHtcbiAgICAgICAgICAgIG1vZGVsLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuX21vZGVsID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWxlY3Rpb25zKSB7XG4gICAgICAgICAgICB3aGlsZSAoc2VsZWN0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0aW9ucy5zaGlmdCgpLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Vuc2V0QWN0aXZlUG9pbnQoKTtcblxuICAgICAgICBpZiAodGhpcy5fdG9vbHRpcCkge1xuICAgICAgICAgICAgdGhpcy5fdG9vbHRpcC5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5faGlnaGxpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLl9oaWdobGlnaHQuZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3pvb21TZWxlY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX3pvb21TZWxlY3Rpb24uZGVzdHJveSgpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3pvb21TZWxlY3Rpb247XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fcGFubmFibGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3Bhbm5hYmxlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9wYW5uYWJsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9tb3VzZXdoZWVsWm9vbSkge1xuICAgICAgICAgICAgdGhpcy5fbW91c2V3aGVlbFpvb20uZGVzdHJveSgpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX21vdXNld2hlZWxab29tO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiByZXNvbHZlQXhpc0FsaWFzZXMob3B0aW9ucykge1xuICAgIGNvbnN0IGFsaWFzZXMgPSBBWElTX05BTUVTO1xuXG4gICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgYWxpYXNlcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgIGNvbnN0IGFsaWFzID0gYWxpYXNlc1tpZHhdICsgXCJBeGVzXCI7XG4gICAgICAgIGlmIChvcHRpb25zW2FsaWFzXSkge1xuICAgICAgICAgICAgb3B0aW9uc1thbGlhc2VzW2lkeF0gKyBcIkF4aXNcIl0gPSBvcHRpb25zW2FsaWFzXTtcbiAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zW2FsaWFzXTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gcG9pbnRCeUNhdGVnb3J5TmFtZShwb2ludHMsIG5hbWUpIHtcbiAgICBpZiAocG9pbnRzKSB7XG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHBvaW50cy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBpZiAocG9pbnRzW2lkeF0uY2F0ZWdvcnkgPT09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWyBwb2ludHNbaWR4XSBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBhcHBseUF4aXNEZWZhdWx0cyhvcHRpb25zLCB0aGVtZU9wdGlvbnMpIHtcbiAgICBjb25zdCB0aGVtZUF4aXNEZWZhdWx0cyA9ICgodGhlbWVPcHRpb25zIHx8IHt9KS5heGlzRGVmYXVsdHMpIHx8IHt9O1xuICAgIGxldCBheGlzTmFtZSwgYXhpc0RlZmF1bHRzLCBheGVzO1xuXG4gICAgZnVuY3Rpb24gbWFwQXhpc09wdGlvbnMoYXhpc09wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgYXhpc0NvbG9yID0gKGF4aXNPcHRpb25zIHx8IHt9KS5jb2xvciB8fCBheGlzRGVmYXVsdHMuY29sb3I7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGRlZXBFeHRlbmQoe30sXG4gICAgICAgICAgICB0aGVtZUF4aXNEZWZhdWx0cyxcbiAgICAgICAgICAgIHRoZW1lQXhpc0RlZmF1bHRzW2F4aXNOYW1lXSxcbiAgICAgICAgICAgIGF4aXNEZWZhdWx0cyxcbiAgICAgICAgICAgIGF4aXNEZWZhdWx0c1theGlzTmFtZV0sIHtcbiAgICAgICAgICAgICAgICBsaW5lOiB7IGNvbG9yOiBheGlzQ29sb3IgfSxcbiAgICAgICAgICAgICAgICBsYWJlbHM6IHsgY29sb3I6IGF4aXNDb2xvciB9LFxuICAgICAgICAgICAgICAgIHRpdGxlOiB7IGNvbG9yOiBheGlzQ29sb3IgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGF4aXNPcHRpb25zXG4gICAgICAgICk7XG5cbiAgICAgICAgZGVsZXRlIHJlc3VsdFtheGlzTmFtZV07XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBBWElTX05BTUVTLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgYXhpc05hbWUgPSBBWElTX05BTUVTW2lkeF0gKyBcIkF4aXNcIjtcbiAgICAgICAgYXhpc0RlZmF1bHRzID0gb3B0aW9ucy5heGlzRGVmYXVsdHMgfHwge307XG4gICAgICAgIGF4ZXMgPSBbXS5jb25jYXQob3B0aW9uc1theGlzTmFtZV0pO1xuXG4gICAgICAgIGF4ZXMgPSBheGVzLm1hcChtYXBBeGlzT3B0aW9ucyk7XG5cbiAgICAgICAgb3B0aW9uc1theGlzTmFtZV0gPSBheGVzLmxlbmd0aCA+IDEgPyBheGVzIDogYXhlc1swXTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5U2VyaWVzRGVmYXVsdHMob3B0aW9ucywgdGhlbWVPcHRpb25zKSB7XG4gICAgY29uc3Qgc2VyaWVzID0gb3B0aW9ucy5zZXJpZXM7XG4gICAgY29uc3Qgc2VyaWVzTGVuZ3RoID0gc2VyaWVzLmxlbmd0aDtcbiAgICBjb25zdCBzZXJpZXNEZWZhdWx0cyA9IG9wdGlvbnMuc2VyaWVzRGVmYXVsdHM7XG4gICAgY29uc3QgY29tbW9uRGVmYXVsdHMgPSBkZWVwRXh0ZW5kKHt9LCBvcHRpb25zLnNlcmllc0RlZmF1bHRzKTtcbiAgICBjb25zdCB0aGVtZVNlcmllc0RlZmF1bHRzID0gdGhlbWVPcHRpb25zID8gZGVlcEV4dGVuZCh7fSwgdGhlbWVPcHRpb25zLnNlcmllc0RlZmF1bHRzKSA6IHt9O1xuICAgIGNvbnN0IGNvbW1vblRoZW1lRGVmYXVsdHMgPSBkZWVwRXh0ZW5kKHt9LCB0aGVtZVNlcmllc0RlZmF1bHRzKTtcblxuICAgIGNsZWFudXBOZXN0ZWRTZXJpZXNEZWZhdWx0cyhjb21tb25EZWZhdWx0cyk7XG4gICAgY2xlYW51cE5lc3RlZFNlcmllc0RlZmF1bHRzKGNvbW1vblRoZW1lRGVmYXVsdHMpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXJpZXNMZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBzZXJpZXNUeXBlID0gc2VyaWVzW2ldLnR5cGUgfHwgb3B0aW9ucy5zZXJpZXNEZWZhdWx0cy50eXBlO1xuXG4gICAgICAgIGNvbnN0IGJhc2VPcHRpb25zID0gZGVlcEV4dGVuZChcbiAgICAgICAgICAgIHsgZGF0YTogW10gfSxcbiAgICAgICAgICAgIGNvbW1vblRoZW1lRGVmYXVsdHMsXG4gICAgICAgICAgICB0aGVtZVNlcmllc0RlZmF1bHRzW3Nlcmllc1R5cGVdLFxuICAgICAgICAgICAgeyB0b29sdGlwOiBvcHRpb25zLnRvb2x0aXAgfSxcbiAgICAgICAgICAgIGNvbW1vbkRlZmF1bHRzLFxuICAgICAgICAgICAgc2VyaWVzRGVmYXVsdHNbc2VyaWVzVHlwZV1cbiAgICAgICAgKTtcblxuICAgICAgICBzZXJpZXNbaV0uX2RlZmF1bHRzID0gYmFzZU9wdGlvbnM7XG4gICAgICAgIHNlcmllc1tpXSA9IGRlZXBFeHRlbmQoe30sIGJhc2VPcHRpb25zLCBzZXJpZXNbaV0pO1xuICAgICAgICBzZXJpZXNbaV0uZGF0YSA9IHNlcmllc1tpXS5kYXRhIHx8IFtdO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY2xlYW51cE5lc3RlZFNlcmllc0RlZmF1bHRzKHNlcmllc0RlZmF1bHRzKSB7XG4gICAgZGVsZXRlIHNlcmllc0RlZmF1bHRzLmJhcjtcbiAgICBkZWxldGUgc2VyaWVzRGVmYXVsdHMuY29sdW1uO1xuICAgIGRlbGV0ZSBzZXJpZXNEZWZhdWx0cy5yYW5nZUNvbHVtbjtcbiAgICBkZWxldGUgc2VyaWVzRGVmYXVsdHMubGluZTtcbiAgICBkZWxldGUgc2VyaWVzRGVmYXVsdHMudmVydGljYWxMaW5lO1xuICAgIGRlbGV0ZSBzZXJpZXNEZWZhdWx0cy5waWU7XG4gICAgZGVsZXRlIHNlcmllc0RlZmF1bHRzLmRvbnV0O1xuICAgIGRlbGV0ZSBzZXJpZXNEZWZhdWx0cy5hcmVhO1xuICAgIGRlbGV0ZSBzZXJpZXNEZWZhdWx0cy52ZXJ0aWNhbEFyZWE7XG4gICAgZGVsZXRlIHNlcmllc0RlZmF1bHRzLnNjYXR0ZXI7XG4gICAgZGVsZXRlIHNlcmllc0RlZmF1bHRzLnNjYXR0ZXJMaW5lO1xuICAgIGRlbGV0ZSBzZXJpZXNEZWZhdWx0cy5idWJibGU7XG4gICAgZGVsZXRlIHNlcmllc0RlZmF1bHRzLmNhbmRsZXN0aWNrO1xuICAgIGRlbGV0ZSBzZXJpZXNEZWZhdWx0cy5vaGxjO1xuICAgIGRlbGV0ZSBzZXJpZXNEZWZhdWx0cy5ib3hQbG90O1xuICAgIGRlbGV0ZSBzZXJpZXNEZWZhdWx0cy5idWxsZXQ7XG4gICAgZGVsZXRlIHNlcmllc0RlZmF1bHRzLnZlcnRpY2FsQnVsbGV0O1xuICAgIGRlbGV0ZSBzZXJpZXNEZWZhdWx0cy5wb2xhckFyZWE7XG4gICAgZGVsZXRlIHNlcmllc0RlZmF1bHRzLnBvbGFyTGluZTtcbiAgICBkZWxldGUgc2VyaWVzRGVmYXVsdHMucmFkYXJBcmVhO1xuICAgIGRlbGV0ZSBzZXJpZXNEZWZhdWx0cy5yYWRhckxpbmU7XG4gICAgZGVsZXRlIHNlcmllc0RlZmF1bHRzLndhdGVyZmFsbDtcbn1cblxuXG5mdW5jdGlvbiBheGlzUmFuZ2VzKGF4ZXMpIHtcbiAgICBjb25zdCByYW5nZXMgPSB7fTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBheGlzID0gYXhlc1tpXTtcbiAgICAgICAgY29uc3QgYXhpc05hbWUgPSBheGlzLm9wdGlvbnMubmFtZTtcbiAgICAgICAgaWYgKGF4aXNOYW1lKSB7XG4gICAgICAgICAgICByYW5nZXNbYXhpc05hbWVdID0gYXhpcy5yYW5nZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJhbmdlcztcbn1cblxuZnVuY3Rpb24gc29ydERhdGVzKGRhdGVzLCBjb21wYXJlciA9IGRhdGVDb21wYXJlcikge1xuICAgIGZvciAobGV0IGkgPSAxLCBsZW5ndGggPSBkYXRlcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoY29tcGFyZXIoZGF0ZXNbaV0sIGRhdGVzW2kgLSAxXSkgPCAwKSB7XG4gICAgICAgICAgICBkYXRlcy5zb3J0KGNvbXBhcmVyKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGVzO1xufVxuXG5mdW5jdGlvbiB1bmlxdWVEYXRlcyhzcmNEYXRlcywgY29tcGFyZXIgPSBkYXRlQ29tcGFyZXIpIHtcbiAgICBjb25zdCBkYXRlcyA9IHNvcnREYXRlcyhzcmNEYXRlcywgY29tcGFyZXIpO1xuICAgIGNvbnN0IGxlbmd0aCA9IGRhdGVzLmxlbmd0aDtcbiAgICBjb25zdCByZXN1bHQgPSBsZW5ndGggPiAwID8gWyBkYXRlc1swXSBdIDogW107XG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChjb21wYXJlcihkYXRlc1tpXSwgbGFzdChyZXN1bHQpKSAhPT0gMCkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goZGF0ZXNbaV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gdHJhbnNwb3NlKHJvd3MpIHtcbiAgICBjb25zdCByb3dDb3VudCA9IHJvd3MubGVuZ3RoO1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuXG4gICAgZm9yIChsZXQgcm93SXggPSAwOyByb3dJeCA8IHJvd0NvdW50OyByb3dJeCsrKSB7XG4gICAgICAgIGNvbnN0IHJvdyA9IHJvd3Nbcm93SXhdO1xuICAgICAgICBjb25zdCBjb2xDb3VudCA9IHJvdy5sZW5ndGg7XG5cbiAgICAgICAgZm9yIChsZXQgY29sSXggPSAwOyBjb2xJeCA8IGNvbENvdW50OyBjb2xJeCsrKSB7XG4gICAgICAgICAgICByZXN1bHRbY29sSXhdID0gcmVzdWx0W2NvbEl4XSB8fCBbXTtcbiAgICAgICAgICAgIHJlc3VsdFtjb2xJeF0ucHVzaChyb3dbY29sSXhdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmNvbnN0IERBVEFfRklFTERTID0gWyAnZGF0YScsICdjYXRlZ29yaWVzJyBdO1xuXG5mdW5jdGlvbiBjbGVhck1pc3NpbmdWYWx1ZXMob3JpZ2luYWxPcHRpb25zLCBvcHRpb25zKSB7XG4gICAgZm9yIChsZXQgZmllbGQgaW4gb3B0aW9ucykge1xuICAgICAgICBpZiAoIWluQXJyYXkoZmllbGQsIERBVEFfRklFTERTKSAmJiBvcHRpb25zLmhhc093blByb3BlcnR5KGZpZWxkKSkge1xuICAgICAgICAgICAgY29uc3QgZmllbGRWYWx1ZSA9IG9wdGlvbnNbZmllbGRdO1xuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxWYWx1ZSA9IG9yaWdpbmFsT3B0aW9uc1tmaWVsZF07XG4gICAgICAgICAgICBpZiAoZGVmaW5lZChvcmlnaW5hbFZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG51bGxWYWx1ZSA9IGZpZWxkVmFsdWUgPT09IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKChudWxsVmFsdWUgfHwgIWRlZmluZWQoZmllbGRWYWx1ZSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvcmlnaW5hbE9wdGlvbnNbZmllbGRdO1xuICAgICAgICAgICAgICAgICAgICBpZiAobnVsbFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgb3B0aW9uc1tmaWVsZF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9yaWdpbmFsVmFsdWUgJiYgaXNPYmplY3QoZmllbGRWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzT2JqZWN0KG9yaWdpbmFsVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhck1pc3NpbmdWYWx1ZXMob3JpZ2luYWxWYWx1ZSwgZmllbGRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIHRyaWdnZXJQYW5lUmVuZGVyKHBhbmVzKSB7XG4gICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgcGFuZXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICBwYW5lc1tpZHhdLm5vdGlmeVJlbmRlcigpO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoQ2hhcnQsIHtcbiAgICByZW5kZXJBczogXCJcIixcbiAgICBjaGFydEFyZWE6IHt9LFxuICAgIGxlZ2VuZDoge1xuICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICBsYWJlbHM6IHt9XG4gICAgfSxcbiAgICBjYXRlZ29yeUF4aXM6IHt9LFxuICAgIHNlcmllc0RlZmF1bHRzOiB7XG4gICAgICAgIHR5cGU6IENPTFVNTixcbiAgICAgICAgZGF0YTogW10sXG4gICAgICAgIGhpZ2hsaWdodDoge1xuICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBsYWJlbHM6IHt9LFxuICAgICAgICBuZWdhdGl2ZVZhbHVlczoge1xuICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2VyaWVzOiBbXSxcbiAgICBzZXJpZXNDb2xvcnM6IG51bGwsXG4gICAgdG9vbHRpcDoge1xuICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgIH0sXG4gICAgdHJhbnNpdGlvbnM6IHRydWUsXG4gICAgdmFsdWVBeGlzOiB7fSxcbiAgICBwbG90QXJlYToge30sXG4gICAgdGl0bGU6IHt9LFxuICAgIHhBeGlzOiB7fSxcbiAgICB5QXhpczoge30sXG4gICAgcGFuZXM6IFsge30gXSxcbiAgICBwYW5uYWJsZTogZmFsc2UsXG4gICAgem9vbWFibGU6IGZhbHNlXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgQ2hhcnQ7XG4iLCJpbXBvcnQgeyBTaGFyZWRUb29sdGlwIGFzIENoYXJ0U2hhcmVkVG9vbHRpcCB9IGZyb20gJy4uL2NoYXJ0JztcbmltcG9ydCB7IFBvaW50IH0gZnJvbSAnLi4vY29yZSc7XG5jb25zdCBUT1BfT0ZGU0VUID0gLTI7XG5cbmNsYXNzIFNoYXJlZFRvb2x0aXAgZXh0ZW5kcyBDaGFydFNoYXJlZFRvb2x0aXAge1xuICAgIF9zbG90QW5jaG9yKGNvb3Jkcywgc2xvdCkge1xuICAgICAgICBjb25zdCBheGlzID0gdGhpcy5wbG90QXJlYS5jYXRlZ29yeUF4aXM7XG4gICAgICAgIGNvbnN0IHZlcnRpY2FsID0gYXhpcy5vcHRpb25zLnZlcnRpY2FsO1xuICAgICAgICBjb25zdCBhbGlnbiA9IHZlcnRpY2FsID8ge1xuICAgICAgICAgICAgaG9yaXpvbnRhbDogXCJsZWZ0XCIsXG4gICAgICAgICAgICB2ZXJ0aWNhbDogXCJjZW50ZXJcIlxuICAgICAgICB9IDoge1xuICAgICAgICAgICAgaG9yaXpvbnRhbDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIHZlcnRpY2FsOiBcImJvdHRvbVwiXG4gICAgICAgIH07XG5cbiAgICAgICAgbGV0IHBvaW50O1xuXG4gICAgICAgIGlmICh2ZXJ0aWNhbCkge1xuICAgICAgICAgICAgcG9pbnQgPSBuZXcgUG9pbnQodGhpcy5wbG90QXJlYS5ib3gueDIsIHNsb3QuY2VudGVyKCkueSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwb2ludCA9IG5ldyBQb2ludChzbG90LmNlbnRlcigpLngsIFRPUF9PRkZTRVQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBvaW50OiBwb2ludCxcbiAgICAgICAgICAgIGFsaWduOiBhbGlnblxuICAgICAgICB9O1xuICAgIH1cblxuICAgIF9kZWZhdWx0QW5jaG9yKHBvaW50LCBzbG90KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zbG90QW5jaG9yKHt9LCBzbG90KTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNoYXJlZFRvb2x0aXA7IiwiaW1wb3J0IHsgQ2hhcnQgfSBmcm9tICcuLi9jaGFydCc7XG5pbXBvcnQgeyBCQVIsIEJVTExFVCwgUElFLCBDT0xVTU4sIFZFUlRJQ0FMX0JVTExFVCB9IGZyb20gJy4uL2NoYXJ0L2NvbnN0YW50cyc7XG5pbXBvcnR7IGFkZENsYXNzLCBkZWVwRXh0ZW5kLCBlbGVtZW50U2l6ZSwgZ2V0U3BhY2luZywgaW5BcnJheSwgaXNBcnJheSwgaXNOdW1iZXIsIHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vY29tbW9uJztcbmltcG9ydCBTaGFyZWRUb29sdGlwIGZyb20gJy4vc2hhcmVkLXRvb2x0aXAnO1xuXG5jb25zdCBERUFVTFRfQkFSX1dJRFRIID0gMTUwO1xuY29uc3QgREVBVUxUX0JVTExFVF9XSURUSCA9IDE1MDtcbmNvbnN0IE5PX0NST1NTSEFJUiA9IFsgQkFSLCBCVUxMRVQgXTtcblxuZnVuY3Rpb24gaGlkZShjaGlsZHJlbikge1xuICAgIGNvbnN0IHN0YXRlID0gW107XG4gICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgY2hpbGRyZW4ubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2lkeF07XG4gICAgICAgIHN0YXRlW2lkeF0gPSBjaGlsZC5zdHlsZS5kaXNwbGF5O1xuICAgICAgICBjaGlsZC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0YXRlO1xufVxuXG5mdW5jdGlvbiBzaG93KGNoaWxkcmVuLCBzdGF0ZSkge1xuICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGNoaWxkcmVuLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgY2hpbGRyZW5baWR4XS5zdHlsZS5kaXNwbGF5ID0gc3RhdGVbaWR4XTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHdyYXBOdW1iZXIodmFsdWUpIHtcbiAgICByZXR1cm4gaXNOdW1iZXIodmFsdWUpID8gWyB2YWx1ZSBdIDogdmFsdWU7XG59XG5cbmNsYXNzIFNwYXJrbGluZSBleHRlbmRzIENoYXJ0IHtcbiAgICBfc2V0RWxlbWVudENsYXNzKGVsZW1lbnQpIHtcbiAgICAgICAgYWRkQ2xhc3MoZWxlbWVudCwgJ2stc3BhcmtsaW5lJyk7XG4gICAgfVxuXG4gICAgX2luaXRFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgc3VwZXIuX2luaXRFbGVtZW50KGVsZW1lbnQpO1xuXG4gICAgICAgIHRoaXMuX2luaXRpYWxXaWR0aCA9IE1hdGguZmxvb3IoZWxlbWVudFNpemUoZWxlbWVudCkud2lkdGgpO1xuICAgIH1cblxuICAgIF9yZXNpemUoKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gaGlkZShlbGVtZW50LmNoaWxkTm9kZXMpO1xuXG4gICAgICAgIHRoaXMuX2luaXRpYWxXaWR0aCA9IE1hdGguZmxvb3IoZWxlbWVudFNpemUoZWxlbWVudCkud2lkdGgpO1xuXG4gICAgICAgIHNob3coZWxlbWVudC5jaGlsZE5vZGVzLCBzdGF0ZSk7XG5cbiAgICAgICAgc3VwZXIuX3Jlc2l6ZSgpO1xuICAgIH1cblxuICAgIF9tb2RlbE9wdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IGNoYXJ0T3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3Qgc3RhZ2UgPSB0aGlzLl9zdXJmYWNlV3JhcCgpO1xuICAgICAgICBjb25zdCBkaXNwbGF5U3RhdGUgPSBoaWRlKHN0YWdlLmNoaWxkTm9kZXMpO1xuXG4gICAgICAgIGNvbnN0IHNwYWNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBzcGFjZS5pbm5lckhUTUwgPSAnJm5ic3A7JztcblxuICAgICAgICBzdGFnZS5hcHBlbmRDaGlsZChzcGFjZSk7XG5cbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGRlZXBFeHRlbmQoe1xuICAgICAgICAgICAgd2lkdGg6IHRoaXMuX2F1dG9XaWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogZWxlbWVudFNpemUoc3RhZ2UpLmhlaWdodCxcbiAgICAgICAgICAgIHRyYW5zaXRpb25zOiBjaGFydE9wdGlvbnMudHJhbnNpdGlvbnNcbiAgICAgICAgfSwgY2hhcnRPcHRpb25zLmNoYXJ0QXJlYSwge1xuICAgICAgICAgICAgaW5saW5lOiB0cnVlLFxuICAgICAgICAgICAgYWxpZ246IGZhbHNlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGVsZW1lbnRTaXplKHN0YWdlLCB7XG4gICAgICAgICAgICB3aWR0aDogb3B0aW9ucy53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogb3B0aW9ucy5oZWlnaHRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc3RhZ2UucmVtb3ZlQ2hpbGQoc3BhY2UpO1xuXG4gICAgICAgIHNob3coc3RhZ2UuY2hpbGROb2RlcywgZGlzcGxheVN0YXRlKTtcblxuICAgICAgICBpZiAodGhpcy5zdXJmYWNlKSB7XG4gICAgICAgICAgICB0aGlzLnN1cmZhY2UucmVzaXplKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9XG5cbiAgICBfc3VyZmFjZVdyYXAoKSB7XG4gICAgICAgIGlmICghdGhpcy5zdGFnZSkge1xuICAgICAgICAgICAgY29uc3Qgc3RhZ2UgPSB0aGlzLnN0YWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHN0YWdlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zdGFnZTtcbiAgICB9XG5cbiAgICBfY3JlYXRlUGxvdEFyZWEoc2tpcFNlcmllcykge1xuICAgICAgICBjb25zdCBwbG90QXJlYSA9IHN1cGVyLl9jcmVhdGVQbG90QXJlYShza2lwU2VyaWVzKTtcbiAgICAgICAgdGhpcy5fYXV0b1dpZHRoID0gdGhpcy5faW5pdGlhbFdpZHRoIHx8IHRoaXMuX2NhbGN1bGF0ZVdpZHRoKHBsb3RBcmVhKTtcblxuICAgICAgICByZXR1cm4gcGxvdEFyZWE7XG4gICAgfVxuXG4gICAgX2NhbGN1bGF0ZVdpZHRoKHBsb3RBcmVhKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IG1hcmdpbiA9IGdldFNwYWNpbmcob3B0aW9ucy5jaGFydEFyZWEubWFyZ2luKTtcbiAgICAgICAgY29uc3QgY2hhcnRzID0gcGxvdEFyZWEuY2hhcnRzO1xuICAgICAgICBjb25zdCBzdGFnZSA9IHRoaXMuX3N1cmZhY2VXcmFwKCk7XG4gICAgICAgIGxldCB0b3RhbCA9IDA7XG5cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudENoYXJ0ID0gY2hhcnRzW2ldO1xuICAgICAgICAgICAgY29uc3QgZmlyc3RTZXJpZXMgPSAoY3VycmVudENoYXJ0Lm9wdGlvbnMuc2VyaWVzIHx8IFtdKVswXTtcbiAgICAgICAgICAgIGlmICghZmlyc3RTZXJpZXMpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZpcnN0U2VyaWVzLnR5cGUgPT09IEJBUikge1xuICAgICAgICAgICAgICAgIHJldHVybiBERUFVTFRfQkFSX1dJRFRIO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZmlyc3RTZXJpZXMudHlwZSA9PT0gQlVMTEVUKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIERFQVVMVF9CVUxMRVRfV0lEVEg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmaXJzdFNlcmllcy50eXBlID09PSBQSUUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudFNpemUoc3RhZ2UpLmhlaWdodDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnlBeGlzID0gY3VycmVudENoYXJ0LmNhdGVnb3J5QXhpcztcbiAgICAgICAgICAgIGlmIChjYXRlZ29yeUF4aXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwb2ludHNDb3VudCA9IGNhdGVnb3J5QXhpcy5jYXRlZ29yaWVzQ291bnQoKSAqXG4gICAgICAgICAgICAgICAgICAgICghY3VycmVudENoYXJ0Lm9wdGlvbnMuaXNTdGFja2VkICYmIGluQXJyYXkoZmlyc3RTZXJpZXMudHlwZSwgWyBDT0xVTU4sIFZFUlRJQ0FMX0JVTExFVCBdKSA/IGN1cnJlbnRDaGFydC5zZXJpZXNPcHRpb25zLmxlbmd0aCA6IDEpO1xuXG4gICAgICAgICAgICAgICAgdG90YWwgPSBNYXRoLm1heCh0b3RhbCwgcG9pbnRzQ291bnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNpemUgPSB0b3RhbCAqIG9wdGlvbnMucG9pbnRXaWR0aDtcbiAgICAgICAgaWYgKHNpemUgPiAwKSB7XG4gICAgICAgICAgICBzaXplICs9IG1hcmdpbi5sZWZ0ICsgbWFyZ2luLnJpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNpemU7XG4gICAgfVxuXG4gICAgX2NyZWF0ZVNoYXJlZFRvb2x0aXAob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IFNoYXJlZFRvb2x0aXAodGhpcy5fcGxvdEFyZWEsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBub3JtYWxpemVPcHRpb25zKHVzZXJPcHRpb25zKSB7XG4gICAgICAgIGxldCBvcHRpb25zID0gd3JhcE51bWJlcih1c2VyT3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKGlzQXJyYXkob3B0aW9ucykpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7IHNlcmllc0RlZmF1bHRzOiB7IGRhdGE6IG9wdGlvbnMgfSB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIG9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFvcHRpb25zLnNlcmllcykge1xuICAgICAgICAgICAgb3B0aW9ucy5zZXJpZXMgPSBbIHsgZGF0YTogd3JhcE51bWJlcihvcHRpb25zLmRhdGEpIH0gXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlZXBFeHRlbmQob3B0aW9ucywge1xuICAgICAgICAgICAgc2VyaWVzRGVmYXVsdHM6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBvcHRpb25zLnR5cGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGluQXJyYXkob3B0aW9ucy5zZXJpZXNbMF0udHlwZSwgTk9fQ1JPU1NIQUlSKSB8fFxuICAgICAgICAgICAgaW5BcnJheShvcHRpb25zLnNlcmllc0RlZmF1bHRzLnR5cGUsIE5PX0NST1NTSEFJUikpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCB7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnlBeGlzOiB7XG4gICAgICAgICAgICAgICAgICAgIGNyb3NzaGFpcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhTcGFya2xpbmUsIHtcbiAgICBjaGFydEFyZWE6IHtcbiAgICAgICAgbWFyZ2luOiAyXG4gICAgfSxcbiAgICBheGlzRGVmYXVsdHM6IHtcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG1ham9yR3JpZExpbmVzOiB7XG4gICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICB2YWx1ZUF4aXM6IHtcbiAgICAgICAgICAgIG5hcnJvd1JhbmdlOiB0cnVlXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNlcmllc0RlZmF1bHRzOiB7XG4gICAgICAgIHR5cGU6IFwibGluZVwiLFxuICAgICAgICBhcmVhOiB7XG4gICAgICAgICAgICBsaW5lOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDAuNVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBiYXI6IHtcbiAgICAgICAgICAgIHN0YWNrOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIHBhZGRpbmc6IDIsXG4gICAgICAgIHdpZHRoOiAwLjUsXG4gICAgICAgIG92ZXJsYXk6IHtcbiAgICAgICAgICAgIGdyYWRpZW50OiBudWxsXG4gICAgICAgIH0sXG4gICAgICAgIGhpZ2hsaWdodDoge1xuICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgYm9yZGVyOiB7XG4gICAgICAgICAgICB3aWR0aDogMFxuICAgICAgICB9LFxuICAgICAgICBtYXJrZXJzOiB7XG4gICAgICAgICAgICBzaXplOiAyLFxuICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdG9vbHRpcDoge1xuICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICBzaGFyZWQ6IHRydWVcbiAgICB9LFxuICAgIGNhdGVnb3J5QXhpczoge1xuICAgICAgICBjcm9zc2hhaXI6IHtcbiAgICAgICAgICAgIHZpc2libGU6IHRydWUsXG4gICAgICAgICAgICB0b29sdGlwOiB7XG4gICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgbGVnZW5kOiB7XG4gICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgfSxcbiAgICB0cmFuc2l0aW9uczogZmFsc2UsXG5cbiAgICBwb2ludFdpZHRoOiA1LFxuXG4gICAgcGFuZXM6IFsgeyBjbGlwOiBmYWxzZSB9IF1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBTcGFya2xpbmU7IiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgeyBpbnRlcnBvbGF0ZVZhbHVlLCBlbGVtZW50U3R5bGVzIH0gZnJvbSAnLi4vY29tbW9uJztcblxuY2xhc3MgRmFkZU91dEFuaW1hdGlvbiBleHRlbmRzIGRyYXcuQW5pbWF0aW9uIHtcblxuICAgIHNldHVwKCkge1xuICAgICAgICB0aGlzLl9pbml0aWFsT3BhY2l0eSA9IHBhcnNlRmxvYXQoZWxlbWVudFN0eWxlcyh0aGlzLmVsZW1lbnQsICdvcGFjaXR5Jykub3BhY2l0eSk7XG4gICAgfVxuXG4gICAgc3RlcChwb3MpIHtcbiAgICAgICAgZWxlbWVudFN0eWxlcyh0aGlzLmVsZW1lbnQsIHtcbiAgICAgICAgICAgIG9wYWNpdHk6IFN0cmluZyhpbnRlcnBvbGF0ZVZhbHVlKHRoaXMuX2luaXRpYWxPcGFjaXR5LCAwLCBwb3MpKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhYm9ydCgpIHtcbiAgICAgICAgc3VwZXIuYWJvcnQoKTtcbiAgICAgICAgZWxlbWVudFN0eWxlcyh0aGlzLmVsZW1lbnQsIHtcbiAgICAgICAgICAgIGRpc3BsYXk6ICdub25lJyxcbiAgICAgICAgICAgIG9wYWNpdHk6IFN0cmluZyh0aGlzLl9pbml0aWFsT3BhY2l0eSlcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY2FuY2VsKCkge1xuICAgICAgICBzdXBlci5hYm9ydCgpO1xuICAgICAgICBlbGVtZW50U3R5bGVzKHRoaXMuZWxlbWVudCwge1xuICAgICAgICAgICAgb3BhY2l0eTogU3RyaW5nKHRoaXMuX2luaXRpYWxPcGFjaXR5KVxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZhZGVPdXRBbmltYXRpb247IiwiaW1wb3J0IHsgQ2xhc3MsIGRlZXBFeHRlbmQsIGVsZW1lbnRTdHlsZXMsIGdldFRlbXBsYXRlLCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uL2NvbW1vbic7XG5pbXBvcnQgeyB0b0RhdGUsIHRvVGltZSB9IGZyb20gJy4uL2RhdGUtdXRpbHMnO1xuaW1wb3J0IEZhZGVPdXRBbmltYXRpb24gZnJvbSAnLi9mYWRlLW91dC1hbmltYXRpb24nO1xuXG5mdW5jdGlvbiBjcmVhdGVEaXYoY2xhc3NOYW1lLCBzdHlsZSkge1xuICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZGl2LmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgICBpZiAoc3R5bGUpIHtcbiAgICAgICAgZGl2LnN0eWxlLmNzc1RleHQgPSBzdHlsZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGl2O1xufVxuXG5jbGFzcyBOYXZpZ2F0b3JIaW50IGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lciwgY2hhcnRTZXJ2aWNlLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgIHRoaXMuY2hhcnRTZXJ2aWNlID0gY2hhcnRTZXJ2aWNlO1xuXG4gICAgICAgIGNvbnN0IHBhZGRpbmcgPSBlbGVtZW50U3R5bGVzKGNvbnRhaW5lciwgWyBcInBhZGRpbmdMZWZ0XCIsIFwicGFkZGluZ1RvcFwiIF0pO1xuICAgICAgICB0aGlzLmNoYXJ0UGFkZGluZyA9IHtcbiAgICAgICAgICAgIHRvcDogcGFkZGluZy5wYWRkaW5nVG9wLFxuICAgICAgICAgICAgbGVmdDogcGFkZGluZy5wYWRkaW5nTGVmdFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuY3JlYXRlRWxlbWVudHMoKTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudCk7XG4gICAgfVxuXG4gICAgY3JlYXRlRWxlbWVudHMoKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQgPSBjcmVhdGVEaXYoJ2stbmF2aWdhdG9yLWhpbnQnLCAnZGlzcGxheTogbm9uZTsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDFweDsgbGVmdDogMXB4OycpO1xuICAgICAgICBjb25zdCB0b29sdGlwID0gdGhpcy50b29sdGlwID0gY3JlYXRlRGl2KCdrLXRvb2x0aXAgay1jaGFydC10b29sdGlwJyk7XG4gICAgICAgIGNvbnN0IHNjcm9sbCA9IHRoaXMuc2Nyb2xsID0gY3JlYXRlRGl2KCdrLXNjcm9sbCcpO1xuXG4gICAgICAgIHRvb2x0aXAuaW5uZXJIVE1MID0gJyZuYnNwOyc7XG5cbiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZCh0b29sdGlwKTtcbiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChzY3JvbGwpO1xuICAgIH1cblxuICAgIHNob3coZnJvbSwgdG8sIGJib3gpIHtcbiAgICAgICAgY29uc3QgeyBlbGVtZW50LCBvcHRpb25zLCBzY3JvbGwsIHRvb2x0aXAgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IG1pZGRsZSA9IHRvRGF0ZSh0b1RpbWUoZnJvbSkgKyB0b1RpbWUodG8gLSBmcm9tKSAvIDIpO1xuICAgICAgICBjb25zdCBzY3JvbGxXaWR0aCA9IGJib3gud2lkdGgoKSAqIDAuNDtcbiAgICAgICAgY29uc3QgbWluUG9zID0gYmJveC5jZW50ZXIoKS54IC0gc2Nyb2xsV2lkdGg7XG4gICAgICAgIGNvbnN0IG1heFBvcyA9IGJib3guY2VudGVyKCkueDtcbiAgICAgICAgY29uc3QgcG9zUmFuZ2UgPSBtYXhQb3MgLSBtaW5Qb3M7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gb3B0aW9ucy5tYXggLSBvcHRpb25zLm1pbjtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBwb3NSYW5nZSAvIHJhbmdlO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSBtaWRkbGUgLSBvcHRpb25zLm1pbjtcbiAgICAgICAgbGV0IHRleHQgPSB0aGlzLmNoYXJ0U2VydmljZS5pbnRsLmZvcm1hdChvcHRpb25zLmZvcm1hdCwgZnJvbSwgdG8pO1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IGdldFRlbXBsYXRlKG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuY2xlYXJIaWRlVGltZW91dCgpO1xuXG4gICAgICAgIGlmICghdGhpcy5fdmlzaWJsZSkge1xuICAgICAgICAgICAgZWxlbWVudFN0eWxlcyhlbGVtZW50LCB7XG4gICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogJ2hpZGRlbicsXG4gICAgICAgICAgICAgICAgZGlzcGxheTogJ2Jsb2NrJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl92aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0ZW1wbGF0ZSkge1xuICAgICAgICAgICAgdGV4dCA9IHRlbXBsYXRlKHtcbiAgICAgICAgICAgICAgICBmcm9tOiBmcm9tLFxuICAgICAgICAgICAgICAgIHRvOiB0b1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0b29sdGlwLmlubmVySFRNTCA9IHRleHQ7XG4gICAgICAgIGVsZW1lbnRTdHlsZXModG9vbHRpcCwge1xuICAgICAgICAgICAgbGVmdDogYmJveC5jZW50ZXIoKS54IC0gdG9vbHRpcC5vZmZzZXRXaWR0aCAvIDIsXG4gICAgICAgICAgICB0b3A6IGJib3gueTFcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgdG9vbHRpcFN0eWxlID0gZWxlbWVudFN0eWxlcyh0b29sdGlwLCBbICdtYXJnaW5Ub3AnLCAnYm9yZGVyVG9wV2lkdGgnLCAnaGVpZ2h0JyBdKTtcblxuICAgICAgICBlbGVtZW50U3R5bGVzKHNjcm9sbCwge1xuICAgICAgICAgICAgd2lkdGg6IHNjcm9sbFdpZHRoLFxuICAgICAgICAgICAgbGVmdDogbWluUG9zICsgb2Zmc2V0ICogc2NhbGUsXG4gICAgICAgICAgICB0b3A6IGJib3gueTEgKyB0b29sdGlwU3R5bGUubWFyZ2luVG9wICsgdG9vbHRpcFN0eWxlLmJvcmRlclRvcFdpZHRoICsgdG9vbHRpcFN0eWxlLmhlaWdodCAvIDJcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZWxlbWVudFN0eWxlcyhlbGVtZW50LCB7XG4gICAgICAgICAgICB2aXNpYmlsaXR5OiAndmlzaWJsZSdcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY2xlYXJIaWRlVGltZW91dCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2hpZGVUaW1lb3V0KSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5faGlkZVRpbWVvdXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2hpZGVBbmltYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX2hpZGVBbmltYXRpb24uY2FuY2VsKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoaWRlKCkge1xuICAgICAgICB0aGlzLmNsZWFySGlkZVRpbWVvdXQoKTtcblxuICAgICAgICB0aGlzLl9oaWRlVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fdmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5faGlkZUFuaW1hdGlvbiA9IG5ldyBGYWRlT3V0QW5pbWF0aW9uKHRoaXMuZWxlbWVudCk7XG4gICAgICAgICAgICB0aGlzLl9oaWRlQW5pbWF0aW9uLnNldHVwKCk7XG4gICAgICAgICAgICB0aGlzLl9oaWRlQW5pbWF0aW9uLnBsYXkoKTtcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zLmhpZGVEZWxheSk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5jbGVhckhpZGVUaW1lb3V0KCk7XG4gICAgICAgIGlmICh0aGlzLmNvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgdGhpcy5jb250YWluZXI7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmNoYXJ0U2VydmljZTtcbiAgICAgICAgZGVsZXRlIHRoaXMuZWxlbWVudDtcbiAgICAgICAgZGVsZXRlIHRoaXMudG9vbHRpcDtcbiAgICAgICAgZGVsZXRlIHRoaXMuc2Nyb2xsO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoTmF2aWdhdG9ySGludCwge1xuICAgIGZvcm1hdDogXCJ7MDpkfSAtIHsxOmR9XCIsXG4gICAgaGlkZURlbGF5OiA1MDBcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBOYXZpZ2F0b3JIaW50OyIsImNvbnN0IE5BVklHQVRPUl9QQU5FID0gXCJfbmF2aWdhdG9yXCI7XG5jb25zdCBOQVZJR0FUT1JfQVhJUyA9IE5BVklHQVRPUl9QQU5FO1xuXG5leHBvcnQgeyBOQVZJR0FUT1JfQVhJUywgTkFWSUdBVE9SX1BBTkUgfTsiLCJpbXBvcnQgTmF2aWdhdG9ySGludCBmcm9tICcuL25hdmlnYXRvci1oaW50JztcbmltcG9ydCB7IFNlbGVjdGlvbiwgZmlsdGVyU2VyaWVzQnlUeXBlIH0gZnJvbSAnLi4vY2hhcnQnO1xuaW1wb3J0IHsgRFJBRywgRFJBR19FTkQsIEVRVUFMTFlfU1BBQ0VEX1NFUklFUywgWk9PTSwgWk9PTV9FTkQgfSBmcm9tICcuLi9jaGFydC9jb25zdGFudHMnO1xuaW1wb3J0IHsgRGF0ZUNhdGVnb3J5QXhpcyB9IGZyb20gJy4uL2NvcmUnO1xuaW1wb3J0IHsgYWRkRHVyYXRpb24sIHBhcnNlRGF0ZSwgdG9EYXRlLCB0b1RpbWUgfSBmcm9tICcuLi9kYXRlLXV0aWxzJztcbmltcG9ydCB7IENsYXNzLCBkZWVwRXh0ZW5kLCBkZWZpbmVkLCBnZXRUZW1wbGF0ZSwgSW5zdGFuY2VPYnNlcnZlciwgbGFzdCwgbGltaXRWYWx1ZSwgdmFsdWVPckRlZmF1bHQgfSBmcm9tICcuLi9jb21tb24nO1xuaW1wb3J0IHsgTkFWSUdBVE9SX0FYSVMsIE5BVklHQVRPUl9QQU5FIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG5jb25zdCBaT09NX0FDQ0VMRVJBVElPTiA9IDM7XG5cbmNsYXNzIE5hdmlnYXRvciBleHRlbmRzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcihjaGFydCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuY2hhcnQgPSBjaGFydDtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIHRoaXMub3B0aW9ucywgY2hhcnQub3B0aW9ucy5uYXZpZ2F0b3IpO1xuICAgICAgICBjb25zdCBzZWxlY3QgPSBvcHRpb25zLnNlbGVjdDtcbiAgICAgICAgaWYgKHNlbGVjdCkge1xuICAgICAgICAgICAgc2VsZWN0LmZyb20gPSB0aGlzLnBhcnNlRGF0ZShzZWxlY3QuZnJvbSk7XG4gICAgICAgICAgICBzZWxlY3QudG8gPSB0aGlzLnBhcnNlRGF0ZShzZWxlY3QudG8pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFkZWZpbmVkKG9wdGlvbnMuaGludC52aXNpYmxlKSkge1xuICAgICAgICAgICAgb3B0aW9ucy5oaW50LnZpc2libGUgPSBvcHRpb25zLnZpc2libGU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNoYXJ0T2JzZXJ2ZXIgPSBuZXcgSW5zdGFuY2VPYnNlcnZlcih0aGlzLCB7XG4gICAgICAgICAgICBbRFJBR106ICdfZHJhZycsXG4gICAgICAgICAgICBbRFJBR19FTkRdOiAnX2RyYWdFbmQnLFxuICAgICAgICAgICAgW1pPT01dOiAnX3pvb20nLFxuICAgICAgICAgICAgW1pPT01fRU5EXTogJ196b29tRW5kJ1xuICAgICAgICB9KTtcbiAgICAgICAgY2hhcnQuYWRkT2JzZXJ2ZXIodGhpcy5jaGFydE9ic2VydmVyKTtcbiAgICB9XG5cbiAgICBwYXJzZURhdGUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlRGF0ZSh0aGlzLmNoYXJ0LmNoYXJ0U2VydmljZS5pbnRsLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgY2xlYW4oKSB7XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24uZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24gPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaGludCkge1xuICAgICAgICAgICAgdGhpcy5oaW50LmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuaGludCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5jaGFydCkge1xuICAgICAgICAgICAgdGhpcy5jaGFydC5yZW1vdmVPYnNlcnZlcih0aGlzLmNoYXJ0T2JzZXJ2ZXIpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuY2hhcnQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNsZWFuKCk7XG4gICAgfVxuXG4gICAgcmVkcmF3KCkge1xuICAgICAgICB0aGlzLl9yZWRyYXdTZWxmKCk7XG4gICAgICAgIHRoaXMuaW5pdFNlbGVjdGlvbigpO1xuICAgIH1cblxuICAgIGluaXRTZWxlY3Rpb24oKSB7XG4gICAgICAgIGNvbnN0IHsgY2hhcnQsIG9wdGlvbnMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGF4aXMgPSB0aGlzLm1haW5BeGlzKCk7XG4gICAgICAgIGNvbnN0IHsgbWluLCBtYXggfSA9IGF4aXMucm91bmRlZFJhbmdlKCk7XG4gICAgICAgIGNvbnN0IHsgZnJvbSwgdG8sIG1vdXNld2hlZWwgfSA9IG9wdGlvbnMuc2VsZWN0O1xuICAgICAgICBjb25zdCBheGlzQ2xvbmUgPSBjbG9uZShheGlzKTtcblxuICAgICAgICBpZiAoYXhpcy5jYXRlZ29yaWVzQ291bnQoKSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jbGVhbigpO1xuXG4gICAgICAgIC8vIFwiRnJlZXplXCIgdGhlIHNlbGVjdGlvbiBheGlzIHBvc2l0aW9uIHVudGlsIHRoZSBuZXh0IHJlZHJhd1xuICAgICAgICBheGlzQ2xvbmUuYm94ID0gYXhpcy5ib3g7XG5cbiAgICAgICAgdGhpcy5zZWxlY3Rpb24gPSBuZXcgU2VsZWN0aW9uKGNoYXJ0LCBheGlzQ2xvbmUsIHtcbiAgICAgICAgICAgIG1pbjogbWluLFxuICAgICAgICAgICAgbWF4OiBtYXgsXG4gICAgICAgICAgICBmcm9tOiBmcm9tIHx8IG1pbixcbiAgICAgICAgICAgIHRvOiB0byB8fCBtYXgsXG4gICAgICAgICAgICBtb3VzZXdoZWVsOiB2YWx1ZU9yRGVmYXVsdChtb3VzZXdoZWVsLCB7IHpvb206IFwibGVmdFwiIH0pLFxuICAgICAgICAgICAgdmlzaWJsZTogb3B0aW9ucy52aXNpYmxlXG4gICAgICAgIH0sIG5ldyBJbnN0YW5jZU9ic2VydmVyKHRoaXMsIHtcbiAgICAgICAgICAgIHNlbGVjdFN0YXJ0OiAnX3NlbGVjdFN0YXJ0JyxcbiAgICAgICAgICAgIHNlbGVjdDogJ19zZWxlY3QnLFxuICAgICAgICAgICAgc2VsZWN0RW5kOiAnX3NlbGVjdEVuZCdcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmhpbnQudmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy5oaW50ID0gbmV3IE5hdmlnYXRvckhpbnQoY2hhcnQuZWxlbWVudCwgY2hhcnQuY2hhcnRTZXJ2aWNlLCB7XG4gICAgICAgICAgICAgICAgbWluOiBtaW4sXG4gICAgICAgICAgICAgICAgbWF4OiBtYXgsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6IGdldFRlbXBsYXRlKG9wdGlvbnMuaGludCksXG4gICAgICAgICAgICAgICAgZm9ybWF0OiBvcHRpb25zLmhpbnQuZm9ybWF0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldFJhbmdlKCkge1xuICAgICAgICBjb25zdCBwbG90QXJlYSA9IHRoaXMuY2hhcnQuX2NyZWF0ZVBsb3RBcmVhKHRydWUpO1xuICAgICAgICBjb25zdCBheGlzID0gcGxvdEFyZWEubmFtZWRDYXRlZ29yeUF4ZXNbTkFWSUdBVE9SX0FYSVNdO1xuXG4gICAgICAgIGNvbnN0IHsgbWluLCBtYXggfSA9IGF4aXMucm91bmRlZFJhbmdlKCk7XG5cbiAgICAgICAgY29uc3Qgc2VsZWN0ID0gdGhpcy5vcHRpb25zLnNlbGVjdCB8fCB7fTtcbiAgICAgICAgbGV0IGZyb20gPSBzZWxlY3QuZnJvbSB8fCBtaW47XG4gICAgICAgIGlmIChmcm9tIDwgbWluKSB7XG4gICAgICAgICAgICBmcm9tID0gbWluO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHRvID0gc2VsZWN0LnRvIHx8IG1heDtcbiAgICAgICAgaWYgKHRvID4gbWF4KSB7XG4gICAgICAgICAgICB0byA9IG1heDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub3B0aW9ucy5zZWxlY3QgPSBkZWVwRXh0ZW5kKHt9LCBzZWxlY3QsIHtcbiAgICAgICAgICAgIGZyb206IGZyb20sXG4gICAgICAgICAgICB0bzogdG9cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5maWx0ZXJBeGVzKCk7XG4gICAgfVxuXG4gICAgX3JlZHJhd1NlbGYoc2lsZW50KSB7XG4gICAgICAgIGNvbnN0IHBsb3RBcmVhID0gdGhpcy5jaGFydC5fcGxvdEFyZWE7XG5cbiAgICAgICAgaWYgKHBsb3RBcmVhKSB7XG4gICAgICAgICAgICBwbG90QXJlYS5yZWRyYXcobGFzdChwbG90QXJlYS5wYW5lcyksIHNpbGVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWRyYXdTbGF2ZXMoKSB7XG4gICAgICAgIGNvbnN0IGNoYXJ0ID0gdGhpcy5jaGFydDtcbiAgICAgICAgY29uc3QgcGxvdEFyZWEgPSBjaGFydC5fcGxvdEFyZWE7XG4gICAgICAgIGNvbnN0IHNsYXZlUGFuZXMgPSBwbG90QXJlYS5wYW5lcy5zbGljZSgwLCAtMSk7XG5cbiAgICAgICAgLy8gVXBkYXRlIHRoZSBvcmlnaW5hbCBzZXJpZXMgYW5kIGNhdGVnb3J5QXhpcyBiZWZvcmUgcGFydGlhbCByZWZyZXNoLlxuICAgICAgICBwbG90QXJlYS5zcmNTZXJpZXMgPSBjaGFydC5vcHRpb25zLnNlcmllcztcbiAgICAgICAgcGxvdEFyZWEub3B0aW9ucy5jYXRlZ29yeUF4aXMgPSBjaGFydC5vcHRpb25zLmNhdGVnb3J5QXhpcztcbiAgICAgICAgcGxvdEFyZWEuY2xlYXJTZXJpZXNQb2ludHNDYWNoZSgpO1xuXG4gICAgICAgIHBsb3RBcmVhLnJlZHJhdyhzbGF2ZVBhbmVzKTtcbiAgICB9XG5cbiAgICBfZHJhZyhlKSB7XG4gICAgICAgIGNvbnN0IHsgY2hhcnQsIHNlbGVjdGlvbiB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgY29vcmRzID0gY2hhcnQuX2V2ZW50Q29vcmRpbmF0ZXMoZS5vcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgY29uc3QgbmF2aWdhdG9yQXhpcyA9IHRoaXMubWFpbkF4aXMoKTtcbiAgICAgICAgY29uc3QgbmF2aVJhbmdlID0gbmF2aWdhdG9yQXhpcy5yb3VuZGVkUmFuZ2UoKTtcbiAgICAgICAgY29uc3QgaW5OYXZpZ2F0b3IgPSBuYXZpZ2F0b3JBeGlzLnBhbmUuYm94LmNvbnRhaW5zUG9pbnQoY29vcmRzKTtcbiAgICAgICAgY29uc3QgYXhpcyA9IGNoYXJ0Ll9wbG90QXJlYS5jYXRlZ29yeUF4aXM7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gZS5heGlzUmFuZ2VzW2F4aXMub3B0aW9ucy5uYW1lXTtcbiAgICAgICAgY29uc3Qgc2VsZWN0ID0gdGhpcy5vcHRpb25zLnNlbGVjdDtcbiAgICAgICAgbGV0IGR1cmF0aW9uO1xuXG4gICAgICAgIGlmICghcmFuZ2UgfHwgaW5OYXZpZ2F0b3IgfHwgIXNlbGVjdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlbGVjdC5mcm9tICYmIHNlbGVjdC50bykge1xuICAgICAgICAgICAgZHVyYXRpb24gPSB0b1RpbWUoc2VsZWN0LnRvKSAtIHRvVGltZShzZWxlY3QuZnJvbSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkdXJhdGlvbiA9IHRvVGltZShzZWxlY3Rpb24ub3B0aW9ucy50bykgLSB0b1RpbWUoc2VsZWN0aW9uLm9wdGlvbnMuZnJvbSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmcm9tID0gdG9EYXRlKGxpbWl0VmFsdWUoXG4gICAgICAgICAgICB0b1RpbWUocmFuZ2UubWluKSxcbiAgICAgICAgICAgIG5hdmlSYW5nZS5taW4sIHRvVGltZShuYXZpUmFuZ2UubWF4KSAtIGR1cmF0aW9uXG4gICAgICAgICkpO1xuXG4gICAgICAgIGNvbnN0IHRvID0gdG9EYXRlKGxpbWl0VmFsdWUoXG4gICAgICAgICAgICB0b1RpbWUoZnJvbSkgKyBkdXJhdGlvbixcbiAgICAgICAgICAgIHRvVGltZShuYXZpUmFuZ2UubWluKSArIGR1cmF0aW9uLCBuYXZpUmFuZ2UubWF4XG4gICAgICAgICkpO1xuXG4gICAgICAgIHRoaXMub3B0aW9ucy5zZWxlY3QgPSB7IGZyb206IGZyb20sIHRvOiB0byB9O1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubGl2ZURyYWcpIHtcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyQXhlcygpO1xuICAgICAgICAgICAgdGhpcy5yZWRyYXdTbGF2ZXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGVjdGlvbi5zZXQoZnJvbSwgdG8pO1xuXG4gICAgICAgIHRoaXMuc2hvd0hpbnQoZnJvbSwgdG8pO1xuICAgIH1cblxuICAgIF9kcmFnRW5kKCkge1xuICAgICAgICB0aGlzLmZpbHRlckF4ZXMoKTtcbiAgICAgICAgdGhpcy5maWx0ZXIoKTtcbiAgICAgICAgdGhpcy5yZWRyYXdTbGF2ZXMoKTtcblxuICAgICAgICBpZiAodGhpcy5oaW50KSB7XG4gICAgICAgICAgICB0aGlzLmhpbnQuaGlkZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVhZFNlbGVjdGlvbigpIHtcbiAgICAgICAgY29uc3QgeyBzZWxlY3Rpb246IHsgb3B0aW9uczogeyBmcm9tLCB0byB9IH0sIG9wdGlvbnM6IHsgc2VsZWN0IH0gfSA9IHRoaXM7XG5cbiAgICAgICAgc2VsZWN0LmZyb20gPSBmcm9tO1xuICAgICAgICBzZWxlY3QudG8gPSB0bztcbiAgICB9XG5cbiAgICBmaWx0ZXJBeGVzKCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnM6IHsgc2VsZWN0ID0geyB9IH0sIGNoYXJ0IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBhbGxBeGVzID0gY2hhcnQub3B0aW9ucy5jYXRlZ29yeUF4aXM7XG4gICAgICAgIGNvbnN0IHsgZnJvbSwgdG8gfSA9IHNlbGVjdDtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBhbGxBeGVzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF4aXMgPSBhbGxBeGVzW2lkeF07XG4gICAgICAgICAgICBpZiAoYXhpcy5wYW5lICE9PSBOQVZJR0FUT1JfUEFORSkge1xuICAgICAgICAgICAgICAgIGF4aXMubWluID0gZnJvbTtcbiAgICAgICAgICAgICAgICBheGlzLm1heCA9IHRvO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZmlsdGVyKCkge1xuICAgICAgICBjb25zdCB7IGNoYXJ0LCBvcHRpb25zOiB7IHNlbGVjdCB9IH0gPSB0aGlzO1xuXG4gICAgICAgIGlmICghY2hhcnQucmVxdWlyZXNIYW5kbGVycyhbIFwibmF2aWdhdG9yRmlsdGVyXCIgXSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1haW5BeGlzID0gdGhpcy5tYWluQXhpcygpO1xuICAgICAgICBjb25zdCBhcmdzID0ge1xuICAgICAgICAgICAgZnJvbTogc2VsZWN0LmZyb20sXG4gICAgICAgICAgICB0bzogc2VsZWN0LnRvXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKG1haW5BeGlzLm9wdGlvbnMudHlwZSAhPT0gJ2NhdGVnb3J5Jykge1xuICAgICAgICAgICAgY29uc3QgYXhpc09wdGlvbnMgPSBuZXcgRGF0ZUNhdGVnb3J5QXhpcyhkZWVwRXh0ZW5kKHtcbiAgICAgICAgICAgICAgICBiYXNlVW5pdDogXCJmaXRcIlxuICAgICAgICAgICAgfSwgY2hhcnQub3B0aW9ucy5jYXRlZ29yeUF4aXNbMF0sIHtcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzOiBbIHNlbGVjdC5mcm9tLCBzZWxlY3QudG8gXVxuICAgICAgICAgICAgfSksIGNoYXJ0LmNoYXJ0U2VydmljZSkub3B0aW9ucztcblxuICAgICAgICAgICAgYXJncy5mcm9tID0gYWRkRHVyYXRpb24oYXhpc09wdGlvbnMubWluLCAtYXhpc09wdGlvbnMuYmFzZVVuaXRTdGVwLCBheGlzT3B0aW9ucy5iYXNlVW5pdCk7XG4gICAgICAgICAgICBhcmdzLnRvID0gYWRkRHVyYXRpb24oYXhpc09wdGlvbnMubWF4LCBheGlzT3B0aW9ucy5iYXNlVW5pdFN0ZXAsIGF4aXNPcHRpb25zLmJhc2VVbml0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2hhcnQudHJpZ2dlcihcIm5hdmlnYXRvckZpbHRlclwiLCBhcmdzKTtcbiAgICB9XG5cbiAgICBfem9vbShlKSB7XG4gICAgICAgIGNvbnN0IHsgY2hhcnQ6IHsgX3Bsb3RBcmVhOiB7IGNhdGVnb3J5QXhpczogYXhpcyB9IH0sIHNlbGVjdGlvbiwgb3B0aW9uczogeyBzZWxlY3QsIGxpdmVEcmFnIH0gfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IG1haW5BeGlzID0gdGhpcy5tYWluQXhpcygpO1xuICAgICAgICBsZXQgZGVsdGEgPSBlLmRlbHRhO1xuXG4gICAgICAgIGlmICghc2VsZWN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmcm9tSXggPSBtYWluQXhpcy5jYXRlZ29yeUluZGV4KHNlbGVjdGlvbi5vcHRpb25zLmZyb20pO1xuICAgICAgICBjb25zdCB0b0l4ID0gbWFpbkF4aXMuY2F0ZWdvcnlJbmRleChzZWxlY3Rpb24ub3B0aW9ucy50byk7XG5cbiAgICAgICAgZS5vcmlnaW5hbEV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgaWYgKE1hdGguYWJzKGRlbHRhKSA+IDEpIHtcbiAgICAgICAgICAgIGRlbHRhICo9IFpPT01fQUNDRUxFUkFUSU9OO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRvSXggLSBmcm9tSXggPiAxKSB7XG4gICAgICAgICAgICBzZWxlY3Rpb24uZXhwYW5kKGRlbHRhKTtcbiAgICAgICAgICAgIHRoaXMucmVhZFNlbGVjdGlvbigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXhpcy5vcHRpb25zLm1pbiA9IHNlbGVjdC5mcm9tO1xuICAgICAgICAgICAgc2VsZWN0LmZyb20gPSBheGlzLnNjYWxlUmFuZ2UoLWUuZGVsdGEpLm1pbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsaXZlRHJhZykge1xuICAgICAgICAgICAgdGhpcy5maWx0ZXJBeGVzKCk7XG4gICAgICAgICAgICB0aGlzLnJlZHJhd1NsYXZlcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZWN0aW9uLnNldChzZWxlY3QuZnJvbSwgc2VsZWN0LnRvKTtcblxuICAgICAgICB0aGlzLnNob3dIaW50KHRoaXMub3B0aW9ucy5zZWxlY3QuZnJvbSwgdGhpcy5vcHRpb25zLnNlbGVjdC50byk7XG4gICAgfVxuXG4gICAgX3pvb21FbmQoZSkge1xuICAgICAgICB0aGlzLl9kcmFnRW5kKGUpO1xuICAgIH1cblxuICAgIHNob3dIaW50KGZyb20sIHRvKSB7XG4gICAgICAgIGNvbnN0IHBsb3RBcmVhID0gdGhpcy5jaGFydC5fcGxvdEFyZWE7XG5cbiAgICAgICAgaWYgKHRoaXMuaGludCkge1xuICAgICAgICAgICAgdGhpcy5oaW50LnNob3coZnJvbSwgdG8sIHBsb3RBcmVhLmJhY2tncm91bmRCb3goKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc2VsZWN0U3RhcnQoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFydC5fc2VsZWN0U3RhcnQoZSk7XG4gICAgfVxuXG4gICAgX3NlbGVjdChlKSB7XG4gICAgICAgIHRoaXMuc2hvd0hpbnQoZS5mcm9tLCBlLnRvKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5jaGFydC5fc2VsZWN0KGUpO1xuICAgIH1cblxuICAgIF9zZWxlY3RFbmQoZSkge1xuICAgICAgICBpZiAodGhpcy5oaW50KSB7XG4gICAgICAgICAgICB0aGlzLmhpbnQuaGlkZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZWFkU2VsZWN0aW9uKCk7XG4gICAgICAgIHRoaXMuZmlsdGVyQXhlcygpO1xuICAgICAgICB0aGlzLmZpbHRlcigpO1xuICAgICAgICB0aGlzLnJlZHJhd1NsYXZlcygpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmNoYXJ0Ll9zZWxlY3RFbmQoZSk7XG4gICAgfVxuXG4gICAgbWFpbkF4aXMoKSB7XG4gICAgICAgIGNvbnN0IHBsb3RBcmVhID0gdGhpcy5jaGFydC5fcGxvdEFyZWE7XG5cbiAgICAgICAgaWYgKHBsb3RBcmVhKSB7XG4gICAgICAgICAgICByZXR1cm4gcGxvdEFyZWEubmFtZWRDYXRlZ29yeUF4ZXNbTkFWSUdBVE9SX0FYSVNdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2VsZWN0KGZyb20sIHRvKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdCA9IHRoaXMub3B0aW9ucy5zZWxlY3Q7XG5cbiAgICAgICAgaWYgKGZyb20gJiYgdG8pIHtcbiAgICAgICAgICAgIHNlbGVjdC5mcm9tID0gdGhpcy5wYXJzZURhdGUoZnJvbSk7XG4gICAgICAgICAgICBzZWxlY3QudG8gPSB0aGlzLnBhcnNlRGF0ZSh0byk7XG5cbiAgICAgICAgICAgIHRoaXMuZmlsdGVyQXhlcygpO1xuICAgICAgICAgICAgdGhpcy5maWx0ZXIoKTtcbiAgICAgICAgICAgIHRoaXMucmVkcmF3U2xhdmVzKCk7XG5cbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLnNldChmcm9tLCB0byk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZnJvbTogc2VsZWN0LmZyb20sXG4gICAgICAgICAgICB0bzogc2VsZWN0LnRvXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc3RhdGljIHNldHVwKG9wdGlvbnMgPSB7fSwgdGhlbWVPcHRpb25zID0ge30pIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuX19uYXZpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucy5fX25hdmkgPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IG5hdmlPcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgdGhlbWVPcHRpb25zLm5hdmlnYXRvciwgb3B0aW9ucy5uYXZpZ2F0b3IpO1xuICAgICAgICBjb25zdCBwYW5lcyA9IG9wdGlvbnMucGFuZXMgPSBbXS5jb25jYXQob3B0aW9ucy5wYW5lcyk7XG4gICAgICAgIGNvbnN0IHBhbmVPcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgbmF2aU9wdGlvbnMucGFuZSwgeyBuYW1lOiBOQVZJR0FUT1JfUEFORSB9KTtcblxuICAgICAgICBpZiAoIW5hdmlPcHRpb25zLnZpc2libGUpIHtcbiAgICAgICAgICAgIHBhbmVPcHRpb25zLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHBhbmVPcHRpb25zLmhlaWdodCA9IDAuMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhbmVzLnB1c2gocGFuZU9wdGlvbnMpO1xuXG4gICAgICAgIE5hdmlnYXRvci5hdHRhY2hBeGVzKG9wdGlvbnMsIG5hdmlPcHRpb25zKTtcbiAgICAgICAgTmF2aWdhdG9yLmF0dGFjaFNlcmllcyhvcHRpb25zLCBuYXZpT3B0aW9ucywgdGhlbWVPcHRpb25zKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgYXR0YWNoQXhlcyhvcHRpb25zLCBuYXZpT3B0aW9ucykge1xuICAgICAgICBjb25zdCBzZXJpZXMgPSBuYXZpT3B0aW9ucy5zZXJpZXMgfHwgW107XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5QXhlcyA9IG9wdGlvbnMuY2F0ZWdvcnlBeGlzID0gW10uY29uY2F0KG9wdGlvbnMuY2F0ZWdvcnlBeGlzKTtcbiAgICAgICAgY29uc3QgdmFsdWVBeGVzID0gb3B0aW9ucy52YWx1ZUF4aXMgPSBbXS5jb25jYXQob3B0aW9ucy52YWx1ZUF4aXMpO1xuXG4gICAgICAgIGNvbnN0IGVxdWFsbHlTcGFjZWRTZXJpZXMgPSBmaWx0ZXJTZXJpZXNCeVR5cGUoc2VyaWVzLCBFUVVBTExZX1NQQUNFRF9TRVJJRVMpO1xuICAgICAgICBjb25zdCBqdXN0aWZ5QXhpcyA9IGVxdWFsbHlTcGFjZWRTZXJpZXMubGVuZ3RoID09PSAwO1xuXG4gICAgICAgIGNvbnN0IGJhc2UgPSBkZWVwRXh0ZW5kKHtcbiAgICAgICAgICAgIHR5cGU6IFwiZGF0ZVwiLFxuICAgICAgICAgICAgcGFuZTogTkFWSUdBVE9SX1BBTkUsXG4gICAgICAgICAgICByb3VuZFRvQmFzZVVuaXQ6ICFqdXN0aWZ5QXhpcyxcbiAgICAgICAgICAgIGp1c3RpZmllZDoganVzdGlmeUF4aXMsXG4gICAgICAgICAgICBfY29sbGFwc2U6IGZhbHNlLFxuICAgICAgICAgICAgbWFqb3JUaWNrczogeyB2aXNpYmxlOiB0cnVlIH0sXG4gICAgICAgICAgICB0b29sdGlwOiB7IHZpc2libGU6IGZhbHNlIH0sXG4gICAgICAgICAgICBsYWJlbHM6IHsgc3RlcDogMSB9LFxuICAgICAgICAgICAgYXV0b0JpbmQ6IG5hdmlPcHRpb25zLmF1dG9CaW5kRWxlbWVudHMsXG4gICAgICAgICAgICBhdXRvQmFzZVVuaXRTdGVwczoge1xuICAgICAgICAgICAgICAgIG1pbnV0ZXM6IFsgMSBdLFxuICAgICAgICAgICAgICAgIGhvdXJzOiBbIDEsIDIgXSxcbiAgICAgICAgICAgICAgICBkYXlzOiBbIDEsIDIgXSxcbiAgICAgICAgICAgICAgICB3ZWVrczogW10sXG4gICAgICAgICAgICAgICAgbW9udGhzOiBbIDEgXSxcbiAgICAgICAgICAgICAgICB5ZWFyczogWyAxIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBuYXZpT3B0aW9ucy5jYXRlZ29yeUF4aXM7XG5cbiAgICAgICAgY2F0ZWdvcnlBeGVzLnB1c2goXG4gICAgICAgICAgICBkZWVwRXh0ZW5kKHt9LCBiYXNlLCB7XG4gICAgICAgICAgICAgICAgbWF4RGF0ZUdyb3VwczogMjAwXG4gICAgICAgICAgICB9LCB1c2VyLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogTkFWSUdBVE9SX0FYSVMsXG4gICAgICAgICAgICAgICAgdGl0bGU6IG51bGwsXG4gICAgICAgICAgICAgICAgYmFzZVVuaXQ6IFwiZml0XCIsXG4gICAgICAgICAgICAgICAgYmFzZVVuaXRTdGVwOiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICBsYWJlbHM6IHsgdmlzaWJsZTogZmFsc2UgfSxcbiAgICAgICAgICAgICAgICBtYWpvclRpY2tzOiB7IHZpc2libGU6IGZhbHNlIH1cbiAgICAgICAgICAgIH0pLCBkZWVwRXh0ZW5kKHt9LCBiYXNlLCB1c2VyLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogTkFWSUdBVE9SX0FYSVMgKyBcIl9sYWJlbHNcIixcbiAgICAgICAgICAgICAgICBtYXhEYXRlR3JvdXBzOiAyMCxcbiAgICAgICAgICAgICAgICBiYXNlVW5pdFN0ZXA6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgIGxhYmVsczogeyBwb3NpdGlvbjogXCJcIiB9LFxuICAgICAgICAgICAgICAgIHBsb3RCYW5kczogW10sXG4gICAgICAgICAgICAgICAgYXV0b0Jhc2VVbml0U3RlcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgbWludXRlczogW11cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF9vdmVybGFwOiB0cnVlXG4gICAgICAgICAgICB9KSwgZGVlcEV4dGVuZCh7fSwgYmFzZSwgdXNlciwge1xuICAgICAgICAgICAgICAgIG5hbWU6IE5BVklHQVRPUl9BWElTICsgXCJfdGlja3NcIixcbiAgICAgICAgICAgICAgICBtYXhEYXRlR3JvdXBzOiAyMDAsXG4gICAgICAgICAgICAgICAgbWFqb3JUaWNrczoge1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogMC41XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwbG90QmFuZHM6IFtdLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBudWxsLFxuICAgICAgICAgICAgICAgIGxhYmVsczogeyB2aXNpYmxlOiBmYWxzZSwgbWlycm9yOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgX292ZXJsYXA6IHRydWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG5cbiAgICAgICAgdmFsdWVBeGVzLnB1c2goZGVlcEV4dGVuZCh7XG4gICAgICAgICAgICBuYW1lOiBOQVZJR0FUT1JfQVhJUyxcbiAgICAgICAgICAgIHBhbmU6IE5BVklHQVRPUl9QQU5FLFxuICAgICAgICAgICAgbWFqb3JHcmlkTGluZXM6IHtcbiAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgICAgIH0sIG5hdmlPcHRpb25zLnZhbHVlQXhpcykpO1xuICAgIH1cblxuICAgIHN0YXRpYyBhdHRhY2hTZXJpZXMob3B0aW9ucywgbmF2aU9wdGlvbnMsIHRoZW1lT3B0aW9ucykge1xuICAgICAgICBjb25zdCBzZXJpZXMgPSBvcHRpb25zLnNlcmllcyA9IG9wdGlvbnMuc2VyaWVzIHx8IFtdO1xuICAgICAgICBjb25zdCBuYXZpZ2F0b3JTZXJpZXMgPSBbXS5jb25jYXQobmF2aU9wdGlvbnMuc2VyaWVzIHx8IFtdKTtcbiAgICAgICAgY29uc3Qgc2VyaWVzQ29sb3JzID0gdGhlbWVPcHRpb25zLnNlcmllc0NvbG9ycztcbiAgICAgICAgY29uc3QgZGVmYXVsdHMgPSBuYXZpT3B0aW9ucy5zZXJpZXNEZWZhdWx0cztcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBuYXZpZ2F0b3JTZXJpZXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgc2VyaWVzLnB1c2goXG4gICAgICAgICAgICAgICAgZGVlcEV4dGVuZCh7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBzZXJpZXNDb2xvcnNbaWR4ICUgc2VyaWVzQ29sb3JzLmxlbmd0aF0sXG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5RmllbGQ6IG5hdmlPcHRpb25zLmRhdGVGaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZUluTGVnZW5kOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIGRlZmF1bHRzLCBuYXZpZ2F0b3JTZXJpZXNbaWR4XSwge1xuICAgICAgICAgICAgICAgICAgICBheGlzOiBOQVZJR0FUT1JfQVhJUyxcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlBeGlzOiBOQVZJR0FUT1JfQVhJUyxcbiAgICAgICAgICAgICAgICAgICAgYXV0b0JpbmQ6IG5hdmlPcHRpb25zLmF1dG9CaW5kRWxlbWVudHNcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gQ2xvbmVkT2JqZWN0KCkgeyB9XG5mdW5jdGlvbiBjbG9uZShvYmopIHtcbiAgICBDbG9uZWRPYmplY3QucHJvdG90eXBlID0gb2JqO1xuICAgIHJldHVybiBuZXcgQ2xvbmVkT2JqZWN0KCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IE5hdmlnYXRvcjtcbiIsImltcG9ydCB7IENoYXJ0IH0gZnJvbSAnLi4vY2hhcnQnO1xuXG5pbXBvcnQgTmF2aWdhdG9yIGZyb20gJy4vbmF2aWdhdG9yJztcbmltcG9ydCB7IERFRkFVTFRfV0lEVEggfSBmcm9tICcuLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGFkZENsYXNzLCBkZWVwRXh0ZW5kLCBlbGVtZW50U2l6ZSwgZ3JlcCwgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi9jb21tb24nO1xuaW1wb3J0IHsgTkFWSUdBVE9SX0FYSVMsIE5BVklHQVRPUl9QQU5FIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG5jb25zdCBBVVRPX0NBVEVHT1JZX1dJRFRIID0gMjg7XG5cbmNsYXNzIFN0b2NrQ2hhcnQgZXh0ZW5kcyBDaGFydCB7XG5cbiAgICBhcHBseURlZmF1bHRzKG9wdGlvbnMsIHRoZW1lT3B0aW9ucykge1xuICAgICAgICBjb25zdCB3aWR0aCA9IGVsZW1lbnRTaXplKHRoaXMuZWxlbWVudCkud2lkdGggfHwgREVGQVVMVF9XSURUSDtcbiAgICAgICAgbGV0IHRoZW1lID0gdGhlbWVPcHRpb25zO1xuXG4gICAgICAgIGNvbnN0IHN0b2NrRGVmYXVsdHMgPSB7XG4gICAgICAgICAgICBzZXJpZXNEZWZhdWx0czoge1xuICAgICAgICAgICAgICAgIGNhdGVnb3J5RmllbGQ6IG9wdGlvbnMuZGF0ZUZpZWxkXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXhpc0RlZmF1bHRzOiB7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnlBeGlzOiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiZGVmYXVsdFwiLFxuICAgICAgICAgICAgICAgICAgICBtYWpvckdyaWRMaW5lczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVwOiAyXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG1ham9yVGlja3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG1heERhdGVHcm91cHM6IE1hdGguZmxvb3Iod2lkdGggLyBBVVRPX0NBVEVHT1JZX1dJRFRIKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodGhlbWUpIHtcbiAgICAgICAgICAgIHRoZW1lID0gZGVlcEV4dGVuZCh7fSwgdGhlbWUsIHN0b2NrRGVmYXVsdHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgTmF2aWdhdG9yLnNldHVwKG9wdGlvbnMsIHRoZW1lKTtcblxuICAgICAgICBzdXBlci5hcHBseURlZmF1bHRzKG9wdGlvbnMsIHRoZW1lKTtcbiAgICB9XG5cbiAgICBfc2V0RWxlbWVudENsYXNzKGVsZW1lbnQpIHtcbiAgICAgICAgYWRkQ2xhc3MoZWxlbWVudCwgJ2stY2hhcnQgay1zdG9ja2NoYXJ0Jyk7XG4gICAgfVxuXG4gICAgc2V0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuZGVzdHJveU5hdmlnYXRvcigpO1xuICAgICAgICBzdXBlci5zZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgIH1cblxuICAgIG5vVHJhbnNpdGlvbnNSZWRyYXcoKSB7XG4gICAgICAgIGNvbnN0IHRyYW5zaXRpb25zID0gdGhpcy5vcHRpb25zLnRyYW5zaXRpb25zO1xuXG4gICAgICAgIHRoaXMub3B0aW9ucy50cmFuc2l0aW9ucyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9mdWxsUmVkcmF3KCk7XG4gICAgICAgIHRoaXMub3B0aW9ucy50cmFuc2l0aW9ucyA9IHRyYW5zaXRpb25zO1xuICAgIH1cblxuICAgIF9yZXNpemUoKSB7XG4gICAgICAgIHRoaXMubm9UcmFuc2l0aW9uc1JlZHJhdygpO1xuICAgIH1cblxuICAgIF9yZWRyYXcoKSB7XG4gICAgICAgIGNvbnN0IG5hdmlnYXRvciA9IHRoaXMubmF2aWdhdG9yO1xuXG4gICAgICAgIGlmICghdGhpcy5fZGlydHkoKSAmJiBuYXZpZ2F0b3IgJiYgbmF2aWdhdG9yLm9wdGlvbnMucGFydGlhbFJlZHJhdykge1xuICAgICAgICAgICAgbmF2aWdhdG9yLnJlZHJhd1NsYXZlcygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZnVsbFJlZHJhdygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2RpcnR5KCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBzZXJpZXMgPSBbXS5jb25jYXQob3B0aW9ucy5zZXJpZXMsIG9wdGlvbnMubmF2aWdhdG9yLnNlcmllcyk7XG4gICAgICAgIGNvbnN0IHNlcmllc0NvdW50ID0gZ3JlcChzZXJpZXMsIGZ1bmN0aW9uKHMpIHsgcmV0dXJuIHMgJiYgcy52aXNpYmxlOyB9KS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGRpcnR5ID0gdGhpcy5fc2VyaWVzQ291bnQgIT09IHNlcmllc0NvdW50O1xuICAgICAgICB0aGlzLl9zZXJpZXNDb3VudCA9IHNlcmllc0NvdW50O1xuXG4gICAgICAgIHJldHVybiBkaXJ0eTtcbiAgICB9XG5cbiAgICBfZnVsbFJlZHJhdygpIHtcbiAgICAgICAgbGV0IG5hdmlnYXRvciA9IHRoaXMubmF2aWdhdG9yO1xuXG4gICAgICAgIGlmICghbmF2aWdhdG9yKSB7XG4gICAgICAgICAgICBuYXZpZ2F0b3IgPSB0aGlzLm5hdmlnYXRvciA9IG5ldyBOYXZpZ2F0b3IodGhpcyk7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIoXCJuYXZpZ2F0b3JDcmVhdGVkXCIsIHsgbmF2aWdhdG9yOiBuYXZpZ2F0b3IgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBuYXZpZ2F0b3IuY2xlYW4oKTtcbiAgICAgICAgbmF2aWdhdG9yLnNldFJhbmdlKCk7XG5cbiAgICAgICAgc3VwZXIuX3JlZHJhdygpO1xuXG4gICAgICAgIG5hdmlnYXRvci5pbml0U2VsZWN0aW9uKCk7XG4gICAgfVxuXG4gICAgX3RyYWNrU2hhcmVkVG9vbHRpcChjb29yZHMpIHtcbiAgICAgICAgY29uc3QgcGxvdEFyZWEgPSB0aGlzLl9wbG90QXJlYTtcbiAgICAgICAgY29uc3QgcGFuZSA9IHBsb3RBcmVhLnBhbmVCeVBvaW50KGNvb3Jkcyk7XG5cbiAgICAgICAgaWYgKHBhbmUgJiYgcGFuZS5vcHRpb25zLm5hbWUgPT09IE5BVklHQVRPUl9QQU5FKSB7XG4gICAgICAgICAgICB0aGlzLl91bnNldEFjdGl2ZVBvaW50KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdXBlci5fdHJhY2tTaGFyZWRUb29sdGlwKGNvb3Jkcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBiaW5kQ2F0ZWdvcmllcygpIHtcbiAgICAgICAgc3VwZXIuYmluZENhdGVnb3JpZXMoKTtcbiAgICAgICAgdGhpcy5jb3B5TmF2aWdhdG9yQ2F0ZWdvcmllcygpO1xuICAgIH1cblxuICAgIGNvcHlOYXZpZ2F0b3JDYXRlZ29yaWVzKCkge1xuICAgICAgICBjb25zdCBkZWZpbml0aW9ucyA9IFtdLmNvbmNhdCh0aGlzLm9wdGlvbnMuY2F0ZWdvcnlBeGlzKTtcbiAgICAgICAgbGV0IGNhdGVnb3JpZXM7XG5cbiAgICAgICAgZm9yIChsZXQgYXhpc0l4ID0gMDsgYXhpc0l4IDwgZGVmaW5pdGlvbnMubGVuZ3RoOyBheGlzSXgrKykge1xuICAgICAgICAgICAgY29uc3QgYXhpcyA9IGRlZmluaXRpb25zW2F4aXNJeF07XG4gICAgICAgICAgICBpZiAoYXhpcy5uYW1lID09PSBOQVZJR0FUT1JfQVhJUykge1xuICAgICAgICAgICAgICAgIGNhdGVnb3JpZXMgPSBheGlzLmNhdGVnb3JpZXM7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNhdGVnb3JpZXMgJiYgYXhpcy5wYW5lID09PSBOQVZJR0FUT1JfUEFORSkge1xuICAgICAgICAgICAgICAgIGF4aXMuY2F0ZWdvcmllcyA9IGNhdGVnb3JpZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZXN0cm95TmF2aWdhdG9yKCkge1xuICAgICAgICBpZiAodGhpcy5uYXZpZ2F0b3IpIHtcbiAgICAgICAgICAgIHRoaXMubmF2aWdhdG9yLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMubmF2aWdhdG9yID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuZGVzdHJveU5hdmlnYXRvcigpO1xuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgX3N0b3BDaGFydEhhbmRsZXJzKGUpIHtcbiAgICAgICAgY29uc3QgY29vcmRzID0gdGhpcy5fZXZlbnRDb29yZGluYXRlcyhlKTtcbiAgICAgICAgY29uc3QgcGFuZSA9IHRoaXMuX3Bsb3RBcmVhLnBhbmVCeVBvaW50KGNvb3Jkcyk7XG5cbiAgICAgICAgcmV0dXJuIHN1cGVyLl9zdG9wQ2hhcnRIYW5kbGVycyhlKSB8fCAocGFuZSAmJiBwYW5lLm9wdGlvbnMubmFtZSA9PT0gTkFWSUdBVE9SX1BBTkUpO1xuICAgIH1cblxuICAgIF90b2dnbGVEcmFnWm9vbUV2ZW50cygpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9kcmFnWm9vbUVuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS50b3VjaEFjdGlvbiA9IFwibm9uZVwiO1xuXG4gICAgICAgICAgICB0aGlzLl9kcmFnWm9vbUVuYWJsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhTdG9ja0NoYXJ0LCB7XG4gICAgZGF0ZUZpZWxkOiBcImRhdGVcIixcbiAgICBheGlzRGVmYXVsdHM6IHtcbiAgICAgICAgY2F0ZWdvcnlBeGlzOiB7XG4gICAgICAgICAgICB0eXBlOiBcImRhdGVcIixcbiAgICAgICAgICAgIGJhc2VVbml0OiBcImZpdFwiLFxuICAgICAgICAgICAganVzdGlmaWVkOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIHZhbHVlQXhpczoge1xuICAgICAgICAgICAgbmFycm93UmFuZ2U6IHRydWUsXG4gICAgICAgICAgICBsYWJlbHM6IHtcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IFwiQ1wiXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIG5hdmlnYXRvcjoge1xuICAgICAgICBzZWxlY3Q6IHt9LFxuICAgICAgICBzZXJpZXNEZWZhdWx0czoge1xuICAgICAgICAgICAgbWFya2Vyczoge1xuICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG9vbHRpcDoge1xuICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsaW5lOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaGludDoge30sXG4gICAgICAgIHZpc2libGU6IHRydWVcbiAgICB9LFxuICAgIHRvb2x0aXA6IHtcbiAgICAgICAgdmlzaWJsZTogdHJ1ZVxuICAgIH0sXG4gICAgbGVnZW5kOiB7XG4gICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFN0b2NrQ2hhcnQ7IiwiY29uc3QgQU5HVUxBUl9TUEVFRCA9IDE1MDtcbmNvbnN0IExJTkVBUl9TUEVFRCA9IDI1MDtcbmNvbnN0IEFSUk9XID0gXCJhcnJvd1wiO1xuY29uc3QgQVJST1dfUE9JTlRFUiA9IFwiYXJyb3dQb2ludGVyXCI7XG5jb25zdCBCQVJfUE9JTlRFUiA9IFwiYmFyUG9pbnRlclwiO1xuY29uc3QgREVGQVVMVF9IRUlHSFQgPSAyMDA7XG5jb25zdCBERUZBVUxUX0xJTkVfV0lEVEggPSAwLjU7XG5jb25zdCBERUZBVUxUX1dJRFRIID0gMjAwO1xuY29uc3QgREVHUkVFID0gTWF0aC5QSSAvIDE4MDtcbmNvbnN0IElOU0lERSA9IFwiaW5zaWRlXCI7XG5jb25zdCBMSU5FQVIgPSBcImxpbmVhclwiO1xuY29uc3QgT1VUU0lERSA9IFwib3V0c2lkZVwiO1xuY29uc3QgUkFESUFMX1BPSU5URVIgPSBcInJhZGlhbFBvaW50ZXJcIjtcbmNvbnN0IFJBRElBTF9SQU5HRV9QT0lOVEVSID0gXCJyYWRpYWxSYW5nZVBvaW50ZXJcIjtcblxuZXhwb3J0IHtcbiAgICBBTkdVTEFSX1NQRUVELCBMSU5FQVJfU1BFRUQsIEFSUk9XLCBBUlJPV19QT0lOVEVSLCBCQVJfUE9JTlRFUixcbiAgICBERUZBVUxUX0hFSUdIVCwgREVGQVVMVF9MSU5FX1dJRFRILCBERUZBVUxUX1dJRFRILFxuICAgIERFR1JFRSwgSU5TSURFLCBMSU5FQVIsIE9VVFNJREUsIFJBRElBTF9QT0lOVEVSLCBSQURJQUxfUkFOR0VfUE9JTlRFUlxufTsiLCJpbXBvcnQgeyBnZXRTcGFjaW5nIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcGFkKGJib3gsIHZhbHVlKSB7XG4gICAgY29uc3Qgb3JpZ2luID0gYmJveC5nZXRPcmlnaW4oKTtcbiAgICBjb25zdCBzaXplID0gYmJveC5nZXRTaXplKCk7XG4gICAgY29uc3Qgc3BhY2luZyA9IGdldFNwYWNpbmcodmFsdWUpO1xuXG4gICAgYmJveC5zZXRPcmlnaW4oWyBvcmlnaW4ueCAtIHNwYWNpbmcubGVmdCwgb3JpZ2luLnkgLSBzcGFjaW5nLnRvcCBdKTtcbiAgICBiYm94LnNldFNpemUoWyBzaXplLndpZHRoICsgKHNwYWNpbmcubGVmdCArIHNwYWNpbmcucmlnaHQpLCBzaXplLmhlaWdodCArIChzcGFjaW5nLnRvcCArIHNwYWNpbmcuYm90dG9tKSBdKTtcblxuICAgIHJldHVybiBiYm94O1xufSIsImltcG9ydCB7IGdlb21ldHJ5IGFzIGdlbywgZHJhd2luZyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcbmltcG9ydCBwYWQgZnJvbSAnLi9wYWQnO1xuXG5jb25zdCB7IEdyb3VwLCBQYXRoLCBUZXh0IH0gPSBkcmF3aW5nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBidWlsZExhYmVsRWxlbWVudChsYWJlbCwgb3B0aW9ucykge1xuICAgIGNvbnN0IGxhYmVsQm94ID0gbGFiZWwuYm94O1xuICAgIGNvbnN0IHRleHRCb3ggPSBsYWJlbC5jaGlsZHJlblswXS5ib3g7XG4gICAgY29uc3QgYm9yZGVyID0gb3B0aW9ucy5ib3JkZXIgfHwge307XG4gICAgY29uc3QgYmFja2dyb3VuZCA9IG9wdGlvbnMuYmFja2dyb3VuZCB8fCBcIlwiO1xuXG4gICAgY29uc3Qgd3JhcHBlciA9IFBhdGguZnJvbVJlY3QobmV3IGdlby5SZWN0KFsgbGFiZWxCb3gueDEsIGxhYmVsQm94LnkxIF0sIFsgbGFiZWxCb3gud2lkdGgoKSwgbGFiZWxCb3guaGVpZ2h0KCkgXSksIHtcbiAgICAgICAgc3Ryb2tlOiB7fVxuICAgIH0pO1xuXG4gICAgY29uc3QgdGV4dCA9IG5ldyBUZXh0KGxhYmVsLnRleHQsIG5ldyBnZW8uUG9pbnQodGV4dEJveC54MSwgdGV4dEJveC55MSksIHtcbiAgICAgICAgZm9udDogb3B0aW9ucy5mb250LFxuICAgICAgICBmaWxsOiB7IGNvbG9yOiBvcHRpb25zLmNvbG9yIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IHN0eWxlR2VvbWV0cnkgPSBwYWQodGV4dC5iYm94KCkuY2xvbmUoKSwgb3B0aW9ucy5wYWRkaW5nKTtcblxuICAgIGNvbnN0IHN0eWxlQm94ID0gUGF0aC5mcm9tUmVjdChzdHlsZUdlb21ldHJ5LCB7XG4gICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgY29sb3I6IGJvcmRlci53aWR0aCA/IGJvcmRlci5jb2xvciA6IFwiXCIsXG4gICAgICAgICAgICB3aWR0aDogYm9yZGVyLndpZHRoLFxuICAgICAgICAgICAgZGFzaFR5cGU6IGJvcmRlci5kYXNoVHlwZSxcbiAgICAgICAgICAgIGxpbmVKb2luOiBcInJvdW5kXCIsXG4gICAgICAgICAgICBsaW5lQ2FwOiBcInJvdW5kXCJcbiAgICAgICAgfSxcbiAgICAgICAgZmlsbDoge1xuICAgICAgICAgICAgY29sb3I6IGJhY2tncm91bmRcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgZWxlbWVudHMgPSBuZXcgR3JvdXAoKTtcbiAgICBlbGVtZW50cy5hcHBlbmQod3JhcHBlcik7XG4gICAgZWxlbWVudHMuYXBwZW5kKHN0eWxlQm94KTtcbiAgICBlbGVtZW50cy5hcHBlbmQodGV4dCk7XG5cbiAgICByZXR1cm4gZWxlbWVudHM7XG59IiwiaW1wb3J0IHsgZGVmaW5lZCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5pbXBvcnQgeyBNSU5fVkFMVUUsIE1BWF9WQUxVRSB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRSYW5nZShyYW5nZSwgbWluLCBtYXgpIHtcbiAgICBjb25zdCBmcm9tID0gZGVmaW5lZChyYW5nZS5mcm9tKSA/IHJhbmdlLmZyb20gOiBNSU5fVkFMVUU7XG4gICAgY29uc3QgdG8gPSBkZWZpbmVkKHJhbmdlLnRvKSA/IHJhbmdlLnRvIDogTUFYX1ZBTFVFO1xuXG4gICAgcmFuZ2UuZnJvbSA9IE1hdGgubWF4KE1hdGgubWluKHRvLCBmcm9tKSwgbWluKTtcbiAgICByYW5nZS50byA9IE1hdGgubWluKE1hdGgubWF4KHRvLCBmcm9tKSwgbWF4KTtcblxuICAgIHJldHVybiByYW5nZTtcbn0iLCJpbXBvcnQgeyBnZXRTcGFjaW5nIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcbmltcG9ydCBwYWQgZnJvbSAnLi9wYWQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1bnBhZChiYm94LCB2YWx1ZSkge1xuICAgIGNvbnN0IHNwYWNpbmcgPSBnZXRTcGFjaW5nKHZhbHVlKTtcblxuICAgIHNwYWNpbmcubGVmdCA9IC1zcGFjaW5nLmxlZnQ7IHNwYWNpbmcudG9wID0gLXNwYWNpbmcudG9wO1xuICAgIHNwYWNpbmcucmlnaHQgPSAtc3BhY2luZy5yaWdodDsgc3BhY2luZy5ib3R0b20gPSAtc3BhY2luZy5ib3R0b207XG5cbiAgICByZXR1cm4gcGFkKGJib3gsIHNwYWNpbmcpO1xufSIsImltcG9ydCB7IGdlb21ldHJ5IGFzIGdlbywgZHJhd2luZyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcbmltcG9ydCB7IENsYXNzLCBlbGVtZW50U2l6ZSwgc2V0RGVmYXVsdE9wdGlvbnMsIGRlZXBFeHRlbmQsIGlzQXJyYXksIGlzTnVtYmVyIH0gZnJvbSAnLi4vY29tbW9uJztcbmltcG9ydCB7IERFRkFVTFRfV0lEVEgsIERFRkFVTFRfSEVJR0hUIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ2hhcnRTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMnO1xuaW1wb3J0IHsgdW5wYWQgfSBmcm9tICcuL3V0aWxzJztcblxuY29uc3QgREVGQVVMVF9NQVJHSU4gPSA1O1xuY29uc3QgeyBQYXRoLCBTdXJmYWNlIH0gPSBkcmF3aW5nO1xuXG5jbGFzcyBHYXVnZSBleHRlbmRzIENsYXNzIHtcblxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIHVzZXJPcHRpb25zLCB0aGVtZSwgY29udGV4dCA9IHt9KSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy50aGVtZSA9IHRoZW1lO1xuICAgICAgICB0aGlzLmNvbnRleHRTZXJ2aWNlID0gbmV3IENoYXJ0U2VydmljZSh0aGlzLCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy5fb3JpZ2luYWxPcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCB1c2VyT3B0aW9ucyk7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIHRoaXMuX29yaWdpbmFsT3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX2luaXRUaGVtZSh0aGVtZSk7XG5cbiAgICAgICAgdGhpcy5yZWRyYXcoKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5zdXJmYWNlKSB7XG4gICAgICAgICAgICB0aGlzLnN1cmZhY2UuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5zdXJmYWNlID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlbGV0ZSB0aGlzLmVsZW1lbnQ7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnN1cmZhY2VFbGVtZW50O1xuICAgIH1cblxuICAgIHZhbHVlKHBvaW50ZXJWYWx1ZSkge1xuICAgICAgICBjb25zdCBwb2ludGVyID0gdGhpcy5wb2ludGVyc1swXTtcblxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHBvaW50ZXIudmFsdWUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBvaW50ZXIudmFsdWUocG9pbnRlclZhbHVlKTtcbiAgICAgICAgdGhpcy5fc2V0VmFsdWVPcHRpb25zKHBvaW50ZXJWYWx1ZSk7XG4gICAgfVxuXG4gICAgX2RyYXcoKSB7XG4gICAgICAgIGNvbnN0IHN1cmZhY2UgPSB0aGlzLnN1cmZhY2U7XG5cbiAgICAgICAgc3VyZmFjZS5jbGVhcigpO1xuICAgICAgICBzdXJmYWNlLmRyYXcodGhpcy5fdmlzdWFscyk7XG4gICAgfVxuXG4gICAgZXhwb3J0VmlzdWFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmlzdWFscztcbiAgICB9XG5cbiAgICBhbGxWYWx1ZXModmFsdWVzKSB7XG4gICAgICAgIGNvbnN0IHBvaW50ZXJzID0gdGhpcy5wb2ludGVycztcbiAgICAgICAgY29uc3QgYWxsVmFsdWVzID0gW107XG5cbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBhbGxWYWx1ZXMucHVzaChwb2ludGVyc1tpXS52YWx1ZSgpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGFsbFZhbHVlcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0FycmF5KHZhbHVlcykpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzTnVtYmVyKHZhbHVlc1tpXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRlcnNbaV0udmFsdWUodmFsdWVzW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zZXRWYWx1ZU9wdGlvbnModmFsdWVzKTtcbiAgICB9XG5cbiAgICBfc2V0VmFsdWVPcHRpb25zKHZhbHVlcykge1xuICAgICAgICBjb25zdCBwb2ludGVycyA9IFtdLmNvbmNhdCh0aGlzLm9wdGlvbnMucG9pbnRlcik7XG4gICAgICAgIGNvbnN0IGFycmF5VmFsdWVzID0gW10uY29uY2F0KHZhbHVlcyk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheVZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcG9pbnRlcnNbaV0udmFsdWUgPSBhcnJheVZhbHVlc1tpXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlc2l6ZSgpIHtcbiAgICAgICAgdGhpcy5ub1RyYW5zaXRpb25zUmVkcmF3KCk7XG4gICAgfVxuXG4gICAgbm9UcmFuc2l0aW9uc1JlZHJhdygpIHtcbiAgICAgICAgY29uc3QgdHJhbnNpdGlvbnMgPSB0aGlzLm9wdGlvbnMudHJhbnNpdGlvbnM7XG5cbiAgICAgICAgdGhpcy5fdG9nZ2xlVHJhbnNpdGlvbnMoZmFsc2UpO1xuXG4gICAgICAgIHRoaXMucmVkcmF3KCk7XG5cbiAgICAgICAgdGhpcy5fdG9nZ2xlVHJhbnNpdGlvbnModHJhbnNpdGlvbnMpO1xuICAgIH1cblxuICAgIHJlZHJhdygpIHtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuX3N1cmZhY2VTaXplKCk7XG4gICAgICAgIGNvbnN0IHdyYXBwZXIgPSBuZXcgZ2VvLlJlY3QoWyAwLCAwIF0sIFsgc2l6ZS53aWR0aCwgc2l6ZS5oZWlnaHQgXSk7XG5cbiAgICAgICAgdGhpcy5faW5pdFN1cmZhY2UoKTtcblxuICAgICAgICB0aGlzLmdhdWdlQXJlYSA9IHRoaXMuX2NyZWF0ZUdhdWdlQXJlYSgpO1xuXG4gICAgICAgIHRoaXMuX2NyZWF0ZU1vZGVsKCk7XG5cbiAgICAgICAgY29uc3QgYmJveCA9IHVucGFkKHdyYXBwZXIuYmJveCgpLCB0aGlzLl9nYXVnZUFyZWFNYXJnaW4pO1xuICAgICAgICB0aGlzLnJlZmxvdyhiYm94KTtcbiAgICB9XG5cbiAgICBzZXRPcHRpb25zKG9wdGlvbnMsIHRoZW1lKSB7XG4gICAgICAgIHRoaXMuX29yaWdpbmFsT3B0aW9ucyA9IGRlZXBFeHRlbmQodGhpcy5fb3JpZ2luYWxPcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgdGhpcy5fb3JpZ2luYWxPcHRpb25zKTtcblxuICAgICAgICB0aGlzLl9pbml0VGhlbWUodGhlbWUpO1xuXG4gICAgICAgIHRoaXMucmVkcmF3KCk7XG4gICAgfVxuXG4gICAgc2V0RGlyZWN0aW9uKHJ0bCkge1xuICAgICAgICB0aGlzLmNvbnRleHRTZXJ2aWNlLnJ0bCA9IEJvb2xlYW4ocnRsKTtcbiAgICAgICAgaWYgKHRoaXMuc3VyZmFjZSAmJiB0aGlzLnN1cmZhY2UudHlwZSA9PT0gJ3N2ZycpIHtcbiAgICAgICAgICAgIHRoaXMuc3VyZmFjZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLnN1cmZhY2UgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0SW50bFNlcnZpY2UoaW50bCkge1xuICAgICAgICB0aGlzLmNvbnRleHRTZXJ2aWNlLmludGwgPSBpbnRsO1xuICAgIH1cblxuICAgIF9pbml0VGhlbWUodGhlbWUpIHtcbiAgICAgICAgbGV0IGN1cnJlbnRUaGVtZSA9IHRoZW1lIHx8IHRoaXMudGhlbWUgfHwge307XG4gICAgICAgIHRoaXMudGhlbWUgPSBjdXJyZW50VGhlbWU7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgY3VycmVudFRoZW1lLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBwb2ludGVyID0gb3B0aW9ucy5wb2ludGVyO1xuXG4gICAgICAgIGlmIChpc0FycmF5KHBvaW50ZXIpKSB7XG4gICAgICAgICAgICBjb25zdCBwb2ludGVycyA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludGVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcG9pbnRlcnMucHVzaChkZWVwRXh0ZW5kKHt9LCBjdXJyZW50VGhlbWUucG9pbnRlciwgcG9pbnRlcltpXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0aW9ucy5wb2ludGVyID0gcG9pbnRlcnM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY3JlYXRlR2F1Z2VBcmVhKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zLmdhdWdlQXJlYTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuc3VyZmFjZS5zaXplKCk7XG4gICAgICAgIGNvbnN0IGJvcmRlciA9IG9wdGlvbnMuYm9yZGVyIHx8IHt9O1xuICAgICAgICBsZXQgYXJlYUdlb21ldHJ5ID0gbmV3IGdlby5SZWN0KFsgMCwgMCBdLCBbIHNpemUud2lkdGgsIHNpemUuaGVpZ2h0IF0pO1xuXG4gICAgICAgIHRoaXMuX2dhdWdlQXJlYU1hcmdpbiA9IG9wdGlvbnMubWFyZ2luIHx8IERFRkFVTFRfTUFSR0lOO1xuXG4gICAgICAgIGlmIChib3JkZXIud2lkdGggPiAwKSB7XG4gICAgICAgICAgICBhcmVhR2VvbWV0cnkgPSB1bnBhZChhcmVhR2VvbWV0cnksIGJvcmRlci53aWR0aCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBnYXVnZUFyZWEgPSBQYXRoLmZyb21SZWN0KGFyZWFHZW9tZXRyeSwge1xuICAgICAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IGJvcmRlci53aWR0aCA/IGJvcmRlci5jb2xvciA6IFwiXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IGJvcmRlci53aWR0aCxcbiAgICAgICAgICAgICAgICBkYXNoVHlwZTogYm9yZGVyLmRhc2hUeXBlLFxuICAgICAgICAgICAgICAgIGxpbmVKb2luOiBcInJvdW5kXCIsXG4gICAgICAgICAgICAgICAgbGluZUNhcDogXCJyb3VuZFwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmlsbDoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBvcHRpb25zLmJhY2tncm91bmRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGdhdWdlQXJlYTtcbiAgICB9XG5cbiAgICBfaW5pdFN1cmZhY2UoKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgc3VyZmFjZSB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuX3N1cmZhY2VFbGVtZW50KCk7XG4gICAgICAgIGNvbnN0IHNpemUgPSB0aGlzLl9zdXJmYWNlU2l6ZSgpO1xuXG4gICAgICAgIGVsZW1lbnRTaXplKGVsZW1lbnQsIHNpemUpO1xuXG4gICAgICAgIGlmICghc3VyZmFjZSB8fCBzdXJmYWNlLm9wdGlvbnMudHlwZSAhPT0gb3B0aW9ucy5yZW5kZXJBcykge1xuICAgICAgICAgICAgaWYgKHN1cmZhY2UpIHtcbiAgICAgICAgICAgICAgICBzdXJmYWNlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zdXJmYWNlID0gU3VyZmFjZS5jcmVhdGUoZWxlbWVudCwge1xuICAgICAgICAgICAgICAgIHR5cGU6IG9wdGlvbnMucmVuZGVyQXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdXJmYWNlLmNsZWFyKCk7XG4gICAgICAgICAgICB0aGlzLnN1cmZhY2UucmVzaXplKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc3VyZmFjZVNpemUoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHNpemUgPSB0aGlzLl9nZXRTaXplKCk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuZ2F1Z2VBcmVhKSB7XG4gICAgICAgICAgICBkZWVwRXh0ZW5kKHNpemUsIG9wdGlvbnMuZ2F1Z2VBcmVhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzaXplO1xuICAgIH1cblxuICAgIF9zdXJmYWNlRWxlbWVudCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN1cmZhY2VFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnN1cmZhY2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5zdXJmYWNlRWxlbWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5zdXJmYWNlRWxlbWVudDtcbiAgICB9XG5cbiAgICBnZXRTaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0U2l6ZSgpO1xuICAgIH1cblxuICAgIF9nZXRTaXplKCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgICAgICBjb25zdCBkZWZhdWx0U2l6ZSA9IHRoaXMuX2RlZmF1bHRTaXplKCk7XG4gICAgICAgIGxldCB3aWR0aCA9IGVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICAgIGxldCBoZWlnaHQgPSBlbGVtZW50Lm9mZnNldEhlaWdodDtcblxuICAgICAgICBpZiAoIXdpZHRoKSB7XG4gICAgICAgICAgICB3aWR0aCA9IGRlZmF1bHRTaXplLndpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFoZWlnaHQpIHtcbiAgICAgICAgICAgIGhlaWdodCA9IGRlZmF1bHRTaXplLmhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfTtcbiAgICB9XG5cbiAgICBfZGVmYXVsdFNpemUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aWR0aDogREVGQVVMVF9XSURUSCxcbiAgICAgICAgICAgIGhlaWdodDogREVGQVVMVF9IRUlHSFRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfdG9nZ2xlVHJhbnNpdGlvbnModmFsdWUpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLnRyYW5zaXRpb25zID0gdmFsdWU7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wb2ludGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5wb2ludGVyc1tpXS5vcHRpb25zLmFuaW1hdGlvbi50cmFuc2l0aW9ucyA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhHYXVnZSwge1xuICAgIHBsb3RBcmVhOiB7fSxcbiAgICB0aGVtZTogXCJkZWZhdWx0XCIsXG4gICAgcmVuZGVyQXM6IFwiXCIsXG4gICAgcG9pbnRlcjoge30sXG4gICAgc2NhbGU6IHt9LFxuICAgIGdhdWdlQXJlYToge31cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBHYXVnZTsiLCJpbXBvcnQgeyBnZW9tZXRyeSBhcyBnZW8sIGRyYXdpbmcgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5pbXBvcnQgeyBzZXREZWZhdWx0T3B0aW9ucywgZGVlcEV4dGVuZCwgZGVmaW5lZCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5pbXBvcnQgeyBCTEFDSyB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgTnVtZXJpY0F4aXMgfSBmcm9tICcuLi8uLi9jb3JlJztcbmltcG9ydCB7IERFRkFVTFRfTElORV9XSURUSCwgSU5TSURFIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCB7IGF1dG9NYWpvclVuaXQgfSBmcm9tICcuLi8uLi9jb3JlJztcbmltcG9ydCB7IGJ1aWxkTGFiZWxFbGVtZW50LCBnZXRSYW5nZSB9IGZyb20gJy4uL3V0aWxzJztcblxuY29uc3QgeyBQYXRoLCBHcm91cCB9ID0gZHJhd2luZztcbmNvbnN0IFBvaW50ID0gZ2VvLlBvaW50O1xuXG5mdW5jdGlvbiByZW5kZXJBeGlzVGljayh0aWNrUmVuZGVyT3B0aW9ucywgdGlja09wdGlvbnMpIHtcbiAgICBjb25zdCB7IHBvc2l0aW9uLCB0aWNrWCwgdGlja1kgfSA9IHRpY2tSZW5kZXJPcHRpb25zO1xuICAgIGxldCBzdGFydCwgZW5kO1xuXG4gICAgaWYgKHRpY2tSZW5kZXJPcHRpb25zLnZlcnRpY2FsKSB7XG4gICAgICAgIHN0YXJ0ID0gbmV3IFBvaW50KHRpY2tYLCBwb3NpdGlvbik7XG4gICAgICAgIGVuZCA9IG5ldyBQb2ludCh0aWNrWCArIHRpY2tPcHRpb25zLnNpemUsIHBvc2l0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBzdGFydCA9IG5ldyBQb2ludChwb3NpdGlvbiwgdGlja1kpO1xuICAgICAgICBlbmQgPSBuZXcgUG9pbnQocG9zaXRpb24sIHRpY2tZICsgdGlja09wdGlvbnMuc2l6ZSk7XG4gICAgfVxuXG4gICAgY29uc3QgdGlja1BhdGggPSBuZXcgUGF0aCh7XG4gICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgY29sb3I6IHRpY2tPcHRpb25zLmNvbG9yLFxuICAgICAgICAgICAgd2lkdGg6IHRpY2tPcHRpb25zLndpZHRoXG4gICAgICAgIH1cbiAgICB9KS5tb3ZlVG8oc3RhcnQpLmxpbmVUbyhlbmQpO1xuXG4gICAgcmV0dXJuIHRpY2tQYXRoO1xufVxuXG5mdW5jdGlvbiByZW5kZXJUaWNrcyh0aWNrR3JvdXAsIHRpY2tQb3NpdGlvbnMsIHRpY2tSZW5kZXJPcHRpb25zLCB0aWNrT3B0aW9ucykge1xuICAgIGNvbnN0IGNvdW50ID0gdGlja1Bvc2l0aW9ucy5sZW5ndGg7XG5cbiAgICBpZiAodGlja09wdGlvbnMudmlzaWJsZSkge1xuICAgICAgICBjb25zdCB7IG1pcnJvciwgbGluZUJveCB9ID0gdGlja1JlbmRlck9wdGlvbnM7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aWNrT3B0aW9ucy5za2lwOyBpIDwgY291bnQ7IGkgKz0gdGlja09wdGlvbnMuc3RlcCkge1xuICAgICAgICAgICAgaWYgKGkgJSB0aWNrT3B0aW9ucy5za2lwVW5pdCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aWNrUmVuZGVyT3B0aW9ucy50aWNrWCA9IG1pcnJvciA/IGxpbmVCb3gueDIgOiBsaW5lQm94LngyIC0gdGlja09wdGlvbnMuc2l6ZTtcbiAgICAgICAgICAgIHRpY2tSZW5kZXJPcHRpb25zLnRpY2tZID0gbWlycm9yID8gbGluZUJveC55MSAtIHRpY2tPcHRpb25zLnNpemUgOiBsaW5lQm94LnkxO1xuICAgICAgICAgICAgdGlja1JlbmRlck9wdGlvbnMucG9zaXRpb24gPSB0aWNrUG9zaXRpb25zW2ldO1xuXG4gICAgICAgICAgICB0aWNrR3JvdXAuYXBwZW5kKHJlbmRlckF4aXNUaWNrKHRpY2tSZW5kZXJPcHRpb25zLCB0aWNrT3B0aW9ucykpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBMaW5lYXJTY2FsZSBleHRlbmRzIE51bWVyaWNBeGlzIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zLCBzZXJ2aWNlKSB7XG4gICAgICAgIGxldCBzY2FsZU9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBpZiAoIWRlZmluZWQoc2NhbGVPcHRpb25zLnJldmVyc2UpICYmIHNjYWxlT3B0aW9ucy52ZXJ0aWNhbCA9PT0gZmFsc2UgJiYgKHNlcnZpY2UgfHwge30pLnJ0bCkge1xuICAgICAgICAgICAgc2NhbGVPcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgc2NhbGVPcHRpb25zLCB7XG4gICAgICAgICAgICAgICAgcmV2ZXJzZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlcigwLCAxLCBzY2FsZU9wdGlvbnMsIHNlcnZpY2UpO1xuXG4gICAgICAgIHRoaXMub3B0aW9ucy5taW5vclVuaXQgPSB0aGlzLm9wdGlvbnMubWlub3JVbml0IHx8IHRoaXMub3B0aW9ucy5tYWpvclVuaXQgLyAxMDtcbiAgICB9XG5cbiAgICBpbml0VXNlck9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICBsZXQgc2NhbGVPcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgc2NhbGVPcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgc2NhbGVPcHRpb25zICwgeyBsYWJlbHM6IHsgbWlycm9yOiBzY2FsZU9wdGlvbnMubWlycm9yIH0gfSk7XG4gICAgICAgIHNjYWxlT3B0aW9ucy5tYWpvclVuaXQgPSBzY2FsZU9wdGlvbnMubWFqb3JVbml0IHx8IGF1dG9NYWpvclVuaXQoc2NhbGVPcHRpb25zLm1pbiwgc2NhbGVPcHRpb25zLm1heCk7XG5cbiAgICAgICAgcmV0dXJuIHNjYWxlT3B0aW9ucztcbiAgICB9XG5cbiAgICBpbml0RmllbGRzKCkge1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSB0aGlzLmVsZW1lbnRzID0gbmV3IEdyb3VwKCk7XG4gICAgICAgIGNvbnN0IGxhYmVscyA9IHRoaXMucmVuZGVyTGFiZWxzKCk7XG4gICAgICAgIGNvbnN0IHNjYWxlTGluZSA9IHRoaXMucmVuZGVyTGluZSgpO1xuICAgICAgICBjb25zdCBzY2FsZVRpY2tzID0gdGhpcy5yZW5kZXJUaWNrcygpO1xuICAgICAgICBjb25zdCByYW5nZXMgPSB0aGlzLnJlbmRlclJhbmdlcygpO1xuXG4gICAgICAgIGVsZW1lbnRzLmFwcGVuZChzY2FsZUxpbmUsIGxhYmVscywgc2NhbGVUaWNrcywgcmFuZ2VzKTtcblxuICAgICAgICByZXR1cm4gZWxlbWVudHM7XG4gICAgfVxuXG4gICAgcmVuZGVyUmFuZ2VzKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB7IG1pbiwgbWF4LCB2ZXJ0aWNhbCwgbGFiZWxzOiB7IG1pcnJvciB9IH0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCByYW5nZXMgPSBvcHRpb25zLnJhbmdlcyB8fCBbXTtcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBuZXcgR3JvdXAoKTtcbiAgICAgICAgY29uc3QgY291bnQgPSByYW5nZXMubGVuZ3RoO1xuICAgICAgICBjb25zdCByYW5nZVNpemUgPSBvcHRpb25zLnJhbmdlU2l6ZSB8fCBvcHRpb25zLm1pbm9yVGlja3Muc2l6ZSAvIDI7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCByYW5nZSA9IGdldFJhbmdlKHJhbmdlc1tpXSwgbWluLCBtYXgpO1xuICAgICAgICAgICAgY29uc3Qgc2xvdCA9IHRoaXMuZ2V0U2xvdChyYW5nZS5mcm9tLCByYW5nZS50byk7XG4gICAgICAgICAgICBjb25zdCBzbG90WCA9IHZlcnRpY2FsID8gdGhpcy5saW5lQm94KCkgOiBzbG90O1xuICAgICAgICAgICAgY29uc3Qgc2xvdFkgPSB2ZXJ0aWNhbCA/IHNsb3QgOiB0aGlzLmxpbmVCb3goKTtcbiAgICAgICAgICAgIGlmICh2ZXJ0aWNhbCkge1xuICAgICAgICAgICAgICAgIHNsb3RYLngxIC09IHJhbmdlU2l6ZSAqIChtaXJyb3IgPyAtMSA6IDEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzbG90WS55MiArPSByYW5nZVNpemUgKiAobWlycm9yID8gLTEgOiAxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWxlbWVudHMuYXBwZW5kKFBhdGguZnJvbVJlY3QobmV3IGdlby5SZWN0KFsgc2xvdFgueDEsIHNsb3RZLnkxIF0sIFsgc2xvdFgueDIgLSBzbG90WC54MSwgc2xvdFkueTIgLSBzbG90WS55MSBdKSwge1xuICAgICAgICAgICAgICAgIGZpbGw6IHsgY29sb3I6IHJhbmdlLmNvbG9yLCBvcGFjaXR5OiByYW5nZS5vcGFjaXR5IH0sXG4gICAgICAgICAgICAgICAgc3Ryb2tlOiB7IH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBlbGVtZW50cztcbiAgICB9XG5cbiAgICByZW5kZXJMYWJlbHMoKSB7XG4gICAgICAgIGNvbnN0IHsgbGFiZWxzLCBvcHRpb25zIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IG5ldyBHcm91cCgpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGFiZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBlbGVtZW50cy5hcHBlbmQoYnVpbGRMYWJlbEVsZW1lbnQobGFiZWxzW2ldLCBvcHRpb25zLmxhYmVscykpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGVsZW1lbnRzO1xuICAgIH1cblxuICAgIHJlbmRlckxpbmUoKSB7XG4gICAgICAgIGNvbnN0IGxpbmUgPSB0aGlzLm9wdGlvbnMubGluZTtcbiAgICAgICAgY29uc3QgbGluZUJveCA9IHRoaXMubGluZUJveCgpO1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IG5ldyBHcm91cCgpO1xuXG4gICAgICAgIGlmIChsaW5lLndpZHRoID4gMCAmJiBsaW5lLnZpc2libGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVQYXRoID0gbmV3IFBhdGgoe1xuICAgICAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogbGluZS5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgZGFzaFR5cGU6IGxpbmUuZGFzaFR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBsaW5lLndpZHRoXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGxpbmVQYXRoLm1vdmVUbyhsaW5lQm94LngxLCBsaW5lQm94LnkxKS5saW5lVG8obGluZUJveC54MiwgbGluZUJveC55Mik7XG4gICAgICAgICAgICBlbGVtZW50cy5hcHBlbmQobGluZVBhdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGVsZW1lbnRzO1xuICAgIH1cblxuICAgIHJlbmRlclRpY2tzKCkge1xuICAgICAgICBjb25zdCB0aWNrcyA9IG5ldyBHcm91cCgpO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBtYWpvclVuaXQgPSBvcHRpb25zLm1ham9yVGlja3MudmlzaWJsZSA/IG9wdGlvbnMubWFqb3JVbml0IDogMDtcbiAgICAgICAgY29uc3QgdGlja1JlbmRlck9wdGlvbnMgPSB7XG4gICAgICAgICAgICB2ZXJ0aWNhbDogb3B0aW9ucy52ZXJ0aWNhbCxcbiAgICAgICAgICAgIG1pcnJvcjogb3B0aW9ucy5sYWJlbHMubWlycm9yLFxuICAgICAgICAgICAgbGluZUJveDogdGhpcy5saW5lQm94KClcbiAgICAgICAgfTtcblxuICAgICAgICByZW5kZXJUaWNrcyh0aWNrcywgdGhpcy5nZXRNYWpvclRpY2tQb3NpdGlvbnMoKSwgdGlja1JlbmRlck9wdGlvbnMsIG9wdGlvbnMubWFqb3JUaWNrcyk7XG4gICAgICAgIHJlbmRlclRpY2tzKHRpY2tzLCB0aGlzLmdldE1pbm9yVGlja1Bvc2l0aW9ucygpLCB0aWNrUmVuZGVyT3B0aW9ucywgZGVlcEV4dGVuZCh7fSwge1xuICAgICAgICAgICAgc2tpcFVuaXQ6IG1ham9yVW5pdCAvIG9wdGlvbnMubWlub3JVbml0XG4gICAgICAgIH0sIG9wdGlvbnMubWlub3JUaWNrcykpO1xuXG4gICAgICAgIHJldHVybiB0aWNrcztcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKExpbmVhclNjYWxlLCB7XG4gICAgbWluOiAwLFxuICAgIG1heDogNTAsXG5cbiAgICBtYWpvclRpY2tzOiB7XG4gICAgICAgIHNpemU6IDE1LFxuICAgICAgICBhbGlnbjogSU5TSURFLFxuICAgICAgICBjb2xvcjogQkxBQ0ssXG4gICAgICAgIHdpZHRoOiBERUZBVUxUX0xJTkVfV0lEVEgsXG4gICAgICAgIHZpc2libGU6IHRydWVcbiAgICB9LFxuXG4gICAgbWlub3JUaWNrczoge1xuICAgICAgICBzaXplOiAxMCxcbiAgICAgICAgYWxpZ246IElOU0lERSxcbiAgICAgICAgY29sb3I6IEJMQUNLLFxuICAgICAgICB3aWR0aDogREVGQVVMVF9MSU5FX1dJRFRILFxuICAgICAgICB2aXNpYmxlOiB0cnVlXG4gICAgfSxcblxuICAgIGxpbmU6IHtcbiAgICAgICAgd2lkdGg6IERFRkFVTFRfTElORV9XSURUSFxuICAgIH0sXG5cbiAgICBsYWJlbHM6IHtcbiAgICAgICAgcG9zaXRpb246IElOU0lERSxcbiAgICAgICAgcGFkZGluZzogMlxuICAgIH0sXG4gICAgbWlycm9yOiBmYWxzZSxcbiAgICBfYWxpZ25MaW5lczogZmFsc2Vcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBMaW5lYXJTY2FsZTsiLCJpbXBvcnQgeyBDbGFzcywgc2V0RGVmYXVsdE9wdGlvbnMsIGRlZmluZWQsIGRlZXBFeHRlbmQsIGxpbWl0VmFsdWUgfSBmcm9tICcuLi9jb21tb24nO1xuaW1wb3J0IHsgQkxBQ0sgfSBmcm9tICcuLi9jb21tb24vY29uc3RhbnRzJztcblxuY2xhc3MgUG9pbnRlciBleHRlbmRzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcihzY2FsZSwgdXNlck9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICBjb25zdCB7IG1pbiwgbWF4IH0gPSBzY2FsZS5vcHRpb25zO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCB1c2VyT3B0aW9ucyk7XG5cbiAgICAgICAgb3B0aW9ucy5maWxsID0gb3B0aW9ucy5jb2xvcjtcblxuICAgICAgICB0aGlzLnNjYWxlID0gc2NhbGU7XG5cbiAgICAgICAgaWYgKGRlZmluZWQob3B0aW9ucy52YWx1ZSkpIHtcbiAgICAgICAgICAgIG9wdGlvbnMudmFsdWUgPSBsaW1pdFZhbHVlKG9wdGlvbnMudmFsdWUsIG1pbiwgbWF4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbnMudmFsdWUgPSBtaW47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YWx1ZShuZXdWYWx1ZSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IG9wdGlvbnMudmFsdWU7XG5cbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgbWluLCBtYXggfSA9IHRoaXMuc2NhbGUub3B0aW9ucztcblxuICAgICAgICBvcHRpb25zLl9vbGRWYWx1ZSA9IGRlZmluZWQob3B0aW9ucy5fb2xkVmFsdWUpID8gb3B0aW9ucy52YWx1ZSA6IG1pbjtcbiAgICAgICAgb3B0aW9ucy52YWx1ZSA9IGxpbWl0VmFsdWUobmV3VmFsdWUsIG1pbiwgbWF4KTtcblxuICAgICAgICBpZiAodGhpcy5lbGVtZW50cykge1xuICAgICAgICAgICAgdGhpcy5yZXBhaW50KCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKFBvaW50ZXIsIHtcbiAgICBjb2xvcjogQkxBQ0tcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBQb2ludGVyOyIsImltcG9ydCB7IHNldERlZmF1bHRPcHRpb25zLCBkZWVwRXh0ZW5kLCBkZWZpbmVkLCBnZXRTcGFjaW5nIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcbmltcG9ydCB7IEJveCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0IHsgQkxBQ0sgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IEJBUl9QT0lOVEVSIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCBQb2ludGVyIGZyb20gJy4uL3BvaW50ZXInO1xuXG5jbGFzcyBMaW5lYXJQb2ludGVyIGV4dGVuZHMgUG9pbnRlciB7XG4gICAgY29uc3RydWN0b3Ioc2NhbGUsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoc2NhbGUsIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IGRlZXBFeHRlbmQoe1xuICAgICAgICAgICAgdHJhY2s6IHtcbiAgICAgICAgICAgICAgICB2aXNpYmxlOiBkZWZpbmVkKG9wdGlvbnMudHJhY2spXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMub3B0aW9ucyk7XG4gICAgfVxuXG4gICAgcmVmbG93KCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIHNjYWxlIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB7IG1pcnJvciwgdmVydGljYWwgfSA9IHNjYWxlLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHNjYWxlTGluZSA9IHNjYWxlLmxpbmVCb3goKTtcbiAgICAgICAgY29uc3QgdHJhY2tTaXplID0gb3B0aW9ucy50cmFjay5zaXplIHx8IG9wdGlvbnMuc2l6ZTtcbiAgICAgICAgY29uc3QgcG9pbnRlckhhbGZTaXplID0gb3B0aW9ucy5zaXplIC8gMjtcbiAgICAgICAgY29uc3QgbWFyZ2luID0gZ2V0U3BhY2luZyhvcHRpb25zLm1hcmdpbik7XG4gICAgICAgIGxldCBzcGFjZSA9IHZlcnRpY2FsID9cbiAgICAgICAgICAgICAgICAgbWFyZ2luW21pcnJvciA/IFwibGVmdFwiIDogXCJyaWdodFwiXSA6XG4gICAgICAgICAgICAgICAgIG1hcmdpblttaXJyb3IgPyBcImJvdHRvbVwiIDogXCJ0b3BcIl07XG4gICAgICAgIGxldCBwb2ludGVyQm94LCBwb2ludGVyUmFuZ2VCb3gsIHRyYWNrQm94O1xuXG4gICAgICAgIHNwYWNlID0gbWlycm9yID8gLXNwYWNlIDogc3BhY2U7XG5cbiAgICAgICAgaWYgKHZlcnRpY2FsKSB7XG4gICAgICAgICAgICB0cmFja0JveCA9IG5ldyBCb3goXG4gICAgICAgICAgICAgICAgc2NhbGVMaW5lLngxICsgc3BhY2UsIHNjYWxlTGluZS55MSxcbiAgICAgICAgICAgICAgICBzY2FsZUxpbmUueDEgKyBzcGFjZSwgc2NhbGVMaW5lLnkyKTtcblxuICAgICAgICAgICAgaWYgKG1pcnJvcikge1xuICAgICAgICAgICAgICAgIHRyYWNrQm94LngxIC09IHRyYWNrU2l6ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJhY2tCb3gueDIgKz0gdHJhY2tTaXplO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5zaGFwZSAhPT0gQkFSX1BPSU5URVIpIHtcbiAgICAgICAgICAgICAgICBwb2ludGVyUmFuZ2VCb3ggPSBuZXcgQm94KFxuICAgICAgICAgICAgICAgICAgICBzY2FsZUxpbmUueDIgKyBzcGFjZSwgc2NhbGVMaW5lLnkxIC0gcG9pbnRlckhhbGZTaXplLFxuICAgICAgICAgICAgICAgICAgICBzY2FsZUxpbmUueDIgKyBzcGFjZSwgc2NhbGVMaW5lLnkyICsgcG9pbnRlckhhbGZTaXplXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBwb2ludGVyQm94ID0gcG9pbnRlclJhbmdlQm94O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJhY2tCb3ggPSBuZXcgQm94KFxuICAgICAgICAgICAgICAgIHNjYWxlTGluZS54MSwgc2NhbGVMaW5lLnkxIC0gc3BhY2UsXG4gICAgICAgICAgICAgICAgc2NhbGVMaW5lLngyLCBzY2FsZUxpbmUueTEgLSBzcGFjZSk7XG5cbiAgICAgICAgICAgIGlmIChtaXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0cmFja0JveC55MiArPSB0cmFja1NpemU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRyYWNrQm94LnkxIC09IHRyYWNrU2l6ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc2hhcGUgIT09IEJBUl9QT0lOVEVSKSB7XG4gICAgICAgICAgICAgICAgcG9pbnRlclJhbmdlQm94ID0gbmV3IEJveChcbiAgICAgICAgICAgICAgICAgICAgc2NhbGVMaW5lLngxIC0gcG9pbnRlckhhbGZTaXplLCBzY2FsZUxpbmUueTEgLSBzcGFjZSxcbiAgICAgICAgICAgICAgICAgICAgc2NhbGVMaW5lLngyICsgcG9pbnRlckhhbGZTaXplLCBzY2FsZUxpbmUueTEgLSBzcGFjZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgcG9pbnRlckJveCA9IHBvaW50ZXJSYW5nZUJveDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudHJhY2tCb3ggPSB0cmFja0JveDtcbiAgICAgICAgdGhpcy5wb2ludGVyUmFuZ2VCb3ggPSBwb2ludGVyUmFuZ2VCb3g7XG4gICAgICAgIHRoaXMuYm94ID0gcG9pbnRlckJveCB8fCB0cmFja0JveC5jbG9uZSgpLnBhZChvcHRpb25zLmJvcmRlci53aWR0aCk7XG4gICAgfVxuXG4gICAgZ2V0RWxlbWVudE9wdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZpbGw6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogb3B0aW9ucy5jb2xvcixcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBvcHRpb25zLm9wYWNpdHlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdHJva2U6IGRlZmluZWQob3B0aW9ucy5ib3JkZXIpID8ge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBvcHRpb25zLmJvcmRlci53aWR0aCA/IG9wdGlvbnMuYm9yZGVyLmNvbG9yIHx8IG9wdGlvbnMuY29sb3IgOiBcIlwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBvcHRpb25zLmJvcmRlci53aWR0aCxcbiAgICAgICAgICAgICAgICBkYXNoVHlwZTogb3B0aW9ucy5ib3JkZXIuZGFzaFR5cGUsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogb3B0aW9ucy5vcGFjaXR5XG4gICAgICAgICAgICB9IDogbnVsbFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIF9tYXJnaW4oKSB7XG4gICAgICAgIGNvbnN0IHsgc2NhbGUsIG9wdGlvbnMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHsgbWlycm9yLCB2ZXJ0aWNhbCB9ID0gc2NhbGUub3B0aW9ucztcbiAgICAgICAgY29uc3QgbWFyZ2luID0gZ2V0U3BhY2luZyhvcHRpb25zLm1hcmdpbik7XG5cbiAgICAgICAgY29uc3Qgc3BhY2UgPSB2ZXJ0aWNhbCA/XG4gICAgICAgICAgICBtYXJnaW5bbWlycm9yID8gXCJsZWZ0XCIgOiBcInJpZ2h0XCJdIDpcbiAgICAgICAgICAgIG1hcmdpblttaXJyb3IgPyBcImJvdHRvbVwiIDogXCJ0b3BcIl07XG5cbiAgICAgICAgcmV0dXJuIHNwYWNlO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoTGluZWFyUG9pbnRlciwge1xuICAgIHNoYXBlOiBCQVJfUE9JTlRFUixcblxuICAgIHRyYWNrOiB7XG4gICAgICAgIGJvcmRlcjoge1xuICAgICAgICAgICAgd2lkdGg6IDFcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBjb2xvcjogQkxBQ0ssXG4gICAgYm9yZGVyOiB7XG4gICAgICAgIHdpZHRoOiAxXG4gICAgfSxcbiAgICBvcGFjaXR5OiAxLFxuXG4gICAgbWFyZ2luOiBnZXRTcGFjaW5nKDMpLFxuICAgIGFuaW1hdGlvbjoge1xuICAgICAgICB0eXBlOiBCQVJfUE9JTlRFUlxuICAgIH0sXG4gICAgdmlzaWJsZTogdHJ1ZVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IExpbmVhclBvaW50ZXI7IiwiaW1wb3J0IHsgZ2VvbWV0cnksIGRyYXdpbmcgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5pbXBvcnQgeyBpbnRlcnBvbGF0ZVZhbHVlLCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5pbXBvcnQgeyBBUlJPV19QT0lOVEVSLCBMSU5FQVJfU1BFRUQsIExJTkVBUiB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmNsYXNzIEFycm93TGluZWFyUG9pbnRlckFuaW1hdGlvbiBleHRlbmRzIGRyYXdpbmcuQW5pbWF0aW9uIHtcblxuICAgIHNldHVwKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB7IG1hcmdpbiwgZnJvbSwgdG8sIHZlcnRpY2FsIH0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCBheGlzID0gdmVydGljYWwgPyBcIngxXCIgOiBcInkxXCI7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMubWlycm9yID09PSB2ZXJ0aWNhbCkge1xuICAgICAgICAgICAgZnJvbVtheGlzXSAtPSBtYXJnaW47IHRvW2F4aXNdIC09IG1hcmdpbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZyb21bYXhpc10gKz0gbWFyZ2luOyB0b1theGlzXSArPSBtYXJnaW47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmcm9tU2NhbGUgPSB0aGlzLmZyb21TY2FsZSA9IG5ldyBnZW9tZXRyeS5Qb2ludChmcm9tLngxLCBmcm9tLnkxKTtcbiAgICAgICAgY29uc3QgdG9TY2FsZSA9IHRoaXMudG9TY2FsZSA9IG5ldyBnZW9tZXRyeS5Qb2ludCh0by54MSwgdG8ueTEpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmR1cmF0aW9uICE9PSAwKSB7XG4gICAgICAgICAgICBvcHRpb25zLmR1cmF0aW9uID0gTWF0aC5tYXgoKGZyb21TY2FsZS5kaXN0YW5jZVRvKHRvU2NhbGUpIC8gb3B0aW9ucy5kdXJhdGlvbikgKiAxMDAwLCAxKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0ZXAocG9zKSB7XG4gICAgICAgIGNvbnN0IHRyYW5zbGF0ZVggPSBpbnRlcnBvbGF0ZVZhbHVlKHRoaXMuZnJvbVNjYWxlLngsIHRoaXMudG9TY2FsZS54LCBwb3MpO1xuICAgICAgICBjb25zdCB0cmFuc2xhdGVZID0gaW50ZXJwb2xhdGVWYWx1ZSh0aGlzLmZyb21TY2FsZS55LCB0aGlzLnRvU2NhbGUueSwgcG9zKTtcblxuICAgICAgICB0aGlzLmVsZW1lbnQudHJhbnNmb3JtKGdlb21ldHJ5LnRyYW5zZm9ybSgpLnRyYW5zbGF0ZSh0cmFuc2xhdGVYLCB0cmFuc2xhdGVZKSk7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhBcnJvd0xpbmVhclBvaW50ZXJBbmltYXRpb24sIHtcbiAgICBlYXNpbmc6IExJTkVBUixcbiAgICBkdXJhdGlvbjogTElORUFSX1NQRUVEXG59KTtcblxuZHJhd2luZy5BbmltYXRpb25GYWN0b3J5LmN1cnJlbnQucmVnaXN0ZXIoQVJST1dfUE9JTlRFUiwgQXJyb3dMaW5lYXJQb2ludGVyQW5pbWF0aW9uKTtcblxuZXhwb3J0IGRlZmF1bHQgQXJyb3dMaW5lYXJQb2ludGVyQW5pbWF0aW9uOyIsImltcG9ydCB7IGdlb21ldHJ5IGFzIGdlbywgZHJhd2luZyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcbmltcG9ydCB7IGRlZXBFeHRlbmQsIGRlZmluZWQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuaW1wb3J0IHsgQVJST1dfUE9JTlRFUiB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgTGluZWFyUG9pbnRlciBmcm9tICcuL2xpbmVhci1wb2ludGVyJztcbmltcG9ydCBBcnJvd0xpbmVhclBvaW50ZXJBbmltYXRpb24gZnJvbSAnLi9hcnJvdy1saW5lYXItcG9pbnRlci1hbmltYXRpb24nO1xuXG5jb25zdCBQb2ludCA9IGdlby5Qb2ludDtcbmNvbnN0IFBhdGggPSBkcmF3aW5nLlBhdGg7XG5cbmNsYXNzIEFycm93TGluZWFyUG9pbnRlciBleHRlbmRzIExpbmVhclBvaW50ZXIge1xuICAgIGNvbnN0cnVjdG9yKHNjYWxlLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHNjYWxlLCBvcHRpb25zKTtcblxuICAgICAgICBpZiAoIWRlZmluZWQodGhpcy5vcHRpb25zLnNpemUpKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuc2l6ZSA9IHRoaXMuc2NhbGUub3B0aW9ucy5tYWpvclRpY2tzLnNpemUgKiAwLjY7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwb2ludGVyU2hhcGUoKSB7XG4gICAgICAgIGNvbnN0IHsgc2NhbGUsIG9wdGlvbnM6IHsgc2l6ZSB9IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBoYWxmU2l6ZSA9IHNpemUgLyAyO1xuICAgICAgICBjb25zdCBzaWduID0gKHNjYWxlLm9wdGlvbnMubWlycm9yID8gLTEgOiAxKTtcbiAgICAgICAgbGV0IHNoYXBlO1xuXG4gICAgICAgIGlmIChzY2FsZS5vcHRpb25zLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICBzaGFwZSA9IFtcbiAgICAgICAgICAgICAgICBuZXcgUG9pbnQoMCwgMCAtIGhhbGZTaXplKSwgbmV3IFBvaW50KDAgLSBzaWduICogc2l6ZSwgMCksIG5ldyBQb2ludCgwLCAwICsgaGFsZlNpemUpXG4gICAgICAgICAgICBdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2hhcGUgPSBbXG4gICAgICAgICAgICAgICAgbmV3IFBvaW50KDAgLSBoYWxmU2l6ZSwgMCksIG5ldyBQb2ludCgwLCAwICsgc2lnbiAqIHNpemUpLCBuZXcgUG9pbnQoMCArIGhhbGZTaXplLCAwKVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzaGFwZTtcbiAgICB9XG5cbiAgICByZXBhaW50KCkge1xuICAgICAgICBjb25zdCB7IHNjYWxlLCBvcHRpb25zIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBhbmltYXRpb24gPSBuZXcgQXJyb3dMaW5lYXJQb2ludGVyQW5pbWF0aW9uKHRoaXMuZWxlbWVudHMsIGRlZXBFeHRlbmQob3B0aW9ucy5hbmltYXRpb24sIHtcbiAgICAgICAgICAgIHZlcnRpY2FsOiBzY2FsZS5vcHRpb25zLnZlcnRpY2FsLFxuICAgICAgICAgICAgbWlycm9yOiBzY2FsZS5vcHRpb25zLm1pcnJvcixcbiAgICAgICAgICAgIG1hcmdpbjogdGhpcy5fbWFyZ2luKG9wdGlvbnMubWFyZ2luKSxcbiAgICAgICAgICAgIGZyb206IHNjYWxlLmdldFNsb3Qob3B0aW9ucy5fb2xkVmFsdWUpLFxuICAgICAgICAgICAgdG86IHNjYWxlLmdldFNsb3Qob3B0aW9ucy52YWx1ZSlcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmFuaW1hdGlvbi50cmFuc2l0aW9ucyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGFuaW1hdGlvbi5vcHRpb25zLmR1cmF0aW9uID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGFuaW1hdGlvbi5zZXR1cCgpO1xuICAgICAgICBhbmltYXRpb24ucGxheSgpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgeyBzY2FsZSwgb3B0aW9ucyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgZWxlbWVudE9wdGlvbnMgPSB0aGlzLmdldEVsZW1lbnRPcHRpb25zKCk7XG4gICAgICAgIGNvbnN0IHNoYXBlID0gdGhpcy5wb2ludGVyU2hhcGUob3B0aW9ucy52YWx1ZSk7XG5cbiAgICAgICAgb3B0aW9ucy5hbmltYXRpb24udHlwZSA9IEFSUk9XX1BPSU5URVI7XG5cbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBuZXcgUGF0aCh7XG4gICAgICAgICAgICBzdHJva2U6IGVsZW1lbnRPcHRpb25zLnN0cm9rZSxcbiAgICAgICAgICAgIGZpbGw6IGVsZW1lbnRPcHRpb25zLmZpbGxcbiAgICAgICAgfSkubW92ZVRvKHNoYXBlWzBdKS5saW5lVG8oc2hhcGVbMV0pLmxpbmVUbyhzaGFwZVsyXSkuY2xvc2UoKTtcblxuICAgICAgICBjb25zdCBzbG90ID0gc2NhbGUuZ2V0U2xvdChvcHRpb25zLnZhbHVlKTtcbiAgICAgICAgZWxlbWVudHMudHJhbnNmb3JtKGdlby50cmFuc2Zvcm0oKS50cmFuc2xhdGUoc2xvdC54MSwgc2xvdC55MSkpO1xuXG4gICAgICAgIHRoaXMuZWxlbWVudHMgPSBlbGVtZW50cztcblxuICAgICAgICByZXR1cm4gZWxlbWVudHM7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBcnJvd0xpbmVhclBvaW50ZXI7IiwiaW1wb3J0IHsgZHJhd2luZyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcbmltcG9ydCB7IGludGVycG9sYXRlVmFsdWUsIHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcbmltcG9ydCB7IFgsIFkgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IEJBUl9QT0lOVEVSLCBMSU5FQVJfU1BFRUQsIExJTkVBUiB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmNsYXNzIEJhckxpbmVhclBvaW50ZXJBbmltYXRpb24gZXh0ZW5kcyBkcmF3aW5nLkFuaW1hdGlvbiB7XG5cbiAgICBzZXR1cCgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgYXhpcyA9IHRoaXMuYXhpcyA9IG9wdGlvbnMudmVydGljYWwgPyBZIDogWDtcbiAgICAgICAgY29uc3QgdG8gPSB0aGlzLnRvID0gb3B0aW9ucy5uZXdQb2ludHNbMF1bYXhpc107XG4gICAgICAgIGNvbnN0IGZyb20gPSB0aGlzLmZyb20gPSBvcHRpb25zLm9sZFBvaW50c1swXVtheGlzXTtcblxuICAgICAgICBpZiAob3B0aW9ucy5kdXJhdGlvbiAhPT0gMCkge1xuICAgICAgICAgICAgb3B0aW9ucy5kdXJhdGlvbiA9IE1hdGgubWF4KChNYXRoLmFicyh0byAtIGZyb20pIC8gb3B0aW9ucy5zcGVlZCkgKiAxMDAwLCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NldChmcm9tKTtcbiAgICB9XG5cbiAgICBzdGVwKHBvcykge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGludGVycG9sYXRlVmFsdWUodGhpcy5mcm9tLCB0aGlzLnRvLCBwb3MpO1xuICAgICAgICB0aGlzLl9zZXQodmFsdWUpO1xuICAgIH1cblxuICAgIF9zZXQodmFsdWUpIHtcbiAgICAgICAgY29uc3Qgc2V0dGVyID0gXCJzZXRcIiArIHRoaXMuYXhpcy50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBjb25zdCBwb2ludHMgPSB0aGlzLm9wdGlvbnMubmV3UG9pbnRzO1xuXG4gICAgICAgIHBvaW50c1swXVtzZXR0ZXJdKHZhbHVlKTtcbiAgICAgICAgcG9pbnRzWzFdW3NldHRlcl0odmFsdWUpO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoQmFyTGluZWFyUG9pbnRlckFuaW1hdGlvbiwge1xuICAgIGVhc2luZzogTElORUFSLFxuICAgIHNwZWVkOiBMSU5FQVJfU1BFRURcbn0pO1xuXG5kcmF3aW5nLkFuaW1hdGlvbkZhY3RvcnkuY3VycmVudC5yZWdpc3RlcihCQVJfUE9JTlRFUiwgQmFyTGluZWFyUG9pbnRlckFuaW1hdGlvbik7XG5cbmV4cG9ydCBkZWZhdWx0IEJhckxpbmVhclBvaW50ZXJBbmltYXRpb247IiwiaW1wb3J0IHsgZ2VvbWV0cnkgYXMgZ2VvLCBkcmF3aW5nIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuaW1wb3J0IHsgZGVlcEV4dGVuZCwgZGVmaW5lZCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5pbXBvcnQgeyBYLCBZIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgTGluZWFyUG9pbnRlciBmcm9tICcuL2xpbmVhci1wb2ludGVyJztcbmltcG9ydCBCYXJMaW5lYXJQb2ludGVyQW5pbWF0aW9uIGZyb20gJy4vYmFyLWxpbmVhci1wb2ludGVyLWFuaW1hdGlvbic7XG5cbmNvbnN0IHsgR3JvdXAsIFBhdGggfSA9IGRyYXdpbmc7XG5cbmNsYXNzIEJhckxpbmVhclBvaW50ZXIgZXh0ZW5kcyBMaW5lYXJQb2ludGVyIHtcbiAgICBjb25zdHJ1Y3RvcihzY2FsZSwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihzY2FsZSwgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKCFkZWZpbmVkKHRoaXMub3B0aW9ucy5zaXplKSkge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnNpemUgPSB0aGlzLnNjYWxlLm9wdGlvbnMubWFqb3JUaWNrcy5zaXplICogMC4zO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcG9pbnRlclNoYXBlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHsgc2NhbGUsIG9wdGlvbnMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHsgbWlycm9yLCB2ZXJ0aWNhbCB9ID0gc2NhbGUub3B0aW9ucztcbiAgICAgICAgY29uc3QgZGlyID0gbWlycm9yID09PSB2ZXJ0aWNhbCA/IC0xIDogMTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IG9wdGlvbnMuc2l6ZSAqIGRpcjtcbiAgICAgICAgY29uc3QgbWluU2xvdCA9IHNjYWxlLmdldFNsb3Qoc2NhbGUub3B0aW9ucy5taW4pO1xuICAgICAgICBjb25zdCBzbG90ID0gc2NhbGUuZ2V0U2xvdCh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGF4aXMgPSB2ZXJ0aWNhbCA/IFkgOiBYO1xuICAgICAgICBjb25zdCBzaXplQXhpcyA9IHZlcnRpY2FsID8gWCA6IFk7XG4gICAgICAgIGNvbnN0IG1hcmdpbiA9IHRoaXMuX21hcmdpbigpICogZGlyO1xuXG4gICAgICAgIGNvbnN0IHAxID0gbmV3IGdlby5Qb2ludCgpO1xuICAgICAgICBwMVtheGlzXSA9IG1pblNsb3RbYXhpcyArIFwiMVwiXTtcbiAgICAgICAgcDFbc2l6ZUF4aXNdID0gbWluU2xvdFtzaXplQXhpcyArIFwiMVwiXTtcblxuICAgICAgICBjb25zdCBwMiA9IG5ldyBnZW8uUG9pbnQoKTtcbiAgICAgICAgcDJbYXhpc10gPSBzbG90W2F4aXMgKyBcIjFcIl07XG4gICAgICAgIHAyW3NpemVBeGlzXSA9IHNsb3Rbc2l6ZUF4aXMgKyBcIjFcIl07XG5cbiAgICAgICAgaWYgKHZlcnRpY2FsKSB7XG4gICAgICAgICAgICBwMS50cmFuc2xhdGUobWFyZ2luLCAwKTtcbiAgICAgICAgICAgIHAyLnRyYW5zbGF0ZShtYXJnaW4sIDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcDEudHJhbnNsYXRlKDAsIG1hcmdpbik7XG4gICAgICAgICAgICBwMi50cmFuc2xhdGUoMCwgbWFyZ2luKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHAzID0gcDIuY2xvbmUoKTtcbiAgICAgICAgY29uc3QgcDQgPSBwMS5jbG9uZSgpO1xuXG4gICAgICAgIGlmICh2ZXJ0aWNhbCkge1xuICAgICAgICAgICAgcDMudHJhbnNsYXRlKHNpemUsIDApO1xuICAgICAgICAgICAgcDQudHJhbnNsYXRlKHNpemUsIDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcDMudHJhbnNsYXRlKDAsIHNpemUpO1xuICAgICAgICAgICAgcDQudHJhbnNsYXRlKDAsIHNpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFsgcDEsIHAyLCBwMywgcDQgXTtcbiAgICB9XG5cbiAgICByZXBhaW50KCkge1xuICAgICAgICBjb25zdCB7IHNjYWxlLCBvcHRpb25zIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBzaGFwZSA9IHRoaXMucG9pbnRlclNoYXBlKG9wdGlvbnMudmFsdWUpO1xuICAgICAgICBjb25zdCBwb2ludGVyUGF0aCA9IHRoaXMucG9pbnRlclBhdGg7XG4gICAgICAgIGNvbnN0IG9sZFNoYXBlID0gdGhpcy5wb2ludGVyU2hhcGUob3B0aW9ucy5fb2xkVmFsdWUpO1xuXG4gICAgICAgIHBvaW50ZXJQYXRoLm1vdmVUbyhzaGFwZVswXSkubGluZVRvKHNoYXBlWzFdKS5saW5lVG8oc2hhcGVbMl0pLmxpbmVUbyhzaGFwZVszXSkuY2xvc2UoKTtcblxuICAgICAgICBjb25zdCBhbmltYXRpb24gPSBuZXcgQmFyTGluZWFyUG9pbnRlckFuaW1hdGlvbihwb2ludGVyUGF0aCwgZGVlcEV4dGVuZChvcHRpb25zLmFuaW1hdGlvbiwge1xuICAgICAgICAgICAgcmV2ZXJzZTogc2NhbGUub3B0aW9ucy5yZXZlcnNlLFxuICAgICAgICAgICAgdmVydGljYWw6IHNjYWxlLm9wdGlvbnMudmVydGljYWwsXG4gICAgICAgICAgICBvbGRQb2ludHM6IFsgb2xkU2hhcGVbMV0sIG9sZFNoYXBlWzJdIF0sXG4gICAgICAgICAgICBuZXdQb2ludHM6IFsgc2hhcGVbMV0sIHNoYXBlWzJdIF1cbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmFuaW1hdGlvbi50cmFuc2l0aW9ucyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGFuaW1hdGlvbi5vcHRpb25zLmR1cmF0aW9uID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGFuaW1hdGlvbi5zZXR1cCgpO1xuICAgICAgICBhbmltYXRpb24ucGxheSgpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSBuZXcgR3JvdXAoKTtcbiAgICAgICAgY29uc3QgZWxlbWVudE9wdGlvbnMgPSB0aGlzLmdldEVsZW1lbnRPcHRpb25zKCk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50cmFjay52aXNpYmxlKSB7XG4gICAgICAgICAgICBncm91cC5hcHBlbmQodGhpcy5yZW5kZXJUcmFjaygpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBvaW50ZXIgPSB0aGlzLnBvaW50ZXJQYXRoID0gbmV3IFBhdGgoe1xuICAgICAgICAgICAgc3Ryb2tlOiBlbGVtZW50T3B0aW9ucy5zdHJva2UsXG4gICAgICAgICAgICBmaWxsOiBlbGVtZW50T3B0aW9ucy5maWxsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGdyb3VwLmFwcGVuZChwb2ludGVyKTtcblxuICAgICAgICB0aGlzLmVsZW1lbnRzID0gZ3JvdXA7XG5cbiAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH1cblxuICAgIHJlbmRlclRyYWNrKCkge1xuICAgICAgICBjb25zdCB0cmFja09wdGlvbnMgPSB0aGlzLm9wdGlvbnMudHJhY2s7XG4gICAgICAgIGNvbnN0IGJvcmRlciA9IHRyYWNrT3B0aW9ucy5ib3JkZXIgfHwge307XG4gICAgICAgIGNvbnN0IHRyYWNrQm94ID0gdGhpcy50cmFja0JveC5jbG9uZSgpLnBhZChib3JkZXIud2lkdGggfHwgMCk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQYXRoLmZyb21SZWN0KHRyYWNrQm94LnRvUmVjdCgpLCB7XG4gICAgICAgICAgICBmaWxsOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IHRyYWNrT3B0aW9ucy5jb2xvcixcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiB0cmFja09wdGlvbnMub3BhY2l0eVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBib3JkZXIud2lkdGggPyBib3JkZXIuY29sb3IgfHwgdHJhY2tPcHRpb25zLmNvbG9yIDogXCJcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogYm9yZGVyLndpZHRoLFxuICAgICAgICAgICAgICAgIGRhc2hUeXBlOiBib3JkZXIuZGFzaFR5cGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBCYXJMaW5lYXJQb2ludGVyOyIsImltcG9ydCB7IGRyYXdpbmcgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5pbXBvcnQgeyBCb3ggfSBmcm9tICcuLi8uLi9jb3JlJztcbmltcG9ydCB7IHNldERlZmF1bHRPcHRpb25zLCBkZWVwRXh0ZW5kLCBpc0FycmF5IH0gZnJvbSAnLi4vLi4vY29tbW9uJztcbmltcG9ydCB7IEFSUk9XLCBERUZBVUxUX1dJRFRILCBERUZBVUxUX0hFSUdIVCB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgR2F1Z2UgZnJvbSAnLi4vZ2F1Z2UnO1xuaW1wb3J0IExpbmVhclNjYWxlIGZyb20gJy4vbGluZWFyLXNjYWxlJztcbmltcG9ydCBBcnJvd0xpbmVhclBvaW50ZXIgZnJvbSAnLi9hcnJvdy1saW5lYXItcG9pbnRlcic7XG5pbXBvcnQgQmFyTGluZWFyUG9pbnRlciBmcm9tICcuL2Jhci1saW5lYXItcG9pbnRlcic7XG5cbmNvbnN0IERFRkFVTFRfTUlOX1dJRFRIID0gNjA7XG5jb25zdCBERUZBVUxUX01JTl9IRUlHSFQgPSA2MDtcblxuY29uc3QgR3JvdXAgPSBkcmF3aW5nLkdyb3VwO1xuXG5jbGFzcyBMaW5lYXJHYXVnZSBleHRlbmRzIEdhdWdlIHtcblxuICAgIHJlZmxvdyhiYm94KSB7XG4gICAgICAgIGNvbnN0IHBvaW50ZXJzID0gdGhpcy5wb2ludGVycztcbiAgICAgICAgY29uc3QgYmJveFggPSBiYm94Lm9yaWdpbi54O1xuICAgICAgICBjb25zdCBiYm94WSA9IGJib3gub3JpZ2luLnk7XG5cbiAgICAgICAgY29uc3QgYm94ID0gbmV3IEJveChiYm94WCwgYmJveFksIGJib3hYICsgYmJveC53aWR0aCgpLCBiYm94WSArIGJib3guaGVpZ2h0KCkpO1xuXG4gICAgICAgIHRoaXMuc2NhbGUucmVmbG93KGJveCk7XG4gICAgICAgIHRoaXMuX3Nocmlua1NjYWxlV2lkdGgoYm94KTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwb2ludGVyc1tpXS5yZWZsb3coKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYmJveCA9IHRoaXMuX2dldEJveChib3gpO1xuICAgICAgICB0aGlzLl9hbGlnbkVsZW1lbnRzKCk7XG4gICAgICAgIHRoaXMuX3Nocmlua0VsZW1lbnRzKCk7XG4gICAgICAgIHRoaXMuX2J1aWxkVmlzdWFsKCk7XG4gICAgICAgIHRoaXMuX2RyYXcoKTtcbiAgICB9XG5cbiAgICBfYnVpbGRWaXN1YWwoKSB7XG4gICAgICAgIGNvbnN0IHZpc3VhbHMgPSBuZXcgR3JvdXAoKTtcbiAgICAgICAgY29uc3Qgc2NhbGVFbGVtZW50cyA9IHRoaXMuc2NhbGUucmVuZGVyKCk7XG4gICAgICAgIGNvbnN0IHBvaW50ZXJzID0gdGhpcy5wb2ludGVycztcblxuICAgICAgICB2aXN1YWxzLmFwcGVuZCh0aGlzLmdhdWdlQXJlYSk7XG4gICAgICAgIHZpc3VhbHMuYXBwZW5kKHNjYWxlRWxlbWVudHMpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBwb2ludGVyc1tpXTtcbiAgICAgICAgICAgIHZpc3VhbHMuYXBwZW5kKGN1cnJlbnQucmVuZGVyKCkpO1xuICAgICAgICAgICAgY3VycmVudC52YWx1ZShjdXJyZW50Lm9wdGlvbnMudmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdmlzdWFscyA9IHZpc3VhbHM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZU1vZGVsKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBzY2FsZSA9IHRoaXMuc2NhbGUgPSBuZXcgTGluZWFyU2NhbGUob3B0aW9ucy5zY2FsZSwgdGhpcy5jb250ZXh0U2VydmljZSk7XG5cbiAgICAgICAgdGhpcy5wb2ludGVycyA9IFtdO1xuXG4gICAgICAgIGxldCBwb2ludGVycyA9IG9wdGlvbnMucG9pbnRlcjtcbiAgICAgICAgcG9pbnRlcnMgPSBpc0FycmF5KHBvaW50ZXJzKSA/IHBvaW50ZXJzIDogWyBwb2ludGVycyBdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRPcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgcG9pbnRlcnNbaV0sIHtcbiAgICAgICAgICAgICAgICBhbmltYXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbnM6IG9wdGlvbnMudHJhbnNpdGlvbnNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ZXJUeXBlID0gY3VycmVudE9wdGlvbnMuc2hhcGUgPT09IEFSUk9XID8gQXJyb3dMaW5lYXJQb2ludGVyIDogQmFyTGluZWFyUG9pbnRlcjtcblxuICAgICAgICAgICAgdGhpcy5wb2ludGVycy5wdXNoKG5ldyBwb2ludGVyVHlwZShzY2FsZSwgY3VycmVudE9wdGlvbnMpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9kZWZhdWx0U2l6ZSgpIHtcbiAgICAgICAgY29uc3QgdmVydGljYWwgPSB0aGlzLm9wdGlvbnMuc2NhbGUudmVydGljYWw7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdpZHRoOiB2ZXJ0aWNhbCA/IERFRkFVTFRfTUlOX1dJRFRIIDogREVGQVVMVF9XSURUSCxcbiAgICAgICAgICAgIGhlaWdodDogdmVydGljYWwgPyBERUZBVUxUX0hFSUdIVCA6IERFRkFVTFRfTUlOX0hFSUdIVFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIF9nZXRCb3goYm94KSB7XG4gICAgICAgIGNvbnN0IHsgc2NhbGUsIHBvaW50ZXJzIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBib3hDZW50ZXIgPSBib3guY2VudGVyKCk7XG4gICAgICAgIGxldCBwbG90QXJlYUJveCA9IHBvaW50ZXJzWzBdLmJveC5jbG9uZSgpLndyYXAoc2NhbGUuYm94KTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwbG90QXJlYUJveC53cmFwKHBvaW50ZXJzW2ldLmJveC5jbG9uZSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzaXplO1xuICAgICAgICBpZiAoc2NhbGUub3B0aW9ucy52ZXJ0aWNhbCkge1xuICAgICAgICAgICAgc2l6ZSA9IHBsb3RBcmVhQm94LndpZHRoKCkgLyAyO1xuICAgICAgICAgICAgcGxvdEFyZWFCb3ggPSBuZXcgQm94KFxuICAgICAgICAgICAgICAgIGJveENlbnRlci54IC0gc2l6ZSwgYm94LnkxLFxuICAgICAgICAgICAgICAgIGJveENlbnRlci54ICsgc2l6ZSwgYm94LnkyXG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2l6ZSA9IHBsb3RBcmVhQm94LmhlaWdodCgpIC8gMjtcbiAgICAgICAgICAgIHBsb3RBcmVhQm94ID0gbmV3IEJveChcbiAgICAgICAgICAgICAgICBib3gueDEsIGJveENlbnRlci55IC0gc2l6ZSxcbiAgICAgICAgICAgICAgICBib3gueDIsIGJveENlbnRlci55ICsgc2l6ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwbG90QXJlYUJveDtcbiAgICB9XG5cbiAgICBfYWxpZ25FbGVtZW50cygpIHtcbiAgICAgICAgY29uc3QgeyBzY2FsZSwgcG9pbnRlcnMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHNjYWxlQm94ID0gc2NhbGUuYm94O1xuICAgICAgICBjb25zdCBib3ggPSBwb2ludGVyc1swXS5ib3guY2xvbmUoKS53cmFwKHNjYWxlLmJveCk7XG4gICAgICAgIGNvbnN0IHBsb3RBcmVhQm94ID0gdGhpcy5iYm94O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJveC53cmFwKHBvaW50ZXJzW2ldLmJveC5jbG9uZSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBkaWZmO1xuICAgICAgICBpZiAoc2NhbGUub3B0aW9ucy52ZXJ0aWNhbCkge1xuICAgICAgICAgICAgZGlmZiA9IHBsb3RBcmVhQm94LmNlbnRlcigpLnggLSBib3guY2VudGVyKCkueDtcbiAgICAgICAgICAgIHNjYWxlLnJlZmxvdyhuZXcgQm94KFxuICAgICAgICAgICAgICAgIHNjYWxlQm94LngxICsgZGlmZiwgcGxvdEFyZWFCb3gueTEsXG4gICAgICAgICAgICAgICAgc2NhbGVCb3gueDIgKyBkaWZmLCBwbG90QXJlYUJveC55MlxuICAgICAgICAgICAgKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkaWZmID0gcGxvdEFyZWFCb3guY2VudGVyKCkueSAtIGJveC5jZW50ZXIoKS55O1xuICAgICAgICAgICAgc2NhbGUucmVmbG93KG5ldyBCb3goXG4gICAgICAgICAgICAgICAgc2NhbGVCb3gueDEsIHNjYWxlQm94LnkxICsgZGlmZixcbiAgICAgICAgICAgICAgICBzY2FsZUJveC54Miwgc2NhbGVCb3gueTIgKyBkaWZmXG4gICAgICAgICAgICApKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBvaW50ZXJzW2ldLnJlZmxvdyh0aGlzLmJib3gpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3Nocmlua1NjYWxlV2lkdGgoYmJveCkge1xuICAgICAgICBjb25zdCB7IHNjYWxlIH0gPSB0aGlzO1xuICAgICAgICBpZiAoIXNjYWxlLm9wdGlvbnMudmVydGljYWwpIHtcbiAgICAgICAgICAgIGNvbnN0IG92ZXJmbG93ID0gc2NhbGUuY29udGVudEJveCgpLndpZHRoKCkgLSBiYm94LndpZHRoKCk7XG4gICAgICAgICAgICBpZiAob3ZlcmZsb3cgPiAwKSB7XG4gICAgICAgICAgICAgICAgc2NhbGUuYm94LnNocmluayhvdmVyZmxvdywgMCk7XG4gICAgICAgICAgICAgICAgc2NhbGUuYm94LmFsaWduVG8oYmJveCwgJ2NlbnRlcicpO1xuICAgICAgICAgICAgICAgIHNjYWxlLnJlZmxvdyhzY2FsZS5ib3gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3Nocmlua0VsZW1lbnRzKCkge1xuICAgICAgICBjb25zdCB7IHNjYWxlLCBwb2ludGVycyB9ID0gdGhpcztcbiAgICAgICAgY29uc3Qgc2NhbGVCb3ggPSBzY2FsZS5ib3guY2xvbmUoKTtcbiAgICAgICAgY29uc3QgcG9zID0gc2NhbGUub3B0aW9ucy52ZXJ0aWNhbCA/IFwieVwiIDogXCJ4XCI7XG4gICAgICAgIGNvbnN0IHBvaW50ZXJCb3ggPSBwb2ludGVyc1swXS5ib3g7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcG9pbnRlckJveC53cmFwKHBvaW50ZXJzW2ldLmJveC5jbG9uZSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjYWxlQm94W3BvcyArIDFdICs9IE1hdGgubWF4KHNjYWxlQm94W3BvcyArIDFdIC0gcG9pbnRlckJveFtwb3MgKyAxXSwgMCk7XG4gICAgICAgIHNjYWxlQm94W3BvcyArIDJdIC09IE1hdGgubWF4KHBvaW50ZXJCb3hbcG9zICsgMl0gLSBzY2FsZUJveFtwb3MgKyAyXSwgMCk7XG5cbiAgICAgICAgc2NhbGUucmVmbG93KHNjYWxlQm94KTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwb2ludGVyc1tpXS5yZWZsb3codGhpcy5iYm94KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoTGluZWFyR2F1Z2UsIHtcbiAgICB0cmFuc2l0aW9uczogdHJ1ZSxcbiAgICBnYXVnZUFyZWE6IHtcbiAgICAgICAgYmFja2dyb3VuZDogXCJcIlxuICAgIH0sXG4gICAgc2NhbGU6IHtcbiAgICAgICAgdmVydGljYWw6IHRydWVcbiAgICB9XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgTGluZWFyR2F1Z2U7IiwiaW1wb3J0IHsgZ2VvbWV0cnkgYXMgZ2VvLCBkcmF3aW5nIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuaW1wb3J0IHsgc2V0RGVmYXVsdE9wdGlvbnMsIGRlZXBFeHRlbmQsIGRlZmluZWQsIHJvdW5kIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcbmltcG9ydCB7IEJMQUNLLCBDT09SRF9QUkVDSVNJT04gfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGF1dG9NYWpvclVuaXQsIEJveCwgTnVtZXJpY0F4aXMgfSBmcm9tICcuLi8uLi9jb3JlJztcbmltcG9ydCB7IGJ1aWxkTGFiZWxFbGVtZW50LCBnZXRSYW5nZSB9IGZyb20gJy4uL3V0aWxzJztcblxuaW1wb3J0IHsgREVHUkVFLCBERUZBVUxUX0xJTkVfV0lEVEgsIElOU0lERSwgT1VUU0lERSB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmNvbnN0IEdFT19BUkNfQURKVVNUX0FOR0xFID0gMTgwO1xuXG5jb25zdCB7IEFyYywgUGF0aCwgR3JvdXAgfSA9IGRyYXdpbmc7XG5cbmZ1bmN0aW9uIGRyYXdUaWNrcyhhcmMsIHRpY2tBbmdsZXMsIHVuaXQsIHRpY2tPcHRpb25zKSB7XG4gICAgY29uc3QgdGlja3MgPSBuZXcgR3JvdXAoKTtcbiAgICBjb25zdCBjZW50ZXIgPSBhcmMuY2VudGVyO1xuICAgIGNvbnN0IHJhZGl1cyA9IGFyYy5nZXRSYWRpdXNYKCk7XG5cbiAgICBpZiAodGlja09wdGlvbnMudmlzaWJsZSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRpY2tBbmdsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHRpY2tTdGFydCA9IGFyYy5wb2ludEF0KHRpY2tBbmdsZXNbaV0pO1xuICAgICAgICAgICAgY29uc3QgdGlja0VuZCA9IG5ldyBnZW8uUG9pbnQoY2VudGVyLnggKyByYWRpdXMgLSB0aWNrT3B0aW9ucy5zaXplLCBjZW50ZXIueSkucm90YXRlKHRpY2tBbmdsZXNbaV0sIGNlbnRlcik7XG5cbiAgICAgICAgICAgIHRpY2tzLmFwcGVuZChuZXcgUGF0aCh7XG4gICAgICAgICAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiB0aWNrT3B0aW9ucy5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHRpY2tPcHRpb25zLndpZHRoXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkubW92ZVRvKHRpY2tTdGFydCkubGluZVRvKHRpY2tFbmQpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aWNrcztcbn1cblxuZnVuY3Rpb24gcmFuZ2VTZWdtZW50KGZyb20sIHRvLCBjb2xvciwgb3BhY2l0eSkge1xuICAgIHJldHVybiB7IGZyb206IGZyb20sIHRvOiB0bywgY29sb3I6IGNvbG9yLCBvcGFjaXR5OiBvcGFjaXR5IH07XG59XG5cbmNsYXNzIFJhZGlhbFNjYWxlIGV4dGVuZHMgTnVtZXJpY0F4aXMge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMsIHNlcnZpY2UpIHtcbiAgICAgICAgc3VwZXIoMCwgMSwgb3B0aW9ucywgc2VydmljZSk7XG4gICAgfVxuXG4gICAgaW5pdFVzZXJPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgc2NhbGVPcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgc2NhbGVPcHRpb25zLm1ham9yVW5pdCA9IHNjYWxlT3B0aW9ucy5tYWpvclVuaXQgfHwgYXV0b01ham9yVW5pdChzY2FsZU9wdGlvbnMubWluLCBzY2FsZU9wdGlvbnMubWF4KTtcbiAgICAgICAgc2NhbGVPcHRpb25zLm1pbm9yVW5pdCA9IHNjYWxlT3B0aW9ucy5taW5vclVuaXQgfHwgc2NhbGVPcHRpb25zLm1ham9yVW5pdCAvIDEwO1xuXG4gICAgICAgIHJldHVybiBzY2FsZU9wdGlvbnM7XG4gICAgfVxuXG4gICAgaW5pdEZpZWxkcygpIHtcbiAgICB9XG5cbiAgICByZW5kZXIoY2VudGVyLCByYWRpdXMpIHtcbiAgICAgICAgY29uc3QgYXJjID0gdGhpcy5yZW5kZXJBcmMoY2VudGVyLCByYWRpdXMpO1xuXG4gICAgICAgIHRoaXMuYmJveCA9IGFyYy5iYm94KCk7XG4gICAgICAgIHRoaXMubGFiZWxFbGVtZW50cyA9IHRoaXMucmVuZGVyTGFiZWxzKCk7XG4gICAgICAgIHRoaXMudGlja3MgPSB0aGlzLnJlbmRlclRpY2tzKCk7XG4gICAgICAgIHRoaXMucmFuZ2VzID0gdGhpcy5yZW5kZXJSYW5nZXMoKTtcbiAgICB9XG5cbiAgICByZWZsb3coYmJveCkge1xuICAgICAgICBjb25zdCBjZW50ZXIgPSBiYm94LmNlbnRlcigpO1xuICAgICAgICBjb25zdCByYWRpdXMgPSBNYXRoLm1pbihiYm94LmhlaWdodCgpLCBiYm94LndpZHRoKCkpIC8gMjtcblxuICAgICAgICBpZiAoZGVmaW5lZCh0aGlzLmJib3gpKSB7XG4gICAgICAgICAgICB0aGlzLmJib3ggPSB0aGlzLmFyYy5iYm94KCk7XG4gICAgICAgICAgICB0aGlzLnJhZGl1cyh0aGlzLmFyYy5nZXRSYWRpdXNYKCkpO1xuICAgICAgICAgICAgdGhpcy5yZXBvc2l0aW9uUmFuZ2VzKCk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlckxhYmVscygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyKGNlbnRlciwgcmFkaXVzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNsb3RBbmdsZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCB7IG1pbiwgbWF4LCByZXZlcnNlLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBhbmdsZSA9IGVuZEFuZ2xlIC0gc3RhcnRBbmdsZTtcbiAgICAgICAgbGV0IHJlc3VsdDtcblxuICAgICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gZW5kQW5nbGUgLSAodmFsdWUgLSBtaW4pIC8gKG1heCAtIG1pbikgKiBhbmdsZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9ICgodmFsdWUgLSBtaW4pIC8gKG1heCAtIG1pbikgKiBhbmdsZSkgKyBzdGFydEFuZ2xlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdCArIEdFT19BUkNfQURKVVNUX0FOR0xFO1xuICAgIH1cblxuICAgIGhhc1JhbmdlcygpIHtcbiAgICAgICAgY29uc3QgcmFuZ2VzID0gdGhpcy5vcHRpb25zLnJhbmdlcztcblxuICAgICAgICByZXR1cm4gcmFuZ2VzICYmIHJhbmdlcy5sZW5ndGg7XG4gICAgfVxuXG4gICAgdGlja3NTaXplKCkge1xuICAgICAgICBjb25zdCB7IG1ham9yVGlja3MsIG1pbm9yVGlja3MgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgbGV0IHNpemUgPSAwO1xuICAgICAgICBpZiAobWFqb3JUaWNrcy52aXNpYmxlKSB7XG4gICAgICAgICAgICBzaXplID0gbWFqb3JUaWNrcy5zaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1pbm9yVGlja3MudmlzaWJsZSkge1xuICAgICAgICAgICAgc2l6ZSA9IE1hdGgubWF4KG1pbm9yVGlja3Muc2l6ZSwgc2l6ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2l6ZTtcbiAgICB9XG5cbiAgICByZW5kZXJMYWJlbHMoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGFyYyA9IHRoaXMuYXJjLmNsb25lKCk7XG4gICAgICAgIGxldCByYWRpdXMgPSBhcmMuZ2V0UmFkaXVzWCgpO1xuICAgICAgICBjb25zdCB0aWNrQW5nbGVzID0gdGhpcy50aWNrQW5nbGVzKGFyYywgb3B0aW9ucy5tYWpvclVuaXQpO1xuICAgICAgICBjb25zdCByYW5nZVNpemUgPSBvcHRpb25zLnJhbmdlU2l6ZSA9IG9wdGlvbnMucmFuZ2VTaXplIHx8IHJhZGl1cyAqIDAuMTtcbiAgICAgICAgY29uc3QgbGFiZWxzR3JvdXAgPSBuZXcgR3JvdXAoKTtcblxuICAgICAgICBsZXQgcmFuZ2VEaXN0YW5jZSA9IHJhZGl1cyAqIDAuMDU7XG4gICAgICAgIGlmIChkZWZpbmVkKG9wdGlvbnMucmFuZ2VEaXN0YW5jZSkpIHtcbiAgICAgICAgICAgIHJhbmdlRGlzdGFuY2UgPSBvcHRpb25zLnJhbmdlRGlzdGFuY2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvcHRpb25zLnJhbmdlRGlzdGFuY2UgPSByYW5nZURpc3RhbmNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGFiZWxzT3B0aW9ucyA9IG9wdGlvbnMubGFiZWxzO1xuICAgICAgICBjb25zdCBpc0luc2lkZSA9IGxhYmVsc09wdGlvbnMucG9zaXRpb24gPT09IElOU0lERTtcbiAgICAgICAgY29uc3QgaGFzTGFiZWxFbGVtZW50cyA9IGRlZmluZWQodGhpcy5sYWJlbEVsZW1lbnRzKTtcblxuICAgICAgICBpZiAoaXNJbnNpZGUpIHtcbiAgICAgICAgICAgIHJhZGl1cyAtPSB0aGlzLnRpY2tzU2l6ZSgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5oYXNSYW5nZXMoKSAmJiAhaGFzTGFiZWxFbGVtZW50cykge1xuICAgICAgICAgICAgICAgIHJhZGl1cyAtPSByYW5nZVNpemUgKyByYW5nZURpc3RhbmNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXJjLnNldFJhZGl1c1gocmFkaXVzKS5zZXRSYWRpdXNZKHJhZGl1cyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsYWJlbHMgPSB0aGlzLmxhYmVscztcbiAgICAgICAgY29uc3QgY291bnQgPSBsYWJlbHMubGVuZ3RoO1xuICAgICAgICBjb25zdCBwYWRkaW5nID0gbGFiZWxzT3B0aW9ucy5wYWRkaW5nO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgbGFiZWwgPSBsYWJlbHNbaV07XG4gICAgICAgICAgICBjb25zdCBoYWxmV2lkdGggPSBsYWJlbC5ib3gud2lkdGgoKSAvIDI7XG4gICAgICAgICAgICBjb25zdCBoYWxmSGVpZ2h0ID0gbGFiZWwuYm94LmhlaWdodCgpIC8gMjtcbiAgICAgICAgICAgIGNvbnN0IGFuZ2xlID0gdGlja0FuZ2xlc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsQW5nbGUgPSAoYW5nbGUgLSBHRU9fQVJDX0FESlVTVF9BTkdMRSkgKiBERUdSRUU7XG5cbiAgICAgICAgICAgIGNvbnN0IGxwID0gYXJjLnBvaW50QXQoYW5nbGUpO1xuICAgICAgICAgICAgY29uc3QgY3ggPSBscC54ICsgKE1hdGguY29zKGxhYmVsQW5nbGUpICogKGhhbGZXaWR0aCArIHBhZGRpbmcpICogKGlzSW5zaWRlID8gMSA6IC0xKSk7XG4gICAgICAgICAgICBjb25zdCBjeSA9IGxwLnkgKyAoTWF0aC5zaW4obGFiZWxBbmdsZSkgKiAoaGFsZkhlaWdodCArIHBhZGRpbmcpICogKGlzSW5zaWRlID8gMSA6IC0xKSk7XG5cbiAgICAgICAgICAgIGxhYmVsLnJlZmxvdyhuZXcgQm94KGN4IC0gaGFsZldpZHRoLCBjeSAtIGhhbGZIZWlnaHQsIGN4ICsgaGFsZldpZHRoLCBjeSArIGhhbGZIZWlnaHQpKTtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsUG9zID0gbmV3IGdlby5Qb2ludChsYWJlbC5ib3gueDEsIGxhYmVsLmJveC55MSk7XG5cbiAgICAgICAgICAgIGxldCBsYWJlbEVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoIWhhc0xhYmVsRWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgICBsYWJlbEVsZW1lbnQgPSBidWlsZExhYmVsRWxlbWVudChsYWJlbCwgb3B0aW9ucy5sYWJlbHMpO1xuICAgICAgICAgICAgICAgIGxhYmVsc0dyb3VwLmFwcGVuZChsYWJlbEVsZW1lbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsYWJlbEVsZW1lbnQgPSB0aGlzLmxhYmVsRWxlbWVudHMuY2hpbGRyZW5baV07XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldkxhYmVsUG9zID0gbGFiZWxFbGVtZW50LmJib3goKS5vcmlnaW47XG5cbiAgICAgICAgICAgICAgICBjb25zdCBsYWJlbFRyYW5zZm9ybSA9IGxhYmVsRWxlbWVudC50cmFuc2Zvcm0oKSB8fCBnZW8udHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgbGFiZWxUcmFuc2Zvcm0udHJhbnNsYXRlKGxhYmVsUG9zLnggLSBwcmV2TGFiZWxQb3MueCwgbGFiZWxQb3MueSAtIHByZXZMYWJlbFBvcy55KTtcbiAgICAgICAgICAgICAgICBsYWJlbEVsZW1lbnQudHJhbnNmb3JtKGxhYmVsVHJhbnNmb3JtKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5iYm94ID0gZ2VvLlJlY3QudW5pb24odGhpcy5iYm94LCBsYWJlbEVsZW1lbnQuYmJveCgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBsYWJlbHNHcm91cDtcbiAgICB9XG5cbiAgICByZXBvc2l0aW9uUmFuZ2VzKCkge1xuICAgICAgICBjb25zdCByYW5nZXMgPSB0aGlzLnJhbmdlcy5jaGlsZHJlbjtcblxuICAgICAgICBpZiAocmFuZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHsgcmFuZ2VEaXN0YW5jZSwgcmFuZ2VTaXplIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgICAgICBsZXQgcmFuZ2VSYWRpdXMgPSB0aGlzLmdldFJhbmdlUmFkaXVzKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMubGFiZWxzLnBvc2l0aW9uID09PSBJTlNJREUpIHtcbiAgICAgICAgICAgICAgICByYW5nZVJhZGl1cyArPSByYW5nZVNpemUgKyByYW5nZURpc3RhbmNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBuZXdSYWRpdXMgPSByYW5nZVJhZGl1cyArIChyYW5nZVNpemUgLyAyKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICByYW5nZXNbaV0uX2dlb21ldHJ5LnNldFJhZGl1c1gobmV3UmFkaXVzKS5zZXRSYWRpdXNZKG5ld1JhZGl1cyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYmJveCA9IGdlby5SZWN0LnVuaW9uKHRoaXMuYmJveCwgdGhpcy5yYW5nZXMuYmJveCgpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlclJhbmdlcygpIHtcbiAgICAgICAgY29uc3Qgc2VnbWVudHMgPSB0aGlzLnJhbmdlU2VnbWVudHMoKTtcbiAgICAgICAgY29uc3Qgc2VnbWVudHNDb3VudCA9IHNlZ21lbnRzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IEdyb3VwKCk7XG5cbiAgICAgICAgaWYgKHNlZ21lbnRzQ291bnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgcmFuZ2VTaXplLCByZXZlcnNlLCByYW5nZURpc3RhbmNlIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgICAgICBjb25zdCByYW5nZVJhZGl1cyA9IHRoaXMuZ2V0UmFuZ2VSYWRpdXMoKTtcblxuICAgICAgICAgICAgLy8gbW92ZSB0aGUgdGlja3Mgd2l0aCBhIHJhbmdlIGRpc3RhbmNlIGFuZCBhIHJhbmdlIHNpemVcbiAgICAgICAgICAgIHRoaXMucmFkaXVzKHRoaXMucmFkaXVzKCkgLSByYW5nZVNpemUgLSByYW5nZURpc3RhbmNlKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWdtZW50c0NvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWdtZW50ID0gc2VnbWVudHNbaV07XG4gICAgICAgICAgICAgICAgY29uc3QgZnJvbSA9IHRoaXMuc2xvdEFuZ2xlKHNlZ21lbnRbcmV2ZXJzZSA/IFwidG9cIiA6IFwiZnJvbVwiXSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdG8gPSB0aGlzLnNsb3RBbmdsZShzZWdtZW50WyFyZXZlcnNlID8gXCJ0b1wiIDogXCJmcm9tXCJdKTtcblxuICAgICAgICAgICAgICAgIGlmICh0byAtIGZyb20gIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCh0aGlzLmNyZWF0ZVJhbmdlKGZyb20sIHRvLCByYW5nZVJhZGl1cywgc2VnbWVudCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgY3JlYXRlUmFuZ2Uoc3RhcnRBbmdsZSwgZW5kQW5nbGUsIHJhbmdlUmFkaXVzLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJhbmdlU2l6ZSA9IHRoaXMub3B0aW9ucy5yYW5nZVNpemU7XG4gICAgICAgIGNvbnN0IHJhbmdlR2VvbSA9IG5ldyBnZW8uQXJjKHRoaXMuYXJjLmNlbnRlciwge1xuICAgICAgICAgICAgcmFkaXVzWDogcmFuZ2VSYWRpdXMgKyAocmFuZ2VTaXplIC8gMiksXG4gICAgICAgICAgICByYWRpdXNZOiByYW5nZVJhZGl1cyArIChyYW5nZVNpemUgLyAyKSxcbiAgICAgICAgICAgIHN0YXJ0QW5nbGU6IHN0YXJ0QW5nbGUsXG4gICAgICAgICAgICBlbmRBbmdsZTogZW5kQW5nbGVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBBcmMocmFuZ2VHZW9tLCB7XG4gICAgICAgICAgICBzdHJva2U6IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogcmFuZ2VTaXplLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBvcHRpb25zLmNvbG9yLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IG9wdGlvbnMub3BhY2l0eSxcbiAgICAgICAgICAgICAgICBsaW5lQ2FwOiBvcHRpb25zLmxpbmVDYXBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmFuZ2VTZWdtZW50cygpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgcmFuZ2VzID0gb3B0aW9ucy5yYW5nZXMgfHwgW107XG4gICAgICAgIGNvbnN0IGNvdW50ID0gcmFuZ2VzLmxlbmd0aDtcbiAgICAgICAgY29uc3Qgc2VnbWVudHMgPSBbXTtcblxuICAgICAgICBpZiAoY291bnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgbWluLCBtYXgsIHJhbmdlUGxhY2Vob2xkZXJDb2xvcjogZGVmYXVsdENvbG9yIH0gPSBvcHRpb25zO1xuICAgICAgICAgICAgc2VnbWVudHMucHVzaChyYW5nZVNlZ21lbnQobWluLCBtYXgsIGRlZmF1bHRDb2xvcikpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCByYW5nZSA9IGdldFJhbmdlKHJhbmdlc1tpXSwgbWluLCBtYXgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlZ21lbnRzQ291bnQgPSBzZWdtZW50cy5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHNlZ21lbnRzQ291bnQ7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWdtZW50ID0gc2VnbWVudHNbal07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlZ21lbnQuZnJvbSA8PSByYW5nZS5mcm9tICYmIHJhbmdlLmZyb20gPD0gc2VnbWVudC50bykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VnbWVudHMucHVzaChyYW5nZVNlZ21lbnQocmFuZ2UuZnJvbSwgcmFuZ2UudG8sIHJhbmdlLmNvbG9yLCByYW5nZS5vcGFjaXR5KSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWdtZW50LmZyb20gPD0gcmFuZ2UudG8gJiYgcmFuZ2UudG8gPD0gc2VnbWVudC50bykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlZ21lbnRzLnB1c2gocmFuZ2VTZWdtZW50KHJhbmdlLnRvLCBzZWdtZW50LnRvLCBkZWZhdWx0Q29sb3IsIHJhbmdlLm9wYWNpdHkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgc2VnbWVudC50byA9IHJhbmdlLmZyb207XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlZ21lbnRzO1xuICAgIH1cblxuICAgIGdldFJhbmdlUmFkaXVzKCkge1xuICAgICAgICBjb25zdCB7IGFyYywgb3B0aW9ucyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgeyByYW5nZVNpemUsIHJhbmdlRGlzdGFuY2UsIG1ham9yVGlja3M6IHsgc2l6ZTogbWFqb3JUaWNrU2l6ZSB9IH0gPSBvcHRpb25zO1xuICAgICAgICBsZXQgcmFkaXVzO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmxhYmVscy5wb3NpdGlvbiA9PT0gT1VUU0lERSkge1xuICAgICAgICAgICAgcmFkaXVzID0gYXJjLmdldFJhZGl1c1goKSAtIG1ham9yVGlja1NpemUgLSByYW5nZURpc3RhbmNlIC0gcmFuZ2VTaXplO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmFkaXVzID0gYXJjLmdldFJhZGl1c1goKSAtIHJhbmdlU2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByYWRpdXM7XG4gICAgfVxuXG4gICAgcmVuZGVyQXJjKGNlbnRlciwgcmFkaXVzKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgY29uc3QgYXJjID0gdGhpcy5hcmMgPSBuZXcgZ2VvLkFyYyhjZW50ZXIsIHtcbiAgICAgICAgICAgIHJhZGl1c1g6IHJhZGl1cyxcbiAgICAgICAgICAgIHJhZGl1c1k6IHJhZGl1cyxcbiAgICAgICAgICAgIHN0YXJ0QW5nbGU6IG9wdGlvbnMuc3RhcnRBbmdsZSArIEdFT19BUkNfQURKVVNUX0FOR0xFLFxuICAgICAgICAgICAgZW5kQW5nbGU6IG9wdGlvbnMuZW5kQW5nbGUgKyBHRU9fQVJDX0FESlVTVF9BTkdMRVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gYXJjO1xuICAgIH1cblxuICAgIHJlbmRlclRpY2tzKCkge1xuICAgICAgICBjb25zdCB7IGFyYywgb3B0aW9ucyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgdGlja0FyYyA9IGFyYy5jbG9uZSgpO1xuXG4gICAgICAgIHRoaXMubWFqb3JUaWNrQW5nbGVzID0gdGhpcy50aWNrQW5nbGVzKGFyYywgb3B0aW9ucy5tYWpvclVuaXQpO1xuICAgICAgICB0aGlzLm1ham9yVGlja3MgPSBkcmF3VGlja3ModGlja0FyYywgdGhpcy5tYWpvclRpY2tBbmdsZXMsIG9wdGlvbnMubWFqb3JVbml0LCBvcHRpb25zLm1ham9yVGlja3MpO1xuXG4gICAgICAgIGNvbnN0IGFsbFRpY2tzID0gbmV3IEdyb3VwKCk7XG4gICAgICAgIGFsbFRpY2tzLmFwcGVuZCh0aGlzLm1ham9yVGlja3MpO1xuXG4gICAgICAgIGNvbnN0IG1ham9yVGlja1NpemUgPSBvcHRpb25zLm1ham9yVGlja3Muc2l6ZTtcbiAgICAgICAgY29uc3QgbWlub3JUaWNrU2l6ZSA9IG9wdGlvbnMubWlub3JUaWNrcy5zaXplO1xuXG4gICAgICAgIHRoaXMuX3RpY2tEaWZmZXJlbmNlID0gbWFqb3JUaWNrU2l6ZSAtIG1pbm9yVGlja1NpemU7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMubGFiZWxzLnBvc2l0aW9uID09PSBPVVRTSURFKSB7XG4gICAgICAgICAgICBjb25zdCByYWRpdXMgPSB0aWNrQXJjLmdldFJhZGl1c1goKTtcbiAgICAgICAgICAgIHRpY2tBcmMuc2V0UmFkaXVzWChyYWRpdXMgLSBtYWpvclRpY2tTaXplICsgbWlub3JUaWNrU2l6ZSlcbiAgICAgICAgICAgICAgICAgICAuc2V0UmFkaXVzWShyYWRpdXMgLSBtYWpvclRpY2tTaXplICsgbWlub3JUaWNrU2l6ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1pbm9yVGlja0FuZ2xlcyA9IHRoaXMubm9ybWFsaXplVGlja0FuZ2xlcyh0aGlzLnRpY2tBbmdsZXMoYXJjLCBvcHRpb25zLm1pbm9yVW5pdCkpO1xuICAgICAgICB0aGlzLm1pbm9yVGlja3MgPSBkcmF3VGlja3ModGlja0FyYywgdGhpcy5taW5vclRpY2tBbmdsZXMsIG9wdGlvbnMubWlub3JVbml0LCBvcHRpb25zLm1pbm9yVGlja3MpO1xuICAgICAgICBhbGxUaWNrcy5hcHBlbmQodGhpcy5taW5vclRpY2tzKTtcblxuICAgICAgICByZXR1cm4gYWxsVGlja3M7XG4gICAgfVxuXG4gICAgbm9ybWFsaXplVGlja0FuZ2xlcyhhbmdsZXMpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3Qgc2tpcCA9IG9wdGlvbnMubWFqb3JVbml0IC8gb3B0aW9ucy5taW5vclVuaXQ7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IGFuZ2xlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgaWYgKGkgJSBza2lwID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYW5nbGVzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhbmdsZXM7XG4gICAgfVxuXG4gICAgdGlja0FuZ2xlcyhyaW5nLCBzdGVwVmFsdWUpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgcmV2ZXJzZSA9IG9wdGlvbnMucmV2ZXJzZTtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBvcHRpb25zLm1heCAtIG9wdGlvbnMubWluO1xuICAgICAgICBjb25zdCBhbmdsZSA9IHJpbmcuZW5kQW5nbGUgLSByaW5nLnN0YXJ0QW5nbGU7XG4gICAgICAgIGNvbnN0IHRpY2tDb3VudCA9IHJhbmdlIC8gc3RlcFZhbHVlO1xuICAgICAgICBsZXQgcG9zID0gcmluZy5zdGFydEFuZ2xlO1xuICAgICAgICBsZXQgc3RlcCA9IGFuZ2xlIC8gdGlja0NvdW50O1xuXG4gICAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgICAgICBwb3MgKz0gYW5nbGU7XG4gICAgICAgICAgICBzdGVwID0gLXN0ZXA7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwb3NpdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aWNrQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgcG9zaXRpb25zLnB1c2gocm91bmQocG9zLCBDT09SRF9QUkVDSVNJT04pKTtcbiAgICAgICAgICAgIHBvcyArPSBzdGVwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJvdW5kKHBvcykgPD0gcmluZy5lbmRBbmdsZSkge1xuICAgICAgICAgICAgcG9zaXRpb25zLnB1c2gocG9zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwb3NpdGlvbnM7XG4gICAgfVxuXG4gICAgcmFkaXVzKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5hcmMuc2V0UmFkaXVzWCh2YWx1ZSkuc2V0UmFkaXVzWSh2YWx1ZSk7XG4gICAgICAgICAgICB0aGlzLnJlcG9zaXRpb25UaWNrcyh0aGlzLm1ham9yVGlja3MuY2hpbGRyZW4sIHRoaXMubWFqb3JUaWNrQW5nbGVzKTtcbiAgICAgICAgICAgIHRoaXMucmVwb3NpdGlvblRpY2tzKHRoaXMubWlub3JUaWNrcy5jaGlsZHJlbiwgdGhpcy5taW5vclRpY2tBbmdsZXMsIHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXJjLmdldFJhZGl1c1goKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlcG9zaXRpb25UaWNrcyh0aWNrcywgdGlja0FuZ2xlcywgbWlub3IpIHtcbiAgICAgICAgY29uc3QgZGlmZiA9IG1pbm9yID8gKHRoaXMuX3RpY2tEaWZmZXJlbmNlIHx8IDApIDogMDtcbiAgICAgICAgbGV0IHRpY2tBcmMgPSB0aGlzLmFyYztcbiAgICAgICAgY29uc3QgcmFkaXVzID0gdGlja0FyYy5nZXRSYWRpdXNYKCk7XG5cbiAgICAgICAgaWYgKG1pbm9yICYmIHRoaXMub3B0aW9ucy5sYWJlbHMucG9zaXRpb24gPT09IE9VVFNJREUgJiYgZGlmZiAhPT0gMCkge1xuICAgICAgICAgICAgdGlja0FyYyA9IHRoaXMuYXJjLmNsb25lKCk7XG4gICAgICAgICAgICB0aWNrQXJjLnNldFJhZGl1c1gocmFkaXVzIC0gZGlmZikuc2V0UmFkaXVzWShyYWRpdXMgLSBkaWZmKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGlja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1BvaW50ID0gdGlja0FyYy5wb2ludEF0KHRpY2tBbmdsZXNbaV0pO1xuICAgICAgICAgICAgY29uc3Qgc2VnbWVudHMgPSB0aWNrc1tpXS5zZWdtZW50cztcbiAgICAgICAgICAgIGNvbnN0IHhEaWZmID0gbmV3UG9pbnQueCAtIHNlZ21lbnRzWzBdLmFuY2hvcigpLng7XG4gICAgICAgICAgICBjb25zdCB5RGlmZiA9IG5ld1BvaW50LnkgLSBzZWdtZW50c1swXS5hbmNob3IoKS55O1xuXG4gICAgICAgICAgICB0aWNrc1tpXS50cmFuc2Zvcm0obmV3IGdlby50cmFuc2Zvcm0oKS50cmFuc2xhdGUoeERpZmYsIHlEaWZmKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKFJhZGlhbFNjYWxlLCB7XG4gICAgbWluOiAwLFxuICAgIG1heDogMTAwLFxuXG4gICAgbWFqb3JUaWNrczoge1xuICAgICAgICBzaXplOiAxNSxcbiAgICAgICAgYWxpZ246IElOU0lERSxcbiAgICAgICAgY29sb3I6IEJMQUNLLFxuICAgICAgICB3aWR0aDogREVGQVVMVF9MSU5FX1dJRFRILFxuICAgICAgICB2aXNpYmxlOiB0cnVlXG4gICAgfSxcblxuICAgIG1pbm9yVGlja3M6IHtcbiAgICAgICAgc2l6ZTogMTAsXG4gICAgICAgIGFsaWduOiBJTlNJREUsXG4gICAgICAgIGNvbG9yOiBCTEFDSyxcbiAgICAgICAgd2lkdGg6IERFRkFVTFRfTElORV9XSURUSCxcbiAgICAgICAgdmlzaWJsZTogdHJ1ZVxuICAgIH0sXG5cbiAgICBzdGFydEFuZ2xlOiAtMzAsXG4gICAgZW5kQW5nbGU6IDIxMCxcblxuICAgIGxhYmVsczoge1xuICAgICAgICBwb3NpdGlvbjogSU5TSURFLFxuICAgICAgICBwYWRkaW5nOiAyXG4gICAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFJhZGlhbFNjYWxlOyIsImltcG9ydCB7IGdlb21ldHJ5LCBkcmF3aW5nIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuaW1wb3J0IHsgaW50ZXJwb2xhdGVWYWx1ZSwgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuaW1wb3J0IHsgQU5HVUxBUl9TUEVFRCwgTElORUFSLCBSQURJQUxfUE9JTlRFUiB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmNsYXNzIFJhZGlhbFBvaW50ZXJBbmltYXRpb24gZXh0ZW5kcyBkcmF3aW5nLkFuaW1hdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihlbGVtZW50LCBvcHRpb25zKTtcblxuICAgICAgICBjb25zdCBhbmltYXRpb25PcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIGFuaW1hdGlvbk9wdGlvbnMuZHVyYXRpb24gPSBNYXRoLm1heCgoTWF0aC5hYnMoYW5pbWF0aW9uT3B0aW9ucy5uZXdBbmdsZSAtIGFuaW1hdGlvbk9wdGlvbnMub2xkQW5nbGUpIC8gYW5pbWF0aW9uT3B0aW9ucy5kdXJhdGlvbikgKiAxMDAwLCAxKTtcbiAgICB9XG5cbiAgICBzdGVwKHBvcykge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBhbmdsZSA9IGludGVycG9sYXRlVmFsdWUob3B0aW9ucy5vbGRBbmdsZSwgb3B0aW9ucy5uZXdBbmdsZSwgcG9zKTtcblxuICAgICAgICB0aGlzLmVsZW1lbnQudHJhbnNmb3JtKGdlb21ldHJ5LnRyYW5zZm9ybSgpLnJvdGF0ZShhbmdsZSwgb3B0aW9ucy5jZW50ZXIpKTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKFJhZGlhbFBvaW50ZXJBbmltYXRpb24sIHtcbiAgICBlYXNpbmc6IExJTkVBUixcbiAgICBkdXJhdGlvbjogQU5HVUxBUl9TUEVFRFxufSk7XG5cbmRyYXdpbmcuQW5pbWF0aW9uRmFjdG9yeS5jdXJyZW50LnJlZ2lzdGVyKFJBRElBTF9QT0lOVEVSLCBSYWRpYWxQb2ludGVyQW5pbWF0aW9uKTtcblxuZXhwb3J0IGRlZmF1bHQgUmFkaWFsUG9pbnRlckFuaW1hdGlvbjsiLCJpbXBvcnQgeyBnZW9tZXRyeSBhcyBnZW8sIGRyYXdpbmcgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCB7IHNldERlZmF1bHRPcHRpb25zLCBkZWVwRXh0ZW5kLCBsaW1pdFZhbHVlIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcbmltcG9ydCB7IEFOR1VMQVJfU1BFRUQsIERFR1JFRSwgREVGQVVMVF9MSU5FX1dJRFRILCBSQURJQUxfUE9JTlRFUiB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgUG9pbnRlciBmcm9tICcuLi9wb2ludGVyJztcbmltcG9ydCBSYWRpYWxQb2ludGVyQW5pbWF0aW9uIGZyb20gJy4vcmFkaWFsLXBvaW50ZXItYW5pbWF0aW9uJztcblxuY29uc3QgQ0FQX1NJWkUgPSAwLjA1O1xuY29uc3QgeyBDaXJjbGUsIEdyb3VwLCBQYXRoIH0gPSBkcmF3aW5nO1xuXG5jbGFzcyBSYWRpYWxQb2ludGVyIGV4dGVuZHMgUG9pbnRlciB7XG5cbiAgICBzZXRBbmdsZShhbmdsZSkge1xuICAgICAgICB0aGlzLmVsZW1lbnRzLnRyYW5zZm9ybShnZW8udHJhbnNmb3JtKCkucm90YXRlKGFuZ2xlLCB0aGlzLmNlbnRlcikpO1xuICAgIH1cblxuICAgIHJlcGFpbnQoKSB7XG4gICAgICAgIGNvbnN0IHsgc2NhbGUsIG9wdGlvbnMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IG9sZEFuZ2xlID0gc2NhbGUuc2xvdEFuZ2xlKG9wdGlvbnMuX29sZFZhbHVlKTtcbiAgICAgICAgY29uc3QgbmV3QW5nbGUgPSBzY2FsZS5zbG90QW5nbGUob3B0aW9ucy52YWx1ZSk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYW5pbWF0aW9uLnRyYW5zaXRpb25zID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5zZXRBbmdsZShuZXdBbmdsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXcgUmFkaWFsUG9pbnRlckFuaW1hdGlvbih0aGlzLmVsZW1lbnRzLCBkZWVwRXh0ZW5kKG9wdGlvbnMuYW5pbWF0aW9uLCB7XG4gICAgICAgICAgICAgICAgb2xkQW5nbGU6IG9sZEFuZ2xlLFxuICAgICAgICAgICAgICAgIG5ld0FuZ2xlOiBuZXdBbmdsZVxuICAgICAgICAgICAgfSkpLnBsYXkoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgeyBzY2FsZSwgb3B0aW9ucyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBuZXcgR3JvdXAoKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5hbmltYXRpb24gIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBkZWVwRXh0ZW5kKG9wdGlvbnMuYW5pbWF0aW9uLCB7XG4gICAgICAgICAgICAgICAgc3RhcnRBbmdsZTogMCxcbiAgICAgICAgICAgICAgICBjZW50ZXI6IHNjYWxlLmFyYy5jZW50ZXIsXG4gICAgICAgICAgICAgICAgcmV2ZXJzZTogc2NhbGUub3B0aW9ucy5yZXZlcnNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsZW1lbnRzLmFwcGVuZCh0aGlzLl9yZW5kZXJOZWVkbGUoKSwgdGhpcy5fcmVuZGVyQ2FwKCkpO1xuXG4gICAgICAgIHRoaXMuZWxlbWVudHMgPSBlbGVtZW50cztcbiAgICAgICAgdGhpcy5zZXRBbmdsZShERUdSRUUpO1xuXG4gICAgICAgIHJldHVybiBlbGVtZW50cztcbiAgICB9XG5cbiAgICByZWZsb3coYXJjKSB7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IHRoaXMuY2VudGVyID0gYXJjLmNlbnRlcjtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gbGltaXRWYWx1ZSh0aGlzLm9wdGlvbnMubGVuZ3RoIHx8IDEsIDAuMSwgMS41KTtcbiAgICAgICAgY29uc3QgcmFkaXVzID0gdGhpcy5yYWRpdXMgPSBhcmMuZ2V0UmFkaXVzWCgpICogbGVuZ3RoO1xuICAgICAgICBjb25zdCBjYXBTaXplID0gdGhpcy5jYXBTaXplID0gTWF0aC5yb3VuZChyYWRpdXMgKiB0aGlzLm9wdGlvbnMuY2FwLnNpemUpO1xuXG4gICAgICAgIHRoaXMuYmJveCA9IGdlby5SZWN0LmZyb21Qb2ludHMobmV3IGdlby5Qb2ludChjZW50ZXIueCAtIGNhcFNpemUsIGNlbnRlci55IC0gY2FwU2l6ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgZ2VvLlBvaW50KGNlbnRlci54ICsgY2FwU2l6ZSwgY2VudGVyLnkgKyBjYXBTaXplKSk7XG4gICAgfVxuXG4gICAgX3JlbmRlck5lZWRsZSgpIHtcbiAgICAgICAgY29uc3QgbWlub3JUaWNrU2l6ZSA9IHRoaXMuc2NhbGUub3B0aW9ucy5taW5vclRpY2tzLnNpemU7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IHRoaXMuY2VudGVyO1xuICAgICAgICBjb25zdCBuZWVkbGVDb2xvciA9IHRoaXMub3B0aW9ucy5jb2xvcjtcblxuICAgICAgICBjb25zdCBuZWVkbGVQYXRoID0gbmV3IFBhdGgoe1xuICAgICAgICAgICAgZmlsbDogeyBjb2xvcjogbmVlZGxlQ29sb3IgfSxcbiAgICAgICAgICAgIHN0cm9rZTogeyBjb2xvcjogbmVlZGxlQ29sb3IsIHdpZHRoOiBERUZBVUxUX0xJTkVfV0lEVEggfVxuICAgICAgICB9KTtcblxuICAgICAgICBuZWVkbGVQYXRoLm1vdmVUbyhjZW50ZXIueCArIHRoaXMucmFkaXVzIC0gbWlub3JUaWNrU2l6ZSwgY2VudGVyLnkpXG4gICAgICAgICAgICAgICAgICAubGluZVRvKGNlbnRlci54LCBjZW50ZXIueSAtICh0aGlzLmNhcFNpemUgLyAyKSlcbiAgICAgICAgICAgICAgICAgIC5saW5lVG8oY2VudGVyLngsIGNlbnRlci55ICsgKHRoaXMuY2FwU2l6ZSAvIDIpKVxuICAgICAgICAgICAgICAgICAgLmNsb3NlKCk7XG5cbiAgICAgICAgcmV0dXJuIG5lZWRsZVBhdGg7XG4gICAgfVxuXG4gICAgX3JlbmRlckNhcCgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgY2FwQ29sb3IgPSBvcHRpb25zLmNhcC5jb2xvciB8fCBvcHRpb25zLmNvbG9yO1xuICAgICAgICBjb25zdCBjaXJjbGUgPSBuZXcgZ2VvLkNpcmNsZSh0aGlzLmNlbnRlciwgdGhpcy5jYXBTaXplKTtcblxuICAgICAgICBjb25zdCBjYXAgPSBuZXcgQ2lyY2xlKGNpcmNsZSwge1xuICAgICAgICAgICAgZmlsbDogeyBjb2xvcjogY2FwQ29sb3IgfSxcbiAgICAgICAgICAgIHN0cm9rZTogeyBjb2xvcjogY2FwQ29sb3IgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gY2FwO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoUmFkaWFsUG9pbnRlciwge1xuICAgIGNhcDoge1xuICAgICAgICBzaXplOiBDQVBfU0laRVxuICAgIH0sXG4gICAgYXJyb3c6IHtcbiAgICAgICAgd2lkdGg6IDE2LFxuICAgICAgICBoZWlnaHQ6IDE0XG4gICAgfSxcbiAgICBhbmltYXRpb246IHtcbiAgICAgICAgdHlwZTogUkFESUFMX1BPSU5URVIsXG4gICAgICAgIGR1cmF0aW9uOiBBTkdVTEFSX1NQRUVEXG4gICAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFJhZGlhbFBvaW50ZXI7XG4iLCJpbXBvcnQgeyBnZW9tZXRyeSBhcyBnZW8sIGRyYXdpbmcgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5pbXBvcnQgeyBzZXREZWZhdWx0T3B0aW9ucywgZGVlcEV4dGVuZCwgcm91bmQsIGlzQXJyYXkgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuaW1wb3J0IHsgQ09PUkRfUFJFQ0lTSU9OIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgR2F1Z2UgZnJvbSAnLi4vZ2F1Z2UnO1xuaW1wb3J0IFJhZGlhbFNjYWxlIGZyb20gJy4vcmFkaWFsLXNjYWxlJztcbmltcG9ydCBSYWRpYWxQb2ludGVyIGZyb20gJy4vcmFkaWFsLXBvaW50ZXInO1xuXG5jb25zdCBHcm91cCA9IGRyYXdpbmcuR3JvdXA7XG5cbmNsYXNzIFJhZGlhbEdhdWdlIGV4dGVuZHMgR2F1Z2Uge1xuXG4gICAgcmVmbG93KGJib3gpIHtcbiAgICAgICAgY29uc3QgcG9pbnRlcnMgPSB0aGlzLnBvaW50ZXJzO1xuICAgICAgICB0aGlzLnNjYWxlLnJlZmxvdyhiYm94KTtcbiAgICAgICAgdGhpcy5faW5pdGlhbFBsb3RBcmVhID0gdGhpcy5zY2FsZS5iYm94O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBvaW50ZXJzW2ldLnJlZmxvdyh0aGlzLnNjYWxlLmFyYyk7XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsUGxvdEFyZWEgPSBnZW8uUmVjdC51bmlvbih0aGlzLl9pbml0aWFsUGxvdEFyZWEsIHBvaW50ZXJzW2ldLmJib3gpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5maXRTY2FsZShiYm94KTtcbiAgICAgICAgdGhpcy5hbGlnblNjYWxlKGJib3gpO1xuICAgICAgICB0aGlzLl9idWlsZFZpc3VhbCh0aGlzLmdhdWdlQXJlYSwgcG9pbnRlcnMsIHRoaXMuc2NhbGUpO1xuICAgICAgICB0aGlzLl9kcmF3KCk7XG4gICAgfVxuXG4gICAgX2J1aWxkVmlzdWFsKGdhdWdlQXJlYSwgcG9pbnRlcnMsIHNjYWxlKSB7XG4gICAgICAgIGNvbnN0IHZpc3VhbHMgPSB0aGlzLl92aXN1YWxzID0gbmV3IEdyb3VwKCk7XG5cbiAgICAgICAgdmlzdWFscy5hcHBlbmQoZ2F1Z2VBcmVhKTtcbiAgICAgICAgdmlzdWFscy5hcHBlbmQoc2NhbGUudGlja3MpO1xuICAgICAgICB2aXN1YWxzLmFwcGVuZChzY2FsZS5yYW5nZXMpO1xuICAgICAgICB0aGlzLl9idWlsZFBvaW50ZXJzKHBvaW50ZXJzKTtcbiAgICAgICAgdmlzdWFscy5hcHBlbmQoc2NhbGUubGFiZWxFbGVtZW50cyk7XG4gICAgfVxuXG4gICAgX2J1aWxkUG9pbnRlcnMocG9pbnRlcnMpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IHBvaW50ZXJzW2ldO1xuICAgICAgICAgICAgY3VycmVudC5yZW5kZXIoKTtcbiAgICAgICAgICAgIHRoaXMuX3Zpc3VhbHMuYXBwZW5kKGN1cnJlbnQuZWxlbWVudHMpO1xuXG4gICAgICAgICAgICBjdXJyZW50LnZhbHVlKGN1cnJlbnQub3B0aW9ucy52YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmaXRTY2FsZShiYm94KSB7XG4gICAgICAgIGNvbnN0IGFyYyA9IHRoaXMuc2NhbGUuYXJjO1xuICAgICAgICBjb25zdCBwbG90QXJlYUJveCA9IHRoaXMuX2luaXRpYWxQbG90QXJlYTtcbiAgICAgICAgY29uc3Qgc3RlcCA9IE1hdGguYWJzKHRoaXMuZ2V0RGlmZihwbG90QXJlYUJveCwgYmJveCkpO1xuICAgICAgICBsZXQgbWluID0gcm91bmQoc3RlcCwgQ09PUkRfUFJFQ0lTSU9OKTtcbiAgICAgICAgbGV0IG1heCA9IHJvdW5kKC1zdGVwLCBDT09SRF9QUkVDSVNJT04pO1xuICAgICAgICBsZXQgbWluRGlmZiwgbWlkRGlmZiwgbWF4RGlmZiwgbWlkLCBvbGREaWZmO1xuICAgICAgICBsZXQgc3RhbGVGbGFnID0gMDtcbiAgICAgICAgbGV0IGkgPSAwO1xuXG4gICAgICAgIHdoaWxlIChpKysgPCAxMDApIHtcbiAgICAgICAgICAgIHN0YWxlRmxhZyA9IChvbGREaWZmID09PSBtYXhEaWZmKSA/IChzdGFsZUZsYWcgKyAxKSA6IDA7XG5cbiAgICAgICAgICAgIGlmIChzdGFsZUZsYWcgPiA1KSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtaW4gIT09IG1pZCkge1xuICAgICAgICAgICAgICAgIG1pbkRpZmYgPSB0aGlzLmdldFBsb3RCb3gobWluLCBiYm94LCBhcmMpO1xuICAgICAgICAgICAgICAgIGlmICgwIDw9IG1pbkRpZmYgJiYgbWluRGlmZiA8PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG1heCAhPT0gbWlkKSB7XG4gICAgICAgICAgICAgICAgbWF4RGlmZiA9IHRoaXMuZ2V0UGxvdEJveChtYXgsIGJib3gsIGFyYyk7XG4gICAgICAgICAgICAgICAgaWYgKDAgPD0gbWF4RGlmZiAmJiBtYXhEaWZmIDw9IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobWluRGlmZiA+IDAgJiYgbWF4RGlmZiA+IDApIHtcbiAgICAgICAgICAgICAgICBtaWQgPSBtaW4gKiAyO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChtaW5EaWZmIDwgMCAmJiBtYXhEaWZmIDwgMCkge1xuICAgICAgICAgICAgICAgIG1pZCA9IG1heCAqIDI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1pZCA9IHJvdW5kKCgobWluICsgbWF4KSAvIDIpIHx8IDEsIENPT1JEX1BSRUNJU0lPTik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1pZERpZmYgPSB0aGlzLmdldFBsb3RCb3gobWlkLCBiYm94LCBhcmMpO1xuICAgICAgICAgICAgaWYgKDAgPD0gbWlkRGlmZiAmJiBtaWREaWZmIDw9IDIpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb2xkRGlmZiA9IG1heERpZmY7XG5cbiAgICAgICAgICAgIGlmIChtaWREaWZmID4gMCkge1xuICAgICAgICAgICAgICAgIG1heCA9IG1pZDtcbiAgICAgICAgICAgICAgICBtYXhEaWZmID0gbWlkRGlmZjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbWluID0gbWlkO1xuICAgICAgICAgICAgICAgIG1pbkRpZmYgPSBtaWREaWZmO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0UGxvdEJveChzdGVwLCBiYm94LCBhcmMpIHtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSB0aGlzLnNjYWxlO1xuICAgICAgICBjb25zdCBwb2ludGVycyA9IHRoaXMucG9pbnRlcnM7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IGFyYy5nZXRSYWRpdXNYKCk7XG4gICAgICAgIGNvbnN0IHNjYWxlQXJjID0gYXJjLmNsb25lKCk7XG5cbiAgICAgICAgc2NhbGVBcmMuc2V0UmFkaXVzWChyYWRpdXMgKyBzdGVwKS5zZXRSYWRpdXNZKHJhZGl1cyArIHN0ZXApO1xuXG4gICAgICAgIHNjYWxlLmFyYyA9IHNjYWxlQXJjO1xuICAgICAgICBzY2FsZS5yZWZsb3coYmJveCk7XG4gICAgICAgIHRoaXMucGxvdEJib3ggPSBzY2FsZS5iYm94O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBvaW50ZXJzW2ldLnJlZmxvdyhzY2FsZUFyYyk7XG4gICAgICAgICAgICB0aGlzLnBsb3RCYm94ID0gZ2VvLlJlY3QudW5pb24odGhpcy5wbG90QmJveCwgcG9pbnRlcnNbaV0uYmJveCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5nZXREaWZmKHRoaXMucGxvdEJib3gsIGJib3gpO1xuICAgIH1cblxuICAgIGdldERpZmYocGxvdEJveCwgYm94KSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1pbihib3gud2lkdGgoKSAtIHBsb3RCb3gud2lkdGgoKSwgYm94LmhlaWdodCgpIC0gcGxvdEJveC5oZWlnaHQoKSk7XG4gICAgfVxuXG4gICAgYWxpZ25TY2FsZShiYm94KSB7XG4gICAgICAgIGNvbnN0IHBsb3RCb3hDZW50ZXIgPSB0aGlzLnBsb3RCYm94LmNlbnRlcigpO1xuICAgICAgICBjb25zdCBib3hDZW50ZXIgPSBiYm94LmNlbnRlcigpO1xuICAgICAgICBjb25zdCBwYWRkaW5nWCA9IHBsb3RCb3hDZW50ZXIueCAtIGJveENlbnRlci54O1xuICAgICAgICBjb25zdCBwYWRkaW5nWSA9IHBsb3RCb3hDZW50ZXIueSAtIGJveENlbnRlci55O1xuICAgICAgICBjb25zdCB7IHNjYWxlLCBwb2ludGVycyB9ID0gdGhpcztcblxuICAgICAgICBzY2FsZS5hcmMuY2VudGVyLnggLT0gcGFkZGluZ1g7XG4gICAgICAgIHNjYWxlLmFyYy5jZW50ZXIueSAtPSBwYWRkaW5nWTtcblxuICAgICAgICBzY2FsZS5yZWZsb3coYmJveCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcG9pbnRlcnNbaV0ucmVmbG93KHNjYWxlLmFyYyk7XG4gICAgICAgICAgICB0aGlzLnBsb3RCYm94ID0gZ2VvLlJlY3QudW5pb24oc2NhbGUuYmJveCwgcG9pbnRlcnNbaV0uYmJveCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY3JlYXRlTW9kZWwoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHBvaW50ZXJzID0gb3B0aW9ucy5wb2ludGVyO1xuICAgICAgICBjb25zdCBzY2FsZSA9IHRoaXMuc2NhbGUgPSBuZXcgUmFkaWFsU2NhbGUob3B0aW9ucy5zY2FsZSwgdGhpcy5jb250ZXh0U2VydmljZSk7XG5cbiAgICAgICAgdGhpcy5wb2ludGVycyA9IFtdO1xuXG4gICAgICAgIGNvbnN0IHBvaW50ZXJzQXJyID0gaXNBcnJheShwb2ludGVycykgPyBwb2ludGVycyA6IFsgcG9pbnRlcnMgXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludGVyc0Fyci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IG5ldyBSYWRpYWxQb2ludGVyKHNjYWxlLCBkZWVwRXh0ZW5kKHt9LCBwb2ludGVyc0FycltpXSwge1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uczogb3B0aW9ucy50cmFuc2l0aW9uc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgdGhpcy5wb2ludGVycy5wdXNoKGN1cnJlbnQpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhSYWRpYWxHYXVnZSwge1xuICAgIHRyYW5zaXRpb25zOiB0cnVlLFxuICAgIGdhdWdlQXJlYToge1xuICAgICAgICBiYWNrZ3JvdW5kOiBcIlwiXG4gICAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFJhZGlhbEdhdWdlOyIsImltcG9ydCBSYWRpYWxTY2FsZSBmcm9tICcuLi9yYWRpYWwvcmFkaWFsLXNjYWxlJztcbmltcG9ydCB7IHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgQXJjU2NhbGUgZXh0ZW5kcyBSYWRpYWxTY2FsZSB7XG5cbiAgICByYW5nZVNlZ21lbnRzKCkge1xuICAgICAgICBjb25zdCB7IG1pbiwgbWF4LCByYW5nZVBsYWNlaG9sZGVyQ29sb3IsIHJhbmdlTGluZUNhcCB9ID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIHJldHVybiBbIHsgZnJvbTogbWluLCB0bzogbWF4LCBjb2xvcjogcmFuZ2VQbGFjZWhvbGRlckNvbG9yLCBsaW5lQ2FwOiByYW5nZUxpbmVDYXAgfSBdO1xuICAgIH1cblxuICAgIGhhc1JhbmdlcygpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcGxhY2Vob2xkZXJSYW5nZUFuZ2xlKGFuZ2xlKSB7XG4gICAgICAgIGNvbnN0IGdlb21ldHJ5ID0gdGhpcy5yYW5nZXMuY2hpbGRyZW5bMF0uZ2VvbWV0cnkoKTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnJldmVyc2UpIHtcbiAgICAgICAgICAgIGdlb21ldHJ5LnNldEVuZEFuZ2xlKGFuZ2xlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdlb21ldHJ5LnNldFN0YXJ0QW5nbGUoYW5nbGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkUmFuZ2UoZnJvbSwgdG8sIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcmV2ZXJzZSA9IHRoaXMub3B0aW9ucy5yZXZlcnNlO1xuXG4gICAgICAgIGNvbnN0IHN0YXJ0QW5nbGUgPSB0aGlzLnNsb3RBbmdsZShyZXZlcnNlID8gdG8gOiBmcm9tKTtcbiAgICAgICAgY29uc3QgZW5kQW5nbGUgPSB0aGlzLnNsb3RBbmdsZShyZXZlcnNlID8gZnJvbSA6IHRvKTtcblxuICAgICAgICBjb25zdCByYW5nZSA9IHRoaXMuY3JlYXRlUmFuZ2Uoc3RhcnRBbmdsZSwgZW5kQW5nbGUsIHRoaXMuZ2V0UmFuZ2VSYWRpdXMoKSwgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5yYW5nZXMuYXBwZW5kKHJhbmdlKTtcblxuICAgICAgICByZXR1cm4gcmFuZ2U7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhBcmNTY2FsZSwge1xuICAgIG1pbjogMCxcbiAgICBtYXg6IDEwMCxcblxuICAgIG1ham9yVGlja3M6IHtcbiAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICB9LFxuXG4gICAgbWlub3JUaWNrczoge1xuICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgIH0sXG5cbiAgICBsYWJlbHM6IHtcbiAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICB9LFxuXG4gICAgc3RhcnRBbmdsZTogMCxcbiAgICBlbmRBbmdsZTogMTgwLFxuICAgIHJhbmdlTGluZUNhcDogJ3JvdW5kJ1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IEFyY1NjYWxlOyIsImltcG9ydCB7IGRyYXdpbmcsIENvbG9yIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuaW1wb3J0IHsgaW50ZXJwb2xhdGVWYWx1ZSwgc2V0RGVmYXVsdE9wdGlvbnMsIHJvdW5kLCBsaW1pdFZhbHVlIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcbmltcG9ydCB7IEFOR1VMQVJfU1BFRUQsIExJTkVBUiwgUkFESUFMX1JBTkdFX1BPSU5URVIgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5jb25zdCBNQVhfRFVSQVRJT04gPSA4MDA7XG5cbmNsYXNzIFJhbmdlUG9pbnRlckFuaW1hdGlvbiBleHRlbmRzIGRyYXdpbmcuQW5pbWF0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnQsIG9wdGlvbnMpO1xuXG4gICAgICAgIGNvbnN0IGFuaW1hdGlvbk9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID0gKE1hdGguYWJzKGFuaW1hdGlvbk9wdGlvbnMubmV3QW5nbGUgLSBhbmltYXRpb25PcHRpb25zLm9sZEFuZ2xlKSAvIGFuaW1hdGlvbk9wdGlvbnMuZHVyYXRpb24pICogMTAwMDtcbiAgICAgICAgYW5pbWF0aW9uT3B0aW9ucy5kdXJhdGlvbiA9IGxpbWl0VmFsdWUoZHVyYXRpb24sIEFOR1VMQVJfU1BFRUQsIE1BWF9EVVJBVElPTik7XG5cbiAgICAgICAgY29uc3Qgc3RhcnRDb2xvciA9IGVsZW1lbnQuZWxlbWVudHMub3B0aW9ucy5nZXQoXCJzdHJva2UuY29sb3JcIik7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gZWxlbWVudC5jdXJyZW50Q29sb3IoKTtcbiAgICAgICAgaWYgKHN0YXJ0Q29sb3IgIT09IGNvbG9yKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0Q29sb3IgPSBuZXcgQ29sb3Ioc3RhcnRDb2xvcik7XG4gICAgICAgICAgICB0aGlzLmNvbG9yID0gbmV3IENvbG9yKGNvbG9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0ZXAocG9zKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgc3RhcnRDb2xvciwgY29sb3IgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGFuZ2xlID0gaW50ZXJwb2xhdGVWYWx1ZShvcHRpb25zLm9sZEFuZ2xlLCBvcHRpb25zLm5ld0FuZ2xlLCBwb3MpO1xuICAgICAgICB0aGlzLmVsZW1lbnQuYW5nbGUoYW5nbGUpO1xuXG4gICAgICAgIGlmIChjb2xvcikge1xuICAgICAgICAgICAgY29uc3QgciA9IHJvdW5kKGludGVycG9sYXRlVmFsdWUoc3RhcnRDb2xvci5yLCBjb2xvci5yLCBwb3MpKTtcbiAgICAgICAgICAgIGNvbnN0IGcgPSByb3VuZChpbnRlcnBvbGF0ZVZhbHVlKHN0YXJ0Q29sb3IuZywgY29sb3IuZywgcG9zKSk7XG4gICAgICAgICAgICBjb25zdCBiID0gcm91bmQoaW50ZXJwb2xhdGVWYWx1ZShzdGFydENvbG9yLmIsIGNvbG9yLmIsIHBvcykpO1xuXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3Ryb2tlKG5ldyBDb2xvcihyLCBnLCBiKS50b0hleCgpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoUmFuZ2VQb2ludGVyQW5pbWF0aW9uLCB7XG4gICAgZWFzaW5nOiBMSU5FQVIsXG4gICAgZHVyYXRpb246IEFOR1VMQVJfU1BFRURcbn0pO1xuXG5kcmF3aW5nLkFuaW1hdGlvbkZhY3RvcnkuY3VycmVudC5yZWdpc3RlcihSQURJQUxfUkFOR0VfUE9JTlRFUiwgUmFuZ2VQb2ludGVyQW5pbWF0aW9uKTtcblxuZXhwb3J0IGRlZmF1bHQgUmFuZ2VQb2ludGVyQW5pbWF0aW9uOyIsImltcG9ydCB7IHNldERlZmF1bHRPcHRpb25zLCBkZWVwRXh0ZW5kLCBpc051bWJlciB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5pbXBvcnQgeyBBTkdVTEFSX1NQRUVELCBSQURJQUxfUkFOR0VfUE9JTlRFUiB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgUG9pbnRlciBmcm9tICcuLi9wb2ludGVyJztcbmltcG9ydCBSYW5nZVBvaW50ZXJBbmltYXRpb24gZnJvbSAnLi9yYW5nZS1wb2ludGVyLWFuaW1hdGlvbic7XG5cbmNsYXNzIFJhbmdlUG9pbnRlciBleHRlbmRzIFBvaW50ZXIge1xuXG4gICAgcmVwYWludCgpIHtcbiAgICAgICAgY29uc3QgeyBzY2FsZSwgb3B0aW9ucyB9ID0gdGhpcztcbiAgICAgICAgY29uc3Qgb2xkQW5nbGUgPSBzY2FsZS5zbG90QW5nbGUob3B0aW9ucy5fb2xkVmFsdWUpO1xuICAgICAgICBjb25zdCBuZXdBbmdsZSA9IHNjYWxlLnNsb3RBbmdsZShvcHRpb25zLnZhbHVlKTtcblxuICAgICAgICBpZiAodGhpcy5hbmltYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uLmFib3J0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5hbmltYXRpb24udHJhbnNpdGlvbnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aGlzLmFuZ2xlKG5ld0FuZ2xlKTtcbiAgICAgICAgICAgIHRoaXMuc3Ryb2tlKHRoaXMuY3VycmVudENvbG9yKCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb24gPSBuZXcgUmFuZ2VQb2ludGVyQW5pbWF0aW9uKHRoaXMsIGRlZXBFeHRlbmQob3B0aW9ucy5hbmltYXRpb24sIHtcbiAgICAgICAgICAgICAgICBvbGRBbmdsZTogb2xkQW5nbGUsXG4gICAgICAgICAgICAgICAgbmV3QW5nbGU6IG5ld0FuZ2xlXG4gICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uLnBsYXkoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFuZ2xlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGdlb21ldHJ5ID0gdGhpcy5lbGVtZW50cy5nZW9tZXRyeSgpO1xuICAgICAgICBpZiAodGhpcy5zY2FsZS5vcHRpb25zLnJldmVyc2UpIHtcbiAgICAgICAgICAgIGdlb21ldHJ5LnNldFN0YXJ0QW5nbGUodmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2VvbWV0cnkuc2V0RW5kQW5nbGUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2NhbGUucGxhY2Vob2xkZXJSYW5nZUFuZ2xlKHZhbHVlKTtcbiAgICB9XG5cbiAgICBzdHJva2UodmFsdWUpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50cy5zdHJva2UodmFsdWUpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudHMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgc2NhbGUsIG9wdGlvbnMgfSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYW5pbWF0aW9uICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgZGVlcEV4dGVuZChvcHRpb25zLmFuaW1hdGlvbiwge1xuICAgICAgICAgICAgICAgIHN0YXJ0QW5nbGU6IDAsXG4gICAgICAgICAgICAgICAgY2VudGVyOiBzY2FsZS5hcmMuY2VudGVyLFxuICAgICAgICAgICAgICAgIHJldmVyc2U6IHNjYWxlLm9wdGlvbnMucmV2ZXJzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVsZW1lbnRzID0gc2NhbGUuYWRkUmFuZ2Uoc2NhbGUub3B0aW9ucy5taW4sIHRoaXMub3B0aW9ucy52YWx1ZSwge1xuICAgICAgICAgICAgY29sb3I6IHRoaXMuY3VycmVudENvbG9yKCksXG4gICAgICAgICAgICBvcGFjaXR5OiBvcHRpb25zLm9wYWNpdHksXG4gICAgICAgICAgICBsaW5lQ2FwOiBzY2FsZS5vcHRpb25zLnJhbmdlTGluZUNhcFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjdXJyZW50Q29sb3IoKSB7XG4gICAgICAgIGNvbnN0IHsgbWluLCBtYXggfSA9IHRoaXMuc2NhbGUub3B0aW9ucztcbiAgICAgICAgY29uc3QgeyBjb2xvcnMsIGNvbG9yLCB2YWx1ZSB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSBpc051bWJlcih2YWx1ZSkgPyB2YWx1ZSA6IG1pbjtcblxuICAgICAgICBpZiAoY29sb3JzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBjb2xvcnMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgY29sb3I6IHJhbmdlQ29sb3IsIGZyb20gPSBtaW4sIHRvID0gbWF4IH0gPSBjb2xvcnNbaWR4XTtcblxuICAgICAgICAgICAgICAgIGlmIChmcm9tIDw9IGN1cnJlbnRWYWx1ZSAmJiBjdXJyZW50VmFsdWUgPD0gdG8pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJhbmdlQ29sb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbG9yO1xuICAgIH1cblxuICAgIHJlZmxvdygpIHtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcblxuICAgICAgICB0aGlzLmJib3ggPSB0aGlzLmVsZW1lbnRzLmJib3goKTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKFJhbmdlUG9pbnRlciwge1xuICAgIGFuaW1hdGlvbjoge1xuICAgICAgICB0eXBlOiBSQURJQUxfUkFOR0VfUE9JTlRFUixcbiAgICAgICAgZHVyYXRpb246IEFOR1VMQVJfU1BFRURcbiAgICB9XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgUmFuZ2VQb2ludGVyO1xuIiwiaW1wb3J0IFJhZGlhbEdhdWdlIGZyb20gJy4uL3JhZGlhbC9yYWRpYWwtZ2F1Z2UnO1xuaW1wb3J0IEFyY1NjYWxlIGZyb20gJy4vYXJjLXNjYWxlJztcbmltcG9ydCBSYW5nZVBvaW50ZXIgZnJvbSAnLi9yYW5nZS1wb2ludGVyJztcblxuaW1wb3J0IHsgZGVlcEV4dGVuZCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cblxuY2xhc3MgQXJjR2F1Z2UgZXh0ZW5kcyBSYWRpYWxHYXVnZSB7XG5cbiAgICBfaW5pdFRoZW1lKHRoZW1lKSB7XG4gICAgICAgIHN1cGVyLl9pbml0VGhlbWUodGhlbWUpO1xuXG4gICAgICAgIHRoaXMub3B0aW9ucy5jb2xvciA9IHRoaXMub3B0aW9ucy5jb2xvciB8fCAodGhpcy50aGVtZS5wb2ludGVyIHx8IHt9KS5jb2xvcjtcbiAgICB9XG5cbiAgICBfY3JlYXRlTW9kZWwoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gdGhpcy5zY2FsZSA9IG5ldyBBcmNTY2FsZShvcHRpb25zLnNjYWxlLCB0aGlzLmNvbnRleHRTZXJ2aWNlKTtcblxuICAgICAgICBjb25zdCBwb2ludGVyID0gbmV3IFJhbmdlUG9pbnRlcihzY2FsZSwgZGVlcEV4dGVuZCh7fSwge1xuICAgICAgICAgICAgY29sb3JzOiBvcHRpb25zLmNvbG9ycyxcbiAgICAgICAgICAgIGNvbG9yOiBvcHRpb25zLmNvbG9yLFxuICAgICAgICAgICAgdmFsdWU6IG9wdGlvbnMudmFsdWUsXG4gICAgICAgICAgICBvcGFjaXR5OiBvcHRpb25zLm9wYWNpdHksXG4gICAgICAgICAgICBhbmltYXRpb246IHtcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uczogb3B0aW9ucy50cmFuc2l0aW9uc1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG5cbiAgICAgICAgdGhpcy5wb2ludGVycyA9IFsgcG9pbnRlciBdO1xuICAgIH1cblxuICAgIF9idWlsZFBvaW50ZXJzKHBvaW50ZXJzKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBwb2ludGVyc1tpXTtcbiAgICAgICAgICAgIGN1cnJlbnQucmVuZGVyKCk7XG5cbiAgICAgICAgICAgIGN1cnJlbnQudmFsdWUoY3VycmVudC5vcHRpb25zLnZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9zZXRWYWx1ZU9wdGlvbnModmFsdWUpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgY3VycmVudENvbG9yKCkge1xuICAgICAgICBjb25zdCBwb2ludGVyID0gdGhpcy5wb2ludGVyc1swXTtcbiAgICAgICAgaWYgKHBvaW50ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBwb2ludGVyLmN1cnJlbnRDb2xvcigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2VudGVyTGFiZWxQb3NpdGlvbih3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGNvbnN0IHNpemUgPSB0aGlzLmdldFNpemUoKTtcbiAgICAgICAgY29uc3QgY2VudGVyID0gdGhpcy5zY2FsZS5hcmMuY2VudGVyO1xuXG4gICAgICAgIGxldCBsZWZ0ID0gY2VudGVyLnggLSB3aWR0aCAvIDI7XG4gICAgICAgIGxldCB0b3AgPSBjZW50ZXIueSAtIGhlaWdodCAvIDI7XG5cbiAgICAgICAgaWYgKHdpZHRoIDwgc2l6ZS53aWR0aCkge1xuICAgICAgICAgICAgY29uc3QgcmlnaHQgPSBsZWZ0ICsgd2lkdGg7XG5cbiAgICAgICAgICAgIGxlZnQgPSBNYXRoLm1heChsZWZ0LCAwKTtcblxuICAgICAgICAgICAgaWYgKHJpZ2h0ID4gc2l6ZS53aWR0aCkge1xuICAgICAgICAgICAgICAgIGxlZnQgLT0gcmlnaHQgLSBzaXplLndpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhlaWdodCA8IHNpemUuaGVpZ2h0KSB7XG4gICAgICAgICAgICBjb25zdCBiYm94ID0gdGhpcy5zY2FsZS5iYm94O1xuICAgICAgICAgICAgY29uc3QgeUxpbWl0ID0gYmJveC5ib3R0b21SaWdodCgpLnk7XG4gICAgICAgICAgICBjb25zdCBib3R0b20gPSB0b3AgKyBoZWlnaHQ7XG5cbiAgICAgICAgICAgIHRvcCA9IE1hdGgubWF4KHRvcCwgYmJveC5vcmlnaW4ueSk7XG5cbiAgICAgICAgICAgIGlmIChib3R0b20gPiB5TGltaXQpIHtcbiAgICAgICAgICAgICAgICB0b3AgLT0gYm90dG9tIC0geUxpbWl0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgICAgICB0b3A6IHRvcFxuICAgICAgICB9O1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXJjR2F1Z2U7IiwiY29uc3QgQkFSX0dBUCA9IDEuNTtcbmNvbnN0IEJBUl9TUEFDSU5HID0gMC40O1xuY29uc3QgQkxBQ0sgPSAnIzAwMCc7XG5jb25zdCBTQU5TID0gJ0FyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWYnO1xuY29uc3QgU0FOUzExID0gXCIxMXB4IFwiICsgU0FOUztcbmNvbnN0IFNBTlMxMiA9ICcxMnB4ICcgKyBTQU5TO1xuY29uc3QgU0FOUzE2ID0gJzE2cHggJyArIFNBTlM7XG5jb25zdCBUUkFOU1BBUkVOVCA9ICd0cmFuc3BhcmVudCc7XG5jb25zdCBXSElURSA9ICcjZmZmJztcblxuY29uc3Qgbm90ZXMgPSAoKSA9PiAoe1xuICAgIGljb246IHtcbiAgICAgICAgYm9yZGVyOiB7XG4gICAgICAgICAgICB3aWR0aDogMVxuICAgICAgICB9XG4gICAgfSxcbiAgICBsYWJlbDoge1xuICAgICAgICBmb250OiBTQU5TMTIsXG4gICAgICAgIHBhZGRpbmc6IDNcbiAgICB9LFxuICAgIGxpbmU6IHtcbiAgICAgICAgbGVuZ3RoOiAxMCxcbiAgICAgICAgd2lkdGg6IDJcbiAgICB9LFxuICAgIHZpc2libGU6IHRydWVcbn0pO1xuXG5jb25zdCBheGlzRGVmYXVsdHMgPSAoKSA9PiAoe1xuICAgIGxhYmVsczoge1xuICAgICAgICBmb250OiBTQU5TMTJcbiAgICB9LFxuICAgIG5vdGVzOiBub3RlcygpLFxuICAgIHRpdGxlOiB7XG4gICAgICAgIGZvbnQ6IFNBTlMxNixcbiAgICAgICAgbWFyZ2luOiA1XG4gICAgfVxufSk7XG5cbmNvbnN0IGFyZWFTZXJpZXMgPSAoKSA9PiAoe1xuICAgIGhpZ2hsaWdodDoge1xuICAgICAgICBtYXJrZXJzOiB7XG4gICAgICAgICAgICBib3JkZXI6IHt9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGxpbmU6IHtcbiAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgd2lkdGg6IDBcbiAgICB9LFxuICAgIG1hcmtlcnM6IHtcbiAgICAgICAgc2l6ZTogNixcbiAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICB9LFxuICAgIG9wYWNpdHk6IDAuNFxufSk7XG5cbmNvbnN0IHJhbmdlQXJlYVNlcmllcyA9ICgpID0+ICh7XG4gICAgaGlnaGxpZ2h0OiB7XG4gICAgICAgIG1hcmtlcnM6IHtcbiAgICAgICAgICAgIGJvcmRlcjoge31cbiAgICAgICAgfVxuICAgIH0sXG4gICAgbGluZToge1xuICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICB3aWR0aDogMFxuICAgIH0sXG4gICAgbWFya2Vyczoge1xuICAgICAgICBzaXplOiA2LFxuICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgIH0sXG4gICAgb3BhY2l0eTogMC40XG59KTtcblxuY29uc3QgYmFyU2VyaWVzID0gKCkgPT4gKHtcbiAgICBnYXA6IEJBUl9HQVAsXG4gICAgc3BhY2luZzogQkFSX1NQQUNJTkdcbn0pO1xuXG5jb25zdCBib3hQbG90U2VyaWVzID0gKCkgPT4gKHtcbiAgICBvdXRsaWVyc0ZpZWxkOiBcIlwiLFxuICAgIG1lYW5GaWVsZDogXCJcIixcbiAgICBib3JkZXI6IHtcbiAgICAgICAgX2JyaWdodG5lc3M6IDAuOCxcbiAgICAgICAgd2lkdGg6IDFcbiAgICB9LFxuICAgIGRvd25Db2xvcjogV0hJVEUsXG4gICAgZ2FwOiAxLFxuICAgIGhpZ2hsaWdodDoge1xuICAgICAgICBib3JkZXI6IHtcbiAgICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgICB3aWR0aDogMlxuICAgICAgICB9LFxuICAgICAgICB3aGlza2Vyczoge1xuICAgICAgICAgICAgd2lkdGg6IDNcbiAgICAgICAgfSxcbiAgICAgICAgbWVhbjoge1xuICAgICAgICAgICAgd2lkdGg6IDJcbiAgICAgICAgfSxcbiAgICAgICAgbWVkaWFuOiB7XG4gICAgICAgICAgICB3aWR0aDogMlxuICAgICAgICB9XG4gICAgfSxcbiAgICBtZWFuOiB7XG4gICAgICAgIHdpZHRoOiAyXG4gICAgfSxcbiAgICBtZWRpYW46IHtcbiAgICAgICAgd2lkdGg6IDJcbiAgICB9LFxuICAgIHNwYWNpbmc6IDAuMyxcbiAgICB3aGlza2Vyczoge1xuICAgICAgICB3aWR0aDogMlxuICAgIH1cbn0pO1xuXG5jb25zdCBidWJibGVTZXJpZXMgPSAoKSA9PiAoe1xuICAgIGJvcmRlcjoge1xuICAgICAgICB3aWR0aDogMFxuICAgIH0sXG4gICAgbGFiZWxzOiB7XG4gICAgICAgIGJhY2tncm91bmQ6IFRSQU5TUEFSRU5UXG4gICAgfSxcbiAgICBvcGFjaXR5OiAwLjZcbn0pO1xuXG5jb25zdCBidWxsZXRTZXJpZXMgPSAoKSA9PiAoe1xuICAgIGdhcDogQkFSX0dBUCxcbiAgICBzcGFjaW5nOiBCQVJfU1BBQ0lORyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgICAgY29sb3I6IFwiI2ZmMDAwMFwiXG4gICAgfVxufSk7XG5cbmNvbnN0IGNhbmRsZXN0aWNrU2VyaWVzID0gKCkgPT4gKHtcbiAgICBib3JkZXI6IHtcbiAgICAgICAgX2JyaWdodG5lc3M6IDAuOCxcbiAgICAgICAgd2lkdGg6IDFcbiAgICB9LFxuICAgIGRvd25Db2xvcjogV0hJVEUsXG4gICAgZ2FwOiAxLFxuICAgIGhpZ2hsaWdodDoge1xuICAgICAgICBib3JkZXI6IHtcbiAgICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgICB3aWR0aDogMlxuICAgICAgICB9LFxuICAgICAgICBsaW5lOiB7XG4gICAgICAgICAgICB3aWR0aDogMlxuICAgICAgICB9XG4gICAgfSxcbiAgICBsaW5lOiB7XG4gICAgICAgIGNvbG9yOiBCTEFDSyxcbiAgICAgICAgd2lkdGg6IDFcbiAgICB9LFxuICAgIHNwYWNpbmc6IDAuM1xufSk7XG5cbmNvbnN0IGNvbHVtblNlcmllcyA9ICgpID0+ICh7XG4gICAgZ2FwOiBCQVJfR0FQLFxuICAgIHNwYWNpbmc6IEJBUl9TUEFDSU5HXG59KTtcblxuY29uc3QgZG9udXRTZXJpZXMgPSAoKSA9PiAoe1xuICAgIG1hcmdpbjogMVxufSk7XG5cbmNvbnN0IGxpbmVTZXJpZXMgPSAoKSA9PiAoe1xuICAgIHdpZHRoOiAyXG59KTtcblxuY29uc3Qgb2hsY1NlcmllcyA9ICgpID0+ICh7XG4gICAgZ2FwOiAxLFxuICAgIGhpZ2hsaWdodDoge1xuICAgICAgICBsaW5lOiB7XG4gICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgd2lkdGg6IDNcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbGluZToge1xuICAgICAgICB3aWR0aDogMVxuICAgIH0sXG4gICAgc3BhY2luZzogMC4zXG59KTtcblxuY29uc3QgcmFkYXJBcmVhU2VyaWVzID0gKCkgPT4gKHtcbiAgICBsaW5lOiB7XG4gICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgIHdpZHRoOiAwXG4gICAgfSxcbiAgICBtYXJrZXJzOiB7XG4gICAgICAgIHNpemU6IDYsXG4gICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgfSxcbiAgICBvcGFjaXR5OiAwLjVcbn0pO1xuXG5jb25zdCByYWRhckxpbmVTZXJpZXMgPSAoKSA9PiAoe1xuICAgIG1hcmtlcnM6IHtcbiAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICB9LFxuICAgIHdpZHRoOiAyXG59KTtcblxuY29uc3QgcmFuZ2VCYXJTZXJpZXMgPSAoKSA9PiAoe1xuICAgIGdhcDogQkFSX0dBUCxcbiAgICBzcGFjaW5nOiBCQVJfU1BBQ0lOR1xufSk7XG5cbmNvbnN0IHJhbmdlQ29sdW1uU2VyaWVzID0gKCkgPT4gKHtcbiAgICBnYXA6IEJBUl9HQVAsXG4gICAgc3BhY2luZzogQkFSX1NQQUNJTkdcbn0pO1xuXG5jb25zdCBzY2F0dGVyTGluZVNlcmllcyA9ICgpID0+ICh7XG4gICAgd2lkdGg6IDFcbn0pO1xuXG5jb25zdCB3YXRlcmZhbGxTZXJpZXMgPSAoKSA9PiAoe1xuICAgIGdhcDogMC41LFxuICAgIGxpbmU6IHtcbiAgICAgICAgY29sb3I6IEJMQUNLLFxuICAgICAgICB3aWR0aDogMVxuICAgIH0sXG4gICAgc3BhY2luZzogQkFSX1NQQUNJTkdcbn0pO1xuXG5jb25zdCBwaWVTZXJpZXMgPSAoKSA9PiAoe1xuICAgIGxhYmVsczoge1xuICAgICAgICBiYWNrZ3JvdW5kOiAnJyxcbiAgICAgICAgY29sb3I6ICcnLFxuICAgICAgICBwYWRkaW5nOiB7XG4gICAgICAgICAgICB0b3A6IDUsXG4gICAgICAgICAgICBib3R0b206IDUsXG4gICAgICAgICAgICBsZWZ0OiA3LFxuICAgICAgICAgICAgcmlnaHQ6IDdcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5jb25zdCBmdW5uZWxTZXJpZXMgPSAoKSA9PiAoe1xuICAgIGxhYmVsczoge1xuICAgICAgICBiYWNrZ3JvdW5kOiAnJyxcbiAgICAgICAgY29sb3I6ICcnLFxuICAgICAgICBwYWRkaW5nOiB7XG4gICAgICAgICAgICB0b3A6IDUsXG4gICAgICAgICAgICBib3R0b206IDUsXG4gICAgICAgICAgICBsZWZ0OiA3LFxuICAgICAgICAgICAgcmlnaHQ6IDdcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5jb25zdCBzZXJpZXNEZWZhdWx0cyA9IChvcHRpb25zKSA9PiAoe1xuICAgIHZpc2libGU6IHRydWUsXG4gICAgbGFiZWxzOiB7XG4gICAgICAgIGZvbnQ6IFNBTlMxMVxuICAgIH0sXG4gICAgb3ZlcmxheTogb3B0aW9ucy5ncmFkaWVudHMgPyB7fSA6IHtcbiAgICAgICAgZ3JhZGllbnQ6IFwibm9uZVwiXG4gICAgfSxcbiAgICBhcmVhOiBhcmVhU2VyaWVzKCksXG4gICAgcmFuZ2VBcmVhOiByYW5nZUFyZWFTZXJpZXMoKSxcbiAgICB2ZXJ0aWNhbFJhbmdlQXJlYTogcmFuZ2VBcmVhU2VyaWVzKCksXG4gICAgYmFyOiBiYXJTZXJpZXMoKSxcbiAgICBib3hQbG90OiBib3hQbG90U2VyaWVzKCksXG4gICAgYnViYmxlOiBidWJibGVTZXJpZXMoKSxcbiAgICBidWxsZXQ6IGJ1bGxldFNlcmllcygpLFxuICAgIGNhbmRsZXN0aWNrOiBjYW5kbGVzdGlja1NlcmllcygpLFxuICAgIGNvbHVtbjogY29sdW1uU2VyaWVzKCksXG4gICAgcGllOiBwaWVTZXJpZXMoKSxcbiAgICBkb251dDogZG9udXRTZXJpZXMoKSxcbiAgICBmdW5uZWw6IGZ1bm5lbFNlcmllcygpLFxuICAgIGhvcml6b250YWxXYXRlcmZhbGw6IHdhdGVyZmFsbFNlcmllcygpLFxuICAgIGxpbmU6IGxpbmVTZXJpZXMoKSxcbiAgICBub3Rlczogbm90ZXMoKSxcbiAgICBvaGxjOiBvaGxjU2VyaWVzKCksXG4gICAgcmFkYXJBcmVhOiByYWRhckFyZWFTZXJpZXMoKSxcbiAgICByYWRhckxpbmU6IHJhZGFyTGluZVNlcmllcygpLFxuICAgIHBvbGFyQXJlYTogcmFkYXJBcmVhU2VyaWVzKCksXG4gICAgcG9sYXJMaW5lOiByYWRhckxpbmVTZXJpZXMoKSxcbiAgICByYW5nZUJhcjogcmFuZ2VCYXJTZXJpZXMoKSxcbiAgICByYW5nZUNvbHVtbjogcmFuZ2VDb2x1bW5TZXJpZXMoKSxcbiAgICBzY2F0dGVyTGluZTogc2NhdHRlckxpbmVTZXJpZXMoKSxcbiAgICB2ZXJ0aWNhbEFyZWE6IGFyZWFTZXJpZXMoKSxcbiAgICB2ZXJ0aWNhbEJveFBsb3Q6IGJveFBsb3RTZXJpZXMoKSxcbiAgICB2ZXJ0aWNhbEJ1bGxldDogYnVsbGV0U2VyaWVzKCksXG4gICAgdmVydGljYWxMaW5lOiBsaW5lU2VyaWVzKCksXG4gICAgd2F0ZXJmYWxsOiB3YXRlcmZhbGxTZXJpZXMoKVxufSk7XG5cbmNvbnN0IHRpdGxlID0gKCkgPT4gKHtcbiAgICBmb250OiBTQU5TMTZcbn0pO1xuXG5jb25zdCBsZWdlbmQgPSAoKSA9PiAoe1xuICAgIGxhYmVsczoge1xuICAgICAgICBmb250OiBTQU5TMTJcbiAgICB9XG59KTtcblxuZXhwb3J0IGNvbnN0IGJhc2VUaGVtZSA9IChvcHRpb25zID0ge30pID0+ICh7XG4gICAgYXhpc0RlZmF1bHRzOiBheGlzRGVmYXVsdHMoKSxcbiAgICBjYXRlZ29yeUF4aXM6IHtcbiAgICAgICAgbWFqb3JHcmlkTGluZXM6IHtcbiAgICAgICAgICAgIHZpc2libGU6IHRydWVcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbmF2aWdhdG9yOiB7XG4gICAgICAgIHBhbmU6IHtcbiAgICAgICAgICAgIGhlaWdodDogOTAsXG4gICAgICAgICAgICBtYXJnaW46IHtcbiAgICAgICAgICAgICAgICB0b3A6IDEwXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNlcmllc0RlZmF1bHRzOiBzZXJpZXNEZWZhdWx0cyhvcHRpb25zKSxcbiAgICB0aXRsZTogdGl0bGUoKSxcbiAgICBsZWdlbmQ6IGxlZ2VuZCgpXG59KTtcblxuIl0sIm5hbWVzIjpbImNvbnN0IiwibGV0IiwiZHJhd2luZyIsIk9CSkVDVCIsImFyZ3VtZW50cyIsImZpZWxkIiwicHJvdG90eXBlQWNjZXNzb3JzIiwiY3VycmVudCIsInRoaXMiLCJhcHBlbmQiLCJlbGVtZW50U2l6ZSIsImxvZ1RvQ29uc29sZSIsInN1cGVyIiwiQ2xhc3MiLCJnZW9tIiwiZHJhdyIsImlkeCIsIm1hcCIsImxhc3QiLCJhcHBseURlZmF1bHRzIiwiYXV0b0F4aXNNYXgiLCJhdXRvQXhpc01pbiIsIk51bWVyaWNBeGlzIiwiTG9nYXJpdGhtaWNBeGlzIiwidGFuZ2VudCIsImNvbnRyb2xQb2ludHMiLCJzdXBwb3J0IiwiY2F0ZWdvcmllc0NvdW50Iiwic2VyaWVzSXgiLCJDb2xvciIsImkiLCJsZW5ndGgiLCJheGlzIiwibGluZUJveCIsInNlcmllc01pc3NpbmdWYWx1ZXMiLCJoYXNWYWx1ZSIsImdldHRlciIsInBhbmUiLCJwYW5lSWQiLCJ2aXNpYmxlIiwiYW5jaG9yIiwiYW5jaG9yQ3Jvc3NpbmdzIiwiY3VycmVudEF4aXMiLCJjdXJyZW50UGFuZSIsIkFVVE8iLCJlbGVtZW50T2Zmc2V0IiwiYXhpc1BhbmUiLCJ1cGRhdGVBeGlzT3B0aW9ucyIsImN1cnJlbnRTZXJpZXMiLCJ0aHJvdHRsZSIsInJhbmdlcyIsIlNoYXJlZFRvb2x0aXAiLCJDaGFydFNoYXJlZFRvb2x0aXAiLCJoaWRlIiwic2hvdyIsImNyZWF0ZURpdiIsIlpPT01fQUNDRUxFUkFUSU9OIiwiY2xvbmUiLCJkdXJhdGlvbiIsIkRFRkFVTFRfSEVJR0hUIiwiREVGQVVMVF9XSURUSCIsIklOU0lERSIsIkxJTkVBUiIsIk9VVFNJREUiLCJwYWQiLCJQYXRoIiwiVGV4dCIsImdlbyIsInVucGFkIiwiR3JvdXAiLCJQb2ludCIsInJlbmRlclRpY2tzIiwiZ2VvbWV0cnkiLCJCTEFDSyIsIldISVRFIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBT0EsSUFBTSxHQUFHLEdBQUcsS0FBSyxDQUFDO0FBQ3pCLEFBQU9BLElBQU0sZ0JBQWdCLEdBQUcsZ0JBQWdCLENBQUM7QUFDakQsQUFBT0EsSUFBTSxLQUFLLEdBQUcsTUFBTSxDQUFDO0FBQzVCLEFBQU9BLElBQU0sTUFBTSxHQUFHLFFBQVEsQ0FBQztBQUMvQixBQUFPQSxJQUFNLE1BQU0sR0FBRyxRQUFRLENBQUM7QUFDL0IsQUFBT0EsSUFBTSxNQUFNLEdBQUcsUUFBUSxDQUFDO0FBQy9CLEFBQU9BLElBQU0sZUFBZSxHQUFHLENBQUMsQ0FBQztBQUNqQyxBQUFPQSxJQUFNLEtBQUssR0FBRyxPQUFPLENBQUM7QUFDN0IsQUFBT0EsSUFBTSxJQUFJLEdBQUcsTUFBTSxD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SyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVFLE1BQU0sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQzs7UUFFN0UsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsRUFBRSxHQUFHLEtBQUssQ0FBQztRQUMxQixJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxFQUFFLEdBQUcsTUFBTSxDQUFDOztRQUUzQixPQUFPLElBQUksQ0FBQztLQUNmLENBQUE7O0lBRUQsY0FBQSxNQUFNLHNCQUFHO1FBQ0wsT0FBTyxJQUFJYywrQkFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLENBQUM7S0FDL0UsQ0FBQTs7SUFFRCxjQUFBLE9BQU8sdUJBQUc7UUFDTixPQUFPLElBQUksQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztLQUNwRCxDQUFBOztJQUVELGNBQUEsS0FB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QUU7UUFDYkQsSUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUMzQkEsSUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQztRQUNyQ0EsSUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUMzQkEsSUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQztRQUNuQ0EsSUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQzlDQSxJQUFNLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDMUJBLElBQU0sRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUMxQkEsSUFBTSxNQUFNLEdBQUcsSUFBSSxLQUFLLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ2pDQSxJQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQzFDQSxJQUFNLFdBQVcsR0FBRyxJQUFJLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLEVBQUUsVUFBVSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDaEZBLElBQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDdENBLElBQU0sU0FBUyxHQUFHLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMxRUEsSUFBTSxJQUFJLEdBQUcsS0FBSyxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxlQUFlLENBQUMsQ0FBQzs7UUFFdkQsT0FBTyxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMs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LENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUMvQkEsSUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUMvQkEsSUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUMvQkEsSUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUMvQkEsSUFBTSxLQUFLLEdBQUcsRUFBRSxDQUFDOzs7Ozs7Ozs7Ozs7O0lBYWpCLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUMvQixLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDL0IsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQy9CLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQzs7O0lBRy9CLElBQUksQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLEVBQUU7UUFDdEQsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksR0FBRyxDQUFDLENBQUMsRUFBRSxD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QUFFLENBQUM7UUFDbkJBLElBQU0sUUFBUSxHQUFHLEVBQUUsQ0FBQzs7UUFFcEJBLElBQU0sTUFBTSxHQUFHLFNBQVMsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDeERBLElBQU0sS0FBSyxHQUFHLFNBQVMsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDeERBLElBQU0sS0FBSyxHQUFHLFNBQVMsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7O1FBRTFELEtBQUssQ0FBQyxFQUFFLEdBQUcsS0FBSyxDQUFDLEVBQUUsR0FBRyxNQUFNLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFFLENBQUM7UUFDekMsS0FBSyxDQUFDLEVBQUUsR0FBRyxLQUFLLENBQUMsRUFBRSxHQUFHLE1BQU0sQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUUsQ0FBQzs7UUFFekNBLElBQU0sR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUM7O1FBRTlCLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBRSxFQUFFLEtBQUssQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ3JDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsS0FBSyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDaEMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxLQUFLLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUNoQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUUsS0FBSyxDQUFDLEVBQUUsRUFBRSxLQUFLLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUNyQyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLE1BQU0sQ0FBQyxFQUFFLEVBQUUs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